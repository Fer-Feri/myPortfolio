(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function dT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function F3(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var cb={exports:{}},Yp={},ub={exports:{}},In={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function N3(){if(J_)return In;J_=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;function f(Y){return Y===null||typeof Y!="object"?null:(Y=d&&Y[d]||Y["@@iterator"],typeof Y=="function"?Y:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function w(Y,oe,Pe){this.props=Y,this.context=oe,this.refs=y,this.updater=Pe||m}w.prototype.isReactComponent={},w.prototype.setState=function(Y,oe){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,oe,"setState")},w.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function b(){}b.prototype=w.prototype;function S(Y,oe,Pe){this.props=Y,this.context=oe,this.refs=y,this.updater=Pe||m}var M=S.prototype=new b;M.constructor=S,v(M,w.prototype),M.isPureReactComponent=!0;var E=Array.isArray,T=Object.prototype.hasOwnProperty,R={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function k(Y,oe,Pe){var fe,Ce={},Ae=null,Se=null;if(oe!=null)for(fe in oe.ref!==void 0&&(Se=oe.ref),oe.key!==void 0&&(Ae=""+oe.key),oe)T.call(oe,fe)&&!P.hasOwnProperty(fe)&&(Ce[fe]=oe[fe]);var He=arguments.length-2;if(He===1)Ce.children=Pe;else if(1<He){for(var ut=Array(He),tt=0;tt<He;tt++)ut[tt]=arguments[tt+2];Ce.children=ut}if(Y&&Y.defaultProps)for(fe in He=Y.defaultProps,He)Ce[fe]===void 0&&(Ce[fe]=He[fe]);return{$$typeof:r,type:Y,key:Ae,ref:Se,props:Ce,_owner:R.current}}function B(Y,oe){return{$$typeof:r,type:Y.type,key:oe,ref:Y.ref,props:Y.props,_owner:Y._owner}}function D(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===r}function O(Y){var oe={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Pe){return oe[Pe]})}var V=/\/+/g;function X(Y,oe){return typeof Y=="object"&&Y!==null&&Y.key!=null?O(""+Y.key):oe.toString(36)}function K(Y,oe,Pe,fe,Ce){var Ae=typeof Y;(Ae==="undefined"||Ae==="boolean")&&(Y=null);var Se=!1;if(Y===null)Se=!0;else switch(Ae){case"string":case"number":Se=!0;break;case"object":switch(Y.$$typeof){case r:case e:Se=!0}}if(Se)return Se=Y,Ce=Ce(Se),Y=fe===""?"."+X(Se,0):fe,E(Ce)?(Pe="",Y!=null&&(Pe=Y.replace(V,"$&/")+"/"),K(Ce,oe,Pe,"",function(tt){return tt})):Ce!=null&&(D(Ce)&&(Ce=B(Ce,Pe+(!Ce.key||Se&&Se.key===Ce.key?"":(""+Ce.key).replace(V,"$&/")+"/")+Y)),oe.push(Ce)),1;if(Se=0,fe=fe===""?".":fe+":",E(Y))for(var He=0;He<Y.length;He++){Ae=Y[He];var ut=fe+X(Ae,He);Se+=K(Ae,oe,Pe,ut,Ce)}else if(ut=f(Y),typeof ut=="function")for(Y=ut.call(Y),He=0;!(Ae=Y.next()).done;)Ae=Ae.value,ut=fe+X(Ae,He++),Se+=K(Ae,oe,Pe,ut,Ce);else if(Ae==="object")throw oe=String(Y),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return Se}function ie(Y,oe,Pe){if(Y==null)return Y;var fe=[],Ce=0;return K(Y,fe,"","",function(Ae){return oe.call(Pe,Ae,Ce++)}),fe}function ee(Y){if(Y._status===-1){var oe=Y._result;oe=oe(),oe.then(function(Pe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Pe)},function(Pe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Pe)}),Y._status===-1&&(Y._status=0,Y._result=oe)}if(Y._status===1)return Y._result.default;throw Y._result}var ae={current:null},z={transition:null},Q={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:z,ReactCurrentOwner:R};function Z(){throw Error("act(...) is not supported in production builds of React.")}return In.Children={map:ie,forEach:function(Y,oe,Pe){ie(Y,function(){oe.apply(this,arguments)},Pe)},count:function(Y){var oe=0;return ie(Y,function(){oe++}),oe},toArray:function(Y){return ie(Y,function(oe){return oe})||[]},only:function(Y){if(!D(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},In.Component=w,In.Fragment=t,In.Profiler=i,In.PureComponent=S,In.StrictMode=n,In.Suspense=l,In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,In.act=Z,In.cloneElement=function(Y,oe,Pe){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var fe=v({},Y.props),Ce=Y.key,Ae=Y.ref,Se=Y._owner;if(oe!=null){if(oe.ref!==void 0&&(Ae=oe.ref,Se=R.current),oe.key!==void 0&&(Ce=""+oe.key),Y.type&&Y.type.defaultProps)var He=Y.type.defaultProps;for(ut in oe)T.call(oe,ut)&&!P.hasOwnProperty(ut)&&(fe[ut]=oe[ut]===void 0&&He!==void 0?He[ut]:oe[ut])}var ut=arguments.length-2;if(ut===1)fe.children=Pe;else if(1<ut){He=Array(ut);for(var tt=0;tt<ut;tt++)He[tt]=arguments[tt+2];fe.children=He}return{$$typeof:r,type:Y.type,key:Ce,ref:Ae,props:fe,_owner:Se}},In.createContext=function(Y){return Y={$$typeof:a,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:s,_context:Y},Y.Consumer=Y},In.createElement=k,In.createFactory=function(Y){var oe=k.bind(null,Y);return oe.type=Y,oe},In.createRef=function(){return{current:null}},In.forwardRef=function(Y){return{$$typeof:o,render:Y}},In.isValidElement=D,In.lazy=function(Y){return{$$typeof:u,_payload:{_status:-1,_result:Y},_init:ee}},In.memo=function(Y,oe){return{$$typeof:c,type:Y,compare:oe===void 0?null:oe}},In.startTransition=function(Y){var oe=z.transition;z.transition={};try{Y()}finally{z.transition=oe}},In.unstable_act=Z,In.useCallback=function(Y,oe){return ae.current.useCallback(Y,oe)},In.useContext=function(Y){return ae.current.useContext(Y)},In.useDebugValue=function(){},In.useDeferredValue=function(Y){return ae.current.useDeferredValue(Y)},In.useEffect=function(Y,oe){return ae.current.useEffect(Y,oe)},In.useId=function(){return ae.current.useId()},In.useImperativeHandle=function(Y,oe,Pe){return ae.current.useImperativeHandle(Y,oe,Pe)},In.useInsertionEffect=function(Y,oe){return ae.current.useInsertionEffect(Y,oe)},In.useLayoutEffect=function(Y,oe){return ae.current.useLayoutEffect(Y,oe)},In.useMemo=function(Y,oe){return ae.current.useMemo(Y,oe)},In.useReducer=function(Y,oe,Pe){return ae.current.useReducer(Y,oe,Pe)},In.useRef=function(Y){return ae.current.useRef(Y)},In.useState=function(Y){return ae.current.useState(Y)},In.useSyncExternalStore=function(Y,oe,Pe){return ae.current.useSyncExternalStore(Y,oe,Pe)},In.useTransition=function(){return ae.current.useTransition()},In.version="18.3.1",In}var K_;function ag(){return K_||(K_=1,ub.exports=N3()),ub.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function O3(){if(Z_)return Yp;Z_=1;var r=ag(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var u,d={},f=null,m=null;c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(m=l.ref);for(u in l)n.call(l,u)&&!s.hasOwnProperty(u)&&(d[u]=l[u]);if(o&&o.defaultProps)for(u in l=o.defaultProps,l)d[u]===void 0&&(d[u]=l[u]);return{$$typeof:e,type:o,key:f,ref:m,props:d,_owner:i.current}}return Yp.Fragment=t,Yp.jsx=a,Yp.jsxs=a,Yp}var q_;function U3(){return q_||(q_=1,cb.exports=O3()),cb.exports}var ue=U3(),de=ag(),Tx={},hb={exports:{}},Bs={},db={exports:{}},fb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function z3(){return Q_||(Q_=1,function(r){function e(z,Q){var Z=z.length;z.push(Q);e:for(;0<Z;){var Y=Z-1>>>1,oe=z[Y];if(0<i(oe,Q))z[Y]=Q,z[Z]=oe,Z=Y;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var Q=z[0],Z=z.pop();if(Z!==Q){z[0]=Z;e:for(var Y=0,oe=z.length,Pe=oe>>>1;Y<Pe;){var fe=2*(Y+1)-1,Ce=z[fe],Ae=fe+1,Se=z[Ae];if(0>i(Ce,Z))Ae<oe&&0>i(Se,Ce)?(z[Y]=Se,z[Ae]=Z,Y=Ae):(z[Y]=Ce,z[fe]=Z,Y=fe);else if(Ae<oe&&0>i(Se,Z))z[Y]=Se,z[Ae]=Z,Y=Ae;else break e}}return Q}function i(z,Q){var Z=z.sortIndex-Q.sortIndex;return Z!==0?Z:z.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();r.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,f=3,m=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(z){for(var Q=t(c);Q!==null;){if(Q.callback===null)n(c);else if(Q.startTime<=z)n(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=t(c)}}function E(z){if(y=!1,M(z),!v)if(t(l)!==null)v=!0,ee(T);else{var Q=t(c);Q!==null&&ae(E,Q.startTime-z)}}function T(z,Q){v=!1,y&&(y=!1,b(k),k=-1),m=!0;var Z=f;try{for(M(Q),d=t(l);d!==null&&(!(d.expirationTime>Q)||z&&!O());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var oe=Y(d.expirationTime<=Q);Q=r.unstable_now(),typeof oe=="function"?d.callback=oe:d===t(l)&&n(l),M(Q)}else n(l);d=t(l)}if(d!==null)var Pe=!0;else{var fe=t(c);fe!==null&&ae(E,fe.startTime-Q),Pe=!1}return Pe}finally{d=null,f=Z,m=!1}}var R=!1,P=null,k=-1,B=5,D=-1;function O(){return!(r.unstable_now()-D<B)}function V(){if(P!==null){var z=r.unstable_now();D=z;var Q=!0;try{Q=P(!0,z)}finally{Q?X():(R=!1,P=null)}}else R=!1}var X;if(typeof S=="function")X=function(){S(V)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ie=K.port2;K.port1.onmessage=V,X=function(){ie.postMessage(null)}}else X=function(){w(V,0)};function ee(z){P=z,R||(R=!0,X())}function ae(z,Q){k=w(function(){z(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_continueExecution=function(){v||m||(v=!0,ee(T))},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(z){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var Z=f;f=Q;try{return z()}finally{f=Z}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=f;f=z;try{return Q()}finally{f=Z}},r.unstable_scheduleCallback=function(z,Q,Z){var Y=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Y+Z:Y):Z=Y,z){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Z+oe,z={id:u++,callback:Q,priorityLevel:z,startTime:Z,expirationTime:oe,sortIndex:-1},Z>Y?(z.sortIndex=Z,e(c,z),t(l)===null&&z===t(c)&&(y?(b(k),k=-1):y=!0,ae(E,Z-Y))):(z.sortIndex=oe,e(l,z),v||m||(v=!0,ee(T))),z},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(z){var Q=f;return function(){var Z=f;f=Q;try{return z.apply(this,arguments)}finally{f=Z}}}}(fb)),fb}var $_;function H3(){return $_||($_=1,db.exports=z3()),db.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eM;function G3(){if(eM)return Bs;eM=1;var r=ag(),e=H3();function t(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,A=1;A<arguments.length;A++)p+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(h,p){a(h,p),a(h+"Capture",p)}function a(h,p){for(i[h]=p,h=0;h<p.length;h++)n.add(p[h])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},d={};function f(h){return l.call(d,h)?!0:l.call(u,h)?!1:c.test(h)?d[h]=!0:(u[h]=!0,!1)}function m(h,p,A,C){if(A!==null&&A.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return C?!1:A!==null?!A.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function v(h,p,A,C){if(p===null||typeof p>"u"||m(h,p,A,C))return!0;if(C)return!1;if(A!==null)switch(A.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function y(h,p,A,C,L,N,W){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=C,this.attributeNamespace=L,this.mustUseProperty=A,this.propertyName=h,this.type=p,this.sanitizeURL=N,this.removeEmptyString=W}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){w[h]=new y(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var p=h[0];w[p]=new y(p,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){w[h]=new y(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){w[h]=new y(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){w[h]=new y(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){w[h]=new y(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){w[h]=new y(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){w[h]=new y(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){w[h]=new y(h,5,!1,h.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function S(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var p=h.replace(b,S);w[p]=new y(p,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var p=h.replace(b,S);w[p]=new y(p,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var p=h.replace(b,S);w[p]=new y(p,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){w[h]=new y(h,1,!1,h.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){w[h]=new y(h,1,!1,h.toLowerCase(),null,!0,!0)});function M(h,p,A,C){var L=w.hasOwnProperty(p)?w[p]:null;(L!==null?L.type!==0:C||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(v(p,A,L,C)&&(A=null),C||L===null?f(p)&&(A===null?h.removeAttribute(p):h.setAttribute(p,""+A)):L.mustUseProperty?h[L.propertyName]=A===null?L.type===3?!1:"":A:(p=L.attributeName,C=L.attributeNamespace,A===null?h.removeAttribute(p):(L=L.type,A=L===3||L===4&&A===!0?"":""+A,C?h.setAttributeNS(C,p,A):h.setAttribute(p,A))))}var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),R=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),O=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),z=Symbol.iterator;function Q(h){return h===null||typeof h!="object"?null:(h=z&&h[z]||h["@@iterator"],typeof h=="function"?h:null)}var Z=Object.assign,Y;function oe(h){if(Y===void 0)try{throw Error()}catch(A){var p=A.stack.trim().match(/\n( *(at )?)/);Y=p&&p[1]||""}return`
`+Y+h}var Pe=!1;function fe(h,p){if(!h||Pe)return"";Pe=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ke){var C=ke}Reflect.construct(h,[],p)}else{try{p.call()}catch(ke){C=ke}h.call(p.prototype)}else{try{throw Error()}catch(ke){C=ke}h()}}catch(ke){if(ke&&C&&typeof ke.stack=="string"){for(var L=ke.stack.split(`
`),N=C.stack.split(`
`),W=L.length-1,ce=N.length-1;1<=W&&0<=ce&&L[W]!==N[ce];)ce--;for(;1<=W&&0<=ce;W--,ce--)if(L[W]!==N[ce]){if(W!==1||ce!==1)do if(W--,ce--,0>ce||L[W]!==N[ce]){var me=`
`+L[W].replace(" at new "," at ");return h.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",h.displayName)),me}while(1<=W&&0<=ce);break}}}finally{Pe=!1,Error.prepareStackTrace=A}return(h=h?h.displayName||h.name:"")?oe(h):""}function Ce(h){switch(h.tag){case 5:return oe(h.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return h=fe(h.type,!1),h;case 11:return h=fe(h.type.render,!1),h;case 1:return h=fe(h.type,!0),h;default:return""}}function Ae(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case P:return"Fragment";case R:return"Portal";case B:return"Profiler";case k:return"StrictMode";case X:return"Suspense";case K:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case O:return(h.displayName||"Context")+".Consumer";case D:return(h._context.displayName||"Context")+".Provider";case V:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case ie:return p=h.displayName||null,p!==null?p:Ae(h.type)||"Memo";case ee:p=h._payload,h=h._init;try{return Ae(h(p))}catch{}}return null}function Se(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(p);case 8:return p===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function He(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function ut(h){var p=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function tt(h){var p=ut(h)?"checked":"value",A=Object.getOwnPropertyDescriptor(h.constructor.prototype,p),C=""+h[p];if(!h.hasOwnProperty(p)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var L=A.get,N=A.set;return Object.defineProperty(h,p,{configurable:!0,get:function(){return L.call(this)},set:function(W){C=""+W,N.call(this,W)}}),Object.defineProperty(h,p,{enumerable:A.enumerable}),{getValue:function(){return C},setValue:function(W){C=""+W},stopTracking:function(){h._valueTracker=null,delete h[p]}}}}function kt(h){h._valueTracker||(h._valueTracker=tt(h))}function je(h){if(!h)return!1;var p=h._valueTracker;if(!p)return!0;var A=p.getValue(),C="";return h&&(C=ut(h)?h.checked?"true":"false":h.value),h=C,h!==A?(p.setValue(h),!0):!1}function Fe(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function ne(h,p){var A=p.checked;return Z({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??h._wrapperState.initialChecked})}function Bt(h,p){var A=p.defaultValue==null?"":p.defaultValue,C=p.checked!=null?p.checked:p.defaultChecked;A=He(p.value!=null?p.value:A),h._wrapperState={initialChecked:C,initialValue:A,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function nt(h,p){p=p.checked,p!=null&&M(h,"checked",p,!1)}function Ct(h,p){nt(h,p);var A=He(p.value),C=p.type;if(A!=null)C==="number"?(A===0&&h.value===""||h.value!=A)&&(h.value=""+A):h.value!==""+A&&(h.value=""+A);else if(C==="submit"||C==="reset"){h.removeAttribute("value");return}p.hasOwnProperty("value")?Jt(h,p.type,A):p.hasOwnProperty("defaultValue")&&Jt(h,p.type,He(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(h.defaultChecked=!!p.defaultChecked)}function ot(h,p,A){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var C=p.type;if(!(C!=="submit"&&C!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+h._wrapperState.initialValue,A||p===h.value||(h.value=p),h.defaultValue=p}A=h.name,A!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,A!==""&&(h.name=A)}function Jt(h,p,A){(p!=="number"||Fe(h.ownerDocument)!==h)&&(A==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+A&&(h.defaultValue=""+A))}var dt=Array.isArray;function te(h,p,A,C){if(h=h.options,p){p={};for(var L=0;L<A.length;L++)p["$"+A[L]]=!0;for(A=0;A<h.length;A++)L=p.hasOwnProperty("$"+h[A].value),h[A].selected!==L&&(h[A].selected=L),L&&C&&(h[A].defaultSelected=!0)}else{for(A=""+He(A),p=null,L=0;L<h.length;L++){if(h[L].value===A){h[L].selected=!0,C&&(h[L].defaultSelected=!0);return}p!==null||h[L].disabled||(p=h[L])}p!==null&&(p.selected=!0)}}function J(h,p){if(p.dangerouslySetInnerHTML!=null)throw Error(t(91));return Z({},p,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Me(h,p){var A=p.value;if(A==null){if(A=p.children,p=p.defaultValue,A!=null){if(p!=null)throw Error(t(92));if(dt(A)){if(1<A.length)throw Error(t(93));A=A[0]}p=A}p==null&&(p=""),A=p}h._wrapperState={initialValue:He(A)}}function Ge(h,p){var A=He(p.value),C=He(p.defaultValue);A!=null&&(A=""+A,A!==h.value&&(h.value=A),p.defaultValue==null&&h.defaultValue!==A&&(h.defaultValue=A)),C!=null&&(h.defaultValue=""+C)}function Je(h){var p=h.textContent;p===h._wrapperState.initialValue&&p!==""&&p!==null&&(h.value=p)}function Ve(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dt(h,p){return h==null||h==="http://www.w3.org/1999/xhtml"?Ve(p):h==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var pt,bt=function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,A,C,L){MSApp.execUnsafeLocalFunction(function(){return h(p,A,C,L)})}:h}(function(h,p){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=p;else{for(pt=pt||document.createElement("div"),pt.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=pt.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;p.firstChild;)h.appendChild(p.firstChild)}});function un(h,p){if(p){var A=h.firstChild;if(A&&A===h.lastChild&&A.nodeType===3){A.nodeValue=p;return}}h.textContent=p}var it={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pt=["Webkit","ms","Moz","O"];Object.keys(it).forEach(function(h){Pt.forEach(function(p){p=p+h.charAt(0).toUpperCase()+h.substring(1),it[p]=it[h]})});function Wt(h,p,A){return p==null||typeof p=="boolean"||p===""?"":A||typeof p!="number"||p===0||it.hasOwnProperty(h)&&it[h]?(""+p).trim():p+"px"}function Nt(h,p){h=h.style;for(var A in p)if(p.hasOwnProperty(A)){var C=A.indexOf("--")===0,L=Wt(A,p[A],C);A==="float"&&(A="cssFloat"),C?h.setProperty(A,L):h[A]=L}}var Rt=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(h,p){if(p){if(Rt[h]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(t(137,h));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(t(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(t(61))}if(p.style!=null&&typeof p.style!="object")throw Error(t(62))}}function Xt(h,p){if(h.indexOf("-")===-1)return typeof p.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=null;function ye(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Le=null,Be=null,We=null;function wt(h){if(h=Na(h)){if(typeof Le!="function")throw Error(t(280));var p=h.stateNode;p&&(p=xd(p),Le(h.stateNode,h.type,p))}}function xt(h){Be?We?We.push(h):We=[h]:Be=h}function an(){if(Be){var h=Be,p=We;if(We=Be=null,wt(h),p)for(h=0;h<p.length;h++)wt(p[h])}}function Qn(h,p){return h(p)}function bi(){}var Tn=!1;function $i(h,p,A){if(Tn)return h(p,A);Tn=!0;try{return Qn(h,p,A)}finally{Tn=!1,(Be!==null||We!==null)&&(bi(),an())}}function er(h,p){var A=h.stateNode;if(A===null)return null;var C=xd(A);if(C===null)return null;A=C[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(h=h.type,C=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!C;break e;default:h=!1}if(h)return null;if(A&&typeof A!="function")throw Error(t(231,p,typeof A));return A}var mo=!1;if(o)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){mo=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{mo=!1}function Cr(h,p,A,C,L,N,W,ce,me){var ke=Array.prototype.slice.call(arguments,3);try{p.apply(A,ke)}catch(et){this.onError(et)}}var is=!1,rs=null,tr=!1,hn=null,Vo={onError:function(h){is=!0,rs=h}};function go(h,p,A,C,L,N,W,ce,me){is=!1,rs=null,Cr.apply(Vo,arguments)}function H(h,p,A,C,L,N,W,ce,me){if(go.apply(this,arguments),is){if(is){var ke=rs;is=!1,rs=null}else throw Error(t(198));tr||(tr=!0,hn=ke)}}function q(h){var p=h,A=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,p.flags&4098&&(A=p.return),h=p.return;while(h)}return p.tag===3?A:null}function pe(h){if(h.tag===13){var p=h.memoizedState;if(p===null&&(h=h.alternate,h!==null&&(p=h.memoizedState)),p!==null)return p.dehydrated}return null}function Ie(h){if(q(h)!==h)throw Error(t(188))}function Ne(h){var p=h.alternate;if(!p){if(p=q(h),p===null)throw Error(t(188));return p!==h?null:h}for(var A=h,C=p;;){var L=A.return;if(L===null)break;var N=L.alternate;if(N===null){if(C=L.return,C!==null){A=C;continue}break}if(L.child===N.child){for(N=L.child;N;){if(N===A)return Ie(L),h;if(N===C)return Ie(L),p;N=N.sibling}throw Error(t(188))}if(A.return!==C.return)A=L,C=N;else{for(var W=!1,ce=L.child;ce;){if(ce===A){W=!0,A=L,C=N;break}if(ce===C){W=!0,C=L,A=N;break}ce=ce.sibling}if(!W){for(ce=N.child;ce;){if(ce===A){W=!0,A=N,C=L;break}if(ce===C){W=!0,C=N,A=L;break}ce=ce.sibling}if(!W)throw Error(t(189))}}if(A.alternate!==C)throw Error(t(190))}if(A.tag!==3)throw Error(t(188));return A.stateNode.current===A?h:p}function Oe(h){return h=Ne(h),h!==null?st(h):null}function st(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=st(h);if(p!==null)return p;h=h.sibling}return null}var $e=e.unstable_scheduleCallback,G=e.unstable_cancelCallback,se=e.unstable_shouldYield,he=e.unstable_requestPaint,le=e.unstable_now,ge=e.unstable_getCurrentPriorityLevel,Ee=e.unstable_ImmediatePriority,Ue=e.unstable_UserBlockingPriority,Xe=e.unstable_NormalPriority,qe=e.unstable_LowPriority,mt=e.unstable_IdlePriority,ht=null,Ze=null;function vt(h){if(Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(ht,h,void 0,(h.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:Ht,nn=Math.log,Ot=Math.LN2;function Ht(h){return h>>>=0,h===0?32:31-(nn(h)/Ot|0)|0}var Et=64,vn=4194304;function Zt(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function ln(h,p){var A=h.pendingLanes;if(A===0)return 0;var C=0,L=h.suspendedLanes,N=h.pingedLanes,W=A&268435455;if(W!==0){var ce=W&~L;ce!==0?C=Zt(ce):(N&=W,N!==0&&(C=Zt(N)))}else W=A&~L,W!==0?C=Zt(W):N!==0&&(C=Zt(N));if(C===0)return 0;if(p!==0&&p!==C&&!(p&L)&&(L=C&-C,N=p&-p,L>=N||L===16&&(N&4194240)!==0))return p;if(C&4&&(C|=A&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=C;0<p;)A=31-yt(p),L=1<<A,C|=h[A],p&=~L;return C}function ni(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pn(h,p){for(var A=h.suspendedLanes,C=h.pingedLanes,L=h.expirationTimes,N=h.pendingLanes;0<N;){var W=31-yt(N),ce=1<<W,me=L[W];me===-1?(!(ce&A)||ce&C)&&(L[W]=ni(ce,p)):me<=p&&(h.expiredLanes|=ce),N&=~ce}}function An(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Qt(){var h=Et;return Et<<=1,!(Et&4194240)&&(Et=64),h}function hi(h){for(var p=[],A=0;31>A;A++)p.push(h);return p}function Dn(h,p,A){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-yt(p),h[p]=A}function ii(h,p){var A=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var C=h.eventTimes;for(h=h.expirationTimes;0<A;){var L=31-yt(A),N=1<<L;p[L]=0,C[L]=-1,h[L]=-1,A&=~N}}function _i(h,p){var A=h.entangledLanes|=p;for(h=h.entanglements;A;){var C=31-yt(A),L=1<<C;L&p|h[C]&p&&(h[C]|=p),A&=~L}}var Rn=0;function Gr(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var Kc,Qf,Fg,Uh,zh,Wo=!1,Hh=[],aa=null,Mn=null,Ra=null,Xo=new Map,Gl=new Map,xo=[],By="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ni(h,p){switch(h){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Xo.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(p.pointerId)}}function Yo(h,p,A,C,L,N){return h===null||h.nativeEvent!==N?(h={blockedOn:p,domEventName:A,eventSystemFlags:C,nativeEvent:N,targetContainers:[L]},p!==null&&(p=Na(p),p!==null&&Qf(p)),h):(h.eventSystemFlags|=C,p=h.targetContainers,L!==null&&p.indexOf(L)===-1&&p.push(L),h)}function Dy(h,p,A,C,L){switch(p){case"focusin":return aa=Yo(aa,h,p,A,C,L),!0;case"dragenter":return Mn=Yo(Mn,h,p,A,C,L),!0;case"mouseover":return Ra=Yo(Ra,h,p,A,C,L),!0;case"pointerover":var N=L.pointerId;return Xo.set(N,Yo(Xo.get(N)||null,h,p,A,C,L)),!0;case"gotpointercapture":return N=L.pointerId,Gl.set(N,Yo(Gl.get(N)||null,h,p,A,C,L)),!0}return!1}function Gh(h){var p=_o(h.target);if(p!==null){var A=q(p);if(A!==null){if(p=A.tag,p===13){if(p=pe(A),p!==null){h.blockedOn=p,zh(h.priority,function(){Fg(A)});return}}else if(p===3&&A.stateNode.current.memoizedState.isDehydrated){h.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Vh(h){if(h.blockedOn!==null)return!1;for(var p=h.targetContainers;0<p.length;){var A=_s(h.domEventName,h.eventSystemFlags,p[0],h.nativeEvent);if(A===null){A=h.nativeEvent;var C=new A.constructor(A.type,A);sn=C,A.target.dispatchEvent(C),sn=null}else return p=Na(A),p!==null&&Qf(p),h.blockedOn=A,!1;p.shift()}return!0}function Zc(h,p,A){Vh(h)&&A.delete(p)}function oa(){Wo=!1,aa!==null&&Vh(aa)&&(aa=null),Mn!==null&&Vh(Mn)&&(Mn=null),Ra!==null&&Vh(Ra)&&(Ra=null),Xo.forEach(Zc),Gl.forEach(Zc)}function qc(h,p){h.blockedOn===p&&(h.blockedOn=null,Wo||(Wo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oa)))}function Qc(h){function p(L){return qc(L,h)}if(0<Hh.length){qc(Hh[0],h);for(var A=1;A<Hh.length;A++){var C=Hh[A];C.blockedOn===h&&(C.blockedOn=null)}}for(aa!==null&&qc(aa,h),Mn!==null&&qc(Mn,h),Ra!==null&&qc(Ra,h),Xo.forEach(p),Gl.forEach(p),A=0;A<xo.length;A++)C=xo[A],C.blockedOn===h&&(C.blockedOn=null);for(;0<xo.length&&(A=xo[0],A.blockedOn===null);)Gh(A),A.blockedOn===null&&xo.shift()}var Er=E.ReactCurrentBatchConfig,Ss=!0;function Wh(h,p,A,C){var L=Rn,N=Er.transition;Er.transition=null;try{Rn=1,Xh(h,p,A,C)}finally{Rn=L,Er.transition=N}}function $f(h,p,A,C){var L=Rn,N=Er.transition;Er.transition=null;try{Rn=4,Xh(h,p,A,C)}finally{Rn=L,Er.transition=N}}function Xh(h,p,A,C){if(Ss){var L=_s(h,p,A,C);if(L===null)hd(h,p,C,Yh,A),Ni(h,C);else if(Dy(L,h,p,A,C))C.stopPropagation();else if(Ni(h,C),p&4&&-1<By.indexOf(h)){for(;L!==null;){var N=Na(L);if(N!==null&&Kc(N),N=_s(h,p,A,C),N===null&&hd(h,p,C,Yh,A),N===L)break;L=N}L!==null&&C.stopPropagation()}else hd(h,p,C,null,A)}}var Yh=null;function _s(h,p,A,C){if(Yh=null,h=ye(C),h=_o(h),h!==null)if(p=q(h),p===null)h=null;else if(A=p.tag,A===13){if(h=pe(p),h!==null)return h;h=null}else if(A===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;h=null}else p!==h&&(h=null);return Yh=h,null}function Ng(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ge()){case Ee:return 1;case Ue:return 4;case Xe:case qe:return 16;case mt:return 536870912;default:return 16}default:return 16}}var Hs=null,ep=null,Vr=null;function $c(){if(Vr)return Vr;var h,p=ep,A=p.length,C,L="value"in Hs?Hs.value:Hs.textContent,N=L.length;for(h=0;h<A&&p[h]===L[h];h++);var W=A-h;for(C=1;C<=W&&p[A-C]===L[N-C];C++);return Vr=L.slice(h,1<C?1-C:void 0)}function jo(h){var p=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&p===13&&(h=13)):h=p,h===10&&(h=13),32<=h||h===13?h:0}function Ia(){return!0}function jh(){return!1}function Tr(h){function p(A,C,L,N,W){this._reactName=A,this._targetInst=L,this.type=C,this.nativeEvent=N,this.target=W,this.currentTarget=null;for(var ce in h)h.hasOwnProperty(ce)&&(A=h[ce],this[ce]=A?A(N):N[ce]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Ia:jh,this.isPropagationStopped=jh,this}return Z(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=Ia)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=Ia)},persist:function(){},isPersistent:Ia}),p}var Jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=Tr(Jo),Ko=Z({},Jo,{view:0,detail:0}),Vl=Tr(Ko),Wr,Ms,Cs,Wl=Z({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yo,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Cs&&(Cs&&h.type==="mousemove"?(Wr=h.screenX-Cs.screenX,Ms=h.screenY-Cs.screenY):Ms=Wr=0,Cs=h),Wr)},movementY:function(h){return"movementY"in h?h.movementY:Ms}}),tp=Tr(Wl),Pa=Z({},Wl,{dataTransfer:0}),vo=Tr(Pa),Jh=Z({},Ko,{relatedTarget:0}),Kh=Tr(Jh),Zh=Z({},Jo,{animationName:0,elapsedTime:0,pseudoElement:0}),Og=Tr(Zh),Ug=Z({},Jo,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),np=Tr(Ug),qh=Z({},Jo,{data:0}),ip=Tr(qh),zg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xl(h){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(h):(h=rp[h])?!!p[h]:!1}function yo(){return Xl}var Qh=Z({},Ko,{key:function(h){if(h.key){var p=zg[h.key]||h.key;if(p!=="Unidentified")return p}return h.type==="keypress"?(h=jo(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Hg[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yo,charCode:function(h){return h.type==="keypress"?jo(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?jo(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),$h=Tr(Qh),Es=Z({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ss=Tr(Es),Zo=Z({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yo}),ka=Tr(Zo),La=Z({},Jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),qo=Tr(La),Gg=Z({},Wl,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),sp=Tr(Gg),ap=[9,13,27,32],Rr=o&&"CompositionEvent"in window,nr=null;o&&"documentMode"in document&&(nr=document.documentMode);var di=o&&"TextEvent"in window&&!nr,Yl=o&&(!Rr||nr&&8<nr&&11>=nr),Ts=" ",op=!1;function lp(h,p){switch(h){case"keyup":return ap.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ed(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var bo=!1;function Vg(h,p){switch(h){case"compositionend":return ed(p);case"keypress":return p.which!==32?null:(op=!0,Ts);case"textInput":return h=p.data,h===Ts&&op?null:h;default:return null}}function tu(h,p){if(bo)return h==="compositionend"||!Rr&&lp(h,p)?(h=$c(),Vr=ep=Hs=null,bo=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Yl&&p.locale!=="ko"?null:p.data;default:return null}}var jl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function td(h){var p=h&&h.nodeName&&h.nodeName.toLowerCase();return p==="input"?!!jl[h.type]:p==="textarea"}function Jl(h,p,A,C){xt(C),p=dd(p,"onChange"),0<p.length&&(A=new eu("onChange","change",null,A,C),h.push({event:A,listeners:p}))}var wo=null,Kl=null;function Wg(h){$l(h,0)}function Ba(h){var p=Mi(h);if(je(p))return h}function Xg(h,p){if(h==="change")return p}var Zl=!1;if(o){var Xr;if(o){var Qo="oninput"in document;if(!Qo){var $o=document.createElement("div");$o.setAttribute("oninput","return;"),Qo=typeof $o.oninput=="function"}Xr=Qo}else Xr=!1;Zl=Xr&&(!document.documentMode||9<document.documentMode)}function Gs(){wo&&(wo.detachEvent("onpropertychange",nd),Kl=wo=null)}function nd(h){if(h.propertyName==="value"&&Ba(Kl)){var p=[];Jl(p,Kl,h,ye(h)),$i(Wg,p)}}function ql(h,p,A){h==="focusin"?(Gs(),wo=p,Kl=A,wo.attachEvent("onpropertychange",nd)):h==="focusout"&&Gs()}function Yg(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Ba(Kl)}function cp(h,p){if(h==="click")return Ba(p)}function gi(h,p){if(h==="input"||h==="change")return Ba(p)}function id(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var as=typeof Object.is=="function"?Object.is:id;function el(h,p){if(as(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var A=Object.keys(h),C=Object.keys(p);if(A.length!==C.length)return!1;for(C=0;C<A.length;C++){var L=A[C];if(!l.call(p,L)||!as(h[L],p[L]))return!1}return!0}function nu(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function os(h,p){var A=nu(h);h=0;for(var C;A;){if(A.nodeType===3){if(C=h+A.textContent.length,h<=p&&C>=p)return{node:A,offset:p-h};h=C}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=nu(A)}}function tl(h,p){return h&&p?h===p?!0:h&&h.nodeType===3?!1:p&&p.nodeType===3?tl(h,p.parentNode):"contains"in h?h.contains(p):h.compareDocumentPosition?!!(h.compareDocumentPosition(p)&16):!1:!1}function xi(){for(var h=window,p=Fe();p instanceof h.HTMLIFrameElement;){try{var A=typeof p.contentWindow.location.href=="string"}catch{A=!1}if(A)h=p.contentWindow;else break;p=Fe(h.document)}return p}function Wi(h){var p=h&&h.nodeName&&h.nodeName.toLowerCase();return p&&(p==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||p==="textarea"||h.contentEditable==="true")}function Xi(h){var p=xi(),A=h.focusedElem,C=h.selectionRange;if(p!==A&&A&&A.ownerDocument&&tl(A.ownerDocument.documentElement,A)){if(C!==null&&Wi(A)){if(p=C.start,h=C.end,h===void 0&&(h=p),"selectionStart"in A)A.selectionStart=p,A.selectionEnd=Math.min(h,A.value.length);else if(h=(p=A.ownerDocument||document)&&p.defaultView||window,h.getSelection){h=h.getSelection();var L=A.textContent.length,N=Math.min(C.start,L);C=C.end===void 0?N:Math.min(C.end,L),!h.extend&&N>C&&(L=C,C=N,N=L),L=os(A,N);var W=os(A,C);L&&W&&(h.rangeCount!==1||h.anchorNode!==L.node||h.anchorOffset!==L.offset||h.focusNode!==W.node||h.focusOffset!==W.offset)&&(p=p.createRange(),p.setStart(L.node,L.offset),h.removeAllRanges(),N>C?(h.addRange(p),h.extend(W.node,W.offset)):(p.setEnd(W.node,W.offset),h.addRange(p)))}}for(p=[],h=A;h=h.parentNode;)h.nodeType===1&&p.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<p.length;A++)h=p[A],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var rd=o&&"documentMode"in document&&11>=document.documentMode,la=null,nl=null,iu=null,Yi=!1;function sd(h,p,A){var C=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;Yi||la==null||la!==Fe(C)||(C=la,"selectionStart"in C&&Wi(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),iu&&el(iu,C)||(iu=C,C=dd(nl,"onSelect"),0<C.length&&(p=new eu("onSelect","select",null,p,A),h.push({event:p,listeners:C}),p.target=la)))}function Ql(h,p){var A={};return A[h.toLowerCase()]=p.toLowerCase(),A["Webkit"+h]="webkit"+p,A["Moz"+h]="moz"+p,A}var Ao={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},Vs={},Ws={};o&&(Ws=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function ca(h){if(Vs[h])return Vs[h];if(!Ao[h])return h;var p=Ao[h],A;for(A in p)if(p.hasOwnProperty(A)&&A in Ws)return Vs[h]=p[A];return h}var ru=ca("animationend"),su=ca("animationiteration"),up=ca("animationstart"),hp=ca("transitionend"),dp=new Map,fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Da(h,p){dp.set(h,p),s(p,[h])}for(var ad=0;ad<fp.length;ad++){var au=fp[ad],ou=au.toLowerCase(),jg=au[0].toUpperCase()+au.slice(1);Da(ou,"on"+jg)}Da(ru,"onAnimationEnd"),Da(su,"onAnimationIteration"),Da(up,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(hp,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),od=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function ld(h,p,A){var C=h.type||"unknown-event";h.currentTarget=A,H(C,p,void 0,h),h.currentTarget=null}function $l(h,p){p=(p&4)!==0;for(var A=0;A<h.length;A++){var C=h[A],L=C.event;C=C.listeners;e:{var N=void 0;if(p)for(var W=C.length-1;0<=W;W--){var ce=C[W],me=ce.instance,ke=ce.currentTarget;if(ce=ce.listener,me!==N&&L.isPropagationStopped())break e;ld(L,ce,ke),N=me}else for(W=0;W<C.length;W++){if(ce=C[W],me=ce.instance,ke=ce.currentTarget,ce=ce.listener,me!==N&&L.isPropagationStopped())break e;ld(L,ce,ke),N=me}}}if(tr)throw h=hn,tr=!1,hn=null,h}function ri(h,p){var A=p[sl];A===void 0&&(A=p[sl]=new Set);var C=h+"__bubble";A.has(C)||(ud(p,h,2,!1),A.add(C))}function cd(h,p,A){var C=0;p&&(C|=4),ud(A,h,C,p)}var lu="_reactListening"+Math.random().toString(36).slice(2);function ec(h){if(!h[lu]){h[lu]=!0,n.forEach(function(A){A!=="selectionchange"&&(od.has(A)||cd(A,!1,h),cd(A,!0,h))});var p=h.nodeType===9?h:h.ownerDocument;p===null||p[lu]||(p[lu]=!0,cd("selectionchange",!1,p))}}function ud(h,p,A,C){switch(Ng(p)){case 1:var L=Wh;break;case 4:L=$f;break;default:L=Xh}A=L.bind(null,p,A,h),L=void 0,!mo||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(L=!0),C?L!==void 0?h.addEventListener(p,A,{capture:!0,passive:L}):h.addEventListener(p,A,!0):L!==void 0?h.addEventListener(p,A,{passive:L}):h.addEventListener(p,A,!1)}function hd(h,p,A,C,L){var N=C;if(!(p&1)&&!(p&2)&&C!==null)e:for(;;){if(C===null)return;var W=C.tag;if(W===3||W===4){var ce=C.stateNode.containerInfo;if(ce===L||ce.nodeType===8&&ce.parentNode===L)break;if(W===4)for(W=C.return;W!==null;){var me=W.tag;if((me===3||me===4)&&(me=W.stateNode.containerInfo,me===L||me.nodeType===8&&me.parentNode===L))return;W=W.return}for(;ce!==null;){if(W=_o(ce),W===null)return;if(me=W.tag,me===5||me===6){C=N=W;continue e}ce=ce.parentNode}}C=C.return}$i(function(){var ke=N,et=ye(A),rt=[];e:{var Qe=dp.get(h);if(Qe!==void 0){var It=eu,Ut=h;switch(h){case"keypress":if(jo(A)===0)break e;case"keydown":case"keyup":It=$h;break;case"focusin":Ut="focus",It=Kh;break;case"focusout":Ut="blur",It=Kh;break;case"beforeblur":case"afterblur":It=Kh;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":It=tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":It=vo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":It=ka;break;case ru:case su:case up:It=Og;break;case hp:It=qo;break;case"scroll":It=Vl;break;case"wheel":It=sp;break;case"copy":case"cut":case"paste":It=np;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":It=ss}var zt=(p&4)!==0,Ui=!zt&&h==="scroll",_e=zt?Qe!==null?Qe+"Capture":null:Qe;zt=[];for(var ve=ke,Te;ve!==null;){Te=ve;var ct=Te.stateNode;if(Te.tag===5&&ct!==null&&(Te=ct,_e!==null&&(ct=er(ve,_e),ct!=null&&zt.push(tc(ve,ct,Te)))),Ui)break;ve=ve.return}0<zt.length&&(Qe=new It(Qe,Ut,null,A,et),rt.push({event:Qe,listeners:zt}))}}if(!(p&7)){e:{if(Qe=h==="mouseover"||h==="pointerover",It=h==="mouseout"||h==="pointerout",Qe&&A!==sn&&(Ut=A.relatedTarget||A.fromElement)&&(_o(Ut)||Ut[ls]))break e;if((It||Qe)&&(Qe=et.window===et?et:(Qe=et.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,It?(Ut=A.relatedTarget||A.toElement,It=ke,Ut=Ut?_o(Ut):null,Ut!==null&&(Ui=q(Ut),Ut!==Ui||Ut.tag!==5&&Ut.tag!==6)&&(Ut=null)):(It=null,Ut=ke),It!==Ut)){if(zt=tp,ct="onMouseLeave",_e="onMouseEnter",ve="mouse",(h==="pointerout"||h==="pointerover")&&(zt=ss,ct="onPointerLeave",_e="onPointerEnter",ve="pointer"),Ui=It==null?Qe:Mi(It),Te=Ut==null?Qe:Mi(Ut),Qe=new zt(ct,ve+"leave",It,A,et),Qe.target=Ui,Qe.relatedTarget=Te,ct=null,_o(et)===ke&&(zt=new zt(_e,ve+"enter",Ut,A,et),zt.target=Te,zt.relatedTarget=Ui,ct=zt),Ui=ct,It&&Ut)t:{for(zt=It,_e=Ut,ve=0,Te=zt;Te;Te=il(Te))ve++;for(Te=0,ct=_e;ct;ct=il(ct))Te++;for(;0<ve-Te;)zt=il(zt),ve--;for(;0<Te-ve;)_e=il(_e),Te--;for(;ve--;){if(zt===_e||_e!==null&&zt===_e.alternate)break t;zt=il(zt),_e=il(_e)}zt=null}else zt=null;It!==null&&Jg(rt,Qe,It,zt,!1),Ut!==null&&Ui!==null&&Jg(rt,Ui,Ut,zt,!0)}}e:{if(Qe=ke?Mi(ke):window,It=Qe.nodeName&&Qe.nodeName.toLowerCase(),It==="select"||It==="input"&&Qe.type==="file")var Yt=Xg;else if(td(Qe))if(Zl)Yt=gi;else{Yt=Yg;var $t=ql}else(It=Qe.nodeName)&&It.toLowerCase()==="input"&&(Qe.type==="checkbox"||Qe.type==="radio")&&(Yt=cp);if(Yt&&(Yt=Yt(h,ke))){Jl(rt,Yt,A,et);break e}$t&&$t(h,Qe,ke),h==="focusout"&&($t=Qe._wrapperState)&&$t.controlled&&Qe.type==="number"&&Jt(Qe,"number",Qe.value)}switch($t=ke?Mi(ke):window,h){case"focusin":(td($t)||$t.contentEditable==="true")&&(la=$t,nl=ke,iu=null);break;case"focusout":iu=nl=la=null;break;case"mousedown":Yi=!0;break;case"contextmenu":case"mouseup":case"dragend":Yi=!1,sd(rt,A,et);break;case"selectionchange":if(rd)break;case"keydown":case"keyup":sd(rt,A,et)}var en;if(Rr)e:{switch(h){case"compositionstart":var cn="onCompositionStart";break e;case"compositionend":cn="onCompositionEnd";break e;case"compositionupdate":cn="onCompositionUpdate";break e}cn=void 0}else bo?lp(h,A)&&(cn="onCompositionEnd"):h==="keydown"&&A.keyCode===229&&(cn="onCompositionStart");cn&&(Yl&&A.locale!=="ko"&&(bo||cn!=="onCompositionStart"?cn==="onCompositionEnd"&&bo&&(en=$c()):(Hs=et,ep="value"in Hs?Hs.value:Hs.textContent,bo=!0)),$t=dd(ke,cn),0<$t.length&&(cn=new ip(cn,h,null,A,et),rt.push({event:cn,listeners:$t}),en?cn.data=en:(en=ed(A),en!==null&&(cn.data=en)))),(en=di?Vg(h,A):tu(h,A))&&(ke=dd(ke,"onBeforeInput"),0<ke.length&&(et=new ip("onBeforeInput","beforeinput",null,A,et),rt.push({event:et,listeners:ke}),et.data=en))}$l(rt,p)})}function tc(h,p,A){return{instance:h,listener:p,currentTarget:A}}function dd(h,p){for(var A=p+"Capture",C=[];h!==null;){var L=h,N=L.stateNode;L.tag===5&&N!==null&&(L=N,N=er(h,A),N!=null&&C.unshift(tc(h,N,L)),N=er(h,p),N!=null&&C.push(tc(h,N,L))),h=h.return}return C}function il(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function Jg(h,p,A,C,L){for(var N=p._reactName,W=[];A!==null&&A!==C;){var ce=A,me=ce.alternate,ke=ce.stateNode;if(me!==null&&me===C)break;ce.tag===5&&ke!==null&&(ce=ke,L?(me=er(A,N),me!=null&&W.unshift(tc(A,me,ce))):L||(me=er(A,N),me!=null&&W.push(tc(A,me,ce)))),A=A.return}W.length!==0&&h.push({event:p,listeners:W})}var Fy=/\r\n?/g,Kg=/\u0000|\uFFFD/g;function pp(h){return(typeof h=="string"?h:""+h).replace(Fy,`
`).replace(Kg,"")}function cu(h,p,A){if(p=pp(p),pp(h)!==p&&A)throw Error(t(425))}function uu(){}var nc=null,mp=null;function gp(h,p){return h==="textarea"||h==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var xp=typeof setTimeout=="function"?setTimeout:void 0,vp=typeof clearTimeout=="function"?clearTimeout:void 0,fd=typeof Promise=="function"?Promise:void 0,Ny=typeof queueMicrotask=="function"?queueMicrotask:typeof fd<"u"?function(h){return fd.resolve(null).then(h).catch(Zg)}:xp;function Zg(h){setTimeout(function(){throw h})}function pd(h,p){var A=p,C=0;do{var L=A.nextSibling;if(h.removeChild(A),L&&L.nodeType===8)if(A=L.data,A==="/$"){if(C===0){h.removeChild(L),Qc(p);return}C--}else A!=="$"&&A!=="$?"&&A!=="$!"||C++;A=L}while(A);Qc(p)}function Fa(h){for(;h!=null;h=h.nextSibling){var p=h.nodeType;if(p===1||p===3)break;if(p===8){if(p=h.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return h}function yp(h){h=h.previousSibling;for(var p=0;h;){if(h.nodeType===8){var A=h.data;if(A==="$"||A==="$!"||A==="$?"){if(p===0)return h;p--}else A==="/$"&&p++}h=h.previousSibling}return null}var rl=Math.random().toString(36).slice(2),Oi="__reactFiber$"+rl,ic="__reactProps$"+rl,ls="__reactContainer$"+rl,sl="__reactEvents$"+rl,md="__reactListeners$"+rl,gd="__reactHandles$"+rl;function _o(h){var p=h[Oi];if(p)return p;for(var A=h.parentNode;A;){if(p=A[ls]||A[Oi]){if(A=p.alternate,p.child!==null||A!==null&&A.child!==null)for(h=yp(h);h!==null;){if(A=h[Oi])return A;h=yp(h)}return p}h=A,A=h.parentNode}return null}function Na(h){return h=h[Oi]||h[ls],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function Mi(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(t(33))}function xd(h){return h[ic]||null}var bp=[],ji=-1;function wi(h){return{current:h}}function si(h){0>ji||(h.current=bp[ji],bp[ji]=null,ji--)}function $n(h,p){ji++,bp[ji]=h.current,h.current=p}var Oa={},ir=wi(Oa),Ir=wi(!1),Ua=Oa;function al(h,p){var A=h.type.contextTypes;if(!A)return Oa;var C=h.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===p)return C.__reactInternalMemoizedMaskedChildContext;var L={},N;for(N in A)L[N]=p[N];return C&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=L),L}function xr(h){return h=h.childContextTypes,h!=null}function hu(){si(Ir),si(ir)}function wp(h,p,A){if(ir.current!==Oa)throw Error(t(168));$n(ir,p),$n(Ir,A)}function du(h,p,A){var C=h.stateNode;if(p=p.childContextTypes,typeof C.getChildContext!="function")return A;C=C.getChildContext();for(var L in C)if(!(L in p))throw Error(t(108,Se(h)||"Unknown",L));return Z({},A,C)}function ol(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Oa,Ua=ir.current,$n(ir,h),$n(Ir,Ir.current),!0}function Ap(h,p,A){var C=h.stateNode;if(!C)throw Error(t(169));A?(h=du(h,p,Ua),C.__reactInternalMemoizedMergedChildContext=h,si(Ir),si(ir),$n(ir,h)):si(Ir),$n(Ir,A)}var Xs=null,fu=!1,vd=!1;function pu(h){Xs===null?Xs=[h]:Xs.push(h)}function qg(h){fu=!0,pu(h)}function ua(){if(!vd&&Xs!==null){vd=!0;var h=0,p=Rn;try{var A=Xs;for(Rn=1;h<A.length;h++){var C=A[h];do C=C(!0);while(C!==null)}Xs=null,fu=!1}catch(L){throw Xs!==null&&(Xs=Xs.slice(h+1)),$e(Ee,ua),L}finally{Rn=p,vd=!1}}return null}var ll=[],Yr=0,yd=null,bd=0,Pr=[],Ji=0,cl=null,ft=1,Rs="";function za(h,p){ll[Yr++]=bd,ll[Yr++]=yd,yd=h,bd=p}function Sp(h,p,A){Pr[Ji++]=ft,Pr[Ji++]=Rs,Pr[Ji++]=cl,cl=h;var C=ft;h=Rs;var L=32-yt(C)-1;C&=~(1<<L),A+=1;var N=32-yt(p)+L;if(30<N){var W=L-L%5;N=(C&(1<<W)-1).toString(32),C>>=W,L-=W,ft=1<<32-yt(p)+L|A<<L|C,Rs=N+h}else ft=1<<N|A<<L|C,Rs=h}function _p(h){h.return!==null&&(za(h,1),Sp(h,1,0))}function Ha(h){for(;h===yd;)yd=ll[--Yr],ll[Yr]=null,bd=ll[--Yr],ll[Yr]=null;for(;h===cl;)cl=Pr[--Ji],Pr[Ji]=null,Rs=Pr[--Ji],Pr[Ji]=null,ft=Pr[--Ji],Pr[Ji]=null}var rr=null,kr=null,ci=!1,Is=null;function Mp(h,p){var A=ma(5,null,null,0);A.elementType="DELETED",A.stateNode=p,A.return=h,p=h.deletions,p===null?(h.deletions=[A],h.flags|=16):p.push(A)}function Cp(h,p){switch(h.tag){case 5:var A=h.type;return p=p.nodeType!==1||A.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(h.stateNode=p,rr=h,kr=Fa(p.firstChild),!0):!1;case 6:return p=h.pendingProps===""||p.nodeType!==3?null:p,p!==null?(h.stateNode=p,rr=h,kr=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(A=cl!==null?{id:ft,overflow:Rs}:null,h.memoizedState={dehydrated:p,treeContext:A,retryLane:1073741824},A=ma(18,null,null,0),A.stateNode=p,A.return=h,h.child=A,rr=h,kr=null,!0):!1;default:return!1}}function wd(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Ad(h){if(ci){var p=kr;if(p){var A=p;if(!Cp(h,p)){if(wd(h))throw Error(t(418));p=Fa(A.nextSibling);var C=rr;p&&Cp(h,p)?Mp(C,A):(h.flags=h.flags&-4097|2,ci=!1,rr=h)}}else{if(wd(h))throw Error(t(418));h.flags=h.flags&-4097|2,ci=!1,rr=h}}}function Sd(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;rr=h}function rc(h){if(h!==rr)return!1;if(!ci)return Sd(h),ci=!0,!1;var p;if((p=h.tag!==3)&&!(p=h.tag!==5)&&(p=h.type,p=p!=="head"&&p!=="body"&&!gp(h.type,h.memoizedProps)),p&&(p=kr)){if(wd(h))throw Ep(),Error(t(418));for(;p;)Mp(h,p),p=Fa(p.nextSibling)}if(Sd(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(t(317));e:{for(h=h.nextSibling,p=0;h;){if(h.nodeType===8){var A=h.data;if(A==="/$"){if(p===0){kr=Fa(h.nextSibling);break e}p--}else A!=="$"&&A!=="$!"&&A!=="$?"||p++}h=h.nextSibling}kr=null}}else kr=rr?Fa(h.stateNode.nextSibling):null;return!0}function Ep(){for(var h=kr;h;)h=Fa(h.nextSibling)}function Mo(){kr=rr=null,ci=!1}function sc(h){Is===null?Is=[h]:Is.push(h)}var Oy=E.ReactCurrentBatchConfig;function mu(h,p,A){if(h=A.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(t(309));var C=A.stateNode}if(!C)throw Error(t(147,h));var L=C,N=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===N?p.ref:(p=function(W){var ce=L.refs;W===null?delete ce[N]:ce[N]=W},p._stringRef=N,p)}if(typeof h!="string")throw Error(t(284));if(!A._owner)throw Error(t(290,h))}return h}function gu(h,p){throw h=Object.prototype.toString.call(p),Error(t(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function Tp(h){var p=h._init;return p(h._payload)}function Rp(h){function p(_e,ve){if(h){var Te=_e.deletions;Te===null?(_e.deletions=[ve],_e.flags|=16):Te.push(ve)}}function A(_e,ve){if(!h)return null;for(;ve!==null;)p(_e,ve),ve=ve.sibling;return null}function C(_e,ve){for(_e=new Map;ve!==null;)ve.key!==null?_e.set(ve.key,ve):_e.set(ve.index,ve),ve=ve.sibling;return _e}function L(_e,ve){return _e=gc(_e,ve),_e.index=0,_e.sibling=null,_e}function N(_e,ve,Te){return _e.index=Te,h?(Te=_e.alternate,Te!==null?(Te=Te.index,Te<ve?(_e.flags|=2,ve):Te):(_e.flags|=2,ve)):(_e.flags|=1048576,ve)}function W(_e){return h&&_e.alternate===null&&(_e.flags|=2),_e}function ce(_e,ve,Te,ct){return ve===null||ve.tag!==6?(ve=ib(Te,_e.mode,ct),ve.return=_e,ve):(ve=L(ve,Te),ve.return=_e,ve)}function me(_e,ve,Te,ct){var Yt=Te.type;return Yt===P?et(_e,ve,Te.props.children,ct,Te.key):ve!==null&&(ve.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===ee&&Tp(Yt)===ve.type)?(ct=L(ve,Te.props),ct.ref=mu(_e,ve,Te),ct.return=_e,ct):(ct=bx(Te.type,Te.key,Te.props,null,_e.mode,ct),ct.ref=mu(_e,ve,Te),ct.return=_e,ct)}function ke(_e,ve,Te,ct){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Te.containerInfo||ve.stateNode.implementation!==Te.implementation?(ve=rb(Te,_e.mode,ct),ve.return=_e,ve):(ve=L(ve,Te.children||[]),ve.return=_e,ve)}function et(_e,ve,Te,ct,Yt){return ve===null||ve.tag!==7?(ve=Lu(Te,_e.mode,ct,Yt),ve.return=_e,ve):(ve=L(ve,Te),ve.return=_e,ve)}function rt(_e,ve,Te){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=ib(""+ve,_e.mode,Te),ve.return=_e,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case T:return Te=bx(ve.type,ve.key,ve.props,null,_e.mode,Te),Te.ref=mu(_e,null,ve),Te.return=_e,Te;case R:return ve=rb(ve,_e.mode,Te),ve.return=_e,ve;case ee:var ct=ve._init;return rt(_e,ct(ve._payload),Te)}if(dt(ve)||Q(ve))return ve=Lu(ve,_e.mode,Te,null),ve.return=_e,ve;gu(_e,ve)}return null}function Qe(_e,ve,Te,ct){var Yt=ve!==null?ve.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return Yt!==null?null:ce(_e,ve,""+Te,ct);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case T:return Te.key===Yt?me(_e,ve,Te,ct):null;case R:return Te.key===Yt?ke(_e,ve,Te,ct):null;case ee:return Yt=Te._init,Qe(_e,ve,Yt(Te._payload),ct)}if(dt(Te)||Q(Te))return Yt!==null?null:et(_e,ve,Te,ct,null);gu(_e,Te)}return null}function It(_e,ve,Te,ct,Yt){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return _e=_e.get(Te)||null,ce(ve,_e,""+ct,Yt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case T:return _e=_e.get(ct.key===null?Te:ct.key)||null,me(ve,_e,ct,Yt);case R:return _e=_e.get(ct.key===null?Te:ct.key)||null,ke(ve,_e,ct,Yt);case ee:var $t=ct._init;return It(_e,ve,Te,$t(ct._payload),Yt)}if(dt(ct)||Q(ct))return _e=_e.get(Te)||null,et(ve,_e,ct,Yt,null);gu(ve,ct)}return null}function Ut(_e,ve,Te,ct){for(var Yt=null,$t=null,en=ve,cn=ve=0,wr=null;en!==null&&cn<Te.length;cn++){en.index>cn?(wr=en,en=null):wr=en.sibling;var Wn=Qe(_e,en,Te[cn],ct);if(Wn===null){en===null&&(en=wr);break}h&&en&&Wn.alternate===null&&p(_e,en),ve=N(Wn,ve,cn),$t===null?Yt=Wn:$t.sibling=Wn,$t=Wn,en=wr}if(cn===Te.length)return A(_e,en),ci&&za(_e,cn),Yt;if(en===null){for(;cn<Te.length;cn++)en=rt(_e,Te[cn],ct),en!==null&&(ve=N(en,ve,cn),$t===null?Yt=en:$t.sibling=en,$t=en);return ci&&za(_e,cn),Yt}for(en=C(_e,en);cn<Te.length;cn++)wr=It(en,_e,cn,Te[cn],ct),wr!==null&&(h&&wr.alternate!==null&&en.delete(wr.key===null?cn:wr.key),ve=N(wr,ve,cn),$t===null?Yt=wr:$t.sibling=wr,$t=wr);return h&&en.forEach(function(xc){return p(_e,xc)}),ci&&za(_e,cn),Yt}function zt(_e,ve,Te,ct){var Yt=Q(Te);if(typeof Yt!="function")throw Error(t(150));if(Te=Yt.call(Te),Te==null)throw Error(t(151));for(var $t=Yt=null,en=ve,cn=ve=0,wr=null,Wn=Te.next();en!==null&&!Wn.done;cn++,Wn=Te.next()){en.index>cn?(wr=en,en=null):wr=en.sibling;var xc=Qe(_e,en,Wn.value,ct);if(xc===null){en===null&&(en=wr);break}h&&en&&xc.alternate===null&&p(_e,en),ve=N(xc,ve,cn),$t===null?Yt=xc:$t.sibling=xc,$t=xc,en=wr}if(Wn.done)return A(_e,en),ci&&za(_e,cn),Yt;if(en===null){for(;!Wn.done;cn++,Wn=Te.next())Wn=rt(_e,Wn.value,ct),Wn!==null&&(ve=N(Wn,ve,cn),$t===null?Yt=Wn:$t.sibling=Wn,$t=Wn);return ci&&za(_e,cn),Yt}for(en=C(_e,en);!Wn.done;cn++,Wn=Te.next())Wn=It(en,_e,cn,Wn.value,ct),Wn!==null&&(h&&Wn.alternate!==null&&en.delete(Wn.key===null?cn:Wn.key),ve=N(Wn,ve,cn),$t===null?Yt=Wn:$t.sibling=Wn,$t=Wn);return h&&en.forEach(function(D3){return p(_e,D3)}),ci&&za(_e,cn),Yt}function Ui(_e,ve,Te,ct){if(typeof Te=="object"&&Te!==null&&Te.type===P&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case T:e:{for(var Yt=Te.key,$t=ve;$t!==null;){if($t.key===Yt){if(Yt=Te.type,Yt===P){if($t.tag===7){A(_e,$t.sibling),ve=L($t,Te.props.children),ve.return=_e,_e=ve;break e}}else if($t.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===ee&&Tp(Yt)===$t.type){A(_e,$t.sibling),ve=L($t,Te.props),ve.ref=mu(_e,$t,Te),ve.return=_e,_e=ve;break e}A(_e,$t);break}else p(_e,$t);$t=$t.sibling}Te.type===P?(ve=Lu(Te.props.children,_e.mode,ct,Te.key),ve.return=_e,_e=ve):(ct=bx(Te.type,Te.key,Te.props,null,_e.mode,ct),ct.ref=mu(_e,ve,Te),ct.return=_e,_e=ct)}return W(_e);case R:e:{for($t=Te.key;ve!==null;){if(ve.key===$t)if(ve.tag===4&&ve.stateNode.containerInfo===Te.containerInfo&&ve.stateNode.implementation===Te.implementation){A(_e,ve.sibling),ve=L(ve,Te.children||[]),ve.return=_e,_e=ve;break e}else{A(_e,ve);break}else p(_e,ve);ve=ve.sibling}ve=rb(Te,_e.mode,ct),ve.return=_e,_e=ve}return W(_e);case ee:return $t=Te._init,Ui(_e,ve,$t(Te._payload),ct)}if(dt(Te))return Ut(_e,ve,Te,ct);if(Q(Te))return zt(_e,ve,Te,ct);gu(_e,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,ve!==null&&ve.tag===6?(A(_e,ve.sibling),ve=L(ve,Te),ve.return=_e,_e=ve):(A(_e,ve),ve=ib(Te,_e.mode,ct),ve.return=_e,_e=ve),W(_e)):A(_e,ve)}return Ui}var ul=Rp(!0),xu=Rp(!1),hl=wi(null),dl=null,Ga=null,ac=null;function fl(){ac=Ga=dl=null}function vu(h){var p=hl.current;si(hl),h._currentValue=p}function yu(h,p,A){for(;h!==null;){var C=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,C!==null&&(C.childLanes|=p)):C!==null&&(C.childLanes&p)!==p&&(C.childLanes|=p),h===A)break;h=h.return}}function Co(h,p){dl=h,ac=Ga=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&p&&(Sn=!0),h.firstContext=null)}function cs(h){var p=h._currentValue;if(ac!==h)if(h={context:h,memoizedValue:p,next:null},Ga===null){if(dl===null)throw Error(t(308));Ga=h,dl.dependencies={lanes:0,firstContext:h}}else Ga=Ga.next=h;return p}var Va=null;function Ip(h){Va===null?Va=[h]:Va.push(h)}function bu(h,p,A,C){var L=p.interleaved;return L===null?(A.next=A,Ip(p)):(A.next=L.next,L.next=A),p.interleaved=A,Ys(h,C)}function Ys(h,p){h.lanes|=p;var A=h.alternate;for(A!==null&&(A.lanes|=p),A=h,h=h.return;h!==null;)h.childLanes|=p,A=h.alternate,A!==null&&(A.childLanes|=p),A=h,h=h.return;return A.tag===3?A.stateNode:null}var Jn=!1;function yn(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ci(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Kn(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function fi(h,p,A){var C=h.updateQueue;if(C===null)return null;if(C=C.shared,Hn&2){var L=C.pending;return L===null?p.next=p:(p.next=L.next,L.next=p),C.pending=p,Ys(h,A)}return L=C.interleaved,L===null?(p.next=p,Ip(C)):(p.next=L.next,L.next=p),C.interleaved=p,Ys(h,A)}function vr(h,p,A){if(p=p.updateQueue,p!==null&&(p=p.shared,(A&4194240)!==0)){var C=p.lanes;C&=h.pendingLanes,A|=C,p.lanes=A,_i(h,A)}}function pl(h,p){var A=h.updateQueue,C=h.alternate;if(C!==null&&(C=C.updateQueue,A===C)){var L=null,N=null;if(A=A.firstBaseUpdate,A!==null){do{var W={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};N===null?L=N=W:N=N.next=W,A=A.next}while(A!==null);N===null?L=N=p:N=N.next=p}else L=N=p;A={baseState:C.baseState,firstBaseUpdate:L,lastBaseUpdate:N,shared:C.shared,effects:C.effects},h.updateQueue=A;return}h=A.lastBaseUpdate,h===null?A.firstBaseUpdate=p:h.next=p,A.lastBaseUpdate=p}function Ai(h,p,A,C){var L=h.updateQueue;Jn=!1;var N=L.firstBaseUpdate,W=L.lastBaseUpdate,ce=L.shared.pending;if(ce!==null){L.shared.pending=null;var me=ce,ke=me.next;me.next=null,W===null?N=ke:W.next=ke,W=me;var et=h.alternate;et!==null&&(et=et.updateQueue,ce=et.lastBaseUpdate,ce!==W&&(ce===null?et.firstBaseUpdate=ke:ce.next=ke,et.lastBaseUpdate=me))}if(N!==null){var rt=L.baseState;W=0,et=ke=me=null,ce=N;do{var Qe=ce.lane,It=ce.eventTime;if((C&Qe)===Qe){et!==null&&(et=et.next={eventTime:It,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var Ut=h,zt=ce;switch(Qe=p,It=A,zt.tag){case 1:if(Ut=zt.payload,typeof Ut=="function"){rt=Ut.call(It,rt,Qe);break e}rt=Ut;break e;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=zt.payload,Qe=typeof Ut=="function"?Ut.call(It,rt,Qe):Ut,Qe==null)break e;rt=Z({},rt,Qe);break e;case 2:Jn=!0}}ce.callback!==null&&ce.lane!==0&&(h.flags|=64,Qe=L.effects,Qe===null?L.effects=[ce]:Qe.push(ce))}else It={eventTime:It,lane:Qe,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},et===null?(ke=et=It,me=rt):et=et.next=It,W|=Qe;if(ce=ce.next,ce===null){if(ce=L.shared.pending,ce===null)break;Qe=ce,ce=Qe.next,Qe.next=null,L.lastBaseUpdate=Qe,L.shared.pending=null}}while(!0);if(et===null&&(me=rt),L.baseState=me,L.firstBaseUpdate=ke,L.lastBaseUpdate=et,p=L.shared.interleaved,p!==null){L=p;do W|=L.lane,L=L.next;while(L!==p)}else N===null&&(L.shared.lanes=0);Ru|=W,h.lanes=W,h.memoizedState=rt}}function oc(h,p,A){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var C=h[p],L=C.callback;if(L!==null){if(C.callback=null,C=A,typeof L!="function")throw Error(t(191,L));L.call(C)}}}var ha={},us=wi(ha),ml=wi(ha),Wa=wi(ha);function Ii(h){if(h===ha)throw Error(t(174));return h}function wu(h,p){switch($n(Wa,p),$n(ml,h),$n(us,ha),h=p.nodeType,h){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:Dt(null,"");break;default:h=h===8?p.parentNode:p,p=h.namespaceURI||null,h=h.tagName,p=Dt(p,h)}si(us),$n(us,p)}function Eo(){si(us),si(ml),si(Wa)}function gl(h){Ii(Wa.current);var p=Ii(us.current),A=Dt(p,h.type);p!==A&&($n(ml,h),$n(us,A))}function lc(h){ml.current===h&&(si(us),si(ml))}var ui=wi(0);function js(h){for(var p=h;p!==null;){if(p.tag===13){var A=p.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var cc=[];function da(){for(var h=0;h<cc.length;h++)cc[h]._workInProgressVersionPrimary=null;cc.length=0}var xl=E.ReactCurrentDispatcher,vl=E.ReactCurrentBatchConfig,Xa=0,ai=null,Si=null,Fn=null,Js=!1,yr=!1,To=0,jr=0;function sr(){throw Error(t(321))}function Au(h,p){if(p===null)return!1;for(var A=0;A<p.length&&A<h.length;A++)if(!as(h[A],p[A]))return!1;return!0}function Su(h,p,A,C,L,N){if(Xa=N,ai=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,xl.current=h===null||h.memoizedState===null?rx:sx,h=A(C,L),yr){N=0;do{if(yr=!1,To=0,25<=N)throw Error(t(301));N+=1,Fn=Si=null,p.updateQueue=null,xl.current=ax,h=A(C,L)}while(yr)}if(xl.current=Id,p=Si!==null&&Si.next!==null,Xa=0,Fn=Si=ai=null,Js=!1,p)throw Error(t(300));return h}function Pp(){var h=To!==0;return To=0,h}function ar(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?ai.memoizedState=Fn=h:Fn=Fn.next=h,Fn}function hs(){if(Si===null){var h=ai.alternate;h=h!==null?h.memoizedState:null}else h=Si.next;var p=Fn===null?ai.memoizedState:Fn.next;if(p!==null)Fn=p,Si=h;else{if(h===null)throw Error(t(310));Si=h,h={memoizedState:Si.memoizedState,baseState:Si.baseState,baseQueue:Si.baseQueue,queue:Si.queue,next:null},Fn===null?ai.memoizedState=Fn=h:Fn=Fn.next=h}return Fn}function uc(h,p){return typeof p=="function"?p(h):p}function _u(h){var p=hs(),A=p.queue;if(A===null)throw Error(t(311));A.lastRenderedReducer=h;var C=Si,L=C.baseQueue,N=A.pending;if(N!==null){if(L!==null){var W=L.next;L.next=N.next,N.next=W}C.baseQueue=L=N,A.pending=null}if(L!==null){N=L.next,C=C.baseState;var ce=W=null,me=null,ke=N;do{var et=ke.lane;if((Xa&et)===et)me!==null&&(me=me.next={lane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),C=ke.hasEagerState?ke.eagerState:h(C,ke.action);else{var rt={lane:et,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null};me===null?(ce=me=rt,W=C):me=me.next=rt,ai.lanes|=et,Ru|=et}ke=ke.next}while(ke!==null&&ke!==N);me===null?W=C:me.next=ce,as(C,p.memoizedState)||(Sn=!0),p.memoizedState=C,p.baseState=W,p.baseQueue=me,A.lastRenderedState=C}if(h=A.interleaved,h!==null){L=h;do N=L.lane,ai.lanes|=N,Ru|=N,L=L.next;while(L!==h)}else L===null&&(A.lanes=0);return[p.memoizedState,A.dispatch]}function Ya(h){var p=hs(),A=p.queue;if(A===null)throw Error(t(311));A.lastRenderedReducer=h;var C=A.dispatch,L=A.pending,N=p.memoizedState;if(L!==null){A.pending=null;var W=L=L.next;do N=h(N,W.action),W=W.next;while(W!==L);as(N,p.memoizedState)||(Sn=!0),p.memoizedState=N,p.baseQueue===null&&(p.baseState=N),A.lastRenderedState=N}return[N,C]}function kp(){}function Lp(h,p){var A=ai,C=hs(),L=p(),N=!as(C.memoizedState,L);if(N&&(C.memoizedState=L,Sn=!0),C=C.queue,Fp(Qg.bind(null,A,C,h),[h]),C.getSnapshot!==p||N||Fn!==null&&Fn.memoizedState.tag&1){if(A.flags|=2048,Ks(9,Mu.bind(null,A,C,L,p),void 0,null),br===null)throw Error(t(349));Xa&30||_d(A,p,L)}return L}function _d(h,p,A){h.flags|=16384,h={getSnapshot:p,value:A},p=ai.updateQueue,p===null?(p={lastEffect:null,stores:null},ai.updateQueue=p,p.stores=[h]):(A=p.stores,A===null?p.stores=[h]:A.push(h))}function Mu(h,p,A,C){p.value=A,p.getSnapshot=C,$g(p)&&Bp(h)}function Qg(h,p,A){return A(function(){$g(p)&&Bp(h)})}function $g(h){var p=h.getSnapshot;h=h.value;try{var A=p();return!as(h,A)}catch{return!0}}function Bp(h){var p=Ys(h,1);p!==null&&qa(p,h,1,-1)}function Dp(h){var p=ar();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:h},p.queue=h,h=h.dispatch=yl.bind(null,ai,h),[p.memoizedState,h]}function Ks(h,p,A,C){return h={tag:h,create:p,destroy:A,deps:C,next:null},p=ai.updateQueue,p===null?(p={lastEffect:null,stores:null},ai.updateQueue=p,p.lastEffect=h.next=h):(A=p.lastEffect,A===null?p.lastEffect=h.next=h:(C=A.next,A.next=h,h.next=C,p.lastEffect=h)),h}function ex(){return hs().memoizedState}function fa(h,p,A,C){var L=ar();ai.flags|=h,L.memoizedState=Ks(1|p,A,void 0,C===void 0?null:C)}function Cu(h,p,A,C){var L=hs();C=C===void 0?null:C;var N=void 0;if(Si!==null){var W=Si.memoizedState;if(N=W.destroy,C!==null&&Au(C,W.deps)){L.memoizedState=Ks(p,A,N,C);return}}ai.flags|=h,L.memoizedState=Ks(1|p,A,N,C)}function Lr(h,p){return fa(8390656,8,h,p)}function Fp(h,p){return Cu(2048,8,h,p)}function Np(h,p){return Cu(4,2,h,p)}function tx(h,p){return Cu(4,4,h,p)}function nx(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function Op(h,p,A){return A=A!=null?A.concat([h]):null,Cu(4,4,nx.bind(null,p,h),A)}function Md(){}function ix(h,p){var A=hs();p=p===void 0?null:p;var C=A.memoizedState;return C!==null&&p!==null&&Au(p,C[1])?C[0]:(A.memoizedState=[h,p],h)}function ds(h,p){var A=hs();p=p===void 0?null:p;var C=A.memoizedState;return C!==null&&p!==null&&Au(p,C[1])?C[0]:(h=h(),A.memoizedState=[h,p],h)}function Cd(h,p,A){return Xa&21?(as(A,p)||(A=Qt(),ai.lanes|=A,Ru|=A,h.baseState=!0),p):(h.baseState&&(h.baseState=!1,Sn=!0),h.memoizedState=A)}function Uy(h,p){var A=Rn;Rn=A!==0&&4>A?A:4,h(!0);var C=vl.transition;vl.transition={};try{h(!1),p()}finally{Rn=A,vl.transition=C}}function ja(){return hs().memoizedState}function Ed(h,p,A){var C=pc(h);if(A={lane:C,action:A,hasEagerState:!1,eagerState:null,next:null},Eu(h))Td(p,A);else if(A=bu(h,p,A,C),A!==null){var L=ps();qa(A,h,C,L),Rd(A,p,C)}}function yl(h,p,A){var C=pc(h),L={lane:C,action:A,hasEagerState:!1,eagerState:null,next:null};if(Eu(h))Td(p,L);else{var N=h.alternate;if(h.lanes===0&&(N===null||N.lanes===0)&&(N=p.lastRenderedReducer,N!==null))try{var W=p.lastRenderedState,ce=N(W,A);if(L.hasEagerState=!0,L.eagerState=ce,as(ce,W)){var me=p.interleaved;me===null?(L.next=L,Ip(p)):(L.next=me.next,me.next=L),p.interleaved=L;return}}catch{}finally{}A=bu(h,p,L,C),A!==null&&(L=ps(),qa(A,h,C,L),Rd(A,p,C))}}function Eu(h){var p=h.alternate;return h===ai||p!==null&&p===ai}function Td(h,p){yr=Js=!0;var A=h.pending;A===null?p.next=p:(p.next=A.next,A.next=p),h.pending=p}function Rd(h,p,A){if(A&4194240){var C=p.lanes;C&=h.pendingLanes,A|=C,p.lanes=A,_i(h,A)}}var Id={readContext:cs,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},rx={readContext:cs,useCallback:function(h,p){return ar().memoizedState=[h,p===void 0?null:p],h},useContext:cs,useEffect:Lr,useImperativeHandle:function(h,p,A){return A=A!=null?A.concat([h]):null,fa(4194308,4,nx.bind(null,p,h),A)},useLayoutEffect:function(h,p){return fa(4194308,4,h,p)},useInsertionEffect:function(h,p){return fa(4,2,h,p)},useMemo:function(h,p){var A=ar();return p=p===void 0?null:p,h=h(),A.memoizedState=[h,p],h},useReducer:function(h,p,A){var C=ar();return p=A!==void 0?A(p):p,C.memoizedState=C.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},C.queue=h,h=h.dispatch=Ed.bind(null,ai,h),[C.memoizedState,h]},useRef:function(h){var p=ar();return h={current:h},p.memoizedState=h},useState:Dp,useDebugValue:Md,useDeferredValue:function(h){return ar().memoizedState=h},useTransition:function(){var h=Dp(!1),p=h[0];return h=Uy.bind(null,h[1]),ar().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,A){var C=ai,L=ar();if(ci){if(A===void 0)throw Error(t(407));A=A()}else{if(A=p(),br===null)throw Error(t(349));Xa&30||_d(C,p,A)}L.memoizedState=A;var N={value:A,getSnapshot:p};return L.queue=N,Lr(Qg.bind(null,C,N,h),[h]),C.flags|=2048,Ks(9,Mu.bind(null,C,N,A,p),void 0,null),A},useId:function(){var h=ar(),p=br.identifierPrefix;if(ci){var A=Rs,C=ft;A=(C&~(1<<32-yt(C)-1)).toString(32)+A,p=":"+p+"R"+A,A=To++,0<A&&(p+="H"+A.toString(32)),p+=":"}else A=jr++,p=":"+p+"r"+A.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},sx={readContext:cs,useCallback:ix,useContext:cs,useEffect:Fp,useImperativeHandle:Op,useInsertionEffect:Np,useLayoutEffect:tx,useMemo:ds,useReducer:_u,useRef:ex,useState:function(){return _u(uc)},useDebugValue:Md,useDeferredValue:function(h){var p=hs();return Cd(p,Si.memoizedState,h)},useTransition:function(){var h=_u(uc)[0],p=hs().memoizedState;return[h,p]},useMutableSource:kp,useSyncExternalStore:Lp,useId:ja,unstable_isNewReconciler:!1},ax={readContext:cs,useCallback:ix,useContext:cs,useEffect:Fp,useImperativeHandle:Op,useInsertionEffect:Np,useLayoutEffect:tx,useMemo:ds,useReducer:Ya,useRef:ex,useState:function(){return Ya(uc)},useDebugValue:Md,useDeferredValue:function(h){var p=hs();return Si===null?p.memoizedState=h:Cd(p,Si.memoizedState,h)},useTransition:function(){var h=Ya(uc)[0],p=hs().memoizedState;return[h,p]},useMutableSource:kp,useSyncExternalStore:Lp,useId:ja,unstable_isNewReconciler:!1};function Ps(h,p){if(h&&h.defaultProps){p=Z({},p),h=h.defaultProps;for(var A in h)p[A]===void 0&&(p[A]=h[A]);return p}return p}function Tu(h,p,A,C){p=h.memoizedState,A=A(C,p),A=A==null?p:Z({},p,A),h.memoizedState=A,h.lanes===0&&(h.updateQueue.baseState=A)}var Pd={isMounted:function(h){return(h=h._reactInternals)?q(h)===h:!1},enqueueSetState:function(h,p,A){h=h._reactInternals;var C=ps(),L=pc(h),N=Kn(C,L);N.payload=p,A!=null&&(N.callback=A),p=fi(h,N,L),p!==null&&(qa(p,h,L,C),vr(p,h,L))},enqueueReplaceState:function(h,p,A){h=h._reactInternals;var C=ps(),L=pc(h),N=Kn(C,L);N.tag=1,N.payload=p,A!=null&&(N.callback=A),p=fi(h,N,L),p!==null&&(qa(p,h,L,C),vr(p,h,L))},enqueueForceUpdate:function(h,p){h=h._reactInternals;var A=ps(),C=pc(h),L=Kn(A,C);L.tag=2,p!=null&&(L.callback=p),p=fi(h,L,C),p!==null&&(qa(p,h,C,A),vr(p,h,C))}};function ox(h,p,A,C,L,N,W){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(C,N,W):p.prototype&&p.prototype.isPureReactComponent?!el(A,C)||!el(L,N):!0}function g(h,p,A){var C=!1,L=Oa,N=p.contextType;return typeof N=="object"&&N!==null?N=cs(N):(L=xr(p)?Ua:ir.current,C=p.contextTypes,N=(C=C!=null)?al(h,L):Oa),p=new p(A,N),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Pd,h.stateNode=p,p._reactInternals=h,C&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=L,h.__reactInternalMemoizedMaskedChildContext=N),p}function x(h,p,A,C){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(A,C),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(A,C),p.state!==h&&Pd.enqueueReplaceState(p,p.state,null)}function _(h,p,A,C){var L=h.stateNode;L.props=A,L.state=h.memoizedState,L.refs={},yn(h);var N=p.contextType;typeof N=="object"&&N!==null?L.context=cs(N):(N=xr(p)?Ua:ir.current,L.context=al(h,N)),L.state=h.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(Tu(h,p,N,A),L.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(p=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),p!==L.state&&Pd.enqueueReplaceState(L,L.state,null),Ai(h,A,L,C),L.state=h.memoizedState),typeof L.componentDidMount=="function"&&(h.flags|=4194308)}function I(h,p){try{var A="",C=p;do A+=Ce(C),C=C.return;while(C);var L=A}catch(N){L=`
Error generating stack: `+N.message+`
`+N.stack}return{value:h,source:p,stack:L,digest:null}}function F(h,p,A){return{value:h,source:null,stack:A??null,digest:p??null}}function U(h,p){try{console.error(p.value)}catch(A){setTimeout(function(){throw A})}}var re=typeof WeakMap=="function"?WeakMap:Map;function be(h,p,A){A=Kn(-1,A),A.tag=3,A.payload={element:null};var C=p.value;return A.callback=function(){px||(px=!0,Ky=C),U(h,p)},A}function ze(h,p,A){A=Kn(-1,A),A.tag=3;var C=h.type.getDerivedStateFromError;if(typeof C=="function"){var L=p.value;A.payload=function(){return C(L)},A.callback=function(){U(h,p)}}var N=h.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(A.callback=function(){U(h,p),typeof C!="function"&&(dc===null?dc=new Set([this]):dc.add(this));var W=p.stack;this.componentDidCatch(p.value,{componentStack:W!==null?W:""})}),A}function at(h,p,A){var C=h.pingCache;if(C===null){C=h.pingCache=new re;var L=new Set;C.set(p,L)}else L=C.get(p),L===void 0&&(L=new Set,C.set(p,L));L.has(A)||(L.add(A),h=M3.bind(null,h,p,A),p.then(h,h))}function Lt(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function dn(h,p,A,C,L){return h.mode&1?(h.flags|=65536,h.lanes=L,h):(h===p?h.flags|=65536:(h.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(p=Kn(-1,1),p.tag=2,fi(A,p,1))),A.lanes|=1),h)}var qt=E.ReactCurrentOwner,Sn=!1;function Tt(h,p,A,C){p.child=h===null?xu(p,null,A,C):ul(p,h.child,A,C)}function or(h,p,A,C,L){A=A.render;var N=p.ref;return Co(p,L),C=Su(h,p,A,C,N,L),A=Pp(),h!==null&&!Sn?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~L,bl(h,p,L)):(ci&&A&&_p(p),p.flags|=1,Tt(h,p,C,L),p.child)}function fs(h,p,A,C,L){if(h===null){var N=A.type;return typeof N=="function"&&!nb(N)&&N.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(p.tag=15,p.type=N,Re(h,p,N,C,L)):(h=bx(A.type,null,C,p,p.mode,L),h.ref=p.ref,h.return=p,p.child=h)}if(N=h.child,!(h.lanes&L)){var W=N.memoizedProps;if(A=A.compare,A=A!==null?A:el,A(W,C)&&h.ref===p.ref)return bl(h,p,L)}return p.flags|=1,h=gc(N,C),h.ref=p.ref,h.return=p,p.child=h}function Re(h,p,A,C,L){if(h!==null){var N=h.memoizedProps;if(el(N,C)&&h.ref===p.ref)if(Sn=!1,p.pendingProps=C=N,(h.lanes&L)!==0)h.flags&131072&&(Sn=!0);else return p.lanes=h.lanes,bl(h,p,L)}return At(h,p,A,C,L)}function we(h,p,A){var C=p.pendingProps,L=C.children,N=h!==null?h.memoizedState:null;if(C.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null,transitions:null},$n(Ld,Zs),Zs|=A;else{if(!(A&1073741824))return h=N!==null?N.baseLanes|A:A,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null,transitions:null},p.updateQueue=null,$n(Ld,Zs),Zs|=h,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=N!==null?N.baseLanes:A,$n(Ld,Zs),Zs|=C}else N!==null?(C=N.baseLanes|A,p.memoizedState=null):C=A,$n(Ld,Zs),Zs|=C;return Tt(h,p,L,A),p.child}function De(h,p){var A=p.ref;(h===null&&A!==null||h!==null&&h.ref!==A)&&(p.flags|=512,p.flags|=2097152)}function At(h,p,A,C,L){var N=xr(A)?Ua:ir.current;return N=al(p,N),Co(p,L),A=Su(h,p,A,C,N,L),C=Pp(),h!==null&&!Sn?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~L,bl(h,p,L)):(ci&&C&&_p(p),p.flags|=1,Tt(h,p,A,L),p.child)}function Gt(h,p,A,C,L){if(xr(A)){var N=!0;ol(p)}else N=!1;if(Co(p,L),p.stateNode===null)cx(h,p),g(p,A,C),_(p,A,C,L),C=!0;else if(h===null){var W=p.stateNode,ce=p.memoizedProps;W.props=ce;var me=W.context,ke=A.contextType;typeof ke=="object"&&ke!==null?ke=cs(ke):(ke=xr(A)?Ua:ir.current,ke=al(p,ke));var et=A.getDerivedStateFromProps,rt=typeof et=="function"||typeof W.getSnapshotBeforeUpdate=="function";rt||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ce!==C||me!==ke)&&x(p,W,C,ke),Jn=!1;var Qe=p.memoizedState;W.state=Qe,Ai(p,C,W,L),me=p.memoizedState,ce!==C||Qe!==me||Ir.current||Jn?(typeof et=="function"&&(Tu(p,A,et,C),me=p.memoizedState),(ce=Jn||ox(p,A,ce,C,Qe,me,ke))?(rt||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(p.flags|=4194308)):(typeof W.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=C,p.memoizedState=me),W.props=C,W.state=me,W.context=ke,C=ce):(typeof W.componentDidMount=="function"&&(p.flags|=4194308),C=!1)}else{W=p.stateNode,Ci(h,p),ce=p.memoizedProps,ke=p.type===p.elementType?ce:Ps(p.type,ce),W.props=ke,rt=p.pendingProps,Qe=W.context,me=A.contextType,typeof me=="object"&&me!==null?me=cs(me):(me=xr(A)?Ua:ir.current,me=al(p,me));var It=A.getDerivedStateFromProps;(et=typeof It=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ce!==rt||Qe!==me)&&x(p,W,C,me),Jn=!1,Qe=p.memoizedState,W.state=Qe,Ai(p,C,W,L);var Ut=p.memoizedState;ce!==rt||Qe!==Ut||Ir.current||Jn?(typeof It=="function"&&(Tu(p,A,It,C),Ut=p.memoizedState),(ke=Jn||ox(p,A,ke,C,Qe,Ut,me)||!1)?(et||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(C,Ut,me),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(C,Ut,me)),typeof W.componentDidUpdate=="function"&&(p.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof W.componentDidUpdate!="function"||ce===h.memoizedProps&&Qe===h.memoizedState||(p.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ce===h.memoizedProps&&Qe===h.memoizedState||(p.flags|=1024),p.memoizedProps=C,p.memoizedState=Ut),W.props=C,W.state=Ut,W.context=me,C=ke):(typeof W.componentDidUpdate!="function"||ce===h.memoizedProps&&Qe===h.memoizedState||(p.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ce===h.memoizedProps&&Qe===h.memoizedState||(p.flags|=1024),C=!1)}return mn(h,p,A,C,N,L)}function mn(h,p,A,C,L,N){De(h,p);var W=(p.flags&128)!==0;if(!C&&!W)return L&&Ap(p,A,!1),bl(h,p,N);C=p.stateNode,qt.current=p;var ce=W&&typeof A.getDerivedStateFromError!="function"?null:C.render();return p.flags|=1,h!==null&&W?(p.child=ul(p,h.child,null,N),p.child=ul(p,null,ce,N)):Tt(h,p,ce,N),p.memoizedState=C.state,L&&Ap(p,A,!0),p.child}function fn(h){var p=h.stateNode;p.pendingContext?wp(h,p.pendingContext,p.pendingContext!==p.context):p.context&&wp(h,p.context,!1),wu(h,p.containerInfo)}function Ln(h,p,A,C,L){return Mo(),sc(L),p.flags|=256,Tt(h,p,A,C),p.child}var Pi={dehydrated:null,treeContext:null,retryLane:0};function kn(h){return{baseLanes:h,cachePool:null,transitions:null}}function Ja(h,p,A){var C=p.pendingProps,L=ui.current,N=!1,W=(p.flags&128)!==0,ce;if((ce=W)||(ce=h!==null&&h.memoizedState===null?!1:(L&2)!==0),ce?(N=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(L|=1),$n(ui,L&1),h===null)return Ad(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(p.mode&1?h.data==="$!"?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(W=C.children,h=C.fallback,N?(C=p.mode,N=p.child,W={mode:"hidden",children:W},!(C&1)&&N!==null?(N.childLanes=0,N.pendingProps=W):N=wx(W,C,0,null),h=Lu(h,C,A,null),N.return=p,h.return=p,N.sibling=h,p.child=N,p.child.memoizedState=kn(A),p.memoizedState=Pi,h):Up(p,W));if(L=h.memoizedState,L!==null&&(ce=L.dehydrated,ce!==null))return f3(h,p,W,C,ce,L,A);if(N){N=C.fallback,W=p.mode,L=h.child,ce=L.sibling;var me={mode:"hidden",children:C.children};return!(W&1)&&p.child!==L?(C=p.child,C.childLanes=0,C.pendingProps=me,p.deletions=null):(C=gc(L,me),C.subtreeFlags=L.subtreeFlags&14680064),ce!==null?N=gc(ce,N):(N=Lu(N,W,A,null),N.flags|=2),N.return=p,C.return=p,C.sibling=N,p.child=C,C=N,N=p.child,W=h.child.memoizedState,W=W===null?kn(A):{baseLanes:W.baseLanes|A,cachePool:null,transitions:W.transitions},N.memoizedState=W,N.childLanes=h.childLanes&~A,p.memoizedState=Pi,C}return N=h.child,h=N.sibling,C=gc(N,{mode:"visible",children:C.children}),!(p.mode&1)&&(C.lanes=A),C.return=p,C.sibling=null,h!==null&&(A=p.deletions,A===null?(p.deletions=[h],p.flags|=16):A.push(h)),p.child=C,p.memoizedState=null,C}function Up(h,p){return p=wx({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function lx(h,p,A,C){return C!==null&&sc(C),ul(p,h.child,null,A),h=Up(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function f3(h,p,A,C,L,N,W){if(A)return p.flags&256?(p.flags&=-257,C=F(Error(t(422))),lx(h,p,W,C)):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(N=C.fallback,L=p.mode,C=wx({mode:"visible",children:C.children},L,0,null),N=Lu(N,L,W,null),N.flags|=2,C.return=p,N.return=p,C.sibling=N,p.child=C,p.mode&1&&ul(p,h.child,null,W),p.child.memoizedState=kn(W),p.memoizedState=Pi,N);if(!(p.mode&1))return lx(h,p,W,null);if(L.data==="$!"){if(C=L.nextSibling&&L.nextSibling.dataset,C)var ce=C.dgst;return C=ce,N=Error(t(419)),C=F(N,C,void 0),lx(h,p,W,C)}if(ce=(W&h.childLanes)!==0,Sn||ce){if(C=br,C!==null){switch(W&-W){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=L&(C.suspendedLanes|W)?0:L,L!==0&&L!==N.retryLane&&(N.retryLane=L,Ys(h,L),qa(C,h,L,-1))}return tb(),C=F(Error(t(421))),lx(h,p,W,C)}return L.data==="$?"?(p.flags|=128,p.child=h.child,p=C3.bind(null,h),L._reactRetry=p,null):(h=N.treeContext,kr=Fa(L.nextSibling),rr=p,ci=!0,Is=null,h!==null&&(Pr[Ji++]=ft,Pr[Ji++]=Rs,Pr[Ji++]=cl,ft=h.id,Rs=h.overflow,cl=p),p=Up(p,C.children),p.flags|=4096,p)}function x_(h,p,A){h.lanes|=p;var C=h.alternate;C!==null&&(C.lanes|=p),yu(h.return,p,A)}function zy(h,p,A,C,L){var N=h.memoizedState;N===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:C,tail:A,tailMode:L}:(N.isBackwards=p,N.rendering=null,N.renderingStartTime=0,N.last=C,N.tail=A,N.tailMode=L)}function v_(h,p,A){var C=p.pendingProps,L=C.revealOrder,N=C.tail;if(Tt(h,p,C.children,A),C=ui.current,C&2)C=C&1|2,p.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&x_(h,A,p);else if(h.tag===19)x_(h,A,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}C&=1}if($n(ui,C),!(p.mode&1))p.memoizedState=null;else switch(L){case"forwards":for(A=p.child,L=null;A!==null;)h=A.alternate,h!==null&&js(h)===null&&(L=A),A=A.sibling;A=L,A===null?(L=p.child,p.child=null):(L=A.sibling,A.sibling=null),zy(p,!1,L,A,N);break;case"backwards":for(A=null,L=p.child,p.child=null;L!==null;){if(h=L.alternate,h!==null&&js(h)===null){p.child=L;break}h=L.sibling,L.sibling=A,A=L,L=h}zy(p,!0,A,null,N);break;case"together":zy(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function cx(h,p){!(p.mode&1)&&h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2)}function bl(h,p,A){if(h!==null&&(p.dependencies=h.dependencies),Ru|=p.lanes,!(A&p.childLanes))return null;if(h!==null&&p.child!==h.child)throw Error(t(153));if(p.child!==null){for(h=p.child,A=gc(h,h.pendingProps),p.child=A,A.return=p;h.sibling!==null;)h=h.sibling,A=A.sibling=gc(h,h.pendingProps),A.return=p;A.sibling=null}return p.child}function p3(h,p,A){switch(p.tag){case 3:fn(p),Mo();break;case 5:gl(p);break;case 1:xr(p.type)&&ol(p);break;case 4:wu(p,p.stateNode.containerInfo);break;case 10:var C=p.type._context,L=p.memoizedProps.value;$n(hl,C._currentValue),C._currentValue=L;break;case 13:if(C=p.memoizedState,C!==null)return C.dehydrated!==null?($n(ui,ui.current&1),p.flags|=128,null):A&p.child.childLanes?Ja(h,p,A):($n(ui,ui.current&1),h=bl(h,p,A),h!==null?h.sibling:null);$n(ui,ui.current&1);break;case 19:if(C=(A&p.childLanes)!==0,h.flags&128){if(C)return v_(h,p,A);p.flags|=128}if(L=p.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),$n(ui,ui.current),C)break;return null;case 22:case 23:return p.lanes=0,we(h,p,A)}return bl(h,p,A)}var y_,Hy,b_,w_;y_=function(h,p){for(var A=p.child;A!==null;){if(A.tag===5||A.tag===6)h.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},Hy=function(){},b_=function(h,p,A,C){var L=h.memoizedProps;if(L!==C){h=p.stateNode,Ii(us.current);var N=null;switch(A){case"input":L=ne(h,L),C=ne(h,C),N=[];break;case"select":L=Z({},L,{value:void 0}),C=Z({},C,{value:void 0}),N=[];break;case"textarea":L=J(h,L),C=J(h,C),N=[];break;default:typeof L.onClick!="function"&&typeof C.onClick=="function"&&(h.onclick=uu)}on(A,C);var W;A=null;for(ke in L)if(!C.hasOwnProperty(ke)&&L.hasOwnProperty(ke)&&L[ke]!=null)if(ke==="style"){var ce=L[ke];for(W in ce)ce.hasOwnProperty(W)&&(A||(A={}),A[W]="")}else ke!=="dangerouslySetInnerHTML"&&ke!=="children"&&ke!=="suppressContentEditableWarning"&&ke!=="suppressHydrationWarning"&&ke!=="autoFocus"&&(i.hasOwnProperty(ke)?N||(N=[]):(N=N||[]).push(ke,null));for(ke in C){var me=C[ke];if(ce=L!=null?L[ke]:void 0,C.hasOwnProperty(ke)&&me!==ce&&(me!=null||ce!=null))if(ke==="style")if(ce){for(W in ce)!ce.hasOwnProperty(W)||me&&me.hasOwnProperty(W)||(A||(A={}),A[W]="");for(W in me)me.hasOwnProperty(W)&&ce[W]!==me[W]&&(A||(A={}),A[W]=me[W])}else A||(N||(N=[]),N.push(ke,A)),A=me;else ke==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,ce=ce?ce.__html:void 0,me!=null&&ce!==me&&(N=N||[]).push(ke,me)):ke==="children"?typeof me!="string"&&typeof me!="number"||(N=N||[]).push(ke,""+me):ke!=="suppressContentEditableWarning"&&ke!=="suppressHydrationWarning"&&(i.hasOwnProperty(ke)?(me!=null&&ke==="onScroll"&&ri("scroll",h),N||ce===me||(N=[])):(N=N||[]).push(ke,me))}A&&(N=N||[]).push("style",A);var ke=N;(p.updateQueue=ke)&&(p.flags|=4)}},w_=function(h,p,A,C){A!==C&&(p.flags|=4)};function zp(h,p){if(!ci)switch(h.tailMode){case"hidden":p=h.tail;for(var A=null;p!==null;)p.alternate!==null&&(A=p),p=p.sibling;A===null?h.tail=null:A.sibling=null;break;case"collapsed":A=h.tail;for(var C=null;A!==null;)A.alternate!==null&&(C=A),A=A.sibling;C===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:C.sibling=null}}function Jr(h){var p=h.alternate!==null&&h.alternate.child===h.child,A=0,C=0;if(p)for(var L=h.child;L!==null;)A|=L.lanes|L.childLanes,C|=L.subtreeFlags&14680064,C|=L.flags&14680064,L.return=h,L=L.sibling;else for(L=h.child;L!==null;)A|=L.lanes|L.childLanes,C|=L.subtreeFlags,C|=L.flags,L.return=h,L=L.sibling;return h.subtreeFlags|=C,h.childLanes=A,p}function m3(h,p,A){var C=p.pendingProps;switch(Ha(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(p),null;case 1:return xr(p.type)&&hu(),Jr(p),null;case 3:return C=p.stateNode,Eo(),si(Ir),si(ir),da(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(h===null||h.child===null)&&(rc(p)?p.flags|=4:h===null||h.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,Is!==null&&(Qy(Is),Is=null))),Hy(h,p),Jr(p),null;case 5:lc(p);var L=Ii(Wa.current);if(A=p.type,h!==null&&p.stateNode!=null)b_(h,p,A,C,L),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!C){if(p.stateNode===null)throw Error(t(166));return Jr(p),null}if(h=Ii(us.current),rc(p)){C=p.stateNode,A=p.type;var N=p.memoizedProps;switch(C[Oi]=p,C[ic]=N,h=(p.mode&1)!==0,A){case"dialog":ri("cancel",C),ri("close",C);break;case"iframe":case"object":case"embed":ri("load",C);break;case"video":case"audio":for(L=0;L<So.length;L++)ri(So[L],C);break;case"source":ri("error",C);break;case"img":case"image":case"link":ri("error",C),ri("load",C);break;case"details":ri("toggle",C);break;case"input":Bt(C,N),ri("invalid",C);break;case"select":C._wrapperState={wasMultiple:!!N.multiple},ri("invalid",C);break;case"textarea":Me(C,N),ri("invalid",C)}on(A,N),L=null;for(var W in N)if(N.hasOwnProperty(W)){var ce=N[W];W==="children"?typeof ce=="string"?C.textContent!==ce&&(N.suppressHydrationWarning!==!0&&cu(C.textContent,ce,h),L=["children",ce]):typeof ce=="number"&&C.textContent!==""+ce&&(N.suppressHydrationWarning!==!0&&cu(C.textContent,ce,h),L=["children",""+ce]):i.hasOwnProperty(W)&&ce!=null&&W==="onScroll"&&ri("scroll",C)}switch(A){case"input":kt(C),ot(C,N,!0);break;case"textarea":kt(C),Je(C);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(C.onclick=uu)}C=L,p.updateQueue=C,C!==null&&(p.flags|=4)}else{W=L.nodeType===9?L:L.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=Ve(A)),h==="http://www.w3.org/1999/xhtml"?A==="script"?(h=W.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof C.is=="string"?h=W.createElement(A,{is:C.is}):(h=W.createElement(A),A==="select"&&(W=h,C.multiple?W.multiple=!0:C.size&&(W.size=C.size))):h=W.createElementNS(h,A),h[Oi]=p,h[ic]=C,y_(h,p,!1,!1),p.stateNode=h;e:{switch(W=Xt(A,C),A){case"dialog":ri("cancel",h),ri("close",h),L=C;break;case"iframe":case"object":case"embed":ri("load",h),L=C;break;case"video":case"audio":for(L=0;L<So.length;L++)ri(So[L],h);L=C;break;case"source":ri("error",h),L=C;break;case"img":case"image":case"link":ri("error",h),ri("load",h),L=C;break;case"details":ri("toggle",h),L=C;break;case"input":Bt(h,C),L=ne(h,C),ri("invalid",h);break;case"option":L=C;break;case"select":h._wrapperState={wasMultiple:!!C.multiple},L=Z({},C,{value:void 0}),ri("invalid",h);break;case"textarea":Me(h,C),L=J(h,C),ri("invalid",h);break;default:L=C}on(A,L),ce=L;for(N in ce)if(ce.hasOwnProperty(N)){var me=ce[N];N==="style"?Nt(h,me):N==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&bt(h,me)):N==="children"?typeof me=="string"?(A!=="textarea"||me!=="")&&un(h,me):typeof me=="number"&&un(h,""+me):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(i.hasOwnProperty(N)?me!=null&&N==="onScroll"&&ri("scroll",h):me!=null&&M(h,N,me,W))}switch(A){case"input":kt(h),ot(h,C,!1);break;case"textarea":kt(h),Je(h);break;case"option":C.value!=null&&h.setAttribute("value",""+He(C.value));break;case"select":h.multiple=!!C.multiple,N=C.value,N!=null?te(h,!!C.multiple,N,!1):C.defaultValue!=null&&te(h,!!C.multiple,C.defaultValue,!0);break;default:typeof L.onClick=="function"&&(h.onclick=uu)}switch(A){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}}C&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Jr(p),null;case 6:if(h&&p.stateNode!=null)w_(h,p,h.memoizedProps,C);else{if(typeof C!="string"&&p.stateNode===null)throw Error(t(166));if(A=Ii(Wa.current),Ii(us.current),rc(p)){if(C=p.stateNode,A=p.memoizedProps,C[Oi]=p,(N=C.nodeValue!==A)&&(h=rr,h!==null))switch(h.tag){case 3:cu(C.nodeValue,A,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&cu(C.nodeValue,A,(h.mode&1)!==0)}N&&(p.flags|=4)}else C=(A.nodeType===9?A:A.ownerDocument).createTextNode(C),C[Oi]=p,p.stateNode=C}return Jr(p),null;case 13:if(si(ui),C=p.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(ci&&kr!==null&&p.mode&1&&!(p.flags&128))Ep(),Mo(),p.flags|=98560,N=!1;else if(N=rc(p),C!==null&&C.dehydrated!==null){if(h===null){if(!N)throw Error(t(318));if(N=p.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(t(317));N[Oi]=p}else Mo(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;Jr(p),N=!1}else Is!==null&&(Qy(Is),Is=null),N=!0;if(!N)return p.flags&65536?p:null}return p.flags&128?(p.lanes=A,p):(C=C!==null,C!==(h!==null&&h.memoizedState!==null)&&C&&(p.child.flags|=8192,p.mode&1&&(h===null||ui.current&1?lr===0&&(lr=3):tb())),p.updateQueue!==null&&(p.flags|=4),Jr(p),null);case 4:return Eo(),Hy(h,p),h===null&&ec(p.stateNode.containerInfo),Jr(p),null;case 10:return vu(p.type._context),Jr(p),null;case 17:return xr(p.type)&&hu(),Jr(p),null;case 19:if(si(ui),N=p.memoizedState,N===null)return Jr(p),null;if(C=(p.flags&128)!==0,W=N.rendering,W===null)if(C)zp(N,!1);else{if(lr!==0||h!==null&&h.flags&128)for(h=p.child;h!==null;){if(W=js(h),W!==null){for(p.flags|=128,zp(N,!1),C=W.updateQueue,C!==null&&(p.updateQueue=C,p.flags|=4),p.subtreeFlags=0,C=A,A=p.child;A!==null;)N=A,h=C,N.flags&=14680066,W=N.alternate,W===null?(N.childLanes=0,N.lanes=h,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=W.childLanes,N.lanes=W.lanes,N.child=W.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=W.memoizedProps,N.memoizedState=W.memoizedState,N.updateQueue=W.updateQueue,N.type=W.type,h=W.dependencies,N.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),A=A.sibling;return $n(ui,ui.current&1|2),p.child}h=h.sibling}N.tail!==null&&le()>Bd&&(p.flags|=128,C=!0,zp(N,!1),p.lanes=4194304)}else{if(!C)if(h=js(W),h!==null){if(p.flags|=128,C=!0,A=h.updateQueue,A!==null&&(p.updateQueue=A,p.flags|=4),zp(N,!0),N.tail===null&&N.tailMode==="hidden"&&!W.alternate&&!ci)return Jr(p),null}else 2*le()-N.renderingStartTime>Bd&&A!==1073741824&&(p.flags|=128,C=!0,zp(N,!1),p.lanes=4194304);N.isBackwards?(W.sibling=p.child,p.child=W):(A=N.last,A!==null?A.sibling=W:p.child=W,N.last=W)}return N.tail!==null?(p=N.tail,N.rendering=p,N.tail=p.sibling,N.renderingStartTime=le(),p.sibling=null,A=ui.current,$n(ui,C?A&1|2:A&1),p):(Jr(p),null);case 22:case 23:return eb(),C=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==C&&(p.flags|=8192),C&&p.mode&1?Zs&1073741824&&(Jr(p),p.subtreeFlags&6&&(p.flags|=8192)):Jr(p),null;case 24:return null;case 25:return null}throw Error(t(156,p.tag))}function g3(h,p){switch(Ha(p),p.tag){case 1:return xr(p.type)&&hu(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return Eo(),si(Ir),si(ir),da(),h=p.flags,h&65536&&!(h&128)?(p.flags=h&-65537|128,p):null;case 5:return lc(p),null;case 13:if(si(ui),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(t(340));Mo()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return si(ui),null;case 4:return Eo(),null;case 10:return vu(p.type._context),null;case 22:case 23:return eb(),null;case 24:return null;default:return null}}var ux=!1,Kr=!1,x3=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function kd(h,p){var A=h.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(C){ki(h,p,C)}else A.current=null}function Gy(h,p,A){try{A()}catch(C){ki(h,p,C)}}var A_=!1;function v3(h,p){if(nc=Ss,h=xi(),Wi(h)){if("selectionStart"in h)var A={start:h.selectionStart,end:h.selectionEnd};else e:{A=(A=h.ownerDocument)&&A.defaultView||window;var C=A.getSelection&&A.getSelection();if(C&&C.rangeCount!==0){A=C.anchorNode;var L=C.anchorOffset,N=C.focusNode;C=C.focusOffset;try{A.nodeType,N.nodeType}catch{A=null;break e}var W=0,ce=-1,me=-1,ke=0,et=0,rt=h,Qe=null;t:for(;;){for(var It;rt!==A||L!==0&&rt.nodeType!==3||(ce=W+L),rt!==N||C!==0&&rt.nodeType!==3||(me=W+C),rt.nodeType===3&&(W+=rt.nodeValue.length),(It=rt.firstChild)!==null;)Qe=rt,rt=It;for(;;){if(rt===h)break t;if(Qe===A&&++ke===L&&(ce=W),Qe===N&&++et===C&&(me=W),(It=rt.nextSibling)!==null)break;rt=Qe,Qe=rt.parentNode}rt=It}A=ce===-1||me===-1?null:{start:ce,end:me}}else A=null}A=A||{start:0,end:0}}else A=null;for(mp={focusedElem:h,selectionRange:A},Ss=!1,Ft=p;Ft!==null;)if(p=Ft,h=p.child,(p.subtreeFlags&1028)!==0&&h!==null)h.return=p,Ft=h;else for(;Ft!==null;){p=Ft;try{var Ut=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Ut!==null){var zt=Ut.memoizedProps,Ui=Ut.memoizedState,_e=p.stateNode,ve=_e.getSnapshotBeforeUpdate(p.elementType===p.type?zt:Ps(p.type,zt),Ui);_e.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var Te=p.stateNode.containerInfo;Te.nodeType===1?Te.textContent="":Te.nodeType===9&&Te.documentElement&&Te.removeChild(Te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ct){ki(p,p.return,ct)}if(h=p.sibling,h!==null){h.return=p.return,Ft=h;break}Ft=p.return}return Ut=A_,A_=!1,Ut}function Hp(h,p,A){var C=p.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var L=C=C.next;do{if((L.tag&h)===h){var N=L.destroy;L.destroy=void 0,N!==void 0&&Gy(p,A,N)}L=L.next}while(L!==C)}}function hx(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var A=p=p.next;do{if((A.tag&h)===h){var C=A.create;A.destroy=C()}A=A.next}while(A!==p)}}function Vy(h){var p=h.ref;if(p!==null){var A=h.stateNode;switch(h.tag){case 5:h=A;break;default:h=A}typeof p=="function"?p(h):p.current=h}}function S_(h){var p=h.alternate;p!==null&&(h.alternate=null,S_(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&(delete p[Oi],delete p[ic],delete p[sl],delete p[md],delete p[gd])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function __(h){return h.tag===5||h.tag===3||h.tag===4}function M_(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||__(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Wy(h,p,A){var C=h.tag;if(C===5||C===6)h=h.stateNode,p?A.nodeType===8?A.parentNode.insertBefore(h,p):A.insertBefore(h,p):(A.nodeType===8?(p=A.parentNode,p.insertBefore(h,A)):(p=A,p.appendChild(h)),A=A._reactRootContainer,A!=null||p.onclick!==null||(p.onclick=uu));else if(C!==4&&(h=h.child,h!==null))for(Wy(h,p,A),h=h.sibling;h!==null;)Wy(h,p,A),h=h.sibling}function Xy(h,p,A){var C=h.tag;if(C===5||C===6)h=h.stateNode,p?A.insertBefore(h,p):A.appendChild(h);else if(C!==4&&(h=h.child,h!==null))for(Xy(h,p,A),h=h.sibling;h!==null;)Xy(h,p,A),h=h.sibling}var Br=null,Ka=!1;function hc(h,p,A){for(A=A.child;A!==null;)C_(h,p,A),A=A.sibling}function C_(h,p,A){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(ht,A)}catch{}switch(A.tag){case 5:Kr||kd(A,p);case 6:var C=Br,L=Ka;Br=null,hc(h,p,A),Br=C,Ka=L,Br!==null&&(Ka?(h=Br,A=A.stateNode,h.nodeType===8?h.parentNode.removeChild(A):h.removeChild(A)):Br.removeChild(A.stateNode));break;case 18:Br!==null&&(Ka?(h=Br,A=A.stateNode,h.nodeType===8?pd(h.parentNode,A):h.nodeType===1&&pd(h,A),Qc(h)):pd(Br,A.stateNode));break;case 4:C=Br,L=Ka,Br=A.stateNode.containerInfo,Ka=!0,hc(h,p,A),Br=C,Ka=L;break;case 0:case 11:case 14:case 15:if(!Kr&&(C=A.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){L=C=C.next;do{var N=L,W=N.destroy;N=N.tag,W!==void 0&&(N&2||N&4)&&Gy(A,p,W),L=L.next}while(L!==C)}hc(h,p,A);break;case 1:if(!Kr&&(kd(A,p),C=A.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=A.memoizedProps,C.state=A.memoizedState,C.componentWillUnmount()}catch(ce){ki(A,p,ce)}hc(h,p,A);break;case 21:hc(h,p,A);break;case 22:A.mode&1?(Kr=(C=Kr)||A.memoizedState!==null,hc(h,p,A),Kr=C):hc(h,p,A);break;default:hc(h,p,A)}}function E_(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var A=h.stateNode;A===null&&(A=h.stateNode=new x3),p.forEach(function(C){var L=E3.bind(null,h,C);A.has(C)||(A.add(C),C.then(L,L))})}}function Za(h,p){var A=p.deletions;if(A!==null)for(var C=0;C<A.length;C++){var L=A[C];try{var N=h,W=p,ce=W;e:for(;ce!==null;){switch(ce.tag){case 5:Br=ce.stateNode,Ka=!1;break e;case 3:Br=ce.stateNode.containerInfo,Ka=!0;break e;case 4:Br=ce.stateNode.containerInfo,Ka=!0;break e}ce=ce.return}if(Br===null)throw Error(t(160));C_(N,W,L),Br=null,Ka=!1;var me=L.alternate;me!==null&&(me.return=null),L.return=null}catch(ke){ki(L,p,ke)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)T_(p,h),p=p.sibling}function T_(h,p){var A=h.alternate,C=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Za(p,h),Ro(h),C&4){try{Hp(3,h,h.return),hx(3,h)}catch(zt){ki(h,h.return,zt)}try{Hp(5,h,h.return)}catch(zt){ki(h,h.return,zt)}}break;case 1:Za(p,h),Ro(h),C&512&&A!==null&&kd(A,A.return);break;case 5:if(Za(p,h),Ro(h),C&512&&A!==null&&kd(A,A.return),h.flags&32){var L=h.stateNode;try{un(L,"")}catch(zt){ki(h,h.return,zt)}}if(C&4&&(L=h.stateNode,L!=null)){var N=h.memoizedProps,W=A!==null?A.memoizedProps:N,ce=h.type,me=h.updateQueue;if(h.updateQueue=null,me!==null)try{ce==="input"&&N.type==="radio"&&N.name!=null&&nt(L,N),Xt(ce,W);var ke=Xt(ce,N);for(W=0;W<me.length;W+=2){var et=me[W],rt=me[W+1];et==="style"?Nt(L,rt):et==="dangerouslySetInnerHTML"?bt(L,rt):et==="children"?un(L,rt):M(L,et,rt,ke)}switch(ce){case"input":Ct(L,N);break;case"textarea":Ge(L,N);break;case"select":var Qe=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!N.multiple;var It=N.value;It!=null?te(L,!!N.multiple,It,!1):Qe!==!!N.multiple&&(N.defaultValue!=null?te(L,!!N.multiple,N.defaultValue,!0):te(L,!!N.multiple,N.multiple?[]:"",!1))}L[ic]=N}catch(zt){ki(h,h.return,zt)}}break;case 6:if(Za(p,h),Ro(h),C&4){if(h.stateNode===null)throw Error(t(162));L=h.stateNode,N=h.memoizedProps;try{L.nodeValue=N}catch(zt){ki(h,h.return,zt)}}break;case 3:if(Za(p,h),Ro(h),C&4&&A!==null&&A.memoizedState.isDehydrated)try{Qc(p.containerInfo)}catch(zt){ki(h,h.return,zt)}break;case 4:Za(p,h),Ro(h);break;case 13:Za(p,h),Ro(h),L=h.child,L.flags&8192&&(N=L.memoizedState!==null,L.stateNode.isHidden=N,!N||L.alternate!==null&&L.alternate.memoizedState!==null||(Jy=le())),C&4&&E_(h);break;case 22:if(et=A!==null&&A.memoizedState!==null,h.mode&1?(Kr=(ke=Kr)||et,Za(p,h),Kr=ke):Za(p,h),Ro(h),C&8192){if(ke=h.memoizedState!==null,(h.stateNode.isHidden=ke)&&!et&&h.mode&1)for(Ft=h,et=h.child;et!==null;){for(rt=Ft=et;Ft!==null;){switch(Qe=Ft,It=Qe.child,Qe.tag){case 0:case 11:case 14:case 15:Hp(4,Qe,Qe.return);break;case 1:kd(Qe,Qe.return);var Ut=Qe.stateNode;if(typeof Ut.componentWillUnmount=="function"){C=Qe,A=Qe.return;try{p=C,Ut.props=p.memoizedProps,Ut.state=p.memoizedState,Ut.componentWillUnmount()}catch(zt){ki(C,A,zt)}}break;case 5:kd(Qe,Qe.return);break;case 22:if(Qe.memoizedState!==null){P_(rt);continue}}It!==null?(It.return=Qe,Ft=It):P_(rt)}et=et.sibling}e:for(et=null,rt=h;;){if(rt.tag===5){if(et===null){et=rt;try{L=rt.stateNode,ke?(N=L.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(ce=rt.stateNode,me=rt.memoizedProps.style,W=me!=null&&me.hasOwnProperty("display")?me.display:null,ce.style.display=Wt("display",W))}catch(zt){ki(h,h.return,zt)}}}else if(rt.tag===6){if(et===null)try{rt.stateNode.nodeValue=ke?"":rt.memoizedProps}catch(zt){ki(h,h.return,zt)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===h)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===h)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===h)break e;et===rt&&(et=null),rt=rt.return}et===rt&&(et=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:Za(p,h),Ro(h),C&4&&E_(h);break;case 21:break;default:Za(p,h),Ro(h)}}function Ro(h){var p=h.flags;if(p&2){try{e:{for(var A=h.return;A!==null;){if(__(A)){var C=A;break e}A=A.return}throw Error(t(160))}switch(C.tag){case 5:var L=C.stateNode;C.flags&32&&(un(L,""),C.flags&=-33);var N=M_(h);Xy(h,N,L);break;case 3:case 4:var W=C.stateNode.containerInfo,ce=M_(h);Wy(h,ce,W);break;default:throw Error(t(161))}}catch(me){ki(h,h.return,me)}h.flags&=-3}p&4096&&(h.flags&=-4097)}function y3(h,p,A){Ft=h,R_(h)}function R_(h,p,A){for(var C=(h.mode&1)!==0;Ft!==null;){var L=Ft,N=L.child;if(L.tag===22&&C){var W=L.memoizedState!==null||ux;if(!W){var ce=L.alternate,me=ce!==null&&ce.memoizedState!==null||Kr;ce=ux;var ke=Kr;if(ux=W,(Kr=me)&&!ke)for(Ft=L;Ft!==null;)W=Ft,me=W.child,W.tag===22&&W.memoizedState!==null?k_(L):me!==null?(me.return=W,Ft=me):k_(L);for(;N!==null;)Ft=N,R_(N),N=N.sibling;Ft=L,ux=ce,Kr=ke}I_(h)}else L.subtreeFlags&8772&&N!==null?(N.return=L,Ft=N):I_(h)}}function I_(h){for(;Ft!==null;){var p=Ft;if(p.flags&8772){var A=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:Kr||hx(5,p);break;case 1:var C=p.stateNode;if(p.flags&4&&!Kr)if(A===null)C.componentDidMount();else{var L=p.elementType===p.type?A.memoizedProps:Ps(p.type,A.memoizedProps);C.componentDidUpdate(L,A.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var N=p.updateQueue;N!==null&&oc(p,N,C);break;case 3:var W=p.updateQueue;if(W!==null){if(A=null,p.child!==null)switch(p.child.tag){case 5:A=p.child.stateNode;break;case 1:A=p.child.stateNode}oc(p,W,A)}break;case 5:var ce=p.stateNode;if(A===null&&p.flags&4){A=ce;var me=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&A.focus();break;case"img":me.src&&(A.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var ke=p.alternate;if(ke!==null){var et=ke.memoizedState;if(et!==null){var rt=et.dehydrated;rt!==null&&Qc(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Kr||p.flags&512&&Vy(p)}catch(Qe){ki(p,p.return,Qe)}}if(p===h){Ft=null;break}if(A=p.sibling,A!==null){A.return=p.return,Ft=A;break}Ft=p.return}}function P_(h){for(;Ft!==null;){var p=Ft;if(p===h){Ft=null;break}var A=p.sibling;if(A!==null){A.return=p.return,Ft=A;break}Ft=p.return}}function k_(h){for(;Ft!==null;){var p=Ft;try{switch(p.tag){case 0:case 11:case 15:var A=p.return;try{hx(4,p)}catch(me){ki(p,A,me)}break;case 1:var C=p.stateNode;if(typeof C.componentDidMount=="function"){var L=p.return;try{C.componentDidMount()}catch(me){ki(p,L,me)}}var N=p.return;try{Vy(p)}catch(me){ki(p,N,me)}break;case 5:var W=p.return;try{Vy(p)}catch(me){ki(p,W,me)}}}catch(me){ki(p,p.return,me)}if(p===h){Ft=null;break}var ce=p.sibling;if(ce!==null){ce.return=p.return,Ft=ce;break}Ft=p.return}}var b3=Math.ceil,dx=E.ReactCurrentDispatcher,Yy=E.ReactCurrentOwner,pa=E.ReactCurrentBatchConfig,Hn=0,br=null,Ki=null,Dr=0,Zs=0,Ld=wi(0),lr=0,Gp=null,Ru=0,fx=0,jy=0,Vp=null,ks=null,Jy=0,Bd=1/0,wl=null,px=!1,Ky=null,dc=null,mx=!1,fc=null,gx=0,Wp=0,Zy=null,xx=-1,vx=0;function ps(){return Hn&6?le():xx!==-1?xx:xx=le()}function pc(h){return h.mode&1?Hn&2&&Dr!==0?Dr&-Dr:Oy.transition!==null?(vx===0&&(vx=Qt()),vx):(h=Rn,h!==0||(h=window.event,h=h===void 0?16:Ng(h.type)),h):1}function qa(h,p,A,C){if(50<Wp)throw Wp=0,Zy=null,Error(t(185));Dn(h,A,C),(!(Hn&2)||h!==br)&&(h===br&&(!(Hn&2)&&(fx|=A),lr===4&&mc(h,Dr)),Ls(h,C),A===1&&Hn===0&&!(p.mode&1)&&(Bd=le()+500,fu&&ua()))}function Ls(h,p){var A=h.callbackNode;pn(h,p);var C=ln(h,h===br?Dr:0);if(C===0)A!==null&&G(A),h.callbackNode=null,h.callbackPriority=0;else if(p=C&-C,h.callbackPriority!==p){if(A!=null&&G(A),p===1)h.tag===0?qg(B_.bind(null,h)):pu(B_.bind(null,h)),Ny(function(){!(Hn&6)&&ua()}),A=null;else{switch(Gr(C)){case 1:A=Ee;break;case 4:A=Ue;break;case 16:A=Xe;break;case 536870912:A=mt;break;default:A=Xe}A=G_(A,L_.bind(null,h))}h.callbackPriority=p,h.callbackNode=A}}function L_(h,p){if(xx=-1,vx=0,Hn&6)throw Error(t(327));var A=h.callbackNode;if(Dd()&&h.callbackNode!==A)return null;var C=ln(h,h===br?Dr:0);if(C===0)return null;if(C&30||C&h.expiredLanes||p)p=yx(h,C);else{p=C;var L=Hn;Hn|=2;var N=F_();(br!==h||Dr!==p)&&(wl=null,Bd=le()+500,Pu(h,p));do try{S3();break}catch(ce){D_(h,ce)}while(!0);fl(),dx.current=N,Hn=L,Ki!==null?p=0:(br=null,Dr=0,p=lr)}if(p!==0){if(p===2&&(L=An(h),L!==0&&(C=L,p=qy(h,L))),p===1)throw A=Gp,Pu(h,0),mc(h,C),Ls(h,le()),A;if(p===6)mc(h,C);else{if(L=h.current.alternate,!(C&30)&&!w3(L)&&(p=yx(h,C),p===2&&(N=An(h),N!==0&&(C=N,p=qy(h,N))),p===1))throw A=Gp,Pu(h,0),mc(h,C),Ls(h,le()),A;switch(h.finishedWork=L,h.finishedLanes=C,p){case 0:case 1:throw Error(t(345));case 2:ku(h,ks,wl);break;case 3:if(mc(h,C),(C&130023424)===C&&(p=Jy+500-le(),10<p)){if(ln(h,0)!==0)break;if(L=h.suspendedLanes,(L&C)!==C){ps(),h.pingedLanes|=h.suspendedLanes&L;break}h.timeoutHandle=xp(ku.bind(null,h,ks,wl),p);break}ku(h,ks,wl);break;case 4:if(mc(h,C),(C&4194240)===C)break;for(p=h.eventTimes,L=-1;0<C;){var W=31-yt(C);N=1<<W,W=p[W],W>L&&(L=W),C&=~N}if(C=L,C=le()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*b3(C/1960))-C,10<C){h.timeoutHandle=xp(ku.bind(null,h,ks,wl),C);break}ku(h,ks,wl);break;case 5:ku(h,ks,wl);break;default:throw Error(t(329))}}}return Ls(h,le()),h.callbackNode===A?L_.bind(null,h):null}function qy(h,p){var A=Vp;return h.current.memoizedState.isDehydrated&&(Pu(h,p).flags|=256),h=yx(h,p),h!==2&&(p=ks,ks=A,p!==null&&Qy(p)),h}function Qy(h){ks===null?ks=h:ks.push.apply(ks,h)}function w3(h){for(var p=h;;){if(p.flags&16384){var A=p.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var C=0;C<A.length;C++){var L=A[C],N=L.getSnapshot;L=L.value;try{if(!as(N(),L))return!1}catch{return!1}}}if(A=p.child,p.subtreeFlags&16384&&A!==null)A.return=p,p=A;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function mc(h,p){for(p&=~jy,p&=~fx,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var A=31-yt(p),C=1<<A;h[A]=-1,p&=~C}}function B_(h){if(Hn&6)throw Error(t(327));Dd();var p=ln(h,0);if(!(p&1))return Ls(h,le()),null;var A=yx(h,p);if(h.tag!==0&&A===2){var C=An(h);C!==0&&(p=C,A=qy(h,C))}if(A===1)throw A=Gp,Pu(h,0),mc(h,p),Ls(h,le()),A;if(A===6)throw Error(t(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,ku(h,ks,wl),Ls(h,le()),null}function $y(h,p){var A=Hn;Hn|=1;try{return h(p)}finally{Hn=A,Hn===0&&(Bd=le()+500,fu&&ua())}}function Iu(h){fc!==null&&fc.tag===0&&!(Hn&6)&&Dd();var p=Hn;Hn|=1;var A=pa.transition,C=Rn;try{if(pa.transition=null,Rn=1,h)return h()}finally{Rn=C,pa.transition=A,Hn=p,!(Hn&6)&&ua()}}function eb(){Zs=Ld.current,si(Ld)}function Pu(h,p){h.finishedWork=null,h.finishedLanes=0;var A=h.timeoutHandle;if(A!==-1&&(h.timeoutHandle=-1,vp(A)),Ki!==null)for(A=Ki.return;A!==null;){var C=A;switch(Ha(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&hu();break;case 3:Eo(),si(Ir),si(ir),da();break;case 5:lc(C);break;case 4:Eo();break;case 13:si(ui);break;case 19:si(ui);break;case 10:vu(C.type._context);break;case 22:case 23:eb()}A=A.return}if(br=h,Ki=h=gc(h.current,null),Dr=Zs=p,lr=0,Gp=null,jy=fx=Ru=0,ks=Vp=null,Va!==null){for(p=0;p<Va.length;p++)if(A=Va[p],C=A.interleaved,C!==null){A.interleaved=null;var L=C.next,N=A.pending;if(N!==null){var W=N.next;N.next=L,C.next=W}A.pending=C}Va=null}return h}function D_(h,p){do{var A=Ki;try{if(fl(),xl.current=Id,Js){for(var C=ai.memoizedState;C!==null;){var L=C.queue;L!==null&&(L.pending=null),C=C.next}Js=!1}if(Xa=0,Fn=Si=ai=null,yr=!1,To=0,Yy.current=null,A===null||A.return===null){lr=1,Gp=p,Ki=null;break}e:{var N=h,W=A.return,ce=A,me=p;if(p=Dr,ce.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var ke=me,et=ce,rt=et.tag;if(!(et.mode&1)&&(rt===0||rt===11||rt===15)){var Qe=et.alternate;Qe?(et.updateQueue=Qe.updateQueue,et.memoizedState=Qe.memoizedState,et.lanes=Qe.lanes):(et.updateQueue=null,et.memoizedState=null)}var It=Lt(W);if(It!==null){It.flags&=-257,dn(It,W,ce,N,p),It.mode&1&&at(N,ke,p),p=It,me=ke;var Ut=p.updateQueue;if(Ut===null){var zt=new Set;zt.add(me),p.updateQueue=zt}else Ut.add(me);break e}else{if(!(p&1)){at(N,ke,p),tb();break e}me=Error(t(426))}}else if(ci&&ce.mode&1){var Ui=Lt(W);if(Ui!==null){!(Ui.flags&65536)&&(Ui.flags|=256),dn(Ui,W,ce,N,p),sc(I(me,ce));break e}}N=me=I(me,ce),lr!==4&&(lr=2),Vp===null?Vp=[N]:Vp.push(N),N=W;do{switch(N.tag){case 3:N.flags|=65536,p&=-p,N.lanes|=p;var _e=be(N,me,p);pl(N,_e);break e;case 1:ce=me;var ve=N.type,Te=N.stateNode;if(!(N.flags&128)&&(typeof ve.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(dc===null||!dc.has(Te)))){N.flags|=65536,p&=-p,N.lanes|=p;var ct=ze(N,ce,p);pl(N,ct);break e}}N=N.return}while(N!==null)}O_(A)}catch(Yt){p=Yt,Ki===A&&A!==null&&(Ki=A=A.return);continue}break}while(!0)}function F_(){var h=dx.current;return dx.current=Id,h===null?Id:h}function tb(){(lr===0||lr===3||lr===2)&&(lr=4),br===null||!(Ru&268435455)&&!(fx&268435455)||mc(br,Dr)}function yx(h,p){var A=Hn;Hn|=2;var C=F_();(br!==h||Dr!==p)&&(wl=null,Pu(h,p));do try{A3();break}catch(L){D_(h,L)}while(!0);if(fl(),Hn=A,dx.current=C,Ki!==null)throw Error(t(261));return br=null,Dr=0,lr}function A3(){for(;Ki!==null;)N_(Ki)}function S3(){for(;Ki!==null&&!se();)N_(Ki)}function N_(h){var p=H_(h.alternate,h,Zs);h.memoizedProps=h.pendingProps,p===null?O_(h):Ki=p,Yy.current=null}function O_(h){var p=h;do{var A=p.alternate;if(h=p.return,p.flags&32768){if(A=g3(A,p),A!==null){A.flags&=32767,Ki=A;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{lr=6,Ki=null;return}}else if(A=m3(A,p,Zs),A!==null){Ki=A;return}if(p=p.sibling,p!==null){Ki=p;return}Ki=p=h}while(p!==null);lr===0&&(lr=5)}function ku(h,p,A){var C=Rn,L=pa.transition;try{pa.transition=null,Rn=1,_3(h,p,A,C)}finally{pa.transition=L,Rn=C}return null}function _3(h,p,A,C){do Dd();while(fc!==null);if(Hn&6)throw Error(t(327));A=h.finishedWork;var L=h.finishedLanes;if(A===null)return null;if(h.finishedWork=null,h.finishedLanes=0,A===h.current)throw Error(t(177));h.callbackNode=null,h.callbackPriority=0;var N=A.lanes|A.childLanes;if(ii(h,N),h===br&&(Ki=br=null,Dr=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||mx||(mx=!0,G_(Xe,function(){return Dd(),null})),N=(A.flags&15990)!==0,A.subtreeFlags&15990||N){N=pa.transition,pa.transition=null;var W=Rn;Rn=1;var ce=Hn;Hn|=4,Yy.current=null,v3(h,A),T_(A,h),Xi(mp),Ss=!!nc,mp=nc=null,h.current=A,y3(A),he(),Hn=ce,Rn=W,pa.transition=N}else h.current=A;if(mx&&(mx=!1,fc=h,gx=L),N=h.pendingLanes,N===0&&(dc=null),vt(A.stateNode),Ls(h,le()),p!==null)for(C=h.onRecoverableError,A=0;A<p.length;A++)L=p[A],C(L.value,{componentStack:L.stack,digest:L.digest});if(px)throw px=!1,h=Ky,Ky=null,h;return gx&1&&h.tag!==0&&Dd(),N=h.pendingLanes,N&1?h===Zy?Wp++:(Wp=0,Zy=h):Wp=0,ua(),null}function Dd(){if(fc!==null){var h=Gr(gx),p=pa.transition,A=Rn;try{if(pa.transition=null,Rn=16>h?16:h,fc===null)var C=!1;else{if(h=fc,fc=null,gx=0,Hn&6)throw Error(t(331));var L=Hn;for(Hn|=4,Ft=h.current;Ft!==null;){var N=Ft,W=N.child;if(Ft.flags&16){var ce=N.deletions;if(ce!==null){for(var me=0;me<ce.length;me++){var ke=ce[me];for(Ft=ke;Ft!==null;){var et=Ft;switch(et.tag){case 0:case 11:case 15:Hp(8,et,N)}var rt=et.child;if(rt!==null)rt.return=et,Ft=rt;else for(;Ft!==null;){et=Ft;var Qe=et.sibling,It=et.return;if(S_(et),et===ke){Ft=null;break}if(Qe!==null){Qe.return=It,Ft=Qe;break}Ft=It}}}var Ut=N.alternate;if(Ut!==null){var zt=Ut.child;if(zt!==null){Ut.child=null;do{var Ui=zt.sibling;zt.sibling=null,zt=Ui}while(zt!==null)}}Ft=N}}if(N.subtreeFlags&2064&&W!==null)W.return=N,Ft=W;else e:for(;Ft!==null;){if(N=Ft,N.flags&2048)switch(N.tag){case 0:case 11:case 15:Hp(9,N,N.return)}var _e=N.sibling;if(_e!==null){_e.return=N.return,Ft=_e;break e}Ft=N.return}}var ve=h.current;for(Ft=ve;Ft!==null;){W=Ft;var Te=W.child;if(W.subtreeFlags&2064&&Te!==null)Te.return=W,Ft=Te;else e:for(W=ve;Ft!==null;){if(ce=Ft,ce.flags&2048)try{switch(ce.tag){case 0:case 11:case 15:hx(9,ce)}}catch(Yt){ki(ce,ce.return,Yt)}if(ce===W){Ft=null;break e}var ct=ce.sibling;if(ct!==null){ct.return=ce.return,Ft=ct;break e}Ft=ce.return}}if(Hn=L,ua(),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(ht,h)}catch{}C=!0}return C}finally{Rn=A,pa.transition=p}}return!1}function U_(h,p,A){p=I(A,p),p=be(h,p,1),h=fi(h,p,1),p=ps(),h!==null&&(Dn(h,1,p),Ls(h,p))}function ki(h,p,A){if(h.tag===3)U_(h,h,A);else for(;p!==null;){if(p.tag===3){U_(p,h,A);break}else if(p.tag===1){var C=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(dc===null||!dc.has(C))){h=I(A,h),h=ze(p,h,1),p=fi(p,h,1),h=ps(),p!==null&&(Dn(p,1,h),Ls(p,h));break}}p=p.return}}function M3(h,p,A){var C=h.pingCache;C!==null&&C.delete(p),p=ps(),h.pingedLanes|=h.suspendedLanes&A,br===h&&(Dr&A)===A&&(lr===4||lr===3&&(Dr&130023424)===Dr&&500>le()-Jy?Pu(h,0):jy|=A),Ls(h,p)}function z_(h,p){p===0&&(h.mode&1?(p=vn,vn<<=1,!(vn&130023424)&&(vn=4194304)):p=1);var A=ps();h=Ys(h,p),h!==null&&(Dn(h,p,A),Ls(h,A))}function C3(h){var p=h.memoizedState,A=0;p!==null&&(A=p.retryLane),z_(h,A)}function E3(h,p){var A=0;switch(h.tag){case 13:var C=h.stateNode,L=h.memoizedState;L!==null&&(A=L.retryLane);break;case 19:C=h.stateNode;break;default:throw Error(t(314))}C!==null&&C.delete(p),z_(h,A)}var H_;H_=function(h,p,A){if(h!==null)if(h.memoizedProps!==p.pendingProps||Ir.current)Sn=!0;else{if(!(h.lanes&A)&&!(p.flags&128))return Sn=!1,p3(h,p,A);Sn=!!(h.flags&131072)}else Sn=!1,ci&&p.flags&1048576&&Sp(p,bd,p.index);switch(p.lanes=0,p.tag){case 2:var C=p.type;cx(h,p),h=p.pendingProps;var L=al(p,ir.current);Co(p,A),L=Su(null,p,C,h,L,A);var N=Pp();return p.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,xr(C)?(N=!0,ol(p)):N=!1,p.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,yn(p),L.updater=Pd,p.stateNode=L,L._reactInternals=p,_(p,C,h,A),p=mn(null,p,C,!0,N,A)):(p.tag=0,ci&&N&&_p(p),Tt(null,p,L,A),p=p.child),p;case 16:C=p.elementType;e:{switch(cx(h,p),h=p.pendingProps,L=C._init,C=L(C._payload),p.type=C,L=p.tag=R3(C),h=Ps(C,h),L){case 0:p=At(null,p,C,h,A);break e;case 1:p=Gt(null,p,C,h,A);break e;case 11:p=or(null,p,C,h,A);break e;case 14:p=fs(null,p,C,Ps(C.type,h),A);break e}throw Error(t(306,C,""))}return p;case 0:return C=p.type,L=p.pendingProps,L=p.elementType===C?L:Ps(C,L),At(h,p,C,L,A);case 1:return C=p.type,L=p.pendingProps,L=p.elementType===C?L:Ps(C,L),Gt(h,p,C,L,A);case 3:e:{if(fn(p),h===null)throw Error(t(387));C=p.pendingProps,N=p.memoizedState,L=N.element,Ci(h,p),Ai(p,C,null,A);var W=p.memoizedState;if(C=W.element,N.isDehydrated)if(N={element:C,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},p.updateQueue.baseState=N,p.memoizedState=N,p.flags&256){L=I(Error(t(423)),p),p=Ln(h,p,C,A,L);break e}else if(C!==L){L=I(Error(t(424)),p),p=Ln(h,p,C,A,L);break e}else for(kr=Fa(p.stateNode.containerInfo.firstChild),rr=p,ci=!0,Is=null,A=xu(p,null,C,A),p.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(Mo(),C===L){p=bl(h,p,A);break e}Tt(h,p,C,A)}p=p.child}return p;case 5:return gl(p),h===null&&Ad(p),C=p.type,L=p.pendingProps,N=h!==null?h.memoizedProps:null,W=L.children,gp(C,L)?W=null:N!==null&&gp(C,N)&&(p.flags|=32),De(h,p),Tt(h,p,W,A),p.child;case 6:return h===null&&Ad(p),null;case 13:return Ja(h,p,A);case 4:return wu(p,p.stateNode.containerInfo),C=p.pendingProps,h===null?p.child=ul(p,null,C,A):Tt(h,p,C,A),p.child;case 11:return C=p.type,L=p.pendingProps,L=p.elementType===C?L:Ps(C,L),or(h,p,C,L,A);case 7:return Tt(h,p,p.pendingProps,A),p.child;case 8:return Tt(h,p,p.pendingProps.children,A),p.child;case 12:return Tt(h,p,p.pendingProps.children,A),p.child;case 10:e:{if(C=p.type._context,L=p.pendingProps,N=p.memoizedProps,W=L.value,$n(hl,C._currentValue),C._currentValue=W,N!==null)if(as(N.value,W)){if(N.children===L.children&&!Ir.current){p=bl(h,p,A);break e}}else for(N=p.child,N!==null&&(N.return=p);N!==null;){var ce=N.dependencies;if(ce!==null){W=N.child;for(var me=ce.firstContext;me!==null;){if(me.context===C){if(N.tag===1){me=Kn(-1,A&-A),me.tag=2;var ke=N.updateQueue;if(ke!==null){ke=ke.shared;var et=ke.pending;et===null?me.next=me:(me.next=et.next,et.next=me),ke.pending=me}}N.lanes|=A,me=N.alternate,me!==null&&(me.lanes|=A),yu(N.return,A,p),ce.lanes|=A;break}me=me.next}}else if(N.tag===10)W=N.type===p.type?null:N.child;else if(N.tag===18){if(W=N.return,W===null)throw Error(t(341));W.lanes|=A,ce=W.alternate,ce!==null&&(ce.lanes|=A),yu(W,A,p),W=N.sibling}else W=N.child;if(W!==null)W.return=N;else for(W=N;W!==null;){if(W===p){W=null;break}if(N=W.sibling,N!==null){N.return=W.return,W=N;break}W=W.return}N=W}Tt(h,p,L.children,A),p=p.child}return p;case 9:return L=p.type,C=p.pendingProps.children,Co(p,A),L=cs(L),C=C(L),p.flags|=1,Tt(h,p,C,A),p.child;case 14:return C=p.type,L=Ps(C,p.pendingProps),L=Ps(C.type,L),fs(h,p,C,L,A);case 15:return Re(h,p,p.type,p.pendingProps,A);case 17:return C=p.type,L=p.pendingProps,L=p.elementType===C?L:Ps(C,L),cx(h,p),p.tag=1,xr(C)?(h=!0,ol(p)):h=!1,Co(p,A),g(p,C,L),_(p,C,L,A),mn(null,p,C,!0,h,A);case 19:return v_(h,p,A);case 22:return we(h,p,A)}throw Error(t(156,p.tag))};function G_(h,p){return $e(h,p)}function T3(h,p,A,C){this.tag=h,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ma(h,p,A,C){return new T3(h,p,A,C)}function nb(h){return h=h.prototype,!(!h||!h.isReactComponent)}function R3(h){if(typeof h=="function")return nb(h)?1:0;if(h!=null){if(h=h.$$typeof,h===V)return 11;if(h===ie)return 14}return 2}function gc(h,p){var A=h.alternate;return A===null?(A=ma(h.tag,p,h.key,h.mode),A.elementType=h.elementType,A.type=h.type,A.stateNode=h.stateNode,A.alternate=h,h.alternate=A):(A.pendingProps=p,A.type=h.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=h.flags&14680064,A.childLanes=h.childLanes,A.lanes=h.lanes,A.child=h.child,A.memoizedProps=h.memoizedProps,A.memoizedState=h.memoizedState,A.updateQueue=h.updateQueue,p=h.dependencies,A.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},A.sibling=h.sibling,A.index=h.index,A.ref=h.ref,A}function bx(h,p,A,C,L,N){var W=2;if(C=h,typeof h=="function")nb(h)&&(W=1);else if(typeof h=="string")W=5;else e:switch(h){case P:return Lu(A.children,L,N,p);case k:W=8,L|=8;break;case B:return h=ma(12,A,p,L|2),h.elementType=B,h.lanes=N,h;case X:return h=ma(13,A,p,L),h.elementType=X,h.lanes=N,h;case K:return h=ma(19,A,p,L),h.elementType=K,h.lanes=N,h;case ae:return wx(A,L,N,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case D:W=10;break e;case O:W=9;break e;case V:W=11;break e;case ie:W=14;break e;case ee:W=16,C=null;break e}throw Error(t(130,h==null?h:typeof h,""))}return p=ma(W,A,p,L),p.elementType=h,p.type=C,p.lanes=N,p}function Lu(h,p,A,C){return h=ma(7,h,C,p),h.lanes=A,h}function wx(h,p,A,C){return h=ma(22,h,C,p),h.elementType=ae,h.lanes=A,h.stateNode={isHidden:!1},h}function ib(h,p,A){return h=ma(6,h,null,p),h.lanes=A,h}function rb(h,p,A){return p=ma(4,h.children!==null?h.children:[],h.key,p),p.lanes=A,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function I3(h,p,A,C,L){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hi(0),this.expirationTimes=hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.identifierPrefix=C,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function sb(h,p,A,C,L,N,W,ce,me){return h=new I3(h,p,A,ce,me),p===1?(p=1,N===!0&&(p|=8)):p=0,N=ma(3,null,null,p),h.current=N,N.stateNode=h,N.memoizedState={element:C,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},yn(N),h}function P3(h,p,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:C==null?null:""+C,children:h,containerInfo:p,implementation:A}}function V_(h){if(!h)return Oa;h=h._reactInternals;e:{if(q(h)!==h||h.tag!==1)throw Error(t(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(xr(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(t(171))}if(h.tag===1){var A=h.type;if(xr(A))return du(h,A,p)}return p}function W_(h,p,A,C,L,N,W,ce,me){return h=sb(A,C,!0,h,L,N,W,ce,me),h.context=V_(null),A=h.current,C=ps(),L=pc(A),N=Kn(C,L),N.callback=p??null,fi(A,N,L),h.current.lanes=L,Dn(h,L,C),Ls(h,C),h}function Ax(h,p,A,C){var L=p.current,N=ps(),W=pc(L);return A=V_(A),p.context===null?p.context=A:p.pendingContext=A,p=Kn(N,W),p.payload={element:h},C=C===void 0?null:C,C!==null&&(p.callback=C),h=fi(L,p,W),h!==null&&(qa(h,L,W,N),vr(h,L,W)),W}function Sx(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function X_(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var A=h.retryLane;h.retryLane=A!==0&&A<p?A:p}}function ab(h,p){X_(h,p),(h=h.alternate)&&X_(h,p)}var Y_=typeof reportError=="function"?reportError:function(h){console.error(h)};function ob(h){this._internalRoot=h}_x.prototype.render=ob.prototype.render=function(h){var p=this._internalRoot;if(p===null)throw Error(t(409));Ax(h,p,null,null)},_x.prototype.unmount=ob.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var p=h.containerInfo;Iu(function(){Ax(null,h,null,null)}),p[ls]=null}};function _x(h){this._internalRoot=h}_x.prototype.unstable_scheduleHydration=function(h){if(h){var p=Uh();h={blockedOn:null,target:h,priority:p};for(var A=0;A<xo.length&&p!==0&&p<xo[A].priority;A++);xo.splice(A,0,h),A===0&&Gh(h)}};function lb(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function Mx(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function j_(){}function k3(h,p,A,C,L){if(L){if(typeof C=="function"){var N=C;C=function(){var ke=Sx(W);N.call(ke)}}var W=W_(p,C,h,0,null,!1,!1,"",j_);return h._reactRootContainer=W,h[ls]=W.current,ec(h.nodeType===8?h.parentNode:h),Iu(),W}for(;L=h.lastChild;)h.removeChild(L);if(typeof C=="function"){var ce=C;C=function(){var ke=Sx(me);ce.call(ke)}}var me=sb(h,0,!1,null,null,!1,!1,"",j_);return h._reactRootContainer=me,h[ls]=me.current,ec(h.nodeType===8?h.parentNode:h),Iu(function(){Ax(p,me,A,C)}),me}function Cx(h,p,A,C,L){var N=A._reactRootContainer;if(N){var W=N;if(typeof L=="function"){var ce=L;L=function(){var me=Sx(W);ce.call(me)}}Ax(p,W,h,L)}else W=k3(A,p,h,L,C);return Sx(W)}Kc=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var A=Zt(p.pendingLanes);A!==0&&(_i(p,A|1),Ls(p,le()),!(Hn&6)&&(Bd=le()+500,ua()))}break;case 13:Iu(function(){var C=Ys(h,1);if(C!==null){var L=ps();qa(C,h,1,L)}}),ab(h,1)}},Qf=function(h){if(h.tag===13){var p=Ys(h,134217728);if(p!==null){var A=ps();qa(p,h,134217728,A)}ab(h,134217728)}},Fg=function(h){if(h.tag===13){var p=pc(h),A=Ys(h,p);if(A!==null){var C=ps();qa(A,h,p,C)}ab(h,p)}},Uh=function(){return Rn},zh=function(h,p){var A=Rn;try{return Rn=h,p()}finally{Rn=A}},Le=function(h,p,A){switch(p){case"input":if(Ct(h,A),p=A.name,A.type==="radio"&&p!=null){for(A=h;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<A.length;p++){var C=A[p];if(C!==h&&C.form===h.form){var L=xd(C);if(!L)throw Error(t(90));je(C),Ct(C,L)}}}break;case"textarea":Ge(h,A);break;case"select":p=A.value,p!=null&&te(h,!!A.multiple,p,!1)}},Qn=$y,bi=Iu;var L3={usingClientEntryPoint:!1,Events:[Na,Mi,xd,xt,an,$y]},Xp={findFiberByHostInstance:_o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B3={bundleType:Xp.bundleType,version:Xp.version,rendererPackageName:Xp.rendererPackageName,rendererConfig:Xp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Oe(h),h===null?null:h.stateNode},findFiberByHostInstance:Xp.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ex=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ex.isDisabled&&Ex.supportsFiber)try{ht=Ex.inject(B3),Ze=Ex}catch{}}return Bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L3,Bs.createPortal=function(h,p){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lb(p))throw Error(t(200));return P3(h,p,null,A)},Bs.createRoot=function(h,p){if(!lb(h))throw Error(t(299));var A=!1,C="",L=Y_;return p!=null&&(p.unstable_strictMode===!0&&(A=!0),p.identifierPrefix!==void 0&&(C=p.identifierPrefix),p.onRecoverableError!==void 0&&(L=p.onRecoverableError)),p=sb(h,1,!1,null,null,A,!1,C,L),h[ls]=p.current,ec(h.nodeType===8?h.parentNode:h),new ob(p)},Bs.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(t(188)):(h=Object.keys(h).join(","),Error(t(268,h)));return h=Oe(p),h=h===null?null:h.stateNode,h},Bs.flushSync=function(h){return Iu(h)},Bs.hydrate=function(h,p,A){if(!Mx(p))throw Error(t(200));return Cx(null,h,p,!0,A)},Bs.hydrateRoot=function(h,p,A){if(!lb(h))throw Error(t(405));var C=A!=null&&A.hydratedSources||null,L=!1,N="",W=Y_;if(A!=null&&(A.unstable_strictMode===!0&&(L=!0),A.identifierPrefix!==void 0&&(N=A.identifierPrefix),A.onRecoverableError!==void 0&&(W=A.onRecoverableError)),p=W_(p,null,h,1,A??null,L,!1,N,W),h[ls]=p.current,ec(h),C)for(h=0;h<C.length;h++)A=C[h],L=A._getVersion,L=L(A._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[A,L]:p.mutableSourceEagerHydrationData.push(A,L);return new _x(p)},Bs.render=function(h,p,A){if(!Mx(p))throw Error(t(200));return Cx(null,h,p,!1,A)},Bs.unmountComponentAtNode=function(h){if(!Mx(h))throw Error(t(40));return h._reactRootContainer?(Iu(function(){Cx(null,null,h,!1,function(){h._reactRootContainer=null,h[ls]=null})}),!0):!1},Bs.unstable_batchedUpdates=$y,Bs.unstable_renderSubtreeIntoContainer=function(h,p,A,C){if(!Mx(A))throw Error(t(200));if(h==null||h._reactInternals===void 0)throw Error(t(38));return Cx(h,p,A,!1,C)},Bs.version="18.3.1-next-f1338f8080-20240426",Bs}var tM;function V3(){if(tM)return hb.exports;tM=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hb.exports=G3(),hb.exports}var nM;function W3(){if(nM)return Tx;nM=1;var r=V3();return Tx.createRoot=r.createRoot,Tx.hydrateRoot=r.hydrateRoot,Tx}var X3=W3();const fT=de.createContext({});function Xv(r){const e=de.useRef(null);return e.current===null&&(e.current=r()),e.current}const dA=de.createContext(null),fA=de.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});function Y3(r=!0){const e=de.useContext(dA);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,s=de.useId();de.useEffect(()=>{r&&i(s)},[r]);const a=de.useCallback(()=>r&&n&&n(s),[s,n,r]);return!t&&n?[!1,a]:[!0]}const pA=typeof window<"u",mA=pA?de.useLayoutEffect:de.useEffect,bs=r=>r;let j3=bs,aw=bs;function gA(r){let e;return()=>(e===void 0&&(e=r()),e)}const Ah=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n},Bl=r=>r*1e3,Dl=r=>r/1e3,J3={skipAnimations:!1,useManualTiming:!1};function K3(r){let e=new Set,t=new Set,n=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){s.has(c)&&(l.schedule(c),r()),c(a)}const l={schedule:(c,u=!1,d=!1)=>{const m=d&&n?e:t;return u&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{t.delete(c),s.delete(c)},process:c=>{if(a=c,n){i=!0;return}n=!0,[e,t]=[t,e],e.forEach(o),e.clear(),n=!1,i&&(i=!1,l.process(c))}};return l}const Rx=["read","resolveKeyframes","update","preRender","render","postRender"],Z3=40;function pT(r,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=Rx.reduce((b,S)=>(b[S]=K3(s),b),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:f}=a,m=()=>{const b=performance.now();t=!1,i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,Z3),1),i.timestamp=b,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),i.isProcessing=!1,t&&e&&(n=!1,r(m))},v=()=>{t=!0,n=!0,i.isProcessing||r(m)};return{schedule:Rx.reduce((b,S)=>{const M=a[S];return b[S]=(E,T=!1,R=!1)=>(t||v(),M.schedule(E,T,R)),b},{}),cancel:b=>{for(let S=0;S<Rx.length;S++)a[Rx[S]].cancel(b)},state:i,steps:a}}const{schedule:Yn,cancel:uo,state:Sr,steps:pb}=pT(typeof requestAnimationFrame<"u"?requestAnimationFrame:bs,!0),mT=de.createContext({strict:!1}),iM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_f={};for(const r in iM)_f[r]={isEnabled:e=>iM[r].some(t=>!!e[t])};function q3(r){for(const e in r)_f[e]={..._f[e],...r[e]}}const Q3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Y0(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||Q3.has(r)}let gT=r=>!Y0(r);function $3(r){r&&(gT=e=>e.startsWith("on")?!Y0(e):r(e))}try{$3(require("@emotion/is-prop-valid").default)}catch{}function eL(r,e,t){const n={};for(const i in r)i==="values"&&typeof r.values=="object"||(gT(i)||t===!0&&Y0(i)||!e&&!Y0(i)||r.draggable&&i.startsWith("onDrag"))&&(n[i]=r[i]);return n}function tL(r){if(typeof Proxy>"u")return r;const e=new Map,t=(...n)=>r(...n);return new Proxy(t,{get:(n,i)=>i==="create"?r:(e.has(i)||e.set(i,r(i)),e.get(i))})}const Yv=de.createContext({});function Nm(r){return typeof r=="string"||Array.isArray(r)}function jv(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}const xA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vA=["initial",...xA];function Jv(r){return jv(r.animate)||vA.some(e=>Nm(r[e]))}function xT(r){return!!(Jv(r)||r.variants)}function nL(r,e){if(Jv(r)){const{initial:t,animate:n}=r;return{initial:t===!1||Nm(t)?t:void 0,animate:Nm(n)?n:void 0}}return r.inherit!==!1?e:{}}function iL(r){const{initial:e,animate:t}=nL(r,de.useContext(Yv));return de.useMemo(()=>({initial:e,animate:t}),[rM(e),rM(t)])}function rM(r){return Array.isArray(r)?r.join(" "):r}const rL=Symbol.for("motionComponentSymbol");function cf(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function sL(r,e,t){return de.useCallback(n=>{n&&r.onMount&&r.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):cf(t)&&(t.current=n))},[e])}const yA=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aL="framerAppearId",vT="data-"+yA(aL),{schedule:bA,cancel:JX}=pT(queueMicrotask,!1),yT=de.createContext({});function oL(r,e,t,n,i){var s,a;const{visualElement:o}=de.useContext(Yv),l=de.useContext(mT),c=de.useContext(dA),u=de.useContext(fA).reducedMotion,d=de.useRef(null);n=n||l.renderer,!d.current&&n&&(d.current=n(r,{visualState:e,parent:o,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,m=de.useContext(yT);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&lL(d.current,t,i,m);const v=de.useRef(!1);de.useInsertionEffect(()=>{f&&v.current&&f.update(t,c)});const y=t[vT],w=de.useRef(!!y&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,y))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,y)));return mA(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),bA.render(f.render),w.current&&f.animationState&&f.animationState.animateChanges())}),de.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,y)}),w.current=!1))}),f}function lL(r,e,t,n){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:bT(r.parent)),r.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&cf(o),visualElement:r,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:c})}function bT(r){if(r)return r.options.allowProjection!==!1?r.projection:bT(r.parent)}function cL({preloadedFeatures:r,createVisualElement:e,useRender:t,useVisualState:n,Component:i}){var s,a;r&&q3(r);function o(c,u){let d;const f={...de.useContext(fA),...c,layoutId:uL(c)},{isStatic:m}=f,v=iL(c),y=n(c,m);if(!m&&pA){hL();const w=dL(f);d=w.MeasureLayout,v.visualElement=oL(i,y,f,e,w.ProjectionNode)}return ue.jsxs(Yv.Provider,{value:v,children:[d&&v.visualElement?ue.jsx(d,{visualElement:v.visualElement,...f}):null,t(i,c,sL(y,v.visualElement,u),y,m,v.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(a=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&a!==void 0?a:""})`}`;const l=de.forwardRef(o);return l[rL]=i,l}function uL({layoutId:r}){const e=de.useContext(fT).id;return e&&r!==void 0?e+"-"+r:r}function hL(r,e){de.useContext(mT).strict}function dL(r){const{drag:e,layout:t}=_f;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(r)||t!=null&&t.isEnabled(r)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const fL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wA(r){return typeof r!="string"||r.includes("-")?!1:!!(fL.indexOf(r)>-1||/[A-Z]/u.test(r))}function sM(r){const e=[{},{}];return r==null||r.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function AA(r,e,t,n){if(typeof e=="function"){const[i,s]=sM(n);e=e(t!==void 0?t:r.custom,i,s)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){const[i,s]=sM(n);e=e(t!==void 0?t:r.custom,i,s)}return e}const ow=r=>Array.isArray(r),pL=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),mL=r=>ow(r)?r[r.length-1]||0:r,es=r=>!!(r&&r.getVelocity);function k0(r){const e=es(r)?r.get():r;return pL(e)?e.toValue():e}function gL({scrapeMotionValuesFromProps:r,createRenderState:e,onUpdate:t},n,i,s){const a={latestValues:xL(n,i,s,r),renderState:e()};return t&&(a.onMount=o=>t({props:n,current:o,...a}),a.onUpdate=o=>t(o)),a}const wT=r=>(e,t)=>{const n=de.useContext(Yv),i=de.useContext(dA),s=()=>gL(r,e,n,i);return t?s():Xv(s)};function xL(r,e,t,n){const i={},s=n(r,{});for(const f in s)i[f]=k0(s[f]);let{initial:a,animate:o}=r;const l=Jv(r),c=xT(r);e&&c&&!l&&r.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=t?t.initial===!1:!1;u=u||a===!1;const d=u?o:a;if(d&&typeof d!="boolean"&&!jv(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const v=AA(r,f[m]);if(v){const{transitionEnd:y,transition:w,...b}=v;for(const S in b){let M=b[S];if(Array.isArray(M)){const E=u?M.length-1:0;M=M[E]}M!==null&&(i[S]=M)}for(const S in y)i[S]=y[S]}}}return i}const Of=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lh=new Set(Of),AT=r=>e=>typeof e=="string"&&e.startsWith(r),ST=AT("--"),vL=AT("var(--"),SA=r=>vL(r)?yL.test(r.split("/*")[0].trim()):!1,yL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_T=(r,e)=>e&&typeof r=="number"?e.transform(r):r,No=(r,e,t)=>t>e?e:t<r?r:t,Uf={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Om={...Uf,transform:r=>No(0,1,r)},Ix={...Uf,default:1},og=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),Tc=og("deg"),ko=og("%"),rn=og("px"),bL=og("vh"),wL=og("vw"),aM={...ko,parse:r=>ko.parse(r)/100,transform:r=>ko.transform(r*100)},AL={borderWidth:rn,borderTopWidth:rn,borderRightWidth:rn,borderBottomWidth:rn,borderLeftWidth:rn,borderRadius:rn,radius:rn,borderTopLeftRadius:rn,borderTopRightRadius:rn,borderBottomRightRadius:rn,borderBottomLeftRadius:rn,width:rn,maxWidth:rn,height:rn,maxHeight:rn,top:rn,right:rn,bottom:rn,left:rn,padding:rn,paddingTop:rn,paddingRight:rn,paddingBottom:rn,paddingLeft:rn,margin:rn,marginTop:rn,marginRight:rn,marginBottom:rn,marginLeft:rn,backgroundPositionX:rn,backgroundPositionY:rn},SL={rotate:Tc,rotateX:Tc,rotateY:Tc,rotateZ:Tc,scale:Ix,scaleX:Ix,scaleY:Ix,scaleZ:Ix,skew:Tc,skewX:Tc,skewY:Tc,distance:rn,translateX:rn,translateY:rn,translateZ:rn,x:rn,y:rn,z:rn,perspective:rn,transformPerspective:rn,opacity:Om,originX:aM,originY:aM,originZ:rn},oM={...Uf,transform:Math.round},_A={...AL,...SL,zIndex:oM,size:rn,fillOpacity:Om,strokeOpacity:Om,numOctaves:oM},_L={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ML=Of.length;function CL(r,e,t){let n="",i=!0;for(let s=0;s<ML;s++){const a=Of[s],o=r[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const c=_T(o,_A[a]);if(!l){i=!1;const u=_L[a]||a;n+=`${u}(${c}) `}t&&(e[a]=c)}}return n=n.trim(),t?n=t(e,i?"":n):i&&(n="none"),n}function MA(r,e,t){const{style:n,vars:i,transformOrigin:s}=r;let a=!1,o=!1;for(const l in e){const c=e[l];if(Lh.has(l)){a=!0;continue}else if(ST(l)){i[l]=c;continue}else{const u=_T(c,_A[l]);l.startsWith("origin")?(o=!0,s[l]=u):n[l]=u}}if(e.transform||(a||t?n.transform=CL(e,r.transform,t):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;n.transformOrigin=`${l} ${c} ${u}`}}const EL={offset:"stroke-dashoffset",array:"stroke-dasharray"},TL={offset:"strokeDashoffset",array:"strokeDasharray"};function RL(r,e,t=1,n=0,i=!0){r.pathLength=1;const s=i?EL:TL;r[s.offset]=rn.transform(-n);const a=rn.transform(e),o=rn.transform(t);r[s.array]=`${a} ${o}`}function lM(r,e,t){return typeof r=="string"?r:rn.transform(e+t*r)}function IL(r,e,t){const n=lM(e,r.x,r.width),i=lM(t,r.y,r.height);return`${n} ${i}`}function CA(r,{attrX:e,attrY:t,attrScale:n,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},u,d){if(MA(r,c,d),u){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:f,style:m,dimensions:v}=r;f.transform&&(v&&(m.transform=f.transform),delete f.transform),v&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=IL(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),n!==void 0&&(f.scale=n),a!==void 0&&RL(f,a,o,l,!1)}const EA=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),MT=()=>({...EA(),attrs:{}}),TA=r=>typeof r=="string"&&r.toLowerCase()==="svg";function CT(r,{style:e,vars:t},n,i){Object.assign(r.style,e,i&&i.getProjectionStyles(n));for(const s in t)r.style.setProperty(s,t[s])}const ET=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TT(r,e,t,n){CT(r,e,void 0,n);for(const i in e.attrs)r.setAttribute(ET.has(i)?i:yA(i),e.attrs[i])}const j0={};function PL(r){Object.assign(j0,r)}function RT(r,{layout:e,layoutId:t}){return Lh.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!j0[r]||r==="opacity")}function RA(r,e,t){var n;const{style:i}=r,s={};for(const a in i)(es(i[a])||e.style&&es(e.style[a])||RT(a,r)||((n=t==null?void 0:t.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function IT(r,e,t){const n=RA(r,e,t);for(const i in r)if(es(r[i])||es(e[i])){const s=Of.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=r[i]}return n}function kL(r,e){try{e.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const cM=["x","y","width","height","cx","cy","r"],LL={useVisualState:wT({scrapeMotionValuesFromProps:IT,createRenderState:MT,onUpdate:({props:r,prevProps:e,current:t,renderState:n,latestValues:i})=>{if(!t)return;let s=!!r.drag;if(!s){for(const o in i)if(Lh.has(o)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let o=0;o<cM.length;o++){const l=cM[o];r[l]!==e[l]&&(a=!0)}a&&Yn.read(()=>{kL(t,n),Yn.render(()=>{CA(n,i,TA(t.tagName),r.transformTemplate),TT(t,n)})})}})},BL={useVisualState:wT({scrapeMotionValuesFromProps:RA,createRenderState:EA})};function PT(r,e,t){for(const n in e)!es(e[n])&&!RT(n,t)&&(r[n]=e[n])}function DL({transformTemplate:r},e){return de.useMemo(()=>{const t=EA();return MA(t,e,r),Object.assign({},t.vars,t.style)},[e])}function FL(r,e){const t=r.style||{},n={};return PT(n,t,r),Object.assign(n,DL(r,e)),n}function NL(r,e){const t={},n=FL(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=n,t}function OL(r,e,t,n){const i=de.useMemo(()=>{const s=MT();return CA(s,e,TA(n),r.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(r.style){const s={};PT(s,r.style,r),i.style={...s,...i.style}}return i}function UL(r=!1){return(t,n,i,{latestValues:s},a)=>{const l=(wA(t)?OL:NL)(n,s,a,t),c=eL(n,typeof t=="string",r),u=t!==de.Fragment?{...c,...l,ref:i}:{},{children:d}=n,f=de.useMemo(()=>es(d)?d.get():d,[d]);return de.createElement(t,{...u,children:f})}}function zL(r,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...wA(n)?LL:BL,preloadedFeatures:r,useRender:UL(i),createVisualElement:e,Component:n};return cL(a)}}function kT(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}function Kv(r,e,t){const n=r.getProps();return AA(n,e,t!==void 0?t:n.custom,r)}const LT=gA(()=>window.ScrollTimeline!==void 0);class HL{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map(i=>{if(LT()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GL extends HL{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function IA(r,e){return r?r[e]||r.default||r:void 0}const lw=2e4;function BT(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<lw;)e+=t,n=r.next(e);return e>=lw?1/0:e}function PA(r){return typeof r=="function"}function uM(r,e){r.timeline=e,r.onfinish=null}const kA=r=>Array.isArray(r)&&typeof r[0]=="number",VL={linearEasing:void 0};function WL(r,e){const t=gA(r);return()=>{var n;return(n=VL[e])!==null&&n!==void 0?n:t()}}const J0=WL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),DT=(r,e,t=10)=>{let n="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)n+=r(Ah(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function FT(r){return!!(typeof r=="function"&&J0()||!r||typeof r=="string"&&(r in cw||J0())||kA(r)||Array.isArray(r)&&r.every(FT))}const fm=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,cw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fm([0,.65,.55,1]),circOut:fm([.55,0,1,.45]),backIn:fm([.31,.01,.66,-.59]),backOut:fm([.33,1.53,.69,.99])};function NT(r,e){if(r)return typeof r=="function"&&J0()?DT(r,e):kA(r)?fm(r):Array.isArray(r)?r.map(t=>NT(t,e)||cw.easeOut):cw[r]}const no={x:!1,y:!1};function OT(){return no.x||no.y}function UT(r,e,t){var n;if(r instanceof Element)return[r];if(typeof r=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(r);return s?Array.from(s):[]}return Array.from(r)}function zT(r,e){const t=UT(r),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[t,i,()=>n.abort()]}function hM(r){return!(r.pointerType==="touch"||OT())}function XL(r,e,t={}){const[n,i,s]=zT(r,t),a=o=>{if(!hM(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const u=d=>{hM(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return n.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const HT=(r,e)=>e?r===e?!0:HT(r,e.parentElement):!1,LA=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,YL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jL(r){return YL.has(r.tagName)||r.tabIndex!==-1}const pm=new WeakSet;function dM(r){return e=>{e.key==="Enter"&&r(e)}}function mb(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const JL=(r,e)=>{const t=r.currentTarget;if(!t)return;const n=dM(()=>{if(pm.has(t))return;mb(t,"down");const i=dM(()=>{mb(t,"up")}),s=()=>mb(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function fM(r){return LA(r)&&!OT()}function KL(r,e,t={}){const[n,i,s]=zT(r,t),a=o=>{const l=o.currentTarget;if(!fM(o)||pm.has(l))return;pm.add(l);const c=e(l,o),u=(m,v)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!fM(m)||!pm.has(l))&&(pm.delete(l),typeof c=="function"&&c(m,{success:v}))},d=m=>{u(m,t.useGlobalTarget||HT(l,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return n.forEach(o=>{!jL(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(t.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",c=>JL(c,i),i)}),s}function ZL(r){return r==="x"||r==="y"?no[r]?null:(no[r]=!0,()=>{no[r]=!1}):no.x||no.y?null:(no.x=no.y=!0,()=>{no.x=no.y=!1})}const GT=new Set(["width","height","top","left","right","bottom",...Of]);let L0;function qL(){L0=void 0}const Lo={now:()=>(L0===void 0&&Lo.set(Sr.isProcessing||J3.useManualTiming?Sr.timestamp:performance.now()),L0),set:r=>{L0=r,queueMicrotask(qL)}};function BA(r,e){r.indexOf(e)===-1&&r.push(e)}function DA(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}class FA{constructor(){this.subscriptions=[]}add(e){return BA(this.subscriptions,e),()=>DA(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function NA(r,e){return e?r*(1e3/e):0}const pM=30,QL=r=>!isNaN(parseFloat(r)),bm={current:void 0};class $L{constructor(e,t={}){this.version="12.0.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=Lo.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Lo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=QL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new FA);const n=this.events[e].add(t);return e==="change"?()=>{n(),Yn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return bm.current&&bm.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Lo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pM)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,pM);return NA(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Io(r,e){return new $L(r,e)}function eB(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,Io(t))}function tB(r,e){const t=Kv(r,e);let{transitionEnd:n={},transition:i={},...s}=t||{};s={...s,...n};for(const a in s){const o=mL(s[a]);eB(r,a,o)}}function nB(r){return!!(es(r)&&r.add)}function uw(r,e){const t=r.getValue("willChange");if(nB(t))return t.add(e)}function VT(r){return r.props[vT]}const WT=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,iB=1e-7,rB=12;function sB(r,e,t,n,i){let s,a,o=0;do a=e+(t-e)/2,s=WT(a,n,i)-r,s>0?t=a:e=a;while(Math.abs(s)>iB&&++o<rB);return a}function lg(r,e,t,n){if(r===e&&t===n)return bs;const i=s=>sB(s,0,1,r,t);return s=>s===0||s===1?s:WT(i(s),e,n)}const XT=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,YT=r=>e=>1-r(1-e),jT=lg(.33,1.53,.69,.99),OA=YT(jT),JT=XT(OA),KT=r=>(r*=2)<1?.5*OA(r):.5*(2-Math.pow(2,-10*(r-1))),UA=r=>1-Math.sin(Math.acos(r)),ZT=YT(UA),qT=XT(UA),QT=r=>/^0[^.\s]+$/u.test(r);function aB(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||QT(r):!0}const wm=r=>Math.round(r*1e5)/1e5,zA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oB(r){return r==null}const lB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,HA=(r,e)=>t=>!!(typeof t=="string"&&lB.test(t)&&t.startsWith(r)||e&&!oB(t)&&Object.prototype.hasOwnProperty.call(t,e)),$T=(r,e,t)=>n=>{if(typeof n!="string")return n;const[i,s,a,o]=n.match(zA);return{[r]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},cB=r=>No(0,255,r),gb={...Uf,transform:r=>Math.round(cB(r))},ih={test:HA("rgb","red"),parse:$T("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+gb.transform(r)+", "+gb.transform(e)+", "+gb.transform(t)+", "+wm(Om.transform(n))+")"};function uB(r){let e="",t="",n="",i="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),i=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),i=r.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const hw={test:HA("#"),parse:uB,transform:ih.transform},uf={test:HA("hsl","hue"),parse:$T("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+ko.transform(wm(e))+", "+ko.transform(wm(t))+", "+wm(Om.transform(n))+")"},$r={test:r=>ih.test(r)||hw.test(r)||uf.test(r),parse:r=>ih.test(r)?ih.parse(r):uf.test(r)?uf.parse(r):hw.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?ih.transform(r):uf.transform(r)},hB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dB(r){var e,t;return isNaN(r)&&typeof r=="string"&&(((e=r.match(zA))===null||e===void 0?void 0:e.length)||0)+(((t=r.match(hB))===null||t===void 0?void 0:t.length)||0)>0}const eR="number",tR="color",fB="var",pB="var(",mM="${}",mB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Um(r){const e=r.toString(),t=[],n={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(mB,l=>($r.test(l)?(n.color.push(s),i.push(tR),t.push($r.parse(l))):l.startsWith(pB)?(n.var.push(s),i.push(fB),t.push(l)):(n.number.push(s),i.push(eR),t.push(parseFloat(l))),++s,mM)).split(mM);return{values:t,split:o,indexes:n,types:i}}function nR(r){return Um(r).values}function iR(r){const{split:e,types:t}=Um(r),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const o=t[a];o===eR?s+=wm(i[a]):o===tR?s+=$r.transform(i[a]):s+=i[a]}return s}}const gB=r=>typeof r=="number"?0:r;function xB(r){const e=nR(r);return iR(r)(e.map(gB))}const Nc={test:dB,parse:nR,createTransformer:iR,getAnimatableNone:xB},vB=new Set(["brightness","contrast","saturate","opacity"]);function yB(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(zA)||[];if(!n)return r;const i=t.replace(n,"");let s=vB.has(e)?1:0;return n!==t&&(s*=100),e+"("+s+i+")"}const bB=/\b([a-z-]*)\(.*?\)/gu,dw={...Nc,getAnimatableNone:r=>{const e=r.match(bB);return e?e.map(yB).join(" "):r}},wB={..._A,color:$r,backgroundColor:$r,outlineColor:$r,fill:$r,stroke:$r,borderColor:$r,borderTopColor:$r,borderRightColor:$r,borderBottomColor:$r,borderLeftColor:$r,filter:dw,WebkitFilter:dw},GA=r=>wB[r];function rR(r,e){let t=GA(r);return t!==dw&&(t=Nc),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const AB=new Set(["auto","none","0"]);function SB(r,e,t){let n=0,i;for(;n<r.length&&!i;){const s=r[n];typeof s=="string"&&!AB.has(s)&&Um(s).values.length&&(i=r[n]),n++}if(i&&t)for(const s of e)r[s]=rR(t,i)}const gM=r=>r===Uf||r===rn,xM=(r,e)=>parseFloat(r.split(", ")[e]),vM=(r,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return xM(i[1],e);{const s=n.match(/^matrix\((.+)\)$/u);return s?xM(s[1],r):0}},_B=new Set(["x","y","z"]),MB=Of.filter(r=>!_B.has(r));function CB(r){const e=[];return MB.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const Mf={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:vM(4,13),y:vM(5,14)};Mf.translateX=Mf.x;Mf.translateY=Mf.y;const mh=new Set;let fw=!1,pw=!1;function sR(){if(pw){const r=Array.from(mh).filter(n=>n.needsMeasurement),e=new Set(r.map(n=>n.element)),t=new Map;e.forEach(n=>{const i=CB(n);i.length&&(t.set(n,i),n.render())}),r.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=t.get(n);i&&i.forEach(([s,a])=>{var o;(o=n.getValue(s))===null||o===void 0||o.set(a)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}pw=!1,fw=!1,mh.forEach(r=>r.complete()),mh.clear()}function aR(){mh.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(pw=!0)})}function EB(){aR(),sR()}class VA{constructor(e,t,n,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(mh.add(this),fw||(fw=!0,Yn.read(aR),Yn.resolveKeyframes(sR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&t){const l=n.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),mh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,mh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const oR=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r),TB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RB(r){const e=TB.exec(r);if(!e)return[,];const[,t,n,i]=e;return[`--${t??n}`,i]}function lR(r,e,t=1){const[n,i]=RB(r);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return oR(a)?parseFloat(a):a}return SA(i)?lR(i,e,t+1):i}const cR=r=>e=>e.test(r),IB={test:r=>r==="auto",parse:r=>r},uR=[Uf,rn,ko,Tc,wL,bL,IB],yM=r=>uR.find(cR(r));class hR extends VA{constructor(e,t,n,i,s){super(e,t,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),SA(c))){const u=lR(c,t.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!GT.has(n)||e.length!==2)return;const[i,s]=e,a=yM(i),o=yM(s);if(a!==o)if(gM(a)&&gM(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)aB(e[i])&&n.push(i);n.length&&SB(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mf[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=Mf[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const bM=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Nc.test(r)||r==="0")&&!r.startsWith("url("));function PB(r){const e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function kB(r,e,t,n){const i=r[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=r[r.length-1],a=bM(i,e),o=bM(s,e);return!a||!o?!1:PB(r)||(t==="spring"||PA(t))&&n}const LB=r=>r!==null;function Zv(r,{repeat:e,repeatType:t="loop"},n){const i=r.filter(LB),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const BB=40;class dR{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Lo.now(),this.options={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>BB?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&EB(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Lo.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!kB(e,n,i,s))if(a)this.options.duration=0;else{l&&l(Zv(e,this.options,t)),o&&o(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,t);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ei=(r,e,t)=>r+(e-r)*t;function xb(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function DB({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let i=0,s=0,a=0;if(!e)i=s=a=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=xb(l,o,r+1/3),s=xb(l,o,r),a=xb(l,o,r-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function K0(r,e){return t=>t>0?e:r}const vb=(r,e,t)=>{const n=r*r,i=t*(e*e-n)+n;return i<0?0:Math.sqrt(i)},FB=[hw,ih,uf],NB=r=>FB.find(e=>e.test(r));function wM(r){const e=NB(r);if(!e)return!1;let t=e.parse(r);return e===uf&&(t=DB(t)),t}const AM=(r,e)=>{const t=wM(r),n=wM(e);if(!t||!n)return K0(r,e);const i={...t};return s=>(i.red=vb(t.red,n.red,s),i.green=vb(t.green,n.green,s),i.blue=vb(t.blue,n.blue,s),i.alpha=Ei(t.alpha,n.alpha,s),ih.transform(i))},OB=(r,e)=>t=>e(r(t)),cg=(...r)=>r.reduce(OB),mw=new Set(["none","hidden"]);function UB(r,e){return mw.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function zB(r,e){return t=>Ei(r,e,t)}function WA(r){return typeof r=="number"?zB:typeof r=="string"?SA(r)?K0:$r.test(r)?AM:VB:Array.isArray(r)?fR:typeof r=="object"?$r.test(r)?AM:HB:K0}function fR(r,e){const t=[...r],n=t.length,i=r.map((s,a)=>WA(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)t[a]=i[a](s);return t}}function HB(r,e){const t={...r,...e},n={};for(const i in t)r[i]!==void 0&&e[i]!==void 0&&(n[i]=WA(r[i])(r[i],e[i]));return i=>{for(const s in n)t[s]=n[s](i);return t}}function GB(r,e){var t;const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=r.indexes[a][i[a]],l=(t=r.values[o])!==null&&t!==void 0?t:0;n[s]=l,i[a]++}return n}const VB=(r,e)=>{const t=Nc.createTransformer(e),n=Um(r),i=Um(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?mw.has(r)&&!i.values.length||mw.has(e)&&!n.values.length?UB(r,e):cg(fR(GB(n,i),i.values),t):K0(r,e)};function pR(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?Ei(r,e,t):WA(r)(r,e)}const WB=5;function mR(r,e,t){const n=Math.max(e-WB,0);return NA(t-r(n),e-n)}const Bi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},SM=.001;function XB({duration:r=Bi.duration,bounce:e=Bi.bounce,velocity:t=Bi.velocity,mass:n=Bi.mass}){let i,s,a=1-e;a=No(Bi.minDamping,Bi.maxDamping,a),r=No(Bi.minDuration,Bi.maxDuration,Dl(r)),a<1?(i=c=>{const u=c*a,d=u*r,f=u-t,m=gw(c,a),v=Math.exp(-d);return SM-f/m*v},s=c=>{const d=c*a*r,f=d*t+t,m=Math.pow(a,2)*Math.pow(c,2)*r,v=Math.exp(-d),y=gw(Math.pow(c,2),a);return(-i(c)+SM>0?-1:1)*((f-m)*v)/y}):(i=c=>{const u=Math.exp(-c*r),d=(c-t)*r+1;return-.001+u*d},s=c=>{const u=Math.exp(-c*r),d=(t-c)*(r*r);return u*d});const o=5/r,l=jB(i,s,o);if(r=Bl(r),isNaN(l))return{stiffness:Bi.stiffness,damping:Bi.damping,duration:r};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:a*2*Math.sqrt(n*c),duration:r}}}const YB=12;function jB(r,e,t){let n=t;for(let i=1;i<YB;i++)n=n-r(n)/e(n);return n}function gw(r,e){return r*Math.sqrt(1-e*e)}const JB=["duration","bounce"],KB=["stiffness","damping","mass"];function _M(r,e){return e.some(t=>r[t]!==void 0)}function ZB(r){let e={velocity:Bi.velocity,stiffness:Bi.stiffness,damping:Bi.damping,mass:Bi.mass,isResolvedFromDuration:!1,...r};if(!_M(r,KB)&&_M(r,JB))if(r.visualDuration){const t=r.visualDuration,n=2*Math.PI/(t*1.2),i=n*n,s=2*No(.05,1,1-(r.bounce||0))*Math.sqrt(i);e={...e,mass:Bi.mass,stiffness:i,damping:s}}else{const t=XB(r);e={...e,...t,mass:Bi.mass},e.isResolvedFromDuration=!0}return e}function gR(r=Bi.visualDuration,e=Bi.bounce){const t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r;let{restSpeed:n,restDelta:i}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:m}=ZB({...t,velocity:-Dl(t.velocity||0)}),v=f||0,y=c/(2*Math.sqrt(l*u)),w=a-s,b=Dl(Math.sqrt(l/u)),S=Math.abs(w)<5;n||(n=S?Bi.restSpeed.granular:Bi.restSpeed.default),i||(i=S?Bi.restDelta.granular:Bi.restDelta.default);let M;if(y<1){const T=gw(b,y);M=R=>{const P=Math.exp(-y*b*R);return a-P*((v+y*b*w)/T*Math.sin(T*R)+w*Math.cos(T*R))}}else if(y===1)M=T=>a-Math.exp(-b*T)*(w+(v+b*w)*T);else{const T=b*Math.sqrt(y*y-1);M=R=>{const P=Math.exp(-y*b*R),k=Math.min(T*R,300);return a-P*((v+y*b*w)*Math.sinh(k)+T*w*Math.cosh(k))/T}}const E={calculatedDuration:m&&d||null,next:T=>{const R=M(T);if(m)o.done=T>=d;else{let P=0;y<1&&(P=T===0?Bl(v):mR(M,T,R));const k=Math.abs(P)<=n,B=Math.abs(a-R)<=i;o.done=k&&B}return o.value=o.done?a:R,o},toString:()=>{const T=Math.min(BT(E),lw),R=DT(P=>E.next(T*P).value,T,30);return T+"ms "+R}};return E}function MM({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=r[0],f={done:!1,value:d},m=k=>o!==void 0&&k<o||l!==void 0&&k>l,v=k=>o===void 0?l:l===void 0||Math.abs(o-k)<Math.abs(l-k)?o:l;let y=t*e;const w=d+y,b=a===void 0?w:a(w);b!==w&&(y=b-d);const S=k=>-y*Math.exp(-k/n),M=k=>b+S(k),E=k=>{const B=S(k),D=M(k);f.done=Math.abs(B)<=c,f.value=f.done?b:D};let T,R;const P=k=>{m(f.value)&&(T=k,R=gR({keyframes:[f.value,v(f.value)],velocity:mR(M,k,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:k=>{let B=!1;return!R&&T===void 0&&(B=!0,E(k),P(k)),T!==void 0&&k>=T?R.next(k-T):(!B&&E(k),f)}}}const qB=lg(.42,0,1,1),QB=lg(0,0,.58,1),xR=lg(.42,0,.58,1),$B=r=>Array.isArray(r)&&typeof r[0]!="number",CM={linear:bs,easeIn:qB,easeInOut:xR,easeOut:QB,circIn:UA,circInOut:qT,circOut:ZT,backIn:OA,backInOut:JT,backOut:jT,anticipate:KT},EM=r=>{if(kA(r)){aw(r.length===4);const[e,t,n,i]=r;return lg(e,t,n,i)}else if(typeof r=="string")return aw(CM[r]!==void 0),CM[r];return r};function eD(r,e,t){const n=[],i=t||pR,s=r.length-1;for(let a=0;a<s;a++){let o=i(r[a],r[a+1]);if(e){const l=Array.isArray(e)?e[a]||bs:e;o=cg(l,o)}n.push(o)}return n}function XA(r,e,{clamp:t=!0,ease:n,mixer:i}={}){const s=r.length;if(aw(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=r[0]===r[1];r[0]>r[s-1]&&(r=[...r].reverse(),e=[...e].reverse());const o=eD(e,n,i),l=o.length,c=u=>{if(a&&u<r[0])return e[0];let d=0;if(l>1)for(;d<r.length-2&&!(u<r[d+1]);d++);const f=Ah(r[d],r[d+1],u);return o[d](f)};return t?u=>c(No(r[0],r[s-1],u)):c}function tD(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const i=Ah(0,e,n);r.push(Ei(t,1,i))}}function vR(r){const e=[0];return tD(e,r.length-1),e}function nD(r,e){return r.map(t=>t*e)}function iD(r,e){return r.map(()=>e||xR).splice(0,r.length-1)}function Z0({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=$B(n)?n.map(EM):EM(n),s={done:!1,value:e[0]},a=nD(t&&t.length===e.length?t:vR(e),r),o=XA(a,e,{ease:Array.isArray(i)?i:iD(e,i)});return{calculatedDuration:r,next:l=>(s.value=o(l),s.done=l>=r,s)}}const rD=r=>{const e=({timestamp:t})=>r(t);return{start:()=>Yn.update(e,!0),stop:()=>uo(e),now:()=>Sr.isProcessing?Sr.timestamp:Lo.now()}},sD={decay:MM,inertia:MM,tween:Z0,keyframes:Z0,spring:gR},aD=r=>r/100;class YA extends dR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:n,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||VA,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(s,o,t,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=PA(t)?t:sD[t]||Z0;let l,c;o!==Z0&&typeof e[0]!="number"&&(l=cg(aD,pR(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});s==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=BT(u));const{calculatedDuration:d}=u,f=d+i,m=f*(n+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=n;if(this.startTime===null)return s.next(0);const{delay:f,repeat:m,repeatType:v,repeatDelay:y,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-f*(this.speed>=0?1:-1),S=this.speed>=0?b<0:b>u;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let M=this.currentTime,E=s;if(m){const k=Math.min(this.currentTime,u)/d;let B=Math.floor(k),D=k%1;!D&&k>=1&&(D=1),D===1&&B--,B=Math.min(B,m+1),!!(B%2)&&(v==="reverse"?(D=1-D,y&&(D-=y/d)):v==="mirror"&&(E=a)),M=No(0,1,D)*d}const T=S?{done:!1,value:l[0]}:E.next(M);o&&(T.value=o(T.value));let{done:R}=T;!S&&c!==null&&(R=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return P&&i!==void 0&&(T.value=Zv(l,this.options,i)),w&&w(T.value),P&&this.finish(),T}get duration(){const{resolved:e}=this;return e?Dl(e.calculatedDuration):0}get time(){return Dl(this.currentTime)}set time(e){e=Bl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Dl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=rD,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const oD=new Set(["opacity","clipPath","filter","transform"]);function lD(r,e,t,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=NT(o,i);return Array.isArray(u)&&(c.easing=u),r.animate(c,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const cD=gA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),q0=10,uD=2e4;function hD(r){return PA(r.type)||r.type==="spring"||!FT(r.ease)}function dD(r,e){const t=new YA({...e,keyframes:r,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:r[0]};const i=[];let s=0;for(;!n.done&&s<uD;)n=t.sample(s),i.push(n.value),s+=q0;return{times:void 0,keyframes:i,duration:s-q0,ease:"linear"}}const yR={anticipate:KT,backInOut:JT,circInOut:qT};function fD(r){return r in yR}class TM extends dR{constructor(e){super(e);const{name:t,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new hR(s,(a,o)=>this.onKeyframesResolved(a,o),t,n,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:i,ease:s,type:a,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof s=="string"&&J0()&&fD(s)&&(s=yR[s]),hD(this.options)){const{onComplete:d,onUpdate:f,motionValue:m,element:v,...y}=this.options,w=dD(e,y);e=w.keyframes,e.length===1&&(e[1]=e[0]),n=w.duration,i=w.times,s=w.ease,a="keyframes"}const u=lD(o.owner.current,l,e,{...this.options,duration:n,times:i,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(uM(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;o.set(Zv(e,this.options,t)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:i,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Dl(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Dl(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Bl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return bs;const{animation:n}=t;uM(n,e)}return bs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:i,type:s,ease:a,times:o}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:f,...m}=this.options,v=new YA({...m,keyframes:n,duration:i,type:s,ease:a,times:o,isGenerator:!0}),y=Bl(this.time);c.setWithVelocity(v.sample(y-q0).value,v.sample(y).value,q0)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:a,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return cD()&&n&&oD.has(n)&&!l&&!c&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const pD={type:"spring",stiffness:500,damping:25,restSpeed:10},mD=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),gD={type:"keyframes",duration:.8},xD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vD=(r,{keyframes:e})=>e.length>2?gD:Lh.has(r)?r.startsWith("scale")?mD(e[1]):pD:xD;function yD({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const jA=(r,e,t,n={},i,s)=>a=>{const o=IA(n,r)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Bl(l);let u={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:r,motionValue:e,element:s?void 0:i};yD(o)||(u={...u,...vD(r,u)}),u.duration&&(u.duration=Bl(u.duration)),u.repeatDelay&&(u.repeatDelay=Bl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const f=Zv(u.keyframes,o);if(f!==void 0)return Yn.update(()=>{u.onUpdate(f),u.onComplete()}),new GL([])}return!s&&TM.supports(u)?new TM(u):new YA(u)};function bD({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function bR(r,e,{delay:t=0,transitionOverride:n,type:i}={}){var s;let{transition:a=r.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(a=n);const c=[],u=i&&r.animationState&&r.animationState.getState()[i];for(const d in l){const f=r.getValue(d,(s=r.latestValues[d])!==null&&s!==void 0?s:null),m=l[d];if(m===void 0||u&&bD(u,d))continue;const v={delay:t,...IA(a||{},d)};let y=!1;if(window.MotionHandoffAnimation){const b=VT(r);if(b){const S=window.MotionHandoffAnimation(b,d,Yn);S!==null&&(v.startTime=S,y=!0)}}uw(r,d),f.start(jA(d,f,m,r.shouldReduceMotion&&GT.has(d)?{type:!1}:v,r,y));const w=f.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{Yn.update(()=>{o&&tB(r,o)})}),c}function xw(r,e,t={}){var n;const i=Kv(r,e,t.type==="exit"?(n=r.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=r.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const a=i?()=>Promise.all(bR(r,i,t)):()=>Promise.resolve(),o=r.variantChildren&&r.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return wD(r,e,u+c,d,f,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(t.delay)])}function wD(r,e,t=0,n=0,i=1,s){const a=[],o=(r.variantChildren.size-1)*n,l=i===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(r.variantChildren).sort(AD).forEach((c,u)=>{c.notify("AnimationStart",e),a.push(xw(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function AD(r,e){return r.sortNodePosition(e)}function SD(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>xw(r,s,t));n=Promise.all(i)}else if(typeof e=="string")n=xw(r,e,t);else{const i=typeof e=="function"?Kv(r,e,t.custom):e;n=Promise.all(bR(r,i,t))}return n.then(()=>{r.notify("AnimationComplete",e)})}const _D=vA.length;function wR(r){if(!r)return;if(!r.isControllingVariants){const t=r.parent?wR(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}const e={};for(let t=0;t<_D;t++){const n=vA[t],i=r.props[n];(Nm(i)||i===!1)&&(e[n]=i)}return e}const MD=[...xA].reverse(),CD=xA.length;function ED(r){return e=>Promise.all(e.map(({animation:t,options:n})=>SD(r,t,n)))}function TD(r){let e=ED(r),t=RM(),n=!0;const i=l=>(c,u)=>{var d;const f=Kv(r,u,l==="exit"?(d=r.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:m,transitionEnd:v,...y}=f;c={...c,...y,...v}}return c};function s(l){e=l(r)}function a(l){const{props:c}=r,u=wR(r.parent)||{},d=[],f=new Set;let m={},v=1/0;for(let w=0;w<CD;w++){const b=MD[w],S=t[b],M=c[b]!==void 0?c[b]:u[b],E=Nm(M),T=b===l?S.isActive:null;T===!1&&(v=w);let R=M===u[b]&&M!==c[b]&&E;if(R&&n&&r.manuallyAnimateOnMount&&(R=!1),S.protectedKeys={...m},!S.isActive&&T===null||!M&&!S.prevProp||jv(M)||typeof M=="boolean")continue;const P=RD(S.prevProp,M);let k=P||b===l&&S.isActive&&!R&&E||w>v&&E,B=!1;const D=Array.isArray(M)?M:[M];let O=D.reduce(i(b),{});T===!1&&(O={});const{prevResolvedValues:V={}}=S,X={...V,...O},K=ae=>{k=!0,f.has(ae)&&(B=!0,f.delete(ae)),S.needsAnimating[ae]=!0;const z=r.getValue(ae);z&&(z.liveStyle=!1)};for(const ae in X){const z=O[ae],Q=V[ae];if(m.hasOwnProperty(ae))continue;let Z=!1;ow(z)&&ow(Q)?Z=!kT(z,Q):Z=z!==Q,Z?z!=null?K(ae):f.add(ae):z!==void 0&&f.has(ae)?K(ae):S.protectedKeys[ae]=!0}S.prevProp=M,S.prevResolvedValues=O,S.isActive&&(m={...m,...O}),n&&r.blockInitialAnimation&&(k=!1),k&&(!(R&&P)||B)&&d.push(...D.map(ae=>({animation:ae,options:{type:b}})))}if(f.size){const w={};f.forEach(b=>{const S=r.getBaseTarget(b),M=r.getValue(b);M&&(M.liveStyle=!0),w[b]=S??null}),d.push({animation:w})}let y=!!d.length;return n&&(c.initial===!1||c.initial===c.animate)&&!r.manuallyAnimateOnMount&&(y=!1),n=!1,y?e(d):Promise.resolve()}function o(l,c){var u;if(t[l].isActive===c)return Promise.resolve();(u=r.variantChildren)===null||u===void 0||u.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),t[l].isActive=c;const d=a(l);for(const f in t)t[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>t,reset:()=>{t=RM(),n=!0}}}function RD(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!kT(e,r):!1}function Bu(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function RM(){return{animate:Bu(!0),whileInView:Bu(),whileHover:Bu(),whileTap:Bu(),whileDrag:Bu(),whileFocus:Bu(),exit:Bu()}}class Xc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ID extends Xc{constructor(e){super(e),e.animationState||(e.animationState=TD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let PD=0;class kD extends Xc{constructor(){super(...arguments),this.id=PD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const LD={animation:{Feature:ID},exit:{Feature:kD}};function zm(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}function ug(r){return{point:{x:r.pageX,y:r.pageY}}}const BD=r=>e=>LA(e)&&r(e,ug(e));function Am(r,e,t,n){return zm(r,e,BD(t),n)}const IM=(r,e)=>Math.abs(r-e);function DD(r,e){const t=IM(r.x,e.x),n=IM(r.y,e.y);return Math.sqrt(t**2+n**2)}class AR{constructor(e,t,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=bb(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=DD(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=d,{timestamp:y}=Sr;this.history.push({...v,timestamp:y});const{onStart:w,onMove:b}=this.handlers;f||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=yb(f,this.transformPagePoint),Yn.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=bb(d.type==="pointercancel"?this.lastMoveEventInfo:yb(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,w),v&&v(d,w)},!LA(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const a=ug(e),o=yb(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=Sr;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=t;u&&u(e,bb(o,this.history)),this.removeListeners=cg(Am(this.contextWindow,"pointermove",this.handlePointerMove),Am(this.contextWindow,"pointerup",this.handlePointerUp),Am(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),uo(this.updatePoint)}}function yb(r,e){return e?{point:e(r.point)}:r}function PM(r,e){return{x:r.x-e.x,y:r.y-e.y}}function bb({point:r},e){return{point:r,delta:PM(r,SR(e)),offset:PM(r,FD(e)),velocity:ND(e,.1)}}function FD(r){return r[0]}function SR(r){return r[r.length-1]}function ND(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const i=SR(r);for(;t>=0&&(n=r[t],!(i.timestamp-n.timestamp>Bl(e)));)t--;if(!n)return{x:0,y:0};const s=Dl(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const _R=1e-4,OD=1-_R,UD=1+_R,MR=.01,zD=0-MR,HD=0+MR;function na(r){return r.max-r.min}function GD(r,e,t){return Math.abs(r-e)<=t}function kM(r,e,t,n=.5){r.origin=n,r.originPoint=Ei(e.min,e.max,r.origin),r.scale=na(t)/na(e),r.translate=Ei(t.min,t.max,r.origin)-r.originPoint,(r.scale>=OD&&r.scale<=UD||isNaN(r.scale))&&(r.scale=1),(r.translate>=zD&&r.translate<=HD||isNaN(r.translate))&&(r.translate=0)}function Sm(r,e,t,n){kM(r.x,e.x,t.x,n?n.originX:void 0),kM(r.y,e.y,t.y,n?n.originY:void 0)}function LM(r,e,t){r.min=t.min+e.min,r.max=r.min+na(e)}function VD(r,e,t){LM(r.x,e.x,t.x),LM(r.y,e.y,t.y)}function BM(r,e,t){r.min=e.min-t.min,r.max=r.min+na(e)}function _m(r,e,t){BM(r.x,e.x,t.x),BM(r.y,e.y,t.y)}function WD(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?Ei(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?Ei(t,r,n.max):Math.min(r,t)),r}function DM(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function XD(r,{top:e,left:t,bottom:n,right:i}){return{x:DM(r.x,t,i),y:DM(r.y,e,n)}}function FM(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function YD(r,e){return{x:FM(r.x,e.x),y:FM(r.y,e.y)}}function jD(r,e){let t=.5;const n=na(r),i=na(e);return i>n?t=Ah(e.min,e.max-n,r.min):n>i&&(t=Ah(r.min,r.max-i,e.min)),No(0,1,t)}function JD(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const vw=.35;function KD(r=vw){return r===!1?r=0:r===!0&&(r=vw),{x:NM(r,"left","right"),y:NM(r,"top","bottom")}}function NM(r,e,t){return{min:OM(r,e),max:OM(r,t)}}function OM(r,e){return typeof r=="number"?r:r[e]||0}const UM=()=>({translate:0,scale:1,origin:0,originPoint:0}),hf=()=>({x:UM(),y:UM()}),zM=()=>({min:0,max:0}),Hi=()=>({x:zM(),y:zM()});function ba(r){return[r("x"),r("y")]}function CR({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function ZD({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function qD(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function wb(r){return r===void 0||r===1}function yw({scale:r,scaleX:e,scaleY:t}){return!wb(r)||!wb(e)||!wb(t)}function Ku(r){return yw(r)||ER(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function ER(r){return HM(r.x)||HM(r.y)}function HM(r){return r&&r!=="0%"}function Q0(r,e,t){const n=r-t,i=e*n;return t+i}function GM(r,e,t,n,i){return i!==void 0&&(r=Q0(r,i,n)),Q0(r,t,n)+e}function bw(r,e=0,t=1,n,i){r.min=GM(r.min,e,t,n,i),r.max=GM(r.max,e,t,n,i)}function TR(r,{x:e,y:t}){bw(r.x,e.translate,e.scale,e.originPoint),bw(r.y,t.translate,t.scale,t.originPoint)}const VM=.999999999999,WM=1.0000000000001;function QD(r,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=t[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ff(r,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,TR(r,a)),n&&Ku(s.latestValues)&&ff(r,s.latestValues))}e.x<WM&&e.x>VM&&(e.x=1),e.y<WM&&e.y>VM&&(e.y=1)}function df(r,e){r.min=r.min+e,r.max=r.max+e}function XM(r,e,t,n,i=.5){const s=Ei(r.min,r.max,i);bw(r,e,t,s,n)}function ff(r,e){XM(r.x,e.x,e.scaleX,e.scale,e.originX),XM(r.y,e.y,e.scaleY,e.scale,e.originY)}function RR(r,e){return CR(qD(r.getBoundingClientRect(),e))}function $D(r,e,t){const n=RR(r,t),{scroll:i}=e;return i&&(df(n.x,i.offset.x),df(n.y,i.offset.y)),n}const IR=({current:r})=>r?r.ownerDocument.defaultView:null,eF=new WeakMap;class tF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hi(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ug(u).point)},s=(u,d)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZL(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ba(w=>{let b=this.getAxisMotionValue(w).get()||0;if(ko.test(b)){const{projection:S}=this.visualElement;if(S&&S.layout){const M=S.layout.layoutBox[w];M&&(b=na(M)*(parseFloat(b)/100))}}this.originPoint[w]=b}),v&&Yn.postRender(()=>v(u,d)),uw(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(u,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=d;if(m&&this.currentDirection===null){this.currentDirection=nF(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),y&&y(u,d)},o=(u,d)=>this.stop(u,d),l=()=>ba(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new AR(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:IR(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Yn.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!Px(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=WD(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&cf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=XD(i.layoutBox,t):this.constraints=!1,this.elastic=KD(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ba(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=JD(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!cf(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=$D(n,i.root,this.visualElement.getTransformPagePoint());let a=YD(i.layout.layoutBox,s);if(t){const o=t(ZD(a));this.hasMutatedConstraints=!!o,o&&(a=CR(o))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=ba(u=>{if(!Px(u,t,this.currentDirection))return;let d=l[u]||{};a&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:n?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return uw(this.visualElement,e),n.start(jA(e,n,0,t,this.visualElement,!1))}stopAnimation(){ba(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ba(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ba(t=>{const{drag:n}=this.getProps();if(!Px(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[t];s.set(e[t]-Ei(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!cf(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ba(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=jD({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ba(a=>{if(!Px(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Ei(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;eF.set(this.visualElement,this);const e=this.visualElement.current,t=Am(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();cf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Yn.read(n);const a=zm(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ba(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),t(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=vw,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Px(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function nF(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class iF extends Xc{constructor(e){super(e),this.removeGroupControls=bs,this.removeListeners=bs,this.controls=new tF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bs}unmount(){this.removeGroupControls(),this.removeListeners()}}const YM=r=>(e,t)=>{r&&Yn.postRender(()=>r(e,t))};class rF extends Xc{constructor(){super(...arguments),this.removePointerDownListener=bs}onPointerDown(e){this.session=new AR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:YM(e),onStart:YM(t),onMove:n,onEnd:(s,a)=>{delete this.session,i&&Yn.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Am(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const B0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jM(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const jp={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(rn.test(r))r=parseFloat(r);else return r;const t=jM(r,e.target.x),n=jM(r,e.target.y);return`${t}% ${n}%`}},sF={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,i=Nc.parse(r);if(i.length>5)return n;const s=Nc.createTransformer(r),a=typeof i[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Ei(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};class aF extends de.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;PL(oF),s&&(t.group&&t.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),B0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:s}=this.props,a=n.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Yn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),bA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function PR(r){const[e,t]=Y3(),n=de.useContext(fT);return ue.jsx(aF,{...r,layoutGroup:n,switchLayoutGroup:de.useContext(yT),isPresent:e,safeToRemove:t})}const oF={borderRadius:{...jp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jp,borderTopRightRadius:jp,borderBottomLeftRadius:jp,borderBottomRightRadius:jp,boxShadow:sF};function lF(r,e,t){const n=es(r)?r:Io(r);return n.start(jA("",n,e,t)),n.animation}function cF(r){return r instanceof SVGElement&&r.tagName!=="svg"}const uF=(r,e)=>r.depth-e.depth;class hF{constructor(){this.children=[],this.isDirty=!1}add(e){BA(this.children,e),this.isDirty=!0}remove(e){DA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uF),this.isDirty=!1,this.children.forEach(e)}}function dF(r,e){const t=Lo.now(),n=({timestamp:i})=>{const s=i-t;s>=e&&(uo(n),r(s-e))};return Yn.read(n,!0),()=>uo(n)}const kR=["TopLeft","TopRight","BottomLeft","BottomRight"],fF=kR.length,JM=r=>typeof r=="string"?parseFloat(r):r,KM=r=>typeof r=="number"||rn.test(r);function pF(r,e,t,n,i,s){i?(r.opacity=Ei(0,t.opacity!==void 0?t.opacity:1,mF(n)),r.opacityExit=Ei(e.opacity!==void 0?e.opacity:1,0,gF(n))):s&&(r.opacity=Ei(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let a=0;a<fF;a++){const o=`border${kR[a]}Radius`;let l=ZM(e,o),c=ZM(t,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||KM(l)===KM(c)?(r[o]=Math.max(Ei(JM(l),JM(c),n),0),(ko.test(c)||ko.test(l))&&(r[o]+="%")):r[o]=c}(e.rotate||t.rotate)&&(r.rotate=Ei(e.rotate||0,t.rotate||0,n))}function ZM(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const mF=LR(0,.5,ZT),gF=LR(.5,.95,bs);function LR(r,e,t){return n=>n<r?0:n>e?1:t(Ah(r,e,n))}function qM(r,e){r.min=e.min,r.max=e.max}function ga(r,e){qM(r.x,e.x),qM(r.y,e.y)}function QM(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function $M(r,e,t,n,i){return r-=e,r=Q0(r,1/t,n),i!==void 0&&(r=Q0(r,1/i,n)),r}function xF(r,e=0,t=1,n=.5,i,s=r,a=r){if(ko.test(e)&&(e=parseFloat(e),e=Ei(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Ei(s.min,s.max,n);r===s&&(o-=e),r.min=$M(r.min,e,t,o,i),r.max=$M(r.max,e,t,o,i)}function eC(r,e,[t,n,i],s,a){xF(r,e[t],e[n],e[i],e.scale,s,a)}const vF=["x","scaleX","originX"],yF=["y","scaleY","originY"];function tC(r,e,t,n){eC(r.x,e,vF,t?t.x:void 0,n?n.x:void 0),eC(r.y,e,yF,t?t.y:void 0,n?n.y:void 0)}function nC(r){return r.translate===0&&r.scale===1}function BR(r){return nC(r.x)&&nC(r.y)}function iC(r,e){return r.min===e.min&&r.max===e.max}function bF(r,e){return iC(r.x,e.x)&&iC(r.y,e.y)}function rC(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function DR(r,e){return rC(r.x,e.x)&&rC(r.y,e.y)}function sC(r){return na(r.x)/na(r.y)}function aC(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}class wF{constructor(){this.members=[]}add(e){BA(this.members,e),e.scheduleRender()}remove(e){if(DA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AF(r,e,t){let n="";const i=r.x.translate/e.x,s=r.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:m,skewY:v}=t;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),d&&(n+=`rotateX(${d}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),v&&(n+=`skewY(${v}deg) `)}const o=r.x.scale*e.x,l=r.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const Zu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},mm=typeof window<"u"&&window.MotionDebug!==void 0,Ab=["","X","Y","Z"],SF={visibility:"hidden"},oC=1e3;let _F=0;function Sb(r,e,t,n){const{latestValues:i}=e;i[r]&&(t[r]=i[r],e.setStaticValue(r,0),n&&(n[r]=0))}function FR(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:e}=r.options;if(!e)return;const t=VT(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",Yn,!(i||s))}const{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&FR(n)}function NR({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=_F++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,mm&&(Zu.totalNodes=Zu.resolvedTargetDeltas=Zu.recalculatedProjection=0),this.nodes.forEach(EF),this.nodes.forEach(kF),this.nodes.forEach(LF),this.nodes.forEach(TF),mm&&window.MotionDebug.record(Zu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hF)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new FA),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=cF(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),r){let d;const f=()=>this.root.updateBlockedByResize=!1;r(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=dF(f,250),B0.hasAnimatedSinceResize&&(B0.hasAnimatedSinceResize=!1,this.nodes.forEach(cC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||OF,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=u.getProps(),S=!this.targetLayout||!DR(this.targetLayout,v),M=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||f&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,M);const E={...IA(y,"layout"),onPlay:w,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else f||cC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,uo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BF),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lC);return}this.isUpdating||this.nodes.forEach(IF),this.isUpdating=!1,this.nodes.forEach(PF),this.nodes.forEach(MF),this.nodes.forEach(CF),this.clearAllSnapshots();const o=Lo.now();Sr.delta=No(0,1e3/60,o-Sr.timestamp),Sr.timestamp=o,Sr.isProcessing=!0,pb.update.process(Sr),pb.preRender.process(Sr),pb.render.process(Sr),Sr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RF),this.sharedNodes.forEach(DF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!BR(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&(o||Ku(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),UF(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Hi();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(zF))){const{scroll:u}=this.root;u&&(df(l.x,u.offset.x),df(l.y,u.offset.y))}return l}removeElementScroll(a){var o;const l=Hi();if(ga(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&ga(l,a),df(l.x,d.offset.x),df(l.y,d.offset.y))}return l}applyTransform(a,o=!1){const l=Hi();ga(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ff(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ku(u.latestValues)&&ff(l,u.latestValues)}return Ku(this.latestValues)&&ff(l,this.latestValues),l}removeTransform(a){const o=Hi();ga(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ku(c.latestValues))continue;yw(c.latestValues)&&c.updateSnapshot();const u=Hi(),d=c.measurePageBox();ga(u,d),tC(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ku(this.latestValues)&&tC(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Sr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hi(),this.relativeTargetOrigin=Hi(),_m(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ga(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Hi(),this.targetWithTransforms=Hi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ga(this.target,this.layout.layoutBox),TR(this.target,this.targetDelta)):ga(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hi(),this.relativeTargetOrigin=Hi(),_m(this.relativeTargetOrigin,this.target,m.target),ga(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}mm&&Zu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||yw(this.parent.latestValues)||ER(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Sr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ga(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;QD(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Hi());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QM(this.prevProjectionDelta.x,this.projectionDelta.x),QM(this.prevProjectionDelta.y,this.projectionDelta.y)),Sm(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!aC(this.projectionDelta.x,this.prevProjectionDelta.x)||!aC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),mm&&Zu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hf(),this.projectionDelta=hf(),this.projectionDeltaWithTransform=hf()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=hf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Hi(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=m!==v,w=this.getStack(),b=!w||w.members.length<=1,S=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(NF));this.animationProgress=0;let M;this.mixTargetDelta=E=>{const T=E/1e3;uC(d.x,a.x,T),uC(d.y,a.y,T),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_m(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FF(this.relativeTarget,this.relativeTargetOrigin,f,T),M&&bF(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Hi()),ga(M,this.relativeTarget)),y&&(this.animationValues=u,pF(u,c,this.latestValues,T,S,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(uo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yn.update(()=>{B0.hasAnimatedSinceResize=!0,this.currentAnimation=lF(0,oC,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&OR(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Hi();const d=na(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const f=na(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}ga(o,l),ff(o,u),Sm(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new wF),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Sb("z",a,c,this.animationValues);for(let u=0;u<Ab.length;u++)Sb(`rotate${Ab[u]}`,a,c,this.animationValues),Sb(`skew${Ab[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return SF;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=k0(a==null?void 0:a.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=k0(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ku(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=AF(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in j0){if(f[y]===void 0)continue;const{correct:w,applyTo:b}=j0[y],S=c.transform==="none"?f[y]:w(f[y],d);if(b){const M=b.length;for(let E=0;E<M;E++)c[b[E]]=S}else c[y]=S}return this.options.layoutId&&(c.pointerEvents=d===this?k0(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(lC),this.root.sharedNodes.clear()}}}function MF(r){r.updateLayout()}function CF(r){var e;const t=((e=r.resumeFrom)===null||e===void 0?void 0:e.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=r.layout,{animationType:s}=r.options,a=t.source!==r.layout.source;s==="size"?ba(d=>{const f=a?t.measuredBox[d]:t.layoutBox[d],m=na(f);f.min=n[d].min,f.max=f.min+m}):OR(s,t.layoutBox,n)&&ba(d=>{const f=a?t.measuredBox[d]:t.layoutBox[d],m=na(n[d]);f.max=f.min+m,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[d].max=r.relativeTarget[d].min+m)});const o=hf();Sm(o,n,t.layoutBox);const l=hf();a?Sm(l,r.applyTransform(i,!0),t.measuredBox):Sm(l,n,t.layoutBox);const c=!BR(o);let u=!1;if(!r.resumeFrom){const d=r.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const v=Hi();_m(v,t.layoutBox,f.layoutBox);const y=Hi();_m(y,n,m.layoutBox),DR(v,y)||(u=!0),d.options.layoutRoot&&(r.relativeTarget=y,r.relativeTargetOrigin=v,r.relativeParent=d)}}}r.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(r.isLead()){const{onExitComplete:n}=r.options;n&&n()}r.options.transition=void 0}function EF(r){mm&&Zu.totalNodes++,r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function TF(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function RF(r){r.clearSnapshot()}function lC(r){r.clearMeasurements()}function IF(r){r.isLayoutDirty=!1}function PF(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function cC(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function kF(r){r.resolveTargetDelta()}function LF(r){r.calcProjection()}function BF(r){r.resetSkewAndRotation()}function DF(r){r.removeLeadSnapshot()}function uC(r,e,t){r.translate=Ei(e.translate,0,t),r.scale=Ei(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function hC(r,e,t,n){r.min=Ei(e.min,t.min,n),r.max=Ei(e.max,t.max,n)}function FF(r,e,t,n){hC(r.x,e.x,t.x,n),hC(r.y,e.y,t.y,n)}function NF(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const OF={duration:.45,ease:[.4,0,.1,1]},dC=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),fC=dC("applewebkit/")&&!dC("chrome/")?Math.round:bs;function pC(r){r.min=fC(r.min),r.max=fC(r.max)}function UF(r){pC(r.x),pC(r.y)}function OR(r,e,t){return r==="position"||r==="preserve-aspect"&&!GD(sC(e),sC(t),.2)}function zF(r){var e;return r!==r.root&&((e=r.scroll)===null||e===void 0?void 0:e.wasRoot)}const HF=NR({attachResizeListener:(r,e)=>zm(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_b={current:void 0},UR=NR({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!_b.current){const r=new HF({});r.mount(window),r.setOptions({layoutScroll:!0}),_b.current=r}return _b.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),GF={pan:{Feature:rF},drag:{Feature:iF,ProjectionNode:UR,MeasureLayout:PR}};function mC(r,e,t){const{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=n[i];s&&Yn.postRender(()=>s(e,ug(e)))}class VF extends Xc{mount(){const{current:e}=this.node;e&&(this.unmount=XL(e,(t,n)=>(mC(this.node,n,"Start"),i=>mC(this.node,i,"End"))))}unmount(){}}class WF extends Xc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cg(zm(this.node.current,"focus",()=>this.onFocus()),zm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gC(r,e,t){const{props:n}=r;r.animationState&&n.whileTap&&r.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=n[i];s&&Yn.postRender(()=>s(e,ug(e)))}class XF extends Xc{mount(){const{current:e}=this.node;e&&(this.unmount=KL(e,(t,n)=>(gC(this.node,n,"Start"),(i,{success:s})=>gC(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ww=new WeakMap,Mb=new WeakMap,YF=r=>{const e=ww.get(r.target);e&&e(r)},jF=r=>{r.forEach(YF)};function JF({root:r,...e}){const t=r||document;Mb.has(t)||Mb.set(t,{});const n=Mb.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(jF,{root:r,...e})),n[i]}function KF(r,e,t){const n=JF(e);return ww.set(r,t),n.observe(r),()=>{ww.delete(r),n.unobserve(r)}}const ZF={some:0,all:1};class qF extends Xc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:ZF[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return KF(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(QF(e,t))&&this.startObserver()}unmount(){}}function QF({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const $F={inView:{Feature:qF},tap:{Feature:XF},focus:{Feature:WF},hover:{Feature:VF}},eN={layout:{ProjectionNode:UR,MeasureLayout:PR}},Aw={current:null},zR={current:!1};function tN(){if(zR.current=!0,!!pA)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>Aw.current=r.matches;r.addListener(e),e()}else Aw.current=!1}const nN=[...uR,$r,Nc],iN=r=>nN.find(cR(r)),xC=new WeakMap;function rN(r,e,t){for(const n in e){const i=e[n],s=t[n];if(es(i))r.addValue(n,i);else if(es(s))r.addValue(n,Io(i,{owner:r}));else if(s!==i)if(r.hasValue(n)){const a=r.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=r.getStaticValue(n);r.addValue(n,Io(a!==void 0?a:i,{owner:r}))}}for(const n in t)e[n]===void 0&&r.removeValue(n);return e}const vC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sN{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=VA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Lo.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Yn.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=a;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Jv(t),this.isVariantNode=xT(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(t,{},this);for(const m in f){const v=f[m];l[m]!==void 0&&es(v)&&v.set(l[m],!1)}}mount(e){this.current=e,xC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),zR.current||tN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Aw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xC.delete(this.current),this.projection&&this.projection.unmount(),uo(this.notifyUpdate),uo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Lh.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Yn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _f){const t=_f[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<vC.length;n++){const i=vC[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=rN(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Io(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(oR(i)||QT(i))?i=parseFloat(i):!iN(i)&&Nc.test(t)&&(i=rR(e,t)),this.setBaseTarget(e,es(i)?i.get():i)),es(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=AA(this.props,n,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(i=a[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!es(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new FA),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class HR extends sN{constructor(){super(...arguments),this.KeyframeResolver=hR}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;es(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function aN(r){return window.getComputedStyle(r)}class oN extends HR{constructor(){super(...arguments),this.type="html",this.renderInstance=CT}readValueFromInstance(e,t){if(Lh.has(t)){const n=GA(t);return n&&n.default||0}else{const n=aN(e),i=(ST(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return RR(e,t)}build(e,t,n){MA(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return RA(e,t,n)}}class lN extends HR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hi}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Lh.has(t)){const n=GA(t);return n&&n.default||0}return t=ET.has(t)?t:yA(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return IT(e,t,n)}build(e,t,n){CA(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,i){TT(e,t,n,i)}mount(e){this.isSVGTag=TA(e.tagName),super.mount(e)}}const cN=(r,e)=>wA(r)?new lN(e):new oN(e,{allowProjection:r!==de.Fragment}),uN=zL({...LD,...$F,...GF,...eN},cN),cr=tL(uN);function GR(r,e){let t;const n=()=>{const{currentTime:i}=e,a=(i===null?0:i.value)/100;t!==a&&r(a),t=a};return Yn.update(n,!0),()=>uo(n)}const D0=new WeakMap;let Rc;function hN(r,e){if(e){const{inlineSize:t,blockSize:n}=e[0];return{width:t,height:n}}else return r instanceof SVGElement&&"getBBox"in r?r.getBBox():{width:r.offsetWidth,height:r.offsetHeight}}function dN({target:r,contentRect:e,borderBoxSize:t}){var n;(n=D0.get(r))===null||n===void 0||n.forEach(i=>{i({target:r,contentSize:e,get size(){return hN(r,t)}})})}function fN(r){r.forEach(dN)}function pN(){typeof ResizeObserver>"u"||(Rc=new ResizeObserver(fN))}function mN(r,e){Rc||pN();const t=UT(r);return t.forEach(n=>{let i=D0.get(n);i||(i=new Set,D0.set(n,i)),i.add(e),Rc==null||Rc.observe(n)}),()=>{t.forEach(n=>{const i=D0.get(n);i==null||i.delete(e),i!=null&&i.size||Rc==null||Rc.unobserve(n)})}}const F0=new Set;let Mm;function gN(){Mm=()=>{const r={width:window.innerWidth,height:window.innerHeight},e={target:window,size:r,contentSize:r};F0.forEach(t=>t(e))},window.addEventListener("resize",Mm)}function xN(r){return F0.add(r),Mm||gN(),()=>{F0.delete(r),!F0.size&&Mm&&(Mm=void 0)}}function vN(r,e){return typeof r=="function"?xN(r):mN(r,e)}const yN=50,yC=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),bN=()=>({time:0,x:yC(),y:yC()}),wN={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function bC(r,e,t,n){const i=t[e],{length:s,position:a}=wN[e],o=i.current,l=t.time;i.current=r[`scroll${a}`],i.scrollLength=r[`scroll${s}`]-r[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Ah(0,i.scrollLength,i.current);const c=n-l;i.velocity=c>yN?0:NA(i.current-o,c)}function AN(r,e,t){bC(r,"x",e,t),bC(r,"y",e,t),e.time=t}function SN(r,e){const t={x:0,y:0};let n=r;for(;n&&n!==e;)if(n instanceof HTMLElement)t.x+=n.offsetLeft,t.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const s=n.getBoundingClientRect();t.x+=i.left-s.left,t.y+=i.top-s.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:s}=n.getBBox();t.x+=i,t.y+=s;let a=null,o=n.parentNode;for(;!a;)o.tagName==="svg"&&(a=o),o=n.parentNode;n=a}else break;return t}const Sw={start:0,center:.5,end:1};function wC(r,e,t=0){let n=0;if(r in Sw&&(r=Sw[r]),typeof r=="string"){const i=parseFloat(r);r.endsWith("px")?n=i:r.endsWith("%")?r=i/100:r.endsWith("vw")?n=i/100*document.documentElement.clientWidth:r.endsWith("vh")?n=i/100*document.documentElement.clientHeight:r=i}return typeof r=="number"&&(n=e*r),t+n}const _N=[0,0];function MN(r,e,t,n){let i=Array.isArray(r)?r:_N,s=0,a=0;return typeof r=="number"?i=[r,r]:typeof r=="string"&&(r=r.trim(),r.includes(" ")?i=r.split(" "):i=[r,Sw[r]?r:"0"]),s=wC(i[0],t,n),a=wC(i[1],e),s-a}const CN={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},EN={x:0,y:0};function TN(r){return"getBBox"in r&&r.tagName!=="svg"?r.getBBox():{width:r.clientWidth,height:r.clientHeight}}function RN(r,e,t){const{offset:n=CN.All}=t,{target:i=r,axis:s="y"}=t,a=s==="y"?"height":"width",o=i!==r?SN(i,r):EN,l=i===r?{width:r.scrollWidth,height:r.scrollHeight}:TN(i),c={width:r.clientWidth,height:r.clientHeight};e[s].offset.length=0;let u=!e[s].interpolate;const d=n.length;for(let f=0;f<d;f++){const m=MN(n[f],c[a],l[a],o[s]);!u&&m!==e[s].interpolatorOffsets[f]&&(u=!0),e[s].offset[f]=m}u&&(e[s].interpolate=XA(e[s].offset,vR(n),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=No(0,1,e[s].interpolate(e[s].current))}function IN(r,e=r,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==r){let n=e;for(;n&&n!==r;)t.x.targetOffset+=n.offsetLeft,t.y.targetOffset+=n.offsetTop,n=n.offsetParent}t.x.targetLength=e===r?e.scrollWidth:e.clientWidth,t.y.targetLength=e===r?e.scrollHeight:e.clientHeight,t.x.containerLength=r.clientWidth,t.y.containerLength=r.clientHeight}function PN(r,e,t,n={}){return{measure:()=>IN(r,n.target,t),update:i=>{AN(r,t,i),(n.offset||n.target)&&RN(r,t,n)},notify:()=>e(t)}}const Jp=new WeakMap,AC=new WeakMap,Cb=new WeakMap,SC=r=>r===document.documentElement?window:r;function JA(r,{container:e=document.documentElement,...t}={}){let n=Cb.get(e);n||(n=new Set,Cb.set(e,n));const i=bN(),s=PN(e,r,i,t);if(n.add(s),!Jp.has(e)){const o=()=>{for(const f of n)f.measure()},l=()=>{for(const f of n)f.update(Sr.timestamp)},c=()=>{for(const f of n)f.notify()},u=()=>{Yn.read(o,!1,!0),Yn.read(l,!1,!0),Yn.update(c,!1,!0)};Jp.set(e,u);const d=SC(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&AC.set(e,vN(e,u)),d.addEventListener("scroll",u,{passive:!0})}const a=Jp.get(e);return Yn.read(a,!1,!0),()=>{var o;uo(a);const l=Cb.get(e);if(!l||(l.delete(s),l.size))return;const c=Jp.get(e);Jp.delete(e),c&&(SC(e).removeEventListener("scroll",c),(o=AC.get(e))===null||o===void 0||o(),window.removeEventListener("resize",c))}}function kN({source:r,container:e,axis:t="y"}){r&&(e=r);const n={value:0},i=JA(s=>{n.value=s[t].progress*100},{container:e,axis:t});return{currentTime:n,cancel:i}}const Eb=new Map;function VR({source:r,container:e=document.documentElement,axis:t="y"}={}){r&&(e=r),Eb.has(e)||Eb.set(e,{});const n=Eb.get(e);return n[t]||(n[t]=LT()?new ScrollTimeline({source:e,axis:t}):kN({source:e,axis:t})),n[t]}function LN(r){return r.length===2}function WR(r){return r&&(r.target||r.offset)}function BN(r,e){return LN(r)||WR(e)?JA(t=>{r(t[e.axis].progress,t)},e):GR(r,VR(e))}function DN(r,e){if(r.flatten(),WR(e))return r.pause(),JA(t=>{r.time=r.duration*t[e.axis].progress},e);{const t=VR(e);return r.attachTimeline?r.attachTimeline(t,n=>(n.pause(),GR(i=>{n.time=n.duration*i},t))):bs}}function FN(r,{axis:e="y",...t}={}){const n={axis:e,...t};return typeof r=="function"?BN(r,n):DN(r,n)}function _C(r,e){j3(!!(!e||e.current))}const NN=()=>({scrollX:Io(0),scrollY:Io(0),scrollXProgress:Io(0),scrollYProgress:Io(0)});function hg({container:r,target:e,layoutEffect:t=!0,...n}={}){const i=Xv(NN);return(t?mA:de.useEffect)(()=>(_C("target",e),_C("container",r),FN((a,{x:o,y:l})=>{i.scrollX.set(o.current),i.scrollXProgress.set(o.progress),i.scrollY.set(l.current),i.scrollYProgress.set(l.progress)},{...n,container:(r==null?void 0:r.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[r,e,JSON.stringify(n.offset)]),i}function ON(r){const e=Xv(()=>Io(r)),{isStatic:t}=de.useContext(fA);if(t){const[,n]=de.useState(r);de.useEffect(()=>e.on("change",n),[])}return e}function XR(r,e){const t=ON(e()),n=()=>t.set(e());return n(),mA(()=>{const i=()=>Yn.preRender(n,!1,!0),s=r.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),uo(n)}}),t}const UN=r=>r&&typeof r=="object"&&r.mix,zN=r=>UN(r)?r.mix:void 0;function HN(...r){const e=!Array.isArray(r[0]),t=e?0:-1,n=r[0+t],i=r[1+t],s=r[2+t],a=r[3+t],o=XA(i,s,{mixer:zN(s[0]),...a});return e?o(n):o}function GN(r){bm.current=[],r();const e=XR(bm.current,r);return bm.current=void 0,e}function qi(r,e,t,n){if(typeof r=="function")return GN(r);const i=typeof e=="function"?e:HN(e,t,n);return Array.isArray(r)?MC(r,i):MC([r],([s])=>i(s))}function MC(r,e){const t=Xv(()=>[]);return XR(r,()=>{t.length=0;const n=r.length;for(let i=0;i<n;i++)t[i]=r[i].get();return e(t)})}const VN="/myPortfolio/assets/logo-DQTzrbhF.png",WN="/myPortfolio/assets/sun-BJd0ZiWd.svg",XN="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.6667%2010C16.6661%2012.3334%2017.2779%2014.6262%2018.441%2016.6491C19.6041%2018.672%2021.2776%2020.3543%2023.2945%2021.5278C25.3114%2022.7014%2027.601%2023.325%2029.9344%2023.3365C32.2678%2023.348%2034.5634%2022.7469%2036.5917%2021.5933C35.79%2030.05%2028.6667%2036.6667%2020%2036.6667C10.795%2036.6667%203.33337%2029.205%203.33337%2020C3.33337%2011.3333%209.95004%204.21%2018.4067%203.40833C17.2626%205.41656%2016.6628%207.68875%2016.6667%2010ZM6.66671%2020C6.66671%2023.5362%208.07147%2026.9276%2010.572%2029.4281C13.0724%2031.9286%2016.4638%2033.3333%2020%2033.3333C22.3558%2033.3332%2024.6696%2032.7094%2026.7062%2031.5252C28.7427%2030.3411%2030.4295%2028.6389%2031.595%2026.5917C31.0684%2026.6417%2030.535%2026.6667%2030%2026.6667C20.795%2026.6667%2013.3334%2019.205%2013.3334%2010C13.3334%209.465%2013.3584%208.93333%2013.4084%208.405C11.3611%209.57054%209.65892%2011.2573%208.4748%2013.2939C7.29068%2015.3304%206.66685%2017.6442%206.66671%2020ZM30.2734%203.81833L31.6667%204.16667V5.83333L30.2734%206.18167C29.6874%206.32822%2029.1522%206.63126%2028.7251%207.05838C28.298%207.48551%2027.9949%208.02067%2027.8484%208.60667L27.5%2010H25.8334L25.485%208.60667C25.3385%208.02067%2025.0355%207.48551%2024.6083%207.05838C24.1812%206.63126%2023.646%206.32822%2023.06%206.18167L21.6667%205.83333V4.16667L23.06%203.81833C23.6457%203.67151%2024.1805%203.36836%2024.6074%202.94125C25.0342%202.51415%2025.337%201.97913%2025.4834%201.39333L25.8334%200H27.5L27.8484%201.39333C27.9949%201.97933%2028.298%202.51449%2028.7251%202.94162C29.1522%203.36874%2029.6874%203.67178%2030.2734%203.81833ZM38.6067%2012.1517L40%2012.5V14.1667L38.6067%2014.515C38.0207%2014.6616%2037.4855%2014.9646%2037.0584%2015.3917C36.6313%2015.8188%2036.3283%2016.354%2036.1817%2016.94L35.8334%2018.3333H34.1667L33.8184%2016.94C33.6718%2016.354%2033.3688%2015.8188%2032.9417%2015.3917C32.5145%2014.9646%2031.9794%2014.6616%2031.3934%2014.515L30%2014.1667V12.5L31.3934%2012.1517C31.9794%2012.0051%2032.5145%2011.7021%2032.9417%2011.275C33.3688%2010.8478%2033.6718%2010.3127%2033.8184%209.72667L34.1667%208.33333H35.8334L36.1817%209.72667C36.3283%2010.3127%2036.6313%2010.8478%2037.0584%2011.275C37.4855%2011.7021%2038.0207%2012.0051%2038.6067%2012.1517Z'%20fill='%23B771E5'/%3e%3c/svg%3e",YN="data:image/svg+xml,%3csvg%20width='63'%20height='63'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20%207.5H32'%20stroke='%230C0C0C'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13%2018H32.5'%20stroke='%230C0C0C'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5%2028.5H32'%20stroke='%230C0C0C'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",KA=de.createContext(),jN=({children:r})=>{const[e,t]=de.useState(()=>{const i=localStorage.getItem("theme");return i==="dark"||!i&&window.matchMedia("(prefers-color-scheme: dark)").matches||!i});de.useEffect(()=>{e?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light"),localStorage.setItem("theme","dark")):(document.documentElement.classList.add("light"),document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[e]);const n=()=>t(i=>!i);return ue.jsx(KA.Provider,{value:{isDarkMode:e,toggleTheme:n},children:r})},CC=[{name:"About Me",id:"about-me"},{name:"Skills",id:"skills"},{name:"Projects",id:"projects"},{name:"Contact",id:"contact"}],JN=()=>{const{isDarkMode:r,toggleTheme:e}=de.useContext(KA),[t,n]=de.useState(!1);return ue.jsx(ue.Fragment,{children:ue.jsxs("nav",{className:"navBgLight dark:navBgDark relative z-50 flex w-full justify-between rounded-full p-4",children:[ue.jsxs("div",{className:"flex items-center gap-3",children:[ue.jsx("div",{className:"h-32 w-32 rounded-full max-md:max-h-24 max-md:max-w-24",children:ue.jsx("img",{className:"w-full scale-90 rounded-full",src:VN,alt:"logo"})}),ue.jsxs("span",{className:"font-iranM text-5xl tracking-[-.06em] text-bgColor max-sm:hidden",children:["Farshad"," ",ue.jsx("span",{className:"font-poppinsB tracking-wide text-[#e19c26] dark:text-mainYellow",children:"Bahari"})]})]}),ue.jsxs("div",{className:"flex items-center gap-3",children:[ue.jsx("div",{className:"flex h-32 w-52 cursor-pointer items-center rounded-full bg-bgColor px-6 max-md:max-h-20 max-md:w-44",onClick:e,children:ue.jsx(cr.img,{className:"w-18 max-md:w-12",src:r?`${XN}`:`${WN}`,alt:"sun-icon",variants:{moon:{x:56},sun:{x:0}},initial:"sun",animate:r?"moon":"sun",exit:"sun"})}),ue.jsxs("div",{className:"relative flex h-32 max-w-80 items-center rounded-full bg-bgColor max-md:max-h-24 max-md:max-w-24 max-md:bg-mainYellow",children:[ue.jsx("span",{className:"ml-6 w-full font-poppins text-[2.8rem] max-md:hidden",children:"Menu"}),ue.jsx("div",{className:"flex h-full cursor-pointer items-center justify-center rounded-[100%] bg-mainYellow p-9",onClick:()=>n(i=>!i),children:ue.jsx("img",{className:"flex max-md:scale-[2]",src:YN,alt:"icon-menu"})}),ue.jsx(cr.div,{className:"absolute right-0 top-full !z-50 mt-3 min-h-[100px] w-[20rem] rounded-xl bg-[#2e2d2d] px-12 py-9",variants:{open:{opacity:1,y:0,transition:{staggerChildren:.1}},close:{opacity:0,y:20,transition:{staggerChildren:.1,staggerDirection:-1,delay:(CC.length-2)*.15}}},initial:"close",animate:t?"open":"close",children:ue.jsx(cr.ul,{className:"flex h-full w-full flex-col items-start divide-y divide-[#555555] font-poppins text-[1.7rem]",children:CC.map((i,s)=>ue.jsx(cr.li,{className:"w-full cursor-pointer rounded-md px-9 py-5 hover:bg-[#febb01c6]",onClick:()=>{const a=document.getElementById(i.id);a&&a.scrollIntoView({behavior:"smooth"}),n(!1)},variants:{open:{opacity:1,x:0},close:{opacity:0,x:-20}},children:i.name},s))})})]})]})]})})},KN="/myPortfolio/assets/hi-DSubLlRM.svg",ZN="/myPortfolio/assets/bg-vector-BWr3u59h.svg",qN="/myPortfolio/assets/person-1-CiefgmzJ.png",QN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3%2015C3%2017.8284%203%2019.2426%203.87868%2020.1213C4.75736%2021%206.17157%2021%209%2021H15C17.8284%2021%2019.2426%2021%2020.1213%2020.1213C21%2019.2426%2021%2017.8284%2021%2015'%20stroke='%231C274C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%203V16M12%2016L16%2011.625M12%2016L8%2011.625'%20stroke='%231C274C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",$N="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%206.036c-2.667%200-4.333%201.325-5%203.976%201-1.325%202.167-1.822%203.5-1.491.761.189%201.305.738%201.906%201.345C13.387%2010.855%2014.522%2012%2017%2012c2.667%200%204.333-1.325%205-3.976-1%201.325-2.166%201.822-3.5%201.491-.761-.189-1.305-.738-1.907-1.345-.98-.99-2.114-2.134-4.593-2.134zM7%2012c-2.667%200-4.333%201.325-5%203.976%201-1.326%202.167-1.822%203.5-1.491.761.189%201.305.738%201.907%201.345.98.989%202.115%202.134%204.594%202.134%202.667%200%204.333-1.325%205-3.976-1%201.325-2.167%201.822-3.5%201.491-.761-.189-1.305-.738-1.906-1.345C10.613%2013.145%209.478%2012%207%2012z'/%3e%3c/svg%3e",eO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%230c0c0c'%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20role='img'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eReact%20icon%3c/title%3e%3cpath%20d='M12%209.861A2.139%202.139%200%201%200%2012%2014.139%202.139%202.139%200%201%200%2012%209.861zM6.008%2016.255l-.472-.12C2.018%2015.246%200%2013.737%200%2011.996s2.018-3.25%205.536-4.139l.472-.119.133.468a23.53%2023.53%200%200%200%201.363%203.578l.101.213-.101.213a23.307%2023.307%200%200%200-1.363%203.578l-.133.467zM5.317%208.95c-2.674.751-4.315%201.9-4.315%203.046%200%201.145%201.641%202.294%204.315%203.046a24.95%2024.95%200%200%201%201.182-3.046A24.752%2024.752%200%200%201%205.317%208.95zM17.992%2016.255l-.133-.469a23.357%2023.357%200%200%200-1.364-3.577l-.101-.213.101-.213a23.42%2023.42%200%200%200%201.364-3.578l.133-.468.473.119c3.517.889%205.535%202.398%205.535%204.14s-2.018%203.25-5.535%204.139l-.473.12zm-.491-4.259c.48%201.039.877%202.06%201.182%203.046%202.675-.752%204.315-1.901%204.315-3.046%200-1.146-1.641-2.294-4.315-3.046a24.788%2024.788%200%200%201-1.182%203.046zM5.31%208.945l-.133-.467C4.188%204.992%204.488%202.494%206%201.622c1.483-.856%203.864.155%206.359%202.716l.34.349-.34.349a23.552%2023.552%200%200%200-2.422%202.967l-.135.193-.235.02a23.657%2023.657%200%200%200-3.785.61l-.472.119zm1.896-6.63c-.268%200-.505.058-.705.173-.994.573-1.17%202.565-.485%205.253a25.122%2025.122%200%200%201%203.233-.501%2024.847%2024.847%200%200%201%202.052-2.544c-1.56-1.519-3.037-2.381-4.095-2.381zM16.795%2022.677c-.001%200-.001%200%200%200-1.425%200-3.255-1.073-5.154-3.023l-.34-.349.34-.349a23.53%2023.53%200%200%200%202.421-2.968l.135-.193.234-.02a23.63%2023.63%200%200%200%203.787-.609l.472-.119.134.468c.987%203.484.688%205.983-.824%206.854a2.38%202.38%200%200%201-1.205.308zm-4.096-3.381c1.56%201.519%203.037%202.381%204.095%202.381h.001c.267%200%20.505-.058.704-.173.994-.573%201.171-2.566.485-5.254a25.02%2025.02%200%200%201-3.234.501%2024.674%2024.674%200%200%201-2.051%202.545zM18.69%208.945l-.472-.119a23.479%2023.479%200%200%200-3.787-.61l-.234-.02-.135-.193a23.414%2023.414%200%200%200-2.421-2.967l-.34-.349.34-.349C14.135%201.778%2016.515.767%2018%201.622c1.512.872%201.812%203.37.824%206.855l-.134.468zM14.75%207.24c1.142.104%202.227.273%203.234.501.686-2.688.509-4.68-.485-5.253-.988-.571-2.845.304-4.8%202.208A24.849%2024.849%200%200%201%2014.75%207.24zM7.206%2022.677A2.38%202.38%200%200%201%206%2022.369c-1.512-.871-1.812-3.369-.823-6.854l.132-.468.472.119c1.155.291%202.429.496%203.785.609l.235.02.134.193a23.596%2023.596%200%200%200%202.422%202.968l.34.349-.34.349c-1.898%201.95-3.728%203.023-5.151%203.023zm-1.19-6.427c-.686%202.688-.509%204.681.485%205.254.987.563%202.843-.305%204.8-2.208a24.998%2024.998%200%200%201-2.052-2.545%2024.976%2024.976%200%200%201-3.233-.501zM12%2016.878c-.823%200-1.669-.036-2.516-.106l-.235-.02-.135-.193a30.388%2030.388%200%200%201-1.35-2.122%2030.354%2030.354%200%200%201-1.166-2.228l-.1-.213.1-.213a30.3%2030.3%200%200%201%201.166-2.228c.414-.716.869-1.43%201.35-2.122l.135-.193.235-.02a29.785%2029.785%200%200%201%205.033%200l.234.02.134.193a30.006%2030.006%200%200%201%202.517%204.35l.101.213-.101.213a29.6%2029.6%200%200%201-2.517%204.35l-.134.193-.234.02c-.847.07-1.694.106-2.517.106zm-2.197-1.084c1.48.111%202.914.111%204.395%200a29.006%2029.006%200%200%200%202.196-3.798%2028.585%2028.585%200%200%200-2.197-3.798%2029.031%2029.031%200%200%200-4.394%200%2028.477%2028.477%200%200%200-2.197%203.798%2029.114%2029.114%200%200%200%202.197%203.798z'/%3e%3c/svg%3e",tO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%20512%20512'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:10;'%3e%3cg%20transform='matrix(2.25096,0,0,2.25096,256.253,256.48)'%3e%3cg%20id='Three.js_Icon.svg'%20transform='matrix(1,0,0,1,-113.385,-113.385)'%3e%3cg%20transform='matrix(1,0,0,1,8.964,4.2527)'%3e%3cpath%20d='M63.02,200.61L19.807,25.67L193.037,75.544L63.02,200.61Z'%20style='fill:none;stroke:black;stroke-width:4px;'/%3e%3cpath%20d='M106.39,50.612L127.981,138.108L41.414,113.163L106.39,50.612Z'%20style='fill:none;stroke:black;stroke-width:4px;'/%3e%3cpath%20d='M84.91,125.03L74.186,81.565L117.194,93.911L84.91,125.03Z'%20style='fill:none;stroke:black;stroke-width:4px;'/%3e%3cpath%20d='M63.458,38.153L74.182,81.618L31.174,69.272L63.458,38.153Z'%20style='fill:none;stroke:black;stroke-width:4px;'/%3e%3cpath%20d='M149.47,62.93L160.194,106.395L117.186,94.049L149.47,62.93Z'%20style='fill:none;stroke:black;stroke-width:4px;'/%3e%3cpath%20d='M84.915,125.06L95.639,168.525L52.631,156.179L84.915,125.06Z'%20style='fill:none;stroke:black;stroke-width:4px;'/%3e%3c/g%3e%3c/g%3e%3cg%20id='Three.js_Icon.svg1'%20serif:id='Three.js_Icon.svg'%3e%3c/g%3e%3c/g%3e%3c/svg%3e",nO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3%206.25C3%204.45507%204.45507%203%206.25%203H17.75C19.5449%203%2021%204.45507%2021%206.25V17.75C21%2019.5449%2019.5449%2021%2017.75%2021H6.25C4.45507%2021%203%2019.5449%203%2017.75V6.25ZM12%209.5C11.5858%209.5%2011.25%209.83579%2011.25%2010.25V16.25C11.25%2016.3881%2011.1381%2016.5%2011%2016.5H9.75C9.33579%2016.5%209%2016.8358%209%2017.25C9%2017.6642%209.33579%2018%209.75%2018H11C11.9665%2018%2012.75%2017.2165%2012.75%2016.25V10.25C12.75%209.83579%2012.4142%209.5%2012%209.5ZM14%2011.25V12.75C14%2013.7165%2014.7835%2014.5%2015.75%2014.5H16.25C16.3881%2014.5%2016.5%2014.6119%2016.5%2014.75V16.25C16.5%2016.3881%2016.3881%2016.5%2016.25%2016.5H14.75C14.3358%2016.5%2014%2016.8358%2014%2017.25C14%2017.6642%2014.3358%2018%2014.75%2018H16.25C17.2165%2018%2018%2017.2165%2018%2016.25V14.75C18%2013.7835%2017.2165%2013%2016.25%2013H15.75C15.6119%2013%2015.5%2012.8881%2015.5%2012.75V11.25C15.5%2011.1119%2015.6119%2011%2015.75%2011H17.25C17.6642%2011%2018%2010.6642%2018%2010.25C18%209.83579%2017.6642%209.5%2017.25%209.5H15.75C14.7835%209.5%2014%2010.2835%2014%2011.25Z'%20fill='%23212121'/%3e%3c/svg%3e",iO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%20256%20256'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20preserveAspectRatio='xMidYMid'%3e%3cg%3e%3cpath%20d='M119.616813,0.0688905149%20C119.066276,0.118932037%20117.314565,0.294077364%20115.738025,0.419181169%20C79.3775171,3.69690087%2045.3192571,23.3131775%2023.7481916,53.4631946%20C11.7364614,70.2271045%204.05395894,89.2428829%201.15112414,109.384595%20C0.12512219,116.415429%200,118.492153%200,128.025062%20C0,137.557972%200.12512219,139.634696%201.15112414,146.665529%20C8.10791789,194.730411%2042.3163245,235.11392%2088.7116325,250.076335%20C97.0197458,252.753556%20105.778299,254.580072%20115.738025,255.680985%20C119.616813,256.106338%20136.383187,256.106338%20140.261975,255.680985%20C157.453763,253.779407%20172.017986,249.525878%20186.382014,242.194795%20C188.584164,241.068861%20189.00958,240.768612%20188.709286,240.518404%20C188.509091,240.36828%20179.124927,227.782837%20167.86393,212.570214%20L147.393939,184.922273%20L121.743891,146.965779%20C107.630108,126.098464%2096.0187683,109.034305%2095.9186706,109.034305%20C95.8185728,109.009284%2095.7184751,125.873277%2095.6684262,146.465363%20C95.5933529,182.52028%2095.5683284,183.971484%2095.1178886,184.82219%20C94.4672532,186.048207%2093.9667644,186.548623%2092.915738,187.099079%20C92.114956,187.499411%2091.4142717,187.574474%2087.6355816,187.574474%20L83.3063539,187.574474%20L82.1552297,186.848872%20C81.4044966,186.373477%2080.8539589,185.747958%2080.4785924,185.022356%20L79.9530792,183.896422%20L80.0031281,133.729796%20L80.0782014,83.5381493%20L80.8539589,82.5623397%20C81.25435,82.0369037%2082.1051808,81.3613431%2082.7057674,81.0360732%20C83.7317693,80.535658%2084.1321603,80.4856165%2088.4613881,80.4856165%20C93.5663734,80.4856165%2094.4172043,80.6857826%2095.7434995,82.1369867%20C96.1188661,82.5373189%20110.007429,103.454675%20126.623656,128.650581%20C143.239883,153.846488%20165.962072,188.250034%20177.122972,205.139048%20L197.392766,235.839522%20L198.418768,235.163961%20C207.502639,229.259062%20217.112023,220.852086%20224.719453,212.09482%20C240.910264,193.504394%20251.345455,170.835585%20254.848876,146.665529%20C255.874878,139.634696%20256,137.557972%20256,128.025062%20C256,118.492153%20255.874878,116.415429%20254.848876,109.384595%20C247.892082,61.3197135%20213.683675,20.9362052%20167.288368,5.97379012%20C159.105376,3.32158945%20150.396872,1.49507389%20140.637341,0.394160408%20C138.234995,0.143952798%20121.693842,-0.131275573%20119.616813,0.0688905149%20L119.616813,0.0688905149%20Z%20M172.017986,77.4831252%20C173.219159,78.0836234%20174.195112,79.2345784%20174.545455,80.435575%20C174.74565,81.0861148%20174.795699,94.9976579%20174.74565,126.348671%20L174.670577,171.336%20L166.73783,159.17591%20L158.780059,147.01582%20L158.780059,114.313685%20C158.780059,93.1711423%20158.880156,81.2862808%20159.030303,80.7108033%20C159.430694,79.3096407%20160.306549,78.2087272%20161.507722,77.5581875%20C162.533724,77.0327515%20162.909091,76.98271%20166.837928,76.98271%20C170.541544,76.98271%20171.19218,77.0327515%20172.017986,77.4831252%20Z'%20fill='%23000000'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",rO="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='icon%20icon-tabler%20icons-tabler-outline%20icon-tabler-brand-framer-motion'%3e%3cpath%20stroke='none'%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%2012l-8%20-8v16l16%20-16v16l-4%20-4'%20/%3e%3cpath%20d='M20%2012l-8%208l-4%20-4'%20/%3e%3c/svg%3e",sO=()=>ue.jsx("div",{className:"relative h-auto w-full pt-14 max-2xl:px-3 max-md:px-6",children:ue.jsxs("div",{className:"relative w-full",children:[ue.jsx("img",{className:"absolute left-1/2 top-[30%] z-0 -translate-x-1/2 scale-105 transform !cursor-default opacity-20 dark:opacity-90",src:ZN,alt:"bg-vector"}),ue.jsx(JN,{}),ue.jsx("div",{className:"relative z-10 mt-36 flex w-full justify-center max-md:mt-24",children:ue.jsxs("div",{className:"bgGlassesLight dark:bgGlasses flex w-fit items-center justify-center gap-8 px-10 py-6 max-sm:gap-4 max-sm:px-6",children:[ue.jsx(cr.img,{initial:{rotate:"0deg"},animate:{rotate:["0deg","30deg","0deg"],transition:{duration:4,times:[0,.5,1],repeat:1/0,ease:"easeInOut"}},src:KN,alt:"Hi-Icon",className:"max-sm:w-10"}),ue.jsxs("p",{className:"text-5xl text-neutral-900 dark:text-white max-sm:text-4xl max-[490px]:text-3xl",children:["سلام! من"," ",ue.jsx("span",{className:"text-[#EB5B00] dark:text-mainYellow",children:"فرشاد بهاری"})," ","هستم"]})]})}),ue.jsx("div",{className:"relative z-20 mt-16 text-center",children:ue.jsxs("h1",{className:"font-iranB text-8xl leading-[9rem] text-neutral-900 dark:text-mainYellow max-lg:text-7xl max-lg:leading-[7rem] max-md:text-6xl max-md:leading-[6rem] max-sm:text-5xl max-sm:leading-[5rem] max-[490px]:text-4xl max-[490px]:leading-[4rem] max-[375px]:text-3xl max-[375px]:leading-[3rem]",children:["طراحی حرفه‌ای وب",ue.jsx("span",{className:"text-mainYellow dark:text-white",children:" & "})," توسعه فرانت‌اند ",ue.jsx("br",{}),ue.jsx("span",{className:"text-mainYellow dark:text-white",children:"با"}),ue.jsx("span",{className:"text-mainYellow dark:text-white",children:"تمرکز بر"})," ","خلاقیت و کیفیت"]})}),ue.jsx("div",{className:"relative z-10 mt-16 text-center text-3xl text-neutral-900 dark:text-white max-sm:text-2xl max-[490px]:text-xl",style:{direction:"rtl"},children:ue.jsxs("p",{className:"leading-10",children:["توسعه‌دهنده فرانت‌اند با تجربه"," ",ue.jsx("span",{className:"bgGlassesLight dark:bgText px-6 font-iranB text-neutral-900 dark:text-mainYellow",children:"+2 سال"})," ","در زمینه"," ",ue.jsx("span",{className:"bgGlassesLight dark:bgText px-6 font-iranB text-neutral-900 dark:text-mainYellow",children:"ReactJS"})]})}),ue.jsxs("div",{className:"relative z-10 mt-24 flex items-center justify-center gap-6 text-4xl max-sm:text-3xl max-[390px]:text-2xl",children:[ue.jsxs("button",{className:"bgBtnHover dark:bgGlasses group flex items-center gap-5 rounded-full px-12 py-6 text-neutral-900 transition-all hover:bg-neutral-900 hover:text-mainYellow dark:text-mainYellow dark:hover:bg-mainYellow dark:hover:text-neutral-900 max-sm:px-9 max-sm:py-5",children:[ue.jsx(cr.img,{initial:{y:0},animate:{y:[0,5,0],transition:{times:[0,.5,1],duration:2,repeat:1/0,ease:"easeInOut"}},className:"filterBlack dark:filterYellow group-hover:filterYellow group-hover:dark::filterBlack w-11 transition-all max-md:w-9 max-[490px]:w-8",src:QN}),"دانلود رزومه"]}),ue.jsx("button",{className:"bgBtn hover:bgBtnHover dark:hover:bgGlasses rounded-full px-12 py-6 text-neutral-900 transition-all hover:text-mainYellow dark:hover:text-mainYellow max-sm:px-9 max-sm:py-5",onClick:()=>{const r=document.getElementById("contact");r&&r.scrollIntoView({behavior:"smooth"})},children:"شروع همکاری"})]}),ue.jsx("div",{className:"mt-32 flex items-end justify-center max-sm:mt-16",children:ue.jsxs("div",{className:"relative w-[500px] max-[800px]:w-[400px] max-[620px]:w-[300px] max-[470px]:w-[270px] max-[420px]:w-[240px] max-[370px]:w-[225px]",children:[ue.jsx("img",{className:"rounded-full",src:qN,alt:"Farshad"}),ue.jsxs("div",{className:"bgGlassesLight dark:bgBadge absolute -right-[33%] top-0 flex w-fit items-center gap-6 rounded-full px-9 py-4 text-neutral-900 max-lg:-right-[15%] max-[800px]:-right-[18%] max-[800px]:top-[5%] max-[800px]:gap-3 max-[800px]:px-5 max-[800px]:py-4",children:[ue.jsx("img",{src:$N,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"font-poppins text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-2xl max-[640px]:text-xl",children:"Tailwind"})]}),ue.jsxs("div",{className:"bgGlassesLight dark:bgBadge absolute -right-[50%] top-[40%] flex w-fit items-center gap-6 rounded-full px-9 py-4 text-neutral-900 max-lg:-right-[26%] max-[800px]:gap-3 max-[800px]:px-5 max-[800px]:py-4",children:[ue.jsx("img",{src:nO,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"font-poppins text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-2xl max-[640px]:text-xl",children:"JavaScript"})]}),ue.jsxs("div",{className:"bgGlassesLight dark:bgBadge absolute -right-[50%] bottom-[10%] flex w-fit items-center gap-6 rounded-full px-9 py-4 text-neutral-900 max-lg:-right-[25%] max-[800px]:-right-[20%] max-[800px]:gap-3 max-[800px]:px-5",children:[ue.jsx("img",{src:rO,className:"w-[35px] !cursor-default max-lg:w-[25px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"font-poppins text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-2xl max-[640px]:text-xl",children:"Framer Motion"})]}),ue.jsxs("div",{className:"bgGlassesLight dark:bgBadge absolute -left-[33%] top-0 flex w-fit items-center gap-6 rounded-full px-9 py-4 text-neutral-900 max-lg:-left-[15%] max-[800px]:-left-[18%] max-[800px]:top-[5%] max-[800px]:gap-3 max-[800px]:px-5 max-[800px]:py-4",children:[ue.jsx("img",{src:eO,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"font-poppins text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-2xl max-[640px]:text-xl",children:"ReactJS"})]}),ue.jsxs("div",{className:"bgGlassesLight dark:bgBadge absolute -left-[50%] top-[40%] flex w-fit items-center gap-6 rounded-full px-9 py-4 text-neutral-900 max-lg:-left-[26%] max-[800px]:gap-3 max-[800px]:px-5 max-[800px]:py-4",children:[ue.jsx("img",{src:tO,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"font-poppins text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-2xl max-[640px]:text-xl",children:"ThreeJs"})]}),ue.jsxs("div",{className:"bgGlassesLight dark:bgBadge absolute -left-[33%] bottom-[10%] flex w-fit items-center gap-6 rounded-full px-9 py-4 text-neutral-900 max-lg:-left-[25%] max-[800px]:-left-[10%] max-[800px]:gap-3 max-[800px]:px-5 max-[800px]:py-4",children:[ue.jsx("img",{src:iO,className:"w-[35px] !cursor-default max-lg:w-[30px] max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"font-poppins text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-2xl max-[640px]:text-xl",children:"NextJS"})]})]})})]})}),aO="/myPortfolio/assets/love-img-Bh6OCbkV.jpg",oO="/myPortfolio/assets/anime-B_01SlY0.png",lO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFsklEQVR4nO2YfUwTdxjHzxfuMNNNN102DWwzc0TaUmlpQVreX2rrMqfDbf6xuZlFoJiw6cx4kSAqb0WdOEXJVMJQ0SrTgESyOdrfnRo102xubgqibFOHqNM4X4go36VXBVtelOtJTdYn+f5xz/3ueb6fPpfe3Y+iPOEJT3jifxsgzGuw0jNAmMUgdCmszDZY6Tq7mG32HJ3Nr7Ewr1JPS8BMDYGViYKVXgcrfRGEQf9Et4DQJbAwkbZa1IADgBoMKz0ThGnov/leoZphZebCQg0dGAjipYCVOfGwiXsWBuc30bi+WwQgK3MCVq/AJwzBJIEwbc7N/62mcSyHRuNqWqTpMLdt03lSEJ/01fyKmUbbXrFuM+bBdIziQliYWBCm3bmR7ZZq3cKgra4rd3k7jRs1ok2mHYSJFgmCGgpCN/bU6OpOhr+lzq6zG7dNxHb8+wpazKmcEuUfDYSe2luTe/UMLpTTuFXb2RQtmxlc3yX2LUbrRQBhlotqSthUTC5BrOSmjq9kQ+q/5VRNQlRFgs52ig06I7ROJRtCCve/NUIQROF+Q5SJM7QVcQaIpcK9U5D9VUSfa0xWfXt+ra6p2znWsE0QiInTb3Uulr8nviN/j87RXJ0O6RmhSEufjJwNUTBZ9D0bZA1InR6IeTp5Zy7XHIeFKcEoIvfXWPT47H0lktQSLC6JvOd0fUcRO8XfJZDCH/RIX6RBcqgUxnAplm2NtRev1yN1uoJv/EDzYgOQka1BQZ0jcFZRGH9+oVHNH+dVxSMlVs7ncnfG8bnMvLCuOjo5CmrjnX+QGf0GyTv89gtpGaE75s8OgjFC5mDWGC3jjX06yxHiYSVrpFjwsQqLcrXIXKKFUSvl86kJCmRkhcIY1lXT1iOnNKpbn5SYACzKC8PSihgsXh95oPRHpRclJBJV/pW9GR1wqSRbKaGRpJbOcTuA2q5Elf9HgkEoihqUpPLPSg2XNi+IkVx1h1LDpc2JKkmmzQvlauCSpgyXNHCTylwH0FK1CKPAK2oQoB9q1zQaSPAGPngGSHkOSB8N5L8MrPEFdkwAOBnQoOq/6TPBgHkCkP2ivbbBC4gYZO+vpWrFAREi3RAg8VmgYCywyw84o+4Z4Mgk+48Rfd90T3IriLMiKGDOcGC1D3A0EDipAjLH2POPulb7NIE4K3rw46/VugKioXyhoSQ4rlyLv0JOuEXHlWt5DxrKl3IlktX+M5e9F2AtnS9vNOcpmg+ZVa2Xfgm5LfRf6M6F0A7b9afqg68d262+zFUEtdSVKM+ZcxXN5ZmBTWXpk06XpMobbCpOlJ/MSZBZkoIl77gEkaSSvNnbAyonIQD7vg7C7T9DezXdenwyDptV2FmgxKq5cqTppUgOFvhADJ5oEAySqPaveFSDz+OkqN+owt2/NbhzXoOf96hRuUSBrGkysZ/s37gwEf9Vj9soe4YM86OlT/Jda6VgkOQwiY8xWnbe3e9ZxgjZucQQ+TjBICbOkGYi+uu5VXEHl26JYd2hvKq4AzYPJtawWdBr/JeWaSNNnOGGmJ+6rmvqF/0GKeL0erGNVLBaHGb9+lyziYvAd2zX57CTavoNspw1zHIuVMmGYhencsht4CLRRMbhD/ISDrATsZGL7NFEMRePm+wIXGRHd+ZqOQVaSdfxei4GN8lwfguohlV2/+7n9MX9Bincr/MzsfpbD8z+xvp27jPtYwP4wmvYOFwjIx32oDqIN06TcdjOTXYwcYS8wZ8/Sl7nj2s4Be6SYXyujA3nc7+yr3TWsQHZptMFYWgr4HQSSkisOBj//BUyqqanTTNb03/IqD431m6QEWhgfXCK+HRts7IjcZaMdVjXQsbgEOvX7fp2Mgw/seNRzSobbdtTlCsBQpe7faeR0OUuQfAgVq933Q7C0gkug9in4j0bhKkGob8fWDHVsHp/KAqEJzzhCU9QT1P8B09JEmg9GRqXAAAAAElFTkSuQmCC",cO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGUklEQVR4nO1Z61MbVRTPVx21Y9WOn+oHtY76z+iIrR1bp+pYS63Q0gItlDxIoAkhsIEAgRAggQAJBFoYnlMbEqAVEpoCeZG9yyaxOOM4rW2tjw/S65yFZJI0ye6GVz9wZn4zO8k959zfvWfPPfesQLAv+7IvuyZtpv73iXZTpZjQzl5RasKXKokH5yTVTwHwDL/Bf4S+s1JntLwneJEkGAy+RlNUrrbTHPo8vxTn5JVwAoztGhgKriL0PdjYMwIURR0IISQLIfIPr9eLTxSKOZOIQlirxSEKYRqRD2mKlOw6ofAqeZRG5K8wCUCtvpM3CcAXF8rwit/P2NgghNZCVDBnxwmsra29HKLItqjjKGzTs7jB0It/LFdyJpErUuC6dhP2LC8n2AptENJFIpGXdoREOBx+nabQbLLTZMDE+kfGsbS+BX95SRSb+PECIS6p1uA28wCedy5ktBECIHJuLRB4c1tJ3Pf53qAp5GF1noRgIICN5n4GQX+Al24IdoYilyORyMFtIaG3WN7SdPT8Yh2ZwG73PV4TWSVJbLPZGMAzH123+x4Gn5qOnnCzybT1nSmSq1ej4QFhsVtEOiyDsbAskhNoSyTkTa2a+BdU32vdEyI5eSVY0dSmzooE0Ww4fLJQsh5vTNfTv2dEThZK1jWtXe/wJiIimm8np8wWUx9vIiNj4wy2SiQHDlCicYbfbhgsh48XCJ8lG9J2WXhN5qZ9Gp8qLsdfFYnx+K2pLRM5XlD2TMlnV2T1rX2pDrEGo5njTgRxS3cfPnr+akwXnuE3+C9bIjl5JVhWrzNzJnJOovwzJRFDL+sEvB4PLlU1pD3RixV1eGlpKWsi5yTKJ5xI1GhaPk5Xxcrqm7Fzfg77PB4o9J4Ppalp/PUVGWt5AmNgbLI+jUgc8HnxXZcLEzpD2qpZ3aT/iJWIUtehSjcBvckcy0IOux27nPPY7/GkDCU2REONIoOMDbDlsNtj9rv7B5lJp9JVthiUrERERNNz2QpAtHUxq7XgcmKHwxFzODYxiQsqVVlVv4DzsmrGRvwCOTd3vbXXmlJHSGjZs1eRXH0/WfHitVpm5VKFwOjEZNqV4wLQHRmfYBYo4PMmhCw8iwhtqvcswkokT1r9OF7p1OVyvJjh5QRnFypqsiaSL1VhOlPy8HrxtyUVCTp50upHrERyRYq/41dr0mbPOsNwAeiy2XfM3sHH4t6/H8RVf7ES6RseWz22GSrtZm611eLiYlbhBTput5uTD0Pf9ViSMF0fplmJ0Ih03Bi/icXq5pQpNh0KKmp5E7lQWcvZPo1I5rIGpX2IQjYORJAlqrjVkmI7wiqURGbzuZeVCNMZ4WE82/DiE1ahZEIUKWEnQlGfZWMcwCd7wdhs/dAIfcrtfo7Idb7G4XRXtxo5EyFaDZwLyFBieK1zvsdz6ZYkwzU/j8cnJnG39QaevOXAk7Y0uOVgxsBY5/x8NmE1zYkEQwShM3yM+zzLsRIDTme28Ss+H56ammLGgy4fX2GETvPr5yLyIShCyrMMjeKVQOp2DoTH9GbtBSUL1wndXXBt1FYOR9oQW1pcwvoeKy6Uq5mMRSPygd/vf5UzkY3wIiVO10JCgw1IQXjEp2YIKZjQzMwMr5QNY2dnZhjd+BCjEcn4AF/x1fSdOScOISQU8BVg3mEZfJTqRT0rrmJaQ06ni1dIZQqxO3NzjM3vrlamTA667v5Hv3k8rwiyEbm2nciUeaD+kdZpsXuBQws0Q4iBDbYzSK3vqhBsRYoVdYgtlU7wbCwkNyjYSFytafQKtirQrswVKZ5mcnSmTI7JFf69XbSygs+IFBlJ5EurH3eOjm7Pd5N6w8CR02XX/s3kkG+rCAA6mWyeFSv+0Wz3Jzp5g+7DXKH8aab3hdPngk387HQl3DGSkSdVPWkx9BwR7IQojcZDBZUEnc55UVUdpxQMYy5dI9KSKFU1+JstlgOCnZby+hbtiYvChL5wFP3DY6xEegaHUxL45rL0vxpdp1ywmyJVN79brKxzwnfA6ETgAOsaGGIlojF0J2Sqk4XiZzJN609Wq/WQYK+kvLbxA6GqcShfVv3YPnubc9UMY0uUmt+rmtqMmnbL24IXSSKRyEG4K9AUWU4jZIYrKU0hF4B5RsjM/EeSn2zbJ7V92Zd9EXCR/wGef9dp3tZIDAAAAABJRU5ErkJggg==",uO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAACk0lEQVR4nO2ZPWgUURDHV0UlqI2WgiBYRbC5m7lNEI6d2YQUanfaqLViIVaiRbTUyjaSQrTWBCJWCmksVLSxUvELCyWol3gzewcqWXkeHFGzuX3eyu7i+8O2/5vfzsebd+t5Tk5OTk4ZKCJ/Z0RwohXCSa9skgD2KsFZJbwvjMvKGAvjNa/oihuNDa2wtl8YLynBCxP4709hQZbG/e1C2BCGG0q4tFrwWlSQzhjuFqqdVsK7wvi1X/BaFJD4grc+CmoVYbgoDI9tAte8QWLfH4qoelAIrgrh+0GC1zxAzKQRhjvC0MkqeM0FhLDxLwDUgRQkI0KowvCmlBkRwkgIbyvj8YV6fauZdqUBWRl8PLZvyy+eXHgQaJoT3YzpeGLP5kRPLiIIwede8I3hTak8uSgghJ96wVcqG609OWcQIXzXCqt1s9UO5Mn5gzzKxJMdyN/LZWQNiSutnEqrRTisDFeE4YESPleCeWU8JwyXSzG1Ys9b9/P2SPA94SDtlAJkZQ8U8j4iKUBMOa2RifgPkBCuZxqw2ZOEq0eEYUoJbgrjtAZ4TKh61AbE9ITNlhxR7V5mEG2GESF4nbQU2oAI40OrlT/Ep9lBpPxjIV1G8JnVvYVxLptySsrEKk8rwCd9QbojNn1GCCcHBjE9Yfn23vYHwfM2nm2GkQxAYMru7UGzn+cXhh3KuJjSb35giC4IzliBMLxM46sMB4ThW5/sfmiHlV1ZgUzblRbMpvYOkITwVVIm2llBGJlzwrJHztgOkyioHTLfR7rnE05GIfqZAfR+yPeHzPU1JciiqX+vqNIAx1PU87KEcNgrupRhQgkWEhq8afYtryz6ODq6TQhPKeGt7sdKmDU9YT6l5R2bk5PTf6QfhPfOa1j4jrAAAAAASUVORK5CYII=",hO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFzUlEQVR4nO2afUzUdRzHv26VrafNcquQ8CF5nOQjeHB4F3DCcdz5gE8rnxGQAw3FyYPawImAUhI6naZNm1qtNkvMlFBBc/mPOdvabOX8Q2qtP2pL/CNH89U+t3MxueN+P/id49q9tvfGvt/P5/N93QN3v4NTKkyYMGHChAkTJgARa3FFrqEjspS7kWtgSEbcSrkQUYpTGUlUCfWjSyGUElVCnSE3frwb16tuGOfm3jg3FbGlRKghiriNc1MpruI8ttiAZ0J0MR0xxRDjplKFCDHFVIlz9GrOD3pYfCHdCUUQV8TLvdfrO3Fsv0iXpK6TnIGuBwNxFeeEIu4MelhiIUgeXj/UTtehcyA5eI7bA10PFv68dTN5FUgeXj95hq7WM+DJV//dIL3rwcKft26m5YPk4fUrreRcaeW25NuT2Ae6Hiz8eevGtAIkKsQwzNu8HCQqxDDM27oUQjmDvgMylkAoZ9B3QNabIFEhhmHeOW+ARIUYhnm7FoFEhRiGec9ZCBL1SGDY7AUkGjHJMO/580GiHgF5eVi8550aMt6L5oFk0IO0nJXH+3LWwjy2DxnvxXNBooLMggU8sXgOf8hZS+YyYch4L5sDEhVkls9mnpyzdA5XjZhnmHf+LJDo7VvhJCnfyVKt9Stn8bmcs3IW63uv11h5bKWLiuVWnnwU3n0odIFE6WCVE1ehi7sFLnqKnKQEqnfnMqLAxd+FTv4pcfBS770CJ3vk/AIn7UVOngqmt0/cuSBRGinOoaA4lx7pKc7lcNFUHg/U43ZS7DnHwdk+87KJdTv4xbt/KX8WzwbD2y9rHCBRAWFYaQ613vr78rOOM76RvhKH71+Zt3KJLnXQJTWlDi6vtfOccd4BWGcHSX81a+0ML7NzXOrK7PSU5VCoNLLBweh1du6X2blbYuUZf3Vl2YxZZ+eW1+fq+iyeH6y3JjZkg8TfflUuI8qzuSg15VncWZ+l7689G7LZ4jkji6OBaittRJVncdNbf63cyciBemumciZIfO2VWxlZYeOG7FfYuF1p038ZW2njB+mvytR2x23O4pUKGz97z7y+0c9rQn/euthkA4mfvR2e/Uyub8pglN7ZVZkkSX91Jr/L253Wvo02Iqpt/OjptbFBr7cu3s4Aic+9dBplb0s639dYidQ9O533vP3NevpqbERsyeCGpzfD9x3Qn7cutqaDxKeIlZFb07nhremqyeA1rXPlEd+azm/SW2Nlmo6+yNp0fpK+2te5XuPnhbM/b13UWUHib78hjRHbLHR66ix011m0/ddH6qRnm4UbWl0azUTVWbjpdbpWn8kLA/XWTKMFJP3VtNgZ3jiD457aGfQ0WCgKNLfBwjHv7M1aPBqsjGmwcMvbc/VdU/9vg1q8NdGUBpJAdSiGNZmpfVC/M41GWfM5cyZP7zTTvTON+00zGBto9jtpxDSZ6fLMNnO5JTnwhZBW74A0m0GiNLIrlYLmVHo8fakcOeDjUrjZzDLv3EsBz08ldpeZXx/U70jVdims19svu1NAonTQYsK1O4W7u0307Ent+2Fot4k2z1wTqwPOSmGP1Lak0H5gqvYPQwPx9sk+E0iUTvamkLQvue+1/cHpvLhvOj17Tdzbk+T/Raz3u8VeExWHdX4cHqh3Hw4kg0QZxP4kymXe/mROqCBimPcHSSAxxEq+J5DEdzLv4DTyVBAxzPvIVJAYIfXhZOJl1uGp/NkynuEqiBjmfWwKSIyQOjqZepl1dAoHVJAxzPvjSSAxQuqjSZySWZ9MxqKCjGHen00EiSFWSqlPE0n0d4FkJIZ5n0gEiQoxDPNunUB36wT4InbofkHyYU5NZJQ4n5zAX4MedjqeC6cT4MsEqlSIcDqBao9zvAFflDwbh7MtHtriuHc2jqqvh/Az4Vw0o9riqBZXcT4TR64hg9tjqDsXCyGVGLYpI+kYj7MjmvOd0XR3xsCQTDTd4ngh2qBHPkyYMGHChAmj/s/8C2CKdDxU0K7BAAAAAElFTkSuQmCC",dO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKS0lEQVR4nO2XeXCTZR7H351Z3dn9U442aY4mzZ20TSsie8zozM7sglqO0paCSFtbRVSclQL14HJkUZxRd9lZRpxdlZYeudukR9okLa1ACwIOiBWSlpaSo0ma4LgqK4t+d54nR3O0ojMrzOz0mfnM27zNm3w/7+/3PO8Thpkbc2NuzI258VMMXk2/QFDd+6qwundQWNMXEtT0fSOs6Tsn2tz5i5/kCxmGEVT3rRfU9PkFNb3/ET7RNy6s6dUKn3SsU5Rq7/5RH8Qpty7NKu+6wVlrRSJZa61j4ldO36/84PIfZPsv7C+whTere8JvqG2h99S2kLGgJ9SntoVOq22hc2p7aFRtD1MK7OHRQse1c4X28OkCR7ivwBE2FtrD7xXYw28UOMKbZfvP7yefyX/qaCt3fTfSsX78owQyVnVuZlX3Ovm7zgxI3nHZlHrvQF7nlCvfGrqe3x2CqnEC4qcHkNcRhLonnIwtQkEidsK1OIUER4SCrinkbDyKvOarkde28M08k/cbxbuu78RvfAJB3RA4T/bduPc07vpB4XM7p5bkdk5dz+0KIS+GNYVWPxUgIkQoQhj5qTI/QCiv6SqET/RB3R6MS81Egf3a9cK+qSW3FFB1TA3kdk4hTleEvBQhyeZjUBx00r/zCXGRaaHZZBKFlAcvIWdTPwps6dVJk3BcG/je8EpL8EFVxxTiJIqkCEleOAXZvvNpFcqfUWj26kj2noNo+9APajeCujf8wKwCCkvQomwPQkUJQK4fh1wzSo/kdaKI9NWPId5+Mio0e7vNVp2YkKh2kH5WUrv1hJDf7kFe6zjUnZ6oWESmwHHNMvPdN4W4CkvgptISBJGQaS+jciiMuuF/o3IwDLlubLoyHVOQvjVMS5+bKDZLu80q1BVEdnUfpG8PJ1Um1+zGil4vtn16nR6JzHR1Qt8WOML8NAF5W3CPwhyEwhyAvNUHWZMTu1038edx0KOs2QlFmw8qS4AKyN9x0cmnOHL1lu02m5Cq8SqyK+1QHHIlVUelH8Xukeh3j9xErn40Ze6E9qQJyNr8w4q2SSiaR/D79itYrHNh7YcB+iHrPgxgsd5Fzys1o1Ba/JC/PwZhTS+kBz5LqkyM3FmFpmWkBy6CX2GH4vA48ohomxsq4xgVqDoVpt9ddTIMleEyck3jtBLq7hCp0sWk8FLTZK68LQCZwY2iHje9cO84sMw6gQfNl7HMepW+JueLejxQmDyQN7khqO6FaPdZ2nLTcyddZrbqiHZ+BP4GG1QaD1Smq1hu92Lbhev0qNSOQK0fgUo3ghWO6HmHF3lmD22zvO6QalqgNfCyrDUAqd6NlTYvDUpY0+9HbsMwygf88XOr7D7IjR7INR4IHncge+NRKFr9oHMnOn+ShDpmFlKZA+BVOcB7rAcKjQcKrSupbZQaF62KMuU8EaKtZp16eVrA6LfJTH7IDF7kNTuxdiCApV0TtAJ7xyKVIJDz+RoX5CYfZO+PIbvKgewqO8RvDkNhCVLiIikyqUKSN4fBW98D7voe2o4KwzgqT0bapnIoBIV2BAr9GJTa0aTzStOVyBzqCvXQ8Pcewl0Sg/9LqdEPqckPqcELqWYC4vqLeOniDXohOYobLkGmvQq50QfSbjl1J+kE5BMqCLYIGyLwYjzWk0w0NN3jPBpBsHUosmzrxpCrdUHR4sJyuwdbL1xHkd0DBamGzgWlYRx5nUE6f3Ktoa8UWtzNiI2+xRKDH1QgAVG9E7Xnv6YCWz75GuIGJ0ibEURvfQZ+BQnTAe7aVnDLW8F7tAO8DT3fH5iGJhtDC7JKTcgqMSGr3AzOui5I3h6OVKc9CHmzM6ltFC1O5HYE01a3fOvUYkak9VVJDJOI4KdIyVHngaT+EtSaEXqU6D20QpIPxsGvtNHg8mdPYPHuUdy3cwTyTQPglJvAo0HT73IEK9ilJsg3HcPiXaO4b8cIZBv7wS4xgrPeCtmRicgzSDeGiqFo2wyGIg/SmVa3rqlKRqyffF2snwRBQojLRIX0vnhVyP/5m4+Bu7YdymeH8Jt9fuTXOaF+cQRLXvVC9hSRsCSF5qwjWClZZWYonhlMu076ZD/YpW3gbTwKZVsASrOfPkhVLc7I0eKfcXVTdky9xoi1vlaxbhKUqEhcJkVI+NontC04ZUbcv+cKDUAo3DGGRXsmUFB3EVklhnhgSsLvCVaxDvfvTr9OXXcRmau0YJd1Qrjv/PSCYA587+qmbJ8ykRY6I9L6INL5IhKJJAiJ6yfA3WCjbZFVqsOiXWNYtGsCi19xY8leH36914u87Z+BvVqX/COovCsOa5Vm1usyV2rALu0Eu7wTsiY3IruC4K1WtzOMUOMdoQKppMhk152Kt0VWWSukT5/Aol3j+O1rAfxufwiFOy4jp5r0sykpdNaaGJ1gFRsh3ZR+nbDqKDJXGsAq6aDwtw/RlY5sayIEZxNyMTktXn+OxocYIk26jPAfl5N6mUOClRgg3ngcqtphKJ6/AOHjR8Eu0SOrrDMemE0oS4AEXKWF6IljUNYOQ/78BQhoeC1YxRawVrcjk9IByXtjVCKRVCG5OTjJCFu814UtXuS0+CIkyFAhrQ/8546ntwUJV2IEi3w5Kf9qI9hl7cmBCaQtSjvAIhABEnClHhlFLcgoakbmCh0yi83ILG5PwALOpn66ZMtjpMhEhb5mhE2em8JmL4hEjEQZwQFnckuktAW7rCPKDIFjoWOsbk+4yxYaNBY4c1WEjBgrLcg56ATdIUSfP3GhuIT/JiNo9H4lIAKpEJlmLzgbjyYHTm2LaGD2LQMn3+FY6IyEwBkrzdOsMIP9uIM+e2SJJMhITYEvGUGjJyRo8iKJqET2AWdy4PIucLec6OS+dKaI8+LZBzg7/3dw604VZT13zLqw2IKFK8xYuLyNknPQNb1DIFudBBmpyR9ishs93uxGDwgCQpMnLsJ57ljSXeZuG/wb8xMP7pYTfyfBFxRFYD/Tj5m2OvTBapz0MPwGjzP7iAeUxmn4747R4LG2YFc5vmQY/Iy5DSPjse5/LXikFRHaIHp/PHl3EBWSGCYvMfx69zF+gwf8IxFiMpy6U0m9zK47uYO5TYOz9fjO+Q+3Yv7DJkrWtqHZdgcDDLfebeQ3uDGNB7wPJsBe0xWffKxK+xfMbR4Z67q/mP+QCfMeMmH+8jaImjzpWx2dT89wD7v/yqt3I06DG5y955JWDFbtYN3tFmDVDtbNW2YEZakR3H3n03YHYp3vLwy3wb08SaDeDfbG/vjylllpu+13PzYWrOv+/J6lBtzzRwMyqh1pWx2RzvcIw/Th57zD7lNxgX9eQUZxe3w9Zm85vpW5Q4P9p+NbSXjCvGUmCBvc8d0B2YSSX5P0jbzGK0LeYfd5IpD1+gX6ECFrccYG++fMHR4L1lmvxSR4+z+NbnG85yRanyDpjaxDnl9xD7srWC+ePpuxpuvGwpL2b9m1JyqYOzzYtScq5i1v/W5+seUG64WPzgo13gqOduKXdzrX3Jgbc2Nu/J+M/wImqJMJHZQbbwAAAABJRU5ErkJggg==",fO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAIU0lEQVR4nO1aC0wUZx7/dnjtDGi12iitJfYu7dlr7Yn2Giu9Vg9fp8AMtGCNTfXS6rUXzyM2weKDVRQQhMMCRXmKyGupPIq8BOmKsDuDcqgtYOOJeHiGhfLQnFU0Pf6Xb3Hpws7szsIgNplf8k92h2+W/+/3/V/zQEiGDBkyZMiQIUOGjHHDP27rC0GJ63PiM1f/p1K9YKC5cM5gV8kUuF9KwJ1SJ/h3yUy4WDh3sFS9aCAqw6cjMHHDcRSWMwv9krElaYvDn+M/OVOQ/fuf7pxyhIelyCbzyDwCxKHSDntV1m6kUhHolwIApNiS+HHj5ZNzbCY92jTFvwOUwYEiofqenSonCj3poKO3B53OfXVwvMSN9k3+bw0CGI2IreixCz7hiZ5EbDv6YVNfiXLMZN+M2Q8oNH+kRX49QgCDpdYPOqjyEtATA5WKIA6cPDuunc57GVDyOXOyFowIL2InvzaoVARxsKgFOzSunefbaTEiRBQ3T6oIRHgha3Tmce28mQhhBXWTQt5uX95hU0cey86n68A5tgJWboyDnR5BkP7rj6By5jqod2EGWYp+yJF0N0vR5zmSTmaVvu/Xz/CZMjHkgzNX4GJk6pxGPW/idj6lDtx25sKuxZ/B2afeA45iRBlLMT+yJJPKOvq9KKkARGx5r5mTkV+DR0youCovduePseB0qAy2LQ0GrYufaOLmQtAPWZKO0qCNynGTt1OpowUdTqqVLtfTtPB8UCZku20cM3EeIdhGytd17OxVKkKRUH3fkuOS5HpyHby0LcWQ31KRNxHhJuvs/dqY+NuHZO+x5vzoWuCRkWD7zn92fELIm4rQQPnPtlkAIvrUTasELNQC42xvKecdwwrgxNxNkpFt9guFnivtBmv2CjH9W6MO+ZOiyVM7T7jiNiRqF5NqBbuCR1aS8HmxFYaCJxX51vUR0N/TC7dv3zbYD1faRkYCSe8TH/67c1Q2hbKtkZBaB26BabzVvtHtQ9CfuwQ9LW3QkVIGrRsiDcdsIY9N33J11Dr6v6JTgcCzty0C2BoJMeWwa/F2XvJdDc0jiBisvx/09ZfhengOfLdqF5x/2t8iefz9jNenPGLRieIEiCnT2yzAo0gw9n+hiHhwCkHbF/bQMM3bzMHO2iZz8jzW39kNt4rr4Hqkmpd8td9WqHZazlMQmbuiJkbFlzUPxiTAqIjgE+DOVwhaNs/hDeX20/WiBBAUZpi8p3BXUNLrrAuQfG7E6DtW4xOg6wSCS8vceZ3Ld3wdzm76HPRXr9tOvrcXagICLZJ/ZEnWcyBdZAcYgwAdqQgaf/OOoIOVjksh76k34MLeeOjVd4kW4J9hR6DKcZmYuYCdVAHajyJoeGaNRSe1pDeUOCwB9bPvwKXDGdDf12dVgOsFZ8S1TJLumtQUaEtEwE31EeVsPbkWiu0XQ8lCP7jVxNMdTKyvs2tEd7BgA4+nCGYICHBEvABGu+ivMqv2fPbtymBpBLCLKe2SQgC+uaA9yXoKmFrLujBR5LF9v/+4NCkwfXfuFSkE4JsQb6YJF8FmHxX0fN9utdUJpcOt+iZpiuCfAg5qJBGAZ0LUZ+I2uIDXOTy/i+nzZYsCDNMh38RobWxmKeaoVQGKZq8/jdKk6QSjI+F2vvAgpG/9l0UBjEOORrkKvktR865p+SDCogANpK+/VQFYkmlx3aOWTgCTSBgoGRqFOZ5RuGrlZtC3XhUWwGTIqXjBi3dOuJZUZGn372qQv4tVATiS7v7UM1haAUwiAafBxaXm02CN03LIUsyHDDTPYKPJma6tI9fChb0JZmu6Wq9ZKoDJVslj4EtHnTPzExFf/aPkIiTVwr1iBFdDXYCbYrkdWhIAW/mMFdB1bWTRvFHDChW/B+ed/H6FxIAjmT6Wov/ntCdb+KboOAzXgu4sBJfXvGJRANN06DS7vh+aGOv/ohpec5NtgqJZfxTa/QhR5DE4kr6CT2pUerkRMRXdEyEAviy+kWgHjS+/LSiAsSZg8lUrPuZdU+nsCW2nz8ENDQuFs5aClvTi231dOVrthMSCJelThhNJHx/DI+pRD0akEAAbToW2aCWcf3YVLzljTchWvGr4LBDaoCbcIY9YwEueo5hbOnLtc6LJY7AUvePRyXH4u93e3NiJEADb3QIFfLt6vtUBZizGUkyHzpmej2xFg7P3K0MRQPcY76YS4YX1UgtwN52CltffMjirc/GFItcNEpKndWO6HW4ESzG1j35oz/DjcfyIWiIB9EHPw4Wnh0K28pn18MaOXHCILoPNK3eDZpr4Z4J81Z4l6XCbcp4POqWfB0sxgxxF329QMm8aj9uHnSwfD3n3nV9B86I/DDscufDvMPOLMz+vSdPCjNBCCHoryCYh8JCD7/aIbnViwFH0YfzjDc5MqakI+CUmRYpt9wzmhxRAvHvgzw67eoHnX1OFzznGAhlTMejvva8Jz+8cxXD4Ss6wwxT9AH/Gx1iKPqJTMgGiJjxbkY/87Tilr0EEHAkcxYQYa4JdcMYy4h/lP1gi7Xy0FtZ+kgJJr20dJv7N9AD4aE0okPsLLAqG26/9rqy30WQDkIrgSPrAUDoYBopelqITOJKhWSd6rsvnWVFEfNU9h1QtPHeoEhYH5cCm92MhbmEg1E19d5h42ewNsPm9QzAtQWOZeBx+TS7vAHrSoFXSSziSLrelIGmmB8DBJUGwfOsxwAIJEk/TAhFVcsM+JCd48l+GsgKti988lvTdxlJMEUcyl/GgMTQ6Mx0sSV/STH235ID736o8P4hpVUaU6BVf1gwY7jHiG63pOsCf8TEiuqyTCCvQ2odk70Dbs2da+78yZMiQIUOGDBkyZCDJ8X9kPhEmftui6AAAAABJRU5ErkJggg==",pO=()=>{const{scrollYProgress:r}=hg(),e=qi(r,[.1,.2],[1.1,1]),t=qi(r,[.05,.5],[0,-1e3]),n=qi(r,[.05,.4],[-600,1e3]);return ue.jsxs(cr.div,{className:"z-10 mt-14 w-full",id:"about-me",children:[ue.jsx("div",{className:"mb-[26rem] max-2xl:mb-[22rem] max-xl:mb-[17rem] max-lg:mb-[20rem] max-md:mb-[16rem] max-sm:mb-[15rem] max-[400px]:mb-[12rem]",children:ue.jsxs("div",{className:"relative flex justify-center py-24 font-poppinsB max-2xl:py-14 max-lg:py-16 max-md:py-12 max-sm:py-12 max-[400px]:py-8",children:[ue.jsx(cr.p,{style:{scale:e},className:"strokeText absolute top-[85%] text-[13rem] text-transparent dark:stroke-mainYellow max-md:top-[92%] max-md:text-[9rem] max-sm:top-[95%] max-sm:text-[7rem]",children:"About Me"}),ue.jsx("h2",{className:"absolute top-full text-[11rem] text-neutral-900 dark:text-mainYellow max-md:text-[8rem] max-sm:text-[6rem]",children:"About Me"})]})}),ue.jsxs("div",{className:"flex flex-col justify-between gap-20 overflow-x-hidden px-4",children:[ue.jsxs("div",{className:"flex grow flex-col flex-wrap gap-20 max-md:gap-9",children:[ue.jsxs("div",{className:"flex items-center gap-9",children:[ue.jsx("div",{className:"w-28 rounded-full border border-mainYellow p-2 max-md:w-24 max-sm:w-20",children:ue.jsx("img",{src:aO,alt:"about-me",className:"rounded-full"})}),ue.jsx("div",{className:"flex",children:ue.jsxs("p",{className:"relative font-poppinsB text-7xl text-neutral-900 dark:text-mainYellow max-md:text-6xl max-sm:text-5xl",children:["I Love",ue.jsx(cr.span,{style:{scale:e},className:"strokeText absolute left-[-10%] top-[-20%] w-[200px] text-8xl text-transparent dark:stroke-mainYellow max-md:text-7xl max-sm:text-6xl",children:"I Love"})]})})]}),ue.jsx("div",{className:"relative overflow-hidden",children:ue.jsxs(cr.div,{style:{x:t},className:"flex items-center gap-9 overflow-x-auto",children:[ue.jsxs("div",{className:"bg-natural-900 flex w-fit items-center justify-center gap-6 rounded-full bg-neutral-700 px-12 py-4 text-white dark:bg-white dark:text-neutral-900",children:[ue.jsx("img",{src:lO,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"whitespace-nowrap font-poppinsB text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-3xl",children:"Eating Food"})]}),ue.jsxs("div",{className:"bg-natural-900 flex w-fit items-center justify-center gap-6 rounded-full bg-neutral-700 px-12 py-4 text-white dark:bg-white dark:text-neutral-900",children:[ue.jsx("img",{src:oO,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"whitespace-nowrap font-poppinsB text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-3xl",children:"Watch Anime"})]}),ue.jsxs("div",{className:"bg-natural-900 flex w-fit items-center justify-center gap-6 rounded-full bg-neutral-700 px-12 py-4 text-white dark:bg-white dark:text-neutral-900",children:[ue.jsx("img",{src:cO,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"whitespace-nowrap font-poppinsB text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-3xl",children:"Playing Football"})]}),ue.jsxs("div",{className:"bg-natural-900 flex w-fit items-center justify-center gap-6 rounded-full bg-neutral-700 px-12 py-4 text-white dark:bg-white dark:text-neutral-900",children:[ue.jsx("img",{src:uO,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"whitespace-nowrap font-poppinsB text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-3xl",children:"Instrumental"})]}),ue.jsxs("div",{className:"bg-natural-900 flex w-fit items-center justify-center gap-6 rounded-full bg-neutral-700 px-12 py-4 text-white dark:bg-white dark:text-neutral-900",children:[ue.jsx("img",{src:dO,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"whitespace-nowrap font-poppinsB text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-3xl",children:"Playing Game"})]}),ue.jsxs("div",{className:"bg-natural-900 flex w-fit items-center justify-center gap-6 rounded-full bg-neutral-700 px-12 py-4 text-white dark:bg-white dark:text-neutral-900",children:[ue.jsx("img",{src:hO,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"whitespace-nowrap font-poppinsB text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-3xl",children:"Coding"})]}),ue.jsxs("div",{className:"bg-natural-900 flex w-fit items-center justify-center gap-6 rounded-full bg-neutral-700 px-12 py-4 text-white dark:bg-white dark:text-neutral-900",children:[ue.jsx("img",{src:fO,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"whitespace-nowrap font-poppinsB text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-3xl",children:"Traveling"})]})]})})]}),ue.jsx("div",{className:"relative flex items-center overflow-hidden",children:ue.jsxs(cr.div,{style:{x:n},className:"flex items-center justify-between gap-3 font-iranB text-6xl text-white max-md:text-4xl",children:[ue.jsxs("div",{className:"bgCard flex grow flex-col items-center justify-center gap-6 px-32 py-12 max-lg:px-16 max-lg:py-8 max-sm:px-12 max-sm:py-6",children:[ue.jsx("p",{className:"textGradient whitespace-nowrap text-6xl max-lg:text-4xl max-sm:text-3xl",children:"Passionate"}),ue.jsx("p",{className:"whitespace-nowrap text-5xl max-lg:text-3xl max-sm:text-2xl",children:"Web Developer"})]}),ue.jsxs("div",{className:"bgCard dark:bgCardDark flex grow flex-col items-center justify-center gap-6 px-32 py-12 max-lg:px-16 max-lg:py-8 max-sm:px-12 max-sm:py-6",children:[ue.jsx("p",{className:"textGradient whitespace-nowrap text-6xl max-lg:text-4xl max-sm:text-3xl",children:"Creating Modern &"}),ue.jsx("p",{className:"whitespace-nowrap text-5xl max-lg:text-3xl max-sm:text-2xl",children:"Responsive Websites"})]}),ue.jsxs("div",{className:"bgCard flex grow flex-col items-center justify-center gap-6 px-32 py-12 max-lg:px-16 max-lg:py-8 max-sm:px-12 max-sm:py-6",children:[ue.jsx("p",{className:"textGradient whitespace-nowrap text-6xl max-lg:text-4xl max-sm:text-3xl",children:"Turning Ideas"}),ue.jsx("p",{className:"whitespace-nowrap text-5xl max-lg:text-3xl max-sm:text-2xl",children:"into Digital Reality"})]}),ue.jsxs("div",{className:"bgCard flex grow flex-col items-center justify-center gap-6 px-32 py-12 max-lg:px-16 max-lg:py-8 max-sm:px-12 max-sm:py-6",children:[ue.jsx("p",{className:"textGradient whitespace-nowrap text-6xl max-lg:text-4xl max-sm:text-3xl",children:"Simplifying"}),ue.jsx("p",{className:"whitespace-nowrap text-5xl max-lg:text-3xl max-sm:text-2xl",children:"Complex Designs"})]}),ue.jsxs("div",{className:"bgCard flex grow flex-col items-center justify-center gap-6 px-32 py-12 max-lg:px-16 max-lg:py-8 max-sm:px-12 max-sm:py-6",children:[ue.jsx("p",{className:"textGradient whitespace-nowrap text-6xl max-lg:text-4xl max-sm:text-3xl",children:"Building Websites"}),ue.jsx("p",{className:"whitespace-nowrap text-5xl max-lg:text-3xl max-sm:text-2xl",children:"That Inspire"})]})]})})]}),ue.jsxs("div",{className:"flex flex-col px-4",children:[ue.jsx(cr.div,{dir:"rtl",className:"dark:bgGlassesLight mt-28 overflow-x-hidden rounded-[50px] bg-neutral-700 p-12 text-3xl leading-[4.2rem] text-gray-200 dark:text-gray-300 max-lg:text-2xl max-lg:leading-[3.5rem] max-md:leading-[3.5rem] max-md:text-[1.35]",children:ue.jsx(cr.p,{className:"mb-9",initial:{x:200,opacity:0},whileInView:{x:0,opacity:1},transition:{duration:1},viewport:{once:!0},children:"من یک توسعه‌دهنده فرانت‌اند با بیش از 2 سال تجربه در طراحی و توسعه وب هستم. مهارت‌های من شامل کار با تکنولوژی‌های مدرن مانند ReactJS، NextJS، Redux و کتابخانه‌های رابط کاربری مثل Material UI، Tailwind CSS، SCSS و Framer Motion می‌شود. تمرکز من بر طراحی رابط‌های کاربری زیبا، واکنش‌گرا و ساختارمند است که تجربه‌ای کاربری جذاب و منحصربه‌فرد ارائه می‌دهد."})}),ue.jsx("div",{})]})]})};var Tb={exports:{}},Rb,EC;function mO(){if(EC)return Rb;EC=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Rb=r,Rb}var Ib,TC;function gO(){if(TC)return Ib;TC=1;var r=mO();function e(){}function t(){}return t.resetWarningCache=e,Ib=function(){function n(a,o,l,c,u,d){if(d!==r){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},Ib}var RC;function xO(){return RC||(RC=1,Tb.exports=gO()()),Tb.exports}function Po(){return Po=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Po.apply(null,arguments)}const IC="/myPortfolio/assets/js-CiUAFWoB.png",vO="/myPortfolio/assets/react-Dd9N__7M.png",yO="/myPortfolio/assets/sass-Bd-9nJOc.png";var _w=new Map,kx=new WeakMap,PC=0,bO=void 0;function wO(r){return r?(kx.has(r)||(PC+=1,kx.set(r,PC.toString())),kx.get(r)):"0"}function AO(r){return Object.keys(r).sort().filter(e=>r[e]!==void 0).map(e=>`${e}_${e==="root"?wO(r.root):r[e]}`).toString()}function SO(r){const e=AO(r);let t=_w.get(e);if(!t){const n=new Map;let i;const s=new IntersectionObserver(a=>{a.forEach(o=>{var l;const c=o.isIntersecting&&i.some(u=>o.intersectionRatio>=u);r.trackVisibility&&typeof o.isVisible>"u"&&(o.isVisible=c),(l=n.get(o.target))==null||l.forEach(u=>{u(c,o)})})},r);i=s.thresholds||(Array.isArray(r.threshold)?r.threshold:[r.threshold||0]),t={id:e,observer:s,elements:n},_w.set(e,t)}return t}function _O(r,e,t={},n=bO){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const l=r.getBoundingClientRect();return e(n,{isIntersecting:n,target:r,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:s,elements:a}=SO(t),o=a.get(r)||[];return a.has(r)||a.set(r,o),o.push(e),s.observe(r),function(){o.splice(o.indexOf(e),1),o.length===0&&(a.delete(r),s.unobserve(r)),a.size===0&&(s.disconnect(),_w.delete(i))}}function MO({threshold:r,delay:e,trackVisibility:t,rootMargin:n,root:i,triggerOnce:s,skip:a,initialInView:o,fallbackInView:l,onChange:c}={}){var u;const[d,f]=de.useState(null),m=de.useRef(c),[v,y]=de.useState({inView:!!o,entry:void 0});m.current=c,de.useEffect(()=>{if(a||!d)return;let M;return M=_O(d,(E,T)=>{y({inView:E,entry:T}),m.current&&m.current(E,T),T.isIntersecting&&s&&M&&(M(),M=void 0)},{root:i,rootMargin:n,threshold:r,trackVisibility:t,delay:e},l),()=>{M&&M()}},[Array.isArray(r)?r.toString():r,d,i,n,s,a,t,l,e]);const w=(u=v.entry)==null?void 0:u.target,b=de.useRef(void 0);!d&&w&&!s&&!a&&b.current!==w&&(b.current=w,y({inView:!!o,entry:void 0}));const S=[f,v.inView,v.entry];return S.ref=S[0],S.inView=S[1],S.entry=S[2],S}var Pb={};/*!
 * ApexCharts v4.4.0
 * (c) 2018-2025 ApexCharts
 * Released under the MIT License.
 */function Mw(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function YR(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _t(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function kC(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,KR(n.key),n)}}function Mt(r,e,t){return e&&kC(r.prototype,e),t&&kC(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function gm(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=ZA(r))||e){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,o=!1;return{s:function(){t=t.call(r)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{a||t.return==null||t.return()}finally{if(o)throw s}}}}function dg(r){var e=jR();return function(){var t,n=ev(r);if(e){var i=ev(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return function(s,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YR(s)}(this,t)}}function $0(r,e,t){return(e=KR(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ev(r){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ev(r)}function fg(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Cw(r,e)}function jR(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jR=function(){return!!r})()}function LC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function lt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(t),!0).forEach(function(n){$0(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):LC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Cw(r,e){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Cw(r,e)}function JR(r,e){return function(t){if(Array.isArray(t))return t}(r)||function(t,n){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var s,a,o,l,c=[],u=!0,d=!1;try{if(o=(i=i.call(t)).next,n===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(s=o.call(i)).done)&&(c.push(s.value),c.length!==n);u=!0);}catch(f){d=!0,a=f}finally{try{if(!u&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(d)throw a}}return c}}(r,e)||ZA(r,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hr(r){return function(e){if(Array.isArray(e))return Mw(e)}(r)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(r)||ZA(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function KR(r){var e=function(t,n){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,n||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}(r,"string");return typeof e=="symbol"?e:e+""}function Cf(r){return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(r)}function ZA(r,e){if(r){if(typeof r=="string")return Mw(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Mw(r,e):void 0}}var xe=function(){function r(){_t(this,r)}return Mt(r,[{key:"shadeRGBColor",value:function(e,t){var n=t.split(","),i=e<0?0:255,s=e<0?-1*e:e,a=parseInt(n[0].slice(4),10),o=parseInt(n[1],10),l=parseInt(n[2],10);return"rgb("+(Math.round((i-a)*s)+a)+","+(Math.round((i-o)*s)+o)+","+(Math.round((i-l)*s)+l)+")"}},{key:"shadeHexColor",value:function(e,t){var n=parseInt(t.slice(1),16),i=e<0?0:255,s=e<0?-1*e:e,a=n>>16,o=n>>8&255,l=255&n;return"#"+(16777216+65536*(Math.round((i-a)*s)+a)+256*(Math.round((i-o)*s)+o)+(Math.round((i-l)*s)+l)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return r.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&Cf(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n}},{key:"extend",value:function(e,t){var n=this;typeof Object.assign!="function"&&(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(s),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)l.hasOwnProperty(c)&&(a[c]=l[c])}return a});var i=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(s){n.isObject(t[s])&&s in e?i[s]=n.extend(e[s],t[s]):Object.assign(i,$0({},s,t[s]))}),i}},{key:"extendArray",value:function(e,t){var n=[];return e.map(function(i){n.push(r.extend(t,i))}),e=n}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||Cf(e)!=="object")return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){t=[],n.set(e,t);for(var i=0;i<e.length;i++)t[i]=this.clone(e[i],n)}else if(e instanceof Date)t=new Date(e.getTime());else for(var s in t={},n.set(e,t),e)e.hasOwnProperty(s)&&(t[s]=this.clone(e[s],n));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),n=e.clientHeight,i=e.clientWidth;return n-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[i-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(t,n){return Array.isArray(n)&&(n=n.reduce(function(i,s){return i.length>s.length?i:s})),t.length>n.length?t:n},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var n=e.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var i=0;i<n.length;i++)n[i]=parseInt(n[i].length===1?n[i]+n[i]:n[i],16);return t!==void 0&&n.push(t),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var n=[],i=2*Math.PI/t,s=0;s<t;s++){var a={};a.x=e*Math.sin(s*i),a.y=-e*Math.cos(s*i),n.push(a)}return n}},{key:"polarToCartesian",value:function(e,t,n,i){var s=(i-90)*Math.PI/180;return{x:e+n*Math.cos(s),y:t+n*Math.sin(s)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=e.toString().slice();return n=n.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,n){if(n>=e.length)for(var i=n-e.length+1;i--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style.key=t[n])}},{key:"preciseAddition",value:function(e,t){var n=(String(e).split(".")[1]||"").length,i=(String(t).split(".")[1]||"").length,s=Math.pow(10,Math.max(n,i));return(Math.round(e*s)+Math.round(t*s))/s}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,i=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));for(e=Math.round(Math.abs(e)*i),t=Math.round(Math.abs(t)*i);t;){var s=t;t=e%t,e=s}return e/i}},{key:"getPrimeFactors",value:function(e){for(var t=[],n=2;e>=2;)e%n==0?(t.push(n),e/=n):n++;return t}},{key:"mod",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,i=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*i))%(t=Math.round(Math.abs(t)*i))/i}}]),r}(),zf=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"animateLine",value:function(e,t,n,i){e.attr(t).animate(i).attr(n)}},{key:"animateMarker",value:function(e,t,n,i){e.attr({opacity:0}).animate(t).attr({opacity:1}).after(function(){i()})}},{key:"animateRect",value:function(e,t,n,i,s){e.attr(t).animate(i).attr(n).after(function(){return s()})}},{key:"animatePathsGradually",value:function(e){var t=e.el,n=e.realIndex,i=e.j,s=e.fill,a=e.pathFrom,o=e.pathTo,l=e.speed,c=e.delay,u=this.w,d=0;u.config.chart.animations.animateGradually.enabled&&(d=u.config.chart.animations.animateGradually.delay),u.config.chart.animations.dynamicAnimation.enabled&&u.globals.dataChanged&&u.config.chart.type!=="bar"&&(d=0),this.morphSVG(t,n,i,u.config.chart.type!=="line"||u.globals.comboCharts?s:"stroke",a,o,l,c*d)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,n,i,s,a,o,l){var c=this,u=this.w;s||(s=e.attr("pathFrom")),a||(a=e.attr("pathTo"));var d=function(f){return u.config.chart.type==="radar"&&(o=1),"M 0 ".concat(u.globals.gridHeight)};(!s||s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s=d()),(!a.trim()||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=d()),u.globals.shouldAnimate||(o=1),e.plot(s).animate(1,l).plot(s).animate(o,l).plot(a).after(function(){xe.isNumber(n)?n===u.globals.series[u.globals.maxValsInArrayIndex].length-2&&u.globals.shouldAnimate&&c.animationCompleted(e):i!=="none"&&u.globals.shouldAnimate&&(!u.globals.comboCharts&&t===u.globals.series.length-1||u.globals.comboCharts)&&c.animationCompleted(e),c.showDelayedElements()})}}]),r}();const Ew={},ZR=[];function En(r,e){if(Array.isArray(r))for(const t of r)En(t,e);else if(typeof r!="object")qR(Object.getOwnPropertyNames(e)),Ew[r]=Object.assign(Ew[r]||{},e);else for(const t in r)En(t,r[t])}function Ds(r){return Ew[r]||{}}function qR(r){ZR.push(...r)}function qA(r,e){let t;const n=r.length,i=[];for(t=0;t<n;t++)i.push(e(r[t]));return i}function kb(r){return r%360*Math.PI/180}function Hf(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Gf(r,e,t,n){return e!=null&&t!=null||(n=n||r.bbox(),e==null?e=n.width/n.height*t:t==null&&(t=n.height/n.width*e)),{width:e,height:t}}function Tw(r,e){const t=r.origin;let n=r.ox!=null?r.ox:r.originX!=null?r.originX:"center",i=r.oy!=null?r.oy:r.originY!=null?r.originY:"center";t!=null&&([n,i]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const s=typeof n=="string",a=typeof i=="string";if(s||a){const{height:o,width:l,x:c,y:u}=e.bbox();s&&(n=n.includes("left")?c:n.includes("right")?c+l:c+l/2),a&&(i=i.includes("top")?u:i.includes("bottom")?u+o:u+o/2)}return[n,i]}const CO=new Set(["desc","metadata","title"]),Rw=r=>CO.has(r.nodeName),QR=(r,e,t={})=>{const n={...e};for(const i in n)n[i].valueOf()===t[i]&&delete n[i];Object.keys(n).length?r.node.setAttribute("data-svgjs",JSON.stringify(n)):(r.node.removeAttribute("data-svgjs"),r.node.removeAttribute("svgjs:data"))},QA="http://www.w3.org/2000/svg",Lb="http://www.w3.org/2000/xmlns/",Vf="http://www.w3.org/1999/xlink",Un={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function pg(){return Un.window}let $A=class{};const gh={},eS="___SYMBOL___ROOT___";function Hm(r,e=QA){return Un.document.createElementNS(e,r)}function vs(r,e=!1){if(r instanceof $A)return r;if(typeof r=="object")return Bb(r);if(r==null)return new gh[eS];if(typeof r=="string"&&r.charAt(0)!=="<")return Bb(Un.document.querySelector(r));const t=e?Un.document.createElement("div"):Hm("svg");return t.innerHTML=r,r=Bb(t.firstChild),t.removeChild(t.firstChild),r}function li(r,e){return e&&(e instanceof Un.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:Hm(r)}function Aa(r){if(!r)return null;if(r.instance instanceof $A)return r.instance;if(r.nodeName==="#document-fragment")return new gh.Fragment(r);let e=Hf(r.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":gh[e]||(e="Dom"),new gh[e](r)}let Bb=Aa;function zn(r,e=r.name,t=!1){return gh[e]=r,t&&(gh[eS]=r),qR(Object.getOwnPropertyNames(r.prototype)),r}let EO=1e3;function $R(r){return"Svgjs"+Hf(r)+EO++}function eI(r){for(let e=r.children.length-1;e>=0;e--)eI(r.children[e]);return r.id&&(r.id=$R(r.nodeName)),r}function tn(r,e){let t,n;for(n=(r=Array.isArray(r)?r:[r]).length-1;n>=0;n--)for(t in e)r[n].prototype[t]=e[t]}function oi(r){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?r.apply(this,e):r.apply(this,e.slice(0,-1)).attr(t)}}En("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const r=this.position();return this.parent().add(this.remove(),r+1),this},backward:function(){const r=this.position();return this.parent().add(this.remove(),r?r-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(r){(r=vs(r)).remove();const e=this.position();return this.parent().add(r,e),this},after:function(r){(r=vs(r)).remove();const e=this.position();return this.parent().add(r,e+1),this},insertBefore:function(r){return(r=vs(r)).before(this),this},insertAfter:function(r){return(r=vs(r)).after(this),this}});const tI=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,TO=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,RO=/rgb\((\d+),(\d+),(\d+)\)/,IO=/(#[a-z_][a-z0-9\-_]*)/i,PO=/\)\s*,?\s*/,kO=/\s/g,BC=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,DC=/^rgb\(/,FC=/^(\s+)?$/,NC=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,LO=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,zl=/[\s,]+/,tS=/[MLHVCSQTAZ]/i;function BO(r){const e=Math.round(r),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function Fd(r,e){for(let t=e.length;t--;)if(r[e[t]]==null)return!1;return!0}function Db(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+6*(e-r)*t:t<.5?e:t<2/3?r+(e-r)*(2/3-t)*6:r}En("Dom",{classes:function(){const r=this.attr("class");return r==null?[]:r.trim().split(zl)},hasClass:function(r){return this.classes().indexOf(r)!==-1},addClass:function(r){if(!this.hasClass(r)){const e=this.classes();e.push(r),this.attr("class",e.join(" "))}return this},removeClass:function(r){return this.hasClass(r)&&this.attr("class",this.classes().filter(function(e){return e!==r}).join(" ")),this},toggleClass:function(r){return this.hasClass(r)?this.removeClass(r):this.addClass(r)}}),En("Dom",{css:function(r,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(n){return!!n.length}).forEach(function(n){const i=n.split(/\s*:\s*/);t[i[0]]=i[1]}),t;if(arguments.length<2){if(Array.isArray(r)){for(const n of r){const i=n;t[n]=this.node.style.getPropertyValue(i)}return t}if(typeof r=="string")return this.node.style.getPropertyValue(r);if(typeof r=="object")for(const n in r)this.node.style.setProperty(n,r[n]==null||FC.test(r[n])?"":r[n])}return arguments.length===2&&this.node.style.setProperty(r,e==null||FC.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),En("Dom",{data:function(r,e,t){if(r==null)return this.data(qA(function(n,i){let s;const a=n.length,o=[];for(s=0;s<a;s++)i(n[s])&&o.push(n[s]);return o}(this.node.attributes,n=>n.nodeName.indexOf("data-")===0),n=>n.nodeName.slice(5)));if(r instanceof Array){const n={};for(const i of r)n[i]=this.data(i);return n}if(typeof r=="object")for(e in r)this.data(e,r[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+r))}catch{return this.attr("data-"+r)}else this.attr("data-"+r,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),En("Dom",{remember:function(r,e){if(typeof arguments[0]=="object")for(const t in r)this.remember(t,r[t]);else{if(arguments.length===1)return this.memory()[r];this.memory()[r]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let r=arguments.length-1;r>=0;r--)delete this.memory()[arguments[r]];return this},memory:function(){return this._memory=this._memory||{}}});class ei{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof ei||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:n,round:i,sin:s,PI:a}=Math;if(e==="vibrant"){const o=24*n()+57,l=38*n()+45,c=360*n();return new ei(o,l,c,"lch")}if(e==="sine"){const o=i(80*s(2*a*(t=t??n())/.5+.01)+150),l=i(50*s(2*a*t/.5+4.6)+200),c=i(100*s(2*a*t/.5+2.3)+150);return new ei(o,l,c)}if(e==="pastel"){const o=8*n()+86,l=17*n()+9,c=360*n();return new ei(o,l,c,"lch")}if(e==="dark"){const o=10+10*n(),l=50*n()+86,c=360*n();return new ei(o,l,c,"lch")}if(e==="rgb"){const o=255*n(),l=255*n(),c=255*n();return new ei(o,l,c)}if(e==="lab"){const o=100*n(),l=256*n()-128,c=256*n()-128;return new ei(o,l,c,"lab")}if(e==="grey"){const o=255*n();return new ei(o,o,o)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(BC.test(e)||DC.test(e))}cmyk(){const{_a:e,_b:t,_c:n}=this.rgb(),[i,s,a]=[e,t,n].map(l=>l/255),o=Math.min(1-i,1-s,1-a);return o===1?new ei(0,0,0,1,"cmyk"):new ei((1-i-o)/(1-o),(1-s-o)/(1-o),(1-a-o)/(1-o),o,"cmyk")}hsl(){const{_a:e,_b:t,_c:n}=this.rgb(),[i,s,a]=[e,t,n].map(f=>f/255),o=Math.max(i,s,a),l=Math.min(i,s,a),c=(o+l)/2,u=o===l,d=o-l;return new ei(360*(u?0:o===i?((s-a)/d+(s<a?6:0))/6:o===s?((a-i)/d+2)/6:o===a?((i-s)/d+4)/6:0),100*(u?0:c>.5?d/(2-o-l):d/(o+l)),100*c,"hsl")}init(e=0,t=0,n=0,i=0,s="rgb"){if(e=e||0,this.space)for(const d in this.space)delete this[this.space[d]];if(typeof e=="number")s=typeof i=="string"?i:s,i=typeof i=="string"?0:i,Object.assign(this,{_a:e,_b:t,_c:n,_d:i,space:s});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const d=function(f,m){const v=Fd(f,"rgb")?{_a:f.r,_b:f.g,_c:f.b,_d:0,space:"rgb"}:Fd(f,"xyz")?{_a:f.x,_b:f.y,_c:f.z,_d:0,space:"xyz"}:Fd(f,"hsl")?{_a:f.h,_b:f.s,_c:f.l,_d:0,space:"hsl"}:Fd(f,"lab")?{_a:f.l,_b:f.a,_c:f.b,_d:0,space:"lab"}:Fd(f,"lch")?{_a:f.l,_b:f.c,_c:f.h,_d:0,space:"lch"}:Fd(f,"cmyk")?{_a:f.c,_b:f.m,_c:f.y,_d:f.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return v.space=m||v.space,v}(e,t);Object.assign(this,d)}else if(typeof e=="string")if(DC.test(e)){const d=e.replace(kO,""),[f,m,v]=RO.exec(d).slice(1,4).map(y=>parseInt(y));Object.assign(this,{_a:f,_b:m,_c:v,_d:0,space:"rgb"})}else{if(!BC.test(e))throw Error("Unsupported string format, can't construct Color");{const d=y=>parseInt(y,16),[,f,m,v]=TO.exec(function(y){return y.length===4?["#",y.substring(1,2),y.substring(1,2),y.substring(2,3),y.substring(2,3),y.substring(3,4),y.substring(3,4)].join(""):y}(e)).map(d);Object.assign(this,{_a:f,_b:m,_c:v,_d:0,space:"rgb"})}}const{_a:a,_b:o,_c:l,_d:c}=this,u=this.space==="rgb"?{r:a,g:o,b:l}:this.space==="xyz"?{x:a,y:o,z:l}:this.space==="hsl"?{h:a,s:o,l}:this.space==="lab"?{l:a,a:o,b:l}:this.space==="lch"?{l:a,c:o,h:l}:this.space==="cmyk"?{c:a,m:o,y:l,k:c}:{};Object.assign(this,u)}lab(){const{x:e,y:t,z:n}=this.xyz();return new ei(116*t-16,500*(e-t),200*(t-n),"lab")}lch(){const{l:e,a:t,b:n}=this.lab(),i=Math.sqrt(t**2+n**2);let s=180*Math.atan2(n,t)/Math.PI;return s<0&&(s*=-1,s=360-s),new ei(e,i,s,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:n,z:i}=this;if(this.space==="lab"||this.space==="lch"){let{l:m,a:v,b:y}=this;if(this.space==="lch"){const{c:R,h:P}=this,k=Math.PI/180;v=R*Math.cos(k*P),y=R*Math.sin(k*P)}const w=(m+16)/116,b=v/500+w,S=w-y/200,M=16/116,E=.008856,T=7.787;t=.95047*(b**3>E?b**3:(b-M)/T),n=1*(w**3>E?w**3:(w-M)/T),i=1.08883*(S**3>E?S**3:(S-M)/T)}const s=3.2406*t+-1.5372*n+-.4986*i,a=-.9689*t+1.8758*n+.0415*i,o=.0557*t+-.204*n+1.057*i,l=Math.pow,c=.0031308,u=s>c?1.055*l(s,1/2.4)-.055:12.92*s,d=a>c?1.055*l(a,1/2.4)-.055:12.92*a,f=o>c?1.055*l(o,1/2.4)-.055:12.92*o;return new ei(255*u,255*d,255*f)}if(this.space==="hsl"){let{h:t,s:n,l:i}=this;if(t/=360,n/=100,i/=100,n===0)return i*=255,new ei(i,i,i);const s=i<.5?i*(1+n):i+n-i*n,a=2*i-s,o=255*Db(a,s,t+1/3),l=255*Db(a,s,t),c=255*Db(a,s,t-1/3);return new ei(o,l,c)}if(this.space==="cmyk"){const{c:t,m:n,y:i,k:s}=this,a=255*(1-Math.min(1,t*(1-s)+s)),o=255*(1-Math.min(1,n*(1-s)+s)),l=255*(1-Math.min(1,i*(1-s)+s));return new ei(a,o,l)}return this;var e}toArray(){const{_a:e,_b:t,_c:n,_d:i,space:s}=this;return[e,t,n,i,s]}toHex(){const[e,t,n]=this._clamped().map(BO);return`#${e}${t}${n}`}toRgb(){const[e,t,n]=this._clamped();return`rgb(${e},${t},${n})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:n}=this.rgb(),[i,s,a]=[e,t,n].map(w=>w/255),o=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,l=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,c=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,u=(.4124*o+.3576*l+.1805*c)/.95047,d=(.2126*o+.7152*l+.0722*c)/1,f=(.0193*o+.1192*l+.9505*c)/1.08883,m=u>.008856?Math.pow(u,1/3):7.787*u+16/116,v=d>.008856?Math.pow(d,1/3):7.787*d+16/116,y=f>.008856?Math.pow(f,1/3):7.787*f+16/116;return new ei(m,v,y,"xyz")}_clamped(){const{_a:e,_b:t,_c:n}=this.rgb(),{max:i,min:s,round:a}=Math;return[e,t,n].map(o=>i(0,s(a(o),255)))}}class Xn{constructor(...e){this.init(...e)}clone(){return new Xn(this)}init(e,t){const s=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=s.x==null?0:s.x,this.y=s.y==null?0:s.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){jt.isMatrixLike(e)||(e=new jt(e));const{x:t,y:n}=this;return this.x=e.a*t+e.c*n+e.e,this.y=e.b*t+e.d*n+e.f,this}}function Nd(r,e,t){return Math.abs(e-r)<1e-6}class jt{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,n=e.flip&&(t||e.flip==="x")?-1:1,i=e.flip&&(t||e.flip==="y")?-1:1,s=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,a=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,o=e.scale&&e.scale.length?e.scale[0]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleX)?e.scaleX*n:n,l=e.scale&&e.scale.length?e.scale[1]*i:isFinite(e.scale)?e.scale*i:isFinite(e.scaleY)?e.scaleY*i:i,c=e.shear||0,u=e.rotate||e.theta||0,d=new Xn(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),f=d.x,m=d.y,v=new Xn(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),y=v.x,w=v.y,b=new Xn(e.translate||e.tx||e.translateX,e.ty||e.translateY),S=b.x,M=b.y,E=new Xn(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:o,scaleY:l,skewX:s,skewY:a,shear:c,theta:u,rx:E.x,ry:E.y,tx:S,ty:M,ox:f,oy:m,px:y,py:w}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,n){const i=e.a*t.a+e.c*t.b,s=e.b*t.a+e.d*t.b,a=e.a*t.c+e.c*t.d,o=e.b*t.c+e.d*t.d,l=e.e+e.a*t.e+e.c*t.f,c=e.f+e.b*t.e+e.d*t.f;return n.a=i,n.b=s,n.c=a,n.d=o,n.e=l,n.f=c,n}around(e,t,n){return this.clone().aroundO(e,t,n)}aroundO(e,t,n){const i=e||0,s=t||0;return this.translateO(-i,-s).lmultiplyO(n).translateO(i,s)}clone(){return new jt(this)}decompose(e=0,t=0){const n=this.a,i=this.b,s=this.c,a=this.d,o=this.e,l=this.f,c=n*a-i*s,u=c>0?1:-1,d=u*Math.sqrt(n*n+i*i),f=Math.atan2(u*i,u*n),m=180/Math.PI*f,v=Math.cos(f),y=Math.sin(f),w=(n*s+i*a)/c,b=s*d/(w*n-i)||a*d/(w*i+n);return{scaleX:d,scaleY:b,shear:w,rotate:m,translateX:o-e+e*v*d+t*(w*v*d-y*b),translateY:l-t+e*y*d+t*(w*y*d+v*b),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new jt(e);return Nd(this.a,t.a)&&Nd(this.b,t.b)&&Nd(this.c,t.c)&&Nd(this.d,t.d)&&Nd(this.e,t.e)&&Nd(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=jt.fromArray([1,0,0,1,0,0]);return e=e instanceof Ur?e.matrixify():typeof e=="string"?jt.fromArray(e.split(zl).map(parseFloat)):Array.isArray(e)?jt.fromArray(e):typeof e=="object"&&jt.isMatrixLike(e)?e:typeof e=="object"?new jt().transform(e):arguments.length===6?jt.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,n=this.c,i=this.d,s=this.e,a=this.f,o=e*i-t*n;if(!o)throw new Error("Cannot invert "+this);const l=i/o,c=-t/o,u=-n/o,d=e/o,f=-(l*s+u*a),m=-(c*s+d*a);return this.a=l,this.b=c,this.c=u,this.d=d,this.e=f,this.f=m,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof jt?e:new jt(e);return jt.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof jt?e:new jt(e);return jt.matrixMultiply(this,t,this)}rotate(e,t,n){return this.clone().rotateO(e,t,n)}rotateO(e,t=0,n=0){e=kb(e);const i=Math.cos(e),s=Math.sin(e),{a,b:o,c:l,d:c,e:u,f:d}=this;return this.a=a*i-o*s,this.b=o*i+a*s,this.c=l*i-c*s,this.d=c*i+l*s,this.e=u*i-d*s+n*s-t*i+t,this.f=d*i+u*s-t*s-n*i+n,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,n=0,i=0){arguments.length===3&&(i=n,n=t,t=e);const{a:s,b:a,c:o,d:l,e:c,f:u}=this;return this.a=s*e,this.b=a*t,this.c=o*e,this.d=l*t,this.e=c*e-n*e+n,this.f=u*t-i*t+i,this}shear(e,t,n){return this.clone().shearO(e,t,n)}shearO(e,t=0,n=0){const{a:i,b:s,c:a,d:o,e:l,f:c}=this;return this.a=i+s*e,this.c=a+o*e,this.e=l+c*e-n*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,n=0,i=0){arguments.length===3&&(i=n,n=t,t=e),e=kb(e),t=kb(t);const s=Math.tan(e),a=Math.tan(t),{a:o,b:l,c,d:u,e:d,f}=this;return this.a=o+l*s,this.b=l+o*a,this.c=c+u*s,this.d=u+c*a,this.e=d+f*s-i*s,this.f=f+d*a-n*a,this}skewX(e,t,n){return this.skew(e,0,t,n)}skewY(e,t,n){return this.skew(0,e,t,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(jt.isMatrixLike(e))return new jt(e).multiplyO(this);const t=jt.formatTransforms(e),{x:n,y:i}=new Xn(t.ox,t.oy).transform(this),s=new jt().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-n,-i).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(n,i);if(isFinite(t.px)||isFinite(t.py)){const a=new Xn(n,i).transform(s),o=isFinite(t.px)?t.px-a.x:0,l=isFinite(t.py)?t.py-a.y:0;s.translateO(o,l)}return s.translateO(t.tx,t.ty),s}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function kc(){if(!kc.nodes){const r=vs().size(2,0);r.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),r.attr("focusable","false"),r.attr("aria-hidden","true");const e=r.path().node;kc.nodes={svg:r,path:e}}if(!kc.nodes.svg.node.parentNode){const r=Un.document.body||Un.document.documentElement;kc.nodes.svg.addTo(r)}return kc.nodes}function nI(r){return!(r.width||r.height||r.x||r.y)}zn(jt,"Matrix");class Di{constructor(...e){this.init(...e)}addOffset(){return this.x+=Un.window.pageXOffset,this.y+=Un.window.pageYOffset,new Di(this)}init(e){return e=typeof e=="string"?e.split(zl).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return nI(this)}merge(e){const t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width)-t,s=Math.max(this.y+this.height,e.y+e.height)-n;return new Di(t,n,i,s)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof jt||(e=new jt(e));let t=1/0,n=-1/0,i=1/0,s=-1/0;return[new Xn(this.x,this.y),new Xn(this.x2,this.y),new Xn(this.x,this.y2),new Xn(this.x2,this.y2)].forEach(function(a){a=a.transform(e),t=Math.min(t,a.x),n=Math.max(n,a.x),i=Math.min(i,a.y),s=Math.max(s,a.y)}),new Di(t,i,n-t,s-i)}}function OC(r,e,t){let n;try{if(n=e(r.node),nI(n)&&(i=r.node)!==Un.document&&!(Un.document.documentElement.contains||function(s){for(;s.parentNode;)s=s.parentNode;return s===Un.document}).call(Un.document.documentElement,i))throw new Error("Element not in the dom")}catch{n=t(r)}var i;return n}En({viewbox:{viewbox(r,e,t,n){return r==null?new Di(this.attr("viewBox")):this.attr("viewBox",new Di(r,e,t,n))},zoom(r,e){let{width:t,height:n}=this.attr(["width","height"]);if((t||n)&&typeof t!="string"&&typeof n!="string"||(t=this.node.clientWidth,n=this.node.clientHeight),!t||!n)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),s=t/i.width,a=n/i.height,o=Math.min(s,a);if(r==null)return o;let l=o/r;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new Xn(t/2/s+i.x,n/2/a+i.y);const c=new Di(i).transform(new jt({scale:l,origin:e}));return this.viewbox(c)}}}),zn(Di,"Box");class Sh extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}}tn([Sh],{each(r,...e){return typeof r=="function"?this.map((t,n,i)=>r.call(t,t,n,i)):this.map(t=>t[r](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const DO=["toArray","constructor","each"];function Bh(r,e){return new Sh(qA((e||Un.document).querySelectorAll(r),function(t){return Aa(t)}))}Sh.extend=function(r){r=r.reduce((e,t)=>(DO.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...n){return this.each(t,...n)}),e),{}),tn([Sh],r)};let FO=0;const iI={};function rI(r){let e=r.getEventHolder();return e===Un.window&&(e=iI),e.events||(e.events={}),e.events}function nS(r){return r.getEventTarget()}function Pl(r,e,t,n,i){const s=t.bind(n||r),a=vs(r),o=rI(a),l=nS(a);e=Array.isArray(e)?e:e.split(zl),t._svgjsListenerId||(t._svgjsListenerId=++FO),e.forEach(function(c){const u=c.split(".")[0],d=c.split(".")[1]||"*";o[u]=o[u]||{},o[u][d]=o[u][d]||{},o[u][d][t._svgjsListenerId]=s,l.addEventListener(u,s,i||!1)})}function Ma(r,e,t,n){const i=vs(r),s=rI(i),a=nS(i);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(zl)).forEach(function(o){const l=o&&o.split(".")[0],c=o&&o.split(".")[1];let u,d;if(t)s[l]&&s[l][c||"*"]&&(a.removeEventListener(l,s[l][c||"*"][t],n||!1),delete s[l][c||"*"][t]);else if(l&&c){if(s[l]&&s[l][c]){for(d in s[l][c])Ma(a,[l,c].join("."),d);delete s[l][c]}}else if(c)for(o in s)for(u in s[o])c===u&&Ma(a,[o,c].join("."));else if(l){if(s[l]){for(u in s[l])Ma(a,[l,u].join("."));delete s[l]}}else{for(o in s)Ma(a,o);(function(f){let m=f.getEventHolder();m===Un.window&&(m=iI),m.events&&(m.events={})})(i)}})}class mg extends $A{addEventListener(){}dispatch(e,t,n){return function(i,s,a,o){const l=nS(i);return s instanceof Un.window.Event||(s=new Un.window.CustomEvent(s,{detail:a,cancelable:!0,...o})),l.dispatchEvent(s),s}(this,e,t,n)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const n=t[e.type];for(const i in n)for(const s in n[i])n[i][s](e);return!e.defaultPrevented}fire(e,t,n){return this.dispatch(e,t,n),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,n){return Ma(this,e,t,n),this}on(e,t,n,i){return Pl(this,e,t,n,i),this}removeEventListener(){}}function UC(){}zn(mg,"EventTarget");const Fb=400,NO=">",OO=0,UO={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class _h extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(zl).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class gn{constructor(...e){this.init(...e)}convert(e){return new gn(this.value,e)}divide(e){return e=new gn(e),new gn(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(tI))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof gn&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new gn(e),new gn(this-e,this.unit||e.unit)}plus(e){return e=new gn(e),new gn(this+e,this.unit||e.unit)}times(e){return e=new gn(e),new gn(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const zO=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),sI=[];class Oc extends mg{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=vs(e)).removeNamespace&&this.node instanceof Un.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return vs(e).put(this,t)}children(){return new Sh(qA(this.node.children,function(e){return Aa(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let n=this.node.cloneNode(e);return t&&(n=eI(n)),new this.constructor(n)}each(e,t){const n=this.children();let i,s;for(i=0,s=n.length;i<s;i++)e.apply(n[i],[i,n]),t&&n[i].each(e,t);return this}element(e,t){return this.put(new Oc(Hm(e),t))}first(){return Aa(this.node.firstChild)}get(e){return Aa(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=$R(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Aa(this.node.lastChild)}matches(e){const t=this.node,n=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return n&&n.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=Aa(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=Aa(t.node.parentNode));return t}put(e,t){return e=vs(e),this.add(e,t),e}putIn(e,t){return vs(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=vs(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const n=10**e,i=this.attr(t);for(const s in i)typeof i[s]=="number"&&(i[s]=Math.round(i[s]*n)/n);return this.attr(i),this}svg(e,t){return this.xml(e,t,QA)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const n=t.index(this);return t.put(e,n).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,t,n){if(typeof e=="boolean"&&(n=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let o=this;if(e!=null){if(o=Aa(o.node.cloneNode(!0)),t){const l=e(o);if(o=l||o,l===!1)return""}o.each(function(){const l=e(this),c=l||this;l===!1?this.remove():l&&this!==c&&this.replace(c)},!0)}return t?o.node.outerHTML:o.node.innerHTML}t=t!=null&&t;const i=Hm("wrapper",n),s=Un.document.createDocumentFragment();i.innerHTML=e;for(let o=i.children.length;o--;)s.appendChild(i.firstElementChild);const a=this.parent();return t?this.replace(s)&&a:this.add(s)}}tn(Oc,{attr:function(r,e,t){if(r==null){r={},e=this.node.attributes;for(const n of e)r[n.nodeName]=NC.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return r}if(r instanceof Array)return r.reduce((n,i)=>(n[i]=this.attr(i),n),{});if(typeof r=="object"&&r.constructor===Object)for(e in r)this.attr(e,r[e]);else if(e===null)this.node.removeAttribute(r);else{if(e==null)return(e=this.node.getAttribute(r))==null?UO[r]:NC.test(e)?parseFloat(e):e;typeof(e=sI.reduce((n,i)=>i(r,n,this),e))=="number"?e=new gn(e):zO.has(r)&&ei.isColor(e)?e=new ei(e):e.constructor===Array&&(e=new _h(e)),r==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,r,e.toString()):this.node.setAttribute(r,e.toString()),!this.rebuild||r!=="font-size"&&r!=="x"||this.rebuild()}return this},find:function(r){return Bh(r,this.node)},findOne:function(r){return Aa(this.node.querySelector(r))}}),zn(Oc,"Dom");let Ur=class extends Oc{constructor(r,e){super(r,e),this.dom={},this.node.instance=this,(r.hasAttribute("data-svgjs")||r.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(r.getAttribute("data-svgjs"))??JSON.parse(r.getAttribute("svgjs:data"))??{})}center(r,e){return this.cx(r).cy(e)}cx(r){return r==null?this.x()+this.width()/2:this.x(r-this.width()/2)}cy(r){return r==null?this.y()+this.height()/2:this.y(r-this.height()/2)}defs(){const r=this.root();return r&&r.defs()}dmove(r,e){return this.dx(r).dy(e)}dx(r=0){return this.x(new gn(r).plus(this.x()))}dy(r=0){return this.y(new gn(r).plus(this.y()))}getEventHolder(){return this}height(r){return this.attr("height",r)}move(r,e){return this.x(r).y(e)}parents(r=this.root()){const e=typeof r=="string";e||(r=vs(r));const t=new Sh;let n=this;for(;(n=n.parent())&&n.node!==Un.document&&n.nodeName!=="#document-fragment"&&(t.push(n),e||n.node!==r.node)&&(!e||!n.matches(r));)if(n.node===this.root().node)return null;return t}reference(r){if(!(r=this.attr(r)))return null;const e=(r+"").match(IO);return e?vs(e[1]):null}root(){const r=this.parent(function(e){return gh[e]}(eS));return r&&r.root()}setData(r){return this.dom=r,this}size(r,e){const t=Gf(this,r,e);return this.width(new gn(t.width)).height(new gn(t.height))}width(r){return this.attr("width",r)}writeDataToDom(){return QR(this,this.dom),super.writeDataToDom()}x(r){return this.attr("x",r)}y(r){return this.attr("y",r)}};tn(Ur,{bbox:function(){const r=OC(this,e=>e.getBBox(),e=>{try{const t=e.clone().addTo(kc().svg).show(),n=t.node.getBBox();return t.remove(),n}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}});return new Di(r)},rbox:function(r){const e=OC(this,n=>n.getBoundingClientRect(),n=>{throw new Error(`Getting rbox of element "${n.node.nodeName}" is not possible`)}),t=new Di(e);return r?t.transform(r.screenCTM().inverseO()):t.addOffset()},inside:function(r,e){const t=this.bbox();return r>t.x&&e>t.y&&r<t.x+t.width&&e<t.y+t.height},point:function(r,e){return new Xn(r,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new jt(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const r=this.rect(1,1),e=r.node.getScreenCTM();return r.remove(),new jt(e)}return new jt(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new jt}}}),zn(Ur,"Element");const Kp={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(r,e){return e==="color"?r:r+"-"+e}};["fill","stroke"].forEach(function(r){const e={};let t;e[r]=function(n){if(n===void 0)return this.attr(r);if(typeof n=="string"||n instanceof ei||ei.isRgb(n)||n instanceof Ur)this.attr(r,n);else for(t=Kp[r].length-1;t>=0;t--)n[Kp[r][t]]!=null&&this.attr(Kp.prefix(r,Kp[r][t]),n[Kp[r][t]]);return this},En(["Element","Runner"],e)}),En(["Element","Runner"],{matrix:function(r,e,t,n,i,s){return r==null?new jt(this):this.attr("transform",new jt(r,e,t,n,i,s))},rotate:function(r,e,t){return this.transform({rotate:r,ox:e,oy:t},!0)},skew:function(r,e,t,n){return arguments.length===1||arguments.length===3?this.transform({skew:r,ox:e,oy:t},!0):this.transform({skew:[r,e],ox:t,oy:n},!0)},shear:function(r,e,t){return this.transform({shear:r,ox:e,oy:t},!0)},scale:function(r,e,t,n){return arguments.length===1||arguments.length===3?this.transform({scale:r,ox:e,oy:t},!0):this.transform({scale:[r,e],ox:t,oy:n},!0)},translate:function(r,e){return this.transform({translate:[r,e]},!0)},relative:function(r,e){return this.transform({relative:[r,e]},!0)},flip:function(r="both",e="center"){return"xybothtrue".indexOf(r)===-1&&(e=r,r="both"),this.transform({flip:r,origin:e},!0)},opacity:function(r){return this.attr("opacity",r)}}),En("radius",{radius:function(r,e=r){return(this._element||this).type==="radialGradient"?this.attr("r",new gn(r)):this.rx(r).ry(e)}}),En("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(r){return new Xn(this.node.getPointAtLength(r))}}),En(["Element","Runner"],{font:function(r,e){if(typeof r=="object"){for(e in r)this.font(e,r[e]);return this}return r==="leading"?this.leading(e):r==="anchor"?this.attr("text-anchor",e):r==="size"||r==="family"||r==="weight"||r==="stretch"||r==="variant"||r==="style"?this.attr("font-"+r,e):this.attr(r,e)}});En("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(r,e){return r[e]=function(t){return t===null?this.off(e):this.on(e,t),this},r},{})),En("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(PO).slice(0,-1).map(function(e){const t=e.trim().split("(");return[t[0],t[1].split(zl).map(function(n){return parseFloat(n)})]}).reverse().reduce(function(e,t){return t[0]==="matrix"?e.lmultiply(jt.fromArray(t[1])):e[t[0]].apply(e,t[1])},new jt)},toParent:function(r,e){if(this===r)return this;if(Rw(this.node))return this.addTo(r,e);const t=this.screenCTM(),n=r.screenCTM().inverse();return this.addTo(r,e).untransform().transform(n.multiply(t)),this},toRoot:function(r){return this.toParent(this.root(),r)},transform:function(r,e){if(r==null||typeof r=="string"){const n=new jt(this).decompose();return r==null?n:n[r]}jt.isMatrixLike(r)||(r={...r,origin:Tw(r,this)});const t=new jt(e===!0?this:e||!1).transform(r);return this.attr("transform",t)}});class As extends Ur{flatten(){return this.each(function(){if(this instanceof As)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each(function(n,i){return i[i.length-n-1].toParent(e,t)}),this.remove()}}zn(As,"Container");class qv extends As{constructor(e,t=e){super(li("defs",e),t)}flatten(){return this}ungroup(){return this}}zn(qv,"Defs");class ra extends Ur{}function iS(r){return this.attr("rx",r)}function rS(r){return this.attr("ry",r)}function aI(r){return r==null?this.cx()-this.rx():this.cx(r+this.rx())}function oI(r){return r==null?this.cy()-this.ry():this.cy(r+this.ry())}function lI(r){return this.attr("cx",r)}function cI(r){return this.attr("cy",r)}function uI(r){return r==null?2*this.rx():this.rx(new gn(r).divide(2))}function hI(r){return r==null?2*this.ry():this.ry(new gn(r).divide(2))}zn(ra,"Shape");var HO=Object.freeze({__proto__:null,cx:lI,cy:cI,height:hI,rx:iS,ry:rS,width:uI,x:aI,y:oI});class N0 extends ra{constructor(e,t=e){super(li("ellipse",e),t)}size(e,t){const n=Gf(this,e,t);return this.rx(new gn(n.width).divide(2)).ry(new gn(n.height).divide(2))}}tn(N0,HO),En("Container",{ellipse:oi(function(r=0,e=r){return this.put(new N0).size(r,e).move(0,0)})}),zn(N0,"Ellipse");class dI extends Oc{constructor(e=Un.document.createDocumentFragment()){super(e)}xml(e,t,n){if(typeof e=="boolean"&&(n=t,t=e,e=null),e==null||typeof e=="function"){const i=new Oc(Hm("wrapper",n));return i.add(this.node.cloneNode(!0)),i.xml(!1,n)}return super.xml(e,!1,n)}}function fI(r,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new gn(r),fy:new gn(e)}):this.attr({x1:new gn(r),y1:new gn(e)})}function pI(r,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new gn(r),cy:new gn(e)}):this.attr({x2:new gn(r),y2:new gn(e)})}zn(dI,"Fragment");var GO=Object.freeze({__proto__:null,from:fI,to:pI});class Cm extends As{constructor(e,t){super(li(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,n){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,n)}bbox(){return new Di}targets(){return Bh("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}tn(Cm,GO),En({Container:{gradient(...r){return this.defs().gradient(...r)}},Defs:{gradient:oi(function(r,e){return this.put(new Cm(r)).update(e)})}}),zn(Cm,"Gradient");class Gm extends As{constructor(e,t=e){super(li("pattern",e),t)}attr(e,t,n){return e==="transform"&&(e="patternTransform"),super.attr(e,t,n)}bbox(){return new Di}targets(){return Bh("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}En({Container:{pattern(...r){return this.defs().pattern(...r)}},Defs:{pattern:oi(function(r,e,t){return this.put(new Gm).update(t).attr({x:0,y:0,width:r,height:e,patternUnits:"userSpaceOnUse"})})}}),zn(Gm,"Pattern");let O0=class extends ra{constructor(r,e=r){super(li("image",r),e)}load(r,e){if(!r)return this;const t=new Un.window.Image;return Pl(t,"load",function(n){const i=this.parent(Gm);this.width()===0&&this.height()===0&&this.size(t.width,t.height),i instanceof Gm&&i.width()===0&&i.height()===0&&i.size(this.width(),this.height()),typeof e=="function"&&e.call(this,n)},this),Pl(t,"load error",function(){Ma(t)}),this.attr("href",t.src=r,Vf)}};var zC;zC=function(r,e,t){return r!=="fill"&&r!=="stroke"||LO.test(e)&&(e=t.root().defs().image(e)),e instanceof O0&&(e=t.root().defs().pattern(0,0,n=>{n.add(e)})),e},sI.push(zC),En({Container:{image:oi(function(r,e){return this.put(new O0).size(0,0).load(r,e)})}}),zn(O0,"Image");class Uc extends _h{bbox(){let e=-1/0,t=-1/0,n=1/0,i=1/0;return this.forEach(function(s){e=Math.max(s[0],e),t=Math.max(s[1],t),n=Math.min(s[0],n),i=Math.min(s[1],i)}),new Di(n,i,e-n,t-i)}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let i=this.length-1;i>=0;i--)this[i]=[this[i][0]+e,this[i][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(zl).map(parseFloat)).length%2!=0&&e.pop();for(let n=0,i=e.length;n<i;n+=2)t.push([e[n],e[n+1]]);return t}size(e,t){let n;const i=this.bbox();for(n=this.length-1;n>=0;n--)i.width&&(this[n][0]=(this[n][0]-i.x)*e/i.width+i.x),i.height&&(this[n][1]=(this[n][1]-i.y)*t/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,n=this.length;t<n;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){jt.isMatrixLike(e)||(e=new jt(e));for(let t=this.length;t--;){const[n,i]=this[t];this[t][0]=e.a*n+e.c*i+e.e,this[t][1]=e.b*n+e.d*i+e.f}return this}}const VO=Uc;var sS=Object.freeze({__proto__:null,MorphArray:VO,height:function(r){const e=this.bbox();return r==null?e.height:this.size(e.width,r)},width:function(r){const e=this.bbox();return r==null?e.width:this.size(r,e.height)},x:function(r){return r==null?this.bbox().x:this.move(r,this.bbox().y)},y:function(r){return r==null?this.bbox().y:this.move(this.bbox().x,r)}});let rh=class extends ra{constructor(r,e=r){super(li("line",r),e)}array(){return new Uc([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(r,e){return this.attr(this.array().move(r,e).toLine())}plot(r,e,t,n){return r==null?this.array():(r=e!==void 0?{x1:r,y1:e,x2:t,y2:n}:new Uc(r).toLine(),this.attr(r))}size(r,e){const t=Gf(this,r,e);return this.attr(this.array().size(t.width,t.height).toLine())}};tn(rh,sS),En({Container:{line:oi(function(...r){return rh.prototype.plot.apply(this.put(new rh),r[0]!=null?r:[0,0,0,0])})}}),zn(rh,"Line");let U0=class extends As{constructor(r,e=r){super(li("marker",r),e)}height(r){return this.attr("markerHeight",r)}orient(r){return this.attr("orient",r)}ref(r,e){return this.attr("refX",r).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(r){return this.clear(),typeof r=="function"&&r.call(this,this),this}width(r){return this.attr("markerWidth",r)}};function pf(r,e){return function(t){return t==null?this[r]:(this[r]=t,e&&e.call(this),this)}}En({Container:{marker(...r){return this.defs().marker(...r)}},Defs:{marker:oi(function(r,e,t){return this.put(new U0).size(r,e).ref(r/2,e/2).viewbox(0,0,r,e).attr("orient","auto").update(t)})},marker:{marker(r,e,t,n){let i=["marker"];return r!=="all"&&i.push(r),i=i.join("-"),r=arguments[1]instanceof U0?arguments[1]:this.defs().marker(e,t,n),this.attr(i,r)}}}),zn(U0,"Marker");const WO={"-":function(r){return r},"<>":function(r){return-Math.cos(r*Math.PI)/2+.5},">":function(r){return Math.sin(r*Math.PI/2)},"<":function(r){return 1-Math.cos(r*Math.PI/2)},bezier:function(r,e,t,n){return function(i){return i<0?r>0?e/r*i:t>0?n/t*i:0:i>1?t<1?(1-n)/(1-t)*i+(n-t)/(1-t):r<1?(1-e)/(1-r)*i+(e-r)/(1-r):1:3*i*(1-i)**2*e+3*i**2*(1-i)*n+i**3}},steps:function(r,e="end"){e=e.split("-").reverse()[0];let t=r;return e==="none"?--t:e==="both"&&++t,(n,i=!1)=>{let s=Math.floor(n*r);const a=n*s%1==0;return e!=="start"&&e!=="both"||++s,i&&a&&--s,n>=0&&s<0&&(s=0),n<=1&&s>t&&(s=t),s/t}}};class aS{done(){return!1}}class Iw extends aS{constructor(e=NO){super(),this.ease=WO[e]||e}step(e,t,n){return typeof e!="number"?n<1?e:t:e+(t-e)*this.ease(n)}}class tv extends aS{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,n,i){return this.stepper(e,t,n,i)}}function HC(){const r=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,n=Math.log(e/100+1e-10),i=-n/Math.sqrt(t*t+n*n),s=3.9/(i*r);this.d=2*i*s,this.k=s*s}tn(class extends tv{constructor(r=500,e=0){super(),this.duration(r).overshoot(e)}step(r,e,t,n){if(typeof r=="string")return r;if(n.done=t===1/0,t===1/0)return e;if(t===0)return r;t>100&&(t=16),t/=1e3;const i=n.velocity||0,s=-this.d*i-this.k*(r-e),a=r+i*t+s*t*t/2;return n.velocity=i+s*t,n.done=Math.abs(e-a)+Math.abs(i)<.002,n.done?e:a}},{duration:pf("_duration",HC),overshoot:pf("_overshoot",HC)});tn(class extends tv{constructor(r=.1,e=.01,t=0,n=1e3){super(),this.p(r).i(e).d(t).windup(n)}step(r,e,t,n){if(typeof r=="string")return r;if(n.done=t===1/0,t===1/0)return e;if(t===0)return r;const i=e-r;let s=(n.integral||0)+i*t;const a=(i-(n.error||0))/t,o=this._windup;return o!==!1&&(s=Math.max(-o,Math.min(s,o))),n.error=i,n.integral=s,n.done=Math.abs(i)<.001,n.done?e:r+(this.P*i+this.I*s+this.D*a)}},{windup:pf("_windup"),p:pf("P"),i:pf("I"),d:pf("D")});const XO={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Pw={M:function(r,e,t){return e.x=t.x=r[0],e.y=t.y=r[1],["M",e.x,e.y]},L:function(r,e){return e.x=r[0],e.y=r[1],["L",r[0],r[1]]},H:function(r,e){return e.x=r[0],["H",r[0]]},V:function(r,e){return e.y=r[0],["V",r[0]]},C:function(r,e){return e.x=r[4],e.y=r[5],["C",r[0],r[1],r[2],r[3],r[4],r[5]]},S:function(r,e){return e.x=r[2],e.y=r[3],["S",r[0],r[1],r[2],r[3]]},Q:function(r,e){return e.x=r[2],e.y=r[3],["Q",r[0],r[1],r[2],r[3]]},T:function(r,e){return e.x=r[0],e.y=r[1],["T",r[0],r[1]]},Z:function(r,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(r,e){return e.x=r[5],e.y=r[6],["A",r[0],r[1],r[2],r[3],r[4],r[5],r[6]]}},Nb="mlhvqtcsaz".split("");for(let r=0,e=Nb.length;r<e;++r)Pw[Nb[r]]=function(t){return function(n,i,s){if(t==="H")n[0]=n[0]+i.x;else if(t==="V")n[0]=n[0]+i.y;else if(t==="A")n[5]=n[5]+i.x,n[6]=n[6]+i.y;else for(let a=0,o=n.length;a<o;++a)n[a]=n[a]+(a%2?i.y:i.x);return Pw[t](n,i,s)}}(Nb[r].toUpperCase());function kw(r){return r.segment.length&&r.segment.length-1===XO[r.segment[0].toUpperCase()]}function YO(r,e){r.inNumber&&qu(r,!1);const t=tS.test(e);if(t)r.segment=[e];else{const n=r.lastCommand,i=n.toLowerCase(),s=n===i;r.segment=[i==="m"?s?"l":"L":n]}return r.inSegment=!0,r.lastCommand=r.segment[0],t}function qu(r,e){if(!r.inNumber)throw new Error("Parser Error");r.number&&r.segment.push(parseFloat(r.number)),r.inNumber=e,r.number="",r.pointSeen=!1,r.hasExponent=!1,kw(r)&&Lw(r)}function Lw(r){r.inSegment=!1,r.absolute&&(r.segment=function(e){const t=e.segment[0];return Pw[t](e.segment.slice(1),e.p,e.p0)}(r)),r.segments.push(r.segment)}function jO(r){if(!r.segment.length)return!1;const e=r.segment[0].toUpperCase()==="A",t=r.segment.length;return e&&(t===4||t===5)}function JO(r){return r.lastToken.toUpperCase()==="E"}const KO=new Set([" ",",","	",`
`,"\r","\f"]);class so extends _h{bbox(){return kc().path.setAttribute("d",this.toString()),new Di(kc.nodes.path.getBBox())}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let i,s=this.length-1;s>=0;s--)i=this[s][0],i==="M"||i==="L"||i==="T"?(this[s][1]+=e,this[s][2]+=t):i==="H"?this[s][1]+=e:i==="V"?this[s][1]+=t:i==="C"||i==="S"||i==="Q"?(this[s][1]+=e,this[s][2]+=t,this[s][3]+=e,this[s][4]+=t,i==="C"&&(this[s][5]+=e,this[s][6]+=t)):i==="A"&&(this[s][6]+=e,this[s][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(t,n=!0){let i=0,s="";const a={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:n,p0:new Xn,p:new Xn};for(;a.lastToken=s,s=t.charAt(i++);)if(a.inSegment||!YO(a,s))if(s!==".")if(isNaN(parseInt(s)))if(KO.has(s))a.inNumber&&qu(a,!1);else if(s!=="-"&&s!=="+")if(s.toUpperCase()!=="E"){if(tS.test(s)){if(a.inNumber)qu(a,!1);else{if(!kw(a))throw new Error("parser Error");Lw(a)}--i}}else a.number+=s,a.hasExponent=!0;else{if(a.inNumber&&!JO(a)){qu(a,!1),--i;continue}a.number+=s,a.inNumber=!0}else{if(a.number==="0"||jO(a)){a.inNumber=!0,a.number=s,qu(a,!0);continue}a.inNumber=!0,a.number+=s}else{if(a.pointSeen||a.hasExponent){qu(a,!1),--i;continue}a.inNumber=!0,a.pointSeen=!0,a.number+=s}return a.inNumber&&qu(a,!1),a.inSegment&&kw(a)&&Lw(a),a.segments}(e)}size(e,t){const n=this.bbox();let i,s;for(n.width=n.width===0?1:n.width,n.height=n.height===0?1:n.height,i=this.length-1;i>=0;i--)s=this[i][0],s==="M"||s==="L"||s==="T"?(this[i][1]=(this[i][1]-n.x)*e/n.width+n.x,this[i][2]=(this[i][2]-n.y)*t/n.height+n.y):s==="H"?this[i][1]=(this[i][1]-n.x)*e/n.width+n.x:s==="V"?this[i][1]=(this[i][1]-n.y)*t/n.height+n.y:s==="C"||s==="S"||s==="Q"?(this[i][1]=(this[i][1]-n.x)*e/n.width+n.x,this[i][2]=(this[i][2]-n.y)*t/n.height+n.y,this[i][3]=(this[i][3]-n.x)*e/n.width+n.x,this[i][4]=(this[i][4]-n.y)*t/n.height+n.y,s==="C"&&(this[i][5]=(this[i][5]-n.x)*e/n.width+n.x,this[i][6]=(this[i][6]-n.y)*t/n.height+n.y)):s==="A"&&(this[i][1]=this[i][1]*e/n.width,this[i][2]=this[i][2]*t/n.height,this[i][6]=(this[i][6]-n.x)*e/n.width+n.x,this[i][7]=(this[i][7]-n.y)*t/n.height+n.y);return this}toString(){return function(e){let t="";for(let n=0,i=e.length;n<i;n++)t+=e[n][0],e[n][1]!=null&&(t+=e[n][1],e[n][2]!=null&&(t+=" ",t+=e[n][2],e[n][3]!=null&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],e[n][5]!=null&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],e[n][7]!=null&&(t+=" ",t+=e[n][7])))));return t+" "}(this)}}const mI=r=>{const e=typeof r;return e==="number"?gn:e==="string"?ei.isColor(r)?ei:zl.test(r)?tS.test(r)?so:_h:tI.test(r)?gn:Bw:Dw.indexOf(r.constructor)>-1?r.constructor:Array.isArray(r)?_h:e==="object"?Vm:Bw};class Qu{constructor(e){this._stepper=e||new Iw("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,t){return e&&t},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(mI(e));let t=new this._type(e);return this._type===ei&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===Vm&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map(function(n){return n.done=!0,n}),t}}class Bw{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class gg{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,gg.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}gg.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const ZO=(r,e)=>r[0]<e[0]?-1:r[0]>e[0]?1:0;class Vm{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let n=0,i=t.length;n<i;++n){if(t[n+1]===e[n+1]){if(t[n+1]===ei&&e[n+7]!==t[n+7]){const o=e[n+7],l=new ei(this.values.splice(n+3,5))[o]().toArray();this.values.splice(n+3,0,...l)}n+=t[n+2]+2;continue}if(!e[n+1])return this;const s=new e[n+1]().toArray(),a=t[n+2]+3;t.splice(n,a,e[n],e[n+1],e[n+2],...s),n+=t[n+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const n in e){const i=mI(e[n]),s=new i(e[n]).toArray();t.push([n,i,s.length,...s])}return t.sort(ZO),this.values=t.reduce((n,i)=>n.concat(i),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const n=t.shift(),i=t.shift(),s=t.shift(),a=t.splice(0,s);e[n]=new i(a)}return e}}const Dw=[Bw,gg,Vm];class vf extends ra{constructor(e,t=e){super(li("path",e),t)}array(){return this._array||(this._array=new so(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new so(e))}size(e,t){const n=Gf(this,e,t);return this.attr("d",this.array().size(n.width,n.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}vf.prototype.MorphArray=so,En({Container:{path:oi(function(r){return this.put(new vf).plot(r||new so)})}}),zn(vf,"Path");var gI=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Uc(this.attr("points")))},clear:function(){return delete this._array,this},move:function(r,e){return this.attr("points",this.array().move(r,e))},plot:function(r){return r==null?this.array():this.clear().attr("points",typeof r=="string"?r:this._array=new Uc(r))},size:function(r,e){const t=Gf(this,r,e);return this.attr("points",this.array().size(t.width,t.height))}});class sh extends ra{constructor(e,t=e){super(li("polygon",e),t)}}En({Container:{polygon:oi(function(r){return this.put(new sh).plot(r||new Uc)})}}),tn(sh,sS),tn(sh,gI),zn(sh,"Polygon");class ah extends ra{constructor(e,t=e){super(li("polyline",e),t)}}En({Container:{polyline:oi(function(r){return this.put(new ah).plot(r||new Uc)})}}),tn(ah,sS),tn(ah,gI),zn(ah,"Polyline");class z0 extends ra{constructor(e,t=e){super(li("rect",e),t)}}tn(z0,{rx:iS,ry:rS}),En({Container:{rect:oi(function(r,e){return this.put(new z0).size(r,e)})}}),zn(z0,"Rect");class Ob{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const Zn={nextDraw:null,frames:new Ob,timeouts:new Ob,immediates:new Ob,timer:()=>Un.window.performance||Un.window.Date,transforms:[],frame(r){const e=Zn.frames.push({run:r});return Zn.nextDraw===null&&(Zn.nextDraw=Un.window.requestAnimationFrame(Zn._draw)),e},timeout(r,e){e=e||0;const t=Zn.timer().now()+e,n=Zn.timeouts.push({run:r,time:t});return Zn.nextDraw===null&&(Zn.nextDraw=Un.window.requestAnimationFrame(Zn._draw)),n},immediate(r){const e=Zn.immediates.push(r);return Zn.nextDraw===null&&(Zn.nextDraw=Un.window.requestAnimationFrame(Zn._draw)),e},cancelFrame(r){r!=null&&Zn.frames.remove(r)},clearTimeout(r){r!=null&&Zn.timeouts.remove(r)},cancelImmediate(r){r!=null&&Zn.immediates.remove(r)},_draw(r){let e=null;const t=Zn.timeouts.last();for(;(e=Zn.timeouts.shift())&&(r>=e.time?e.run():Zn.timeouts.push(e),e!==t););let n=null;const i=Zn.frames.last();for(;n!==i&&(n=Zn.frames.shift());)n.run(r);let s=null;for(;s=Zn.immediates.shift();)s();Zn.nextDraw=Zn.timeouts.first()||Zn.frames.first()?Un.window.requestAnimationFrame(Zn._draw):null}},qO=function(r){const e=r.start,t=r.runner.duration();return{start:e,duration:t,end:e+t,runner:r.runner}},QO=function(){const r=Un.window;return(r.performance||r.Date).now()};class xI extends mg{constructor(e=QO){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map(t=>t.start+t.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const n=Math.abs(t);return this.speed(e?-n:n)}schedule(e,t,n){if(e==null)return this._runners.map(qO);let i=0;const s=this.getEndTime();if(t=t||0,n==null||n==="last"||n==="after")i=s;else if(n==="absolute"||n==="start")i=t,t=0;else if(n==="now")i=this._time;else if(n==="relative"){const l=this.getRunnerInfoById(e.id);l&&(i=l.start+t,t=0)}else{if(n!=="with-last")throw new Error('Invalid value for the "when" parameter');{const l=this.getLastRunnerInfo();i=l?l.start:this._time}}e.unschedule(),e.timeline(this);const a=e.persist(),o={persist:a===null?this._persist:a,start:i+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(o),this._runners.sort((l,c)=>l.start-c.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Zn.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Zn.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let n=t-this._lastSourceTime;e&&(n=0);const i=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let a=this._runners.length;a--;){const o=this._runners[a],l=o.runner;this._time-o.start<=0&&l.reset()}let s=!1;for(let a=0,o=this._runners.length;a<o;a++){const l=this._runners[a],c=l.runner;let u=i;const d=this._time-l.start;if(d<=0){s=!0;continue}d<u&&(u=d),c.active()&&(c.step(u).done?l.persist!==!0&&c.duration()-c.time()+this._time+l.persist<this._time&&(c.unschedule(),--a,--o):s=!0)}return s&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}En({Element:{timeline:function(r){return r==null?(this._timeline=this._timeline||new xI,this._timeline):(this._timeline=r,this)}}});class ea extends mg{constructor(e){super(),this.id=ea.id++,e=typeof(e=e??Fb)=="function"?new tv(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof tv,this._stepper=this._isDeclarative?e:new Iw,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new jt,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,n){let i=1,s=!1,a=0;return t=t??OO,n=n||"last",typeof(e=e??Fb)!="object"||e instanceof aS||(t=e.delay??t,n=e.when??n,s=e.swing||s,i=e.times??i,a=e.wait??a,e=e.duration??Fb),{duration:e,delay:t,swing:s,times:i,wait:a,when:n}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,n){const i=ea.sanitise(e,t,n),s=new ea(i.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(i).schedule(i.delay,i.when)}clearTransform(){return this.transforms=new jt,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new Iw(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,n){return typeof e=="object"&&(t=e.swing,n=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=n||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const s=Math.floor(this._time/t),a=(this._time-s*t)/this._duration;return Math.min(s+a,this._times)}const n=e%1,i=t*Math.floor(e)+this._duration*n;return this.time(i)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,n=this._duration,i=this._wait,s=this._times,a=this._swing,o=this._reverse;let l;if(e==null){const d=function(m){const v=a*Math.floor(m%(2*(i+n))/(i+n)),y=v&&!o||!v&&o,w=Math.pow(-1,y)*(m%(i+n))/n+y;return Math.max(Math.min(w,1),0)},f=s*(i+n)-i;return l=t<=0?Math.round(d(1e-5)):t<f?d(t):Math.round(d(f-1e-5)),l}const c=Math.floor(this.loops()),u=a&&c%2==0;return l=c+(u&&!o||o&&u?e:1-e),this.loops(l)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,n,i){return this._queue.push({initialiser:e||UC,runner:t||UC,retarget:n,isTransform:i,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,n){if(e instanceof xI||(n=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,n),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),n=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const i=this.duration(),s=this._lastTime<=0&&this._time>0,a=this._lastTime<i&&this._time>=i;this._lastTime=this._time,s&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!a&&this._time>=i,this._reseted=!1;let l=!1;return(n||o)&&(this._initialise(n),this.transforms=new jt,l=this._run(o?e:t),this.fire("step",this)),this.done=this.done||l&&o,a&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,n=this._queue.length;t<n;++t){const i=this._queue[t],s=this._isDeclarative||!i.initialised&&e;e=!i.finished,s&&e&&(i.initialiser.call(this),i.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const n=this.timeline();n&&n.play()}}_run(e){let t=!0;for(let n=0,i=this._queue.length;n<i;++n){const s=this._queue[n],a=s.runner.call(this,e);s.finished=s.finished||a===!0,t=t&&s.finished}return t}_tryRetarget(e,t,n){if(this._history[e]){if(!this._history[e].caller.initialised){const s=this._queue.indexOf(this._history[e].caller);return this._queue.splice(s,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,n):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const i=this.timeline();return i&&i.play(),!0}return!1}}ea.id=0;class nv{constructor(e=new jt,t=-1,n=!0){this.transforms=e,this.id=t,this.done=n}clearTransformsFromQueue(){}}tn([ea,nv],{mergeWith(r){return new nv(r.transforms.lmultiply(this.transforms),r.id)}});const vI=(r,e)=>r.lmultiplyO(e),yI=r=>r.transforms;function $O(){const r=this._transformationRunners.runners.map(yI).reduce(vI,new jt);this.transform(r),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class eU{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new nv).forEach(n=>n.clearTransformsFromQueue()),this}edit(e,t){const n=this.ids.indexOf(e+1);return this.ids.splice(n,1,e+1),this.runners.splice(n,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const n=this.runners[t];if(e&&n.done&&e.done&&(!n._timeline||!n._timeline._runnerIds.includes(n.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(n.id);const i=n.mergeWith(e);this.edit(e.id,i),e=i,--t}else e=n}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}En({Element:{animate(r,e,t){const n=ea.sanitise(r,e,t),i=this.timeline();return new ea(n.duration).loop(n).element(this).timeline(i.play()).schedule(n.delay,n.when)},delay(r,e){return this.animate(0,r,e)},_clearTransformRunnersBefore(r){this._transformationRunners.clearBefore(r.id)},_currentTransform(r){return this._transformationRunners.runners.filter(e=>e.id<=r.id).map(yI).reduce(vI,new jt)},_addRunner(r){this._transformationRunners.add(r),Zn.cancelImmediate(this._frameId),this._frameId=Zn.immediate($O.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new eU().add(new nv(new jt(this))))}}});tn(ea,{attr(r,e){return this.styleAttr("attr",r,e)},css(r,e){return this.styleAttr("css",r,e)},styleAttr(r,e,t){if(typeof e=="string")return this.styleAttr(r,{[e]:t});let n=e;if(this._tryRetarget(r,n))return this;let i=new Qu(this._stepper).to(n),s=Object.keys(n);return this.queue(function(){i=i.from(this.element()[r](s))},function(a){return this.element()[r](i.at(a).valueOf()),i.done()},function(a){const o=Object.keys(a),l=(c=s,o.filter(d=>!c.includes(d)));var c;if(l.length){const d=this.element()[r](l),f=new Vm(i.from()).valueOf();Object.assign(f,d),i.from(f)}const u=new Vm(i.to()).valueOf();Object.assign(u,a),i.to(u),s=o,n=a}),this._rememberMorpher(r,i),this},zoom(r,e){if(this._tryRetarget("zoom",r,e))return this;let t=new Qu(this._stepper).to(new gn(r));return this.queue(function(){t=t.from(this.element().zoom())},function(n){return this.element().zoom(t.at(n),e),t.done()},function(n,i){e=i,t.to(n)}),this._rememberMorpher("zoom",t),this},transform(r,e,t){if(e=r.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",r))return this;const n=jt.isMatrixLike(r);t=r.affine!=null?r.affine:t??!n;const i=new Qu(this._stepper).type(t?gg:jt);let s,a,o,l,c;return this.queue(function(){a=a||this.element(),s=s||Tw(r,a),c=new jt(e?void 0:a),a._addRunner(this),e||a._clearTransformRunnersBefore(this)},function(u){e||this.clearTransform();const{x:d,y:f}=new Xn(s).transform(a._currentTransform(this));let m=new jt({...r,origin:[d,f]}),v=this._isDeclarative&&o?o:c;if(t){m=m.decompose(d,f),v=v.decompose(d,f);const w=m.rotate,b=v.rotate,S=[w-360,w,w+360],M=S.map(R=>Math.abs(R-b)),E=Math.min(...M),T=M.indexOf(E);m.rotate=S[T]}e&&(n||(m.rotate=r.rotate||0),this._isDeclarative&&l&&(v.rotate=l)),i.from(v),i.to(m);const y=i.at(u);return l=y.rotate,o=new jt(y),this.addTransform(o),a._addRunner(this),i.done()},function(u){(u.origin||"center").toString()!==(r.origin||"center").toString()&&(s=Tw(u,a)),r={...u,origin:s}},!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(r){return this._queueNumber("x",r)},y(r){return this._queueNumber("y",r)},ax(r){return this._queueNumber("ax",r)},ay(r){return this._queueNumber("ay",r)},dx(r=0){return this._queueNumberDelta("x",r)},dy(r=0){return this._queueNumberDelta("y",r)},dmove(r,e){return this.dx(r).dy(e)},_queueNumberDelta(r,e){if(e=new gn(e),this._tryRetarget(r,e))return this;const t=new Qu(this._stepper).to(e);let n=null;return this.queue(function(){n=this.element()[r](),t.from(n),t.to(n+e)},function(i){return this.element()[r](t.at(i)),t.done()},function(i){t.to(n+new gn(i))}),this._rememberMorpher(r,t),this},_queueObject(r,e){if(this._tryRetarget(r,e))return this;const t=new Qu(this._stepper).to(e);return this.queue(function(){t.from(this.element()[r]())},function(n){return this.element()[r](t.at(n)),t.done()}),this._rememberMorpher(r,t),this},_queueNumber(r,e){return this._queueObject(r,new gn(e))},cx(r){return this._queueNumber("cx",r)},cy(r){return this._queueNumber("cy",r)},move(r,e){return this.x(r).y(e)},amove(r,e){return this.ax(r).ay(e)},center(r,e){return this.cx(r).cy(e)},size(r,e){let t;return r&&e||(t=this._element.bbox()),r||(r=t.width/t.height*e),e||(e=t.height/t.width*r),this.width(r).height(e)},width(r){return this._queueNumber("width",r)},height(r){return this._queueNumber("height",r)},plot(r,e,t,n){if(arguments.length===4)return this.plot([r,e,t,n]);if(this._tryRetarget("plot",r))return this;const i=new Qu(this._stepper).type(this._element.MorphArray).to(r);return this.queue(function(){i.from(this._element.array())},function(s){return this._element.plot(i.at(s)),i.done()}),this._rememberMorpher("plot",i),this},leading(r){return this._queueNumber("leading",r)},viewbox(r,e,t,n){return this._queueObject("viewbox",new Di(r,e,t,n))},update(r){return typeof r!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(r.opacity!=null&&this.attr("stop-opacity",r.opacity),r.color!=null&&this.attr("stop-color",r.color),r.offset!=null&&this.attr("offset",r.offset),this)}}),tn(ea,{rx:iS,ry:rS,from:fI,to:pI}),zn(ea,"Runner");class Fw extends As{constructor(e,t=e){super(li("svg",e),t),this.namespace()}defs(){return this.isRoot()?Aa(this.node.querySelector("defs"))||this.put(new qv):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Un.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:QA,version:"1.1"}).attr("xmlns:xlink",Vf,Lb):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Lb).attr("xmlns:svgjs",null,Lb)}root(){return this.isRoot()?this:super.root()}}En({Container:{nested:oi(function(){return this.put(new Fw)})}}),zn(Fw,"Svg",!0);let Nw=class extends As{constructor(r,e=r){super(li("symbol",r),e)}};En({Container:{symbol:oi(function(){return this.put(new Nw)})}}),zn(Nw,"Symbol");var bI=Object.freeze({__proto__:null,amove:function(r,e){return this.ax(r).ay(e)},ax:function(r){return this.attr("x",r)},ay:function(r){return this.attr("y",r)},build:function(r){return this._build=!!r,this},center:function(r,e,t=this.bbox()){return this.cx(r,t).cy(e,t)},cx:function(r,e=this.bbox()){return r==null?e.cx:this.attr("x",this.attr("x")+r-e.cx)},cy:function(r,e=this.bbox()){return r==null?e.cy:this.attr("y",this.attr("y")+r-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(r,e,t=this.bbox()){return this.x(r,t).y(e,t)},plain:function(r){return this._build===!1&&this.clear(),this.node.appendChild(Un.document.createTextNode(r)),this},x:function(r,e=this.bbox()){return r==null?e.x:this.attr("x",this.attr("x")+r-e.x)},y:function(r,e=this.bbox()){return r==null?e.y:this.attr("y",this.attr("y")+r-e.y)}});class ao extends ra{constructor(e,t=e){super(li("text",e),t),this.dom.leading=this.dom.leading??new gn(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new gn(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let n=0;const i=this.dom.leading;this.each(function(s){if(Rw(this.node))return;const a=Un.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=i*new gn(a);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
`?n+=o:(this.attr("dy",s?o+n:0),n=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new gn(e.leading||1.3),this}writeDataToDom(){return QR(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let n=0;e="";for(let i=0,s=t.length;i<s;++i)t[i].nodeName==="textPath"||Rw(t[i])?i===0&&(n=i+1):(i!==n&&t[i].nodeType!==3&&Aa(t[i]).dom.newLined===!0&&(e+=`
`),e+=t[i].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,n=(e=(e+"").split(`
`)).length;t<n;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}tn(ao,bI),En({Container:{text:oi(function(r=""){return this.put(new ao).text(r)}),plain:oi(function(r=""){return this.put(new ao).plain(r)})}}),zn(ao,"Text");class H0 extends ra{constructor(e,t=e){super(li("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof ao))return this;const t=e.index(this),n=Un.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=e.dom.leading*new gn(n);return this.dy(t?i:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}tn(H0,bI),En({Tspan:{tspan:oi(function(r=""){const e=new H0;return this._build||this.clear(),this.put(e).text(r)})},Text:{newLine:function(r=""){return this.tspan(r).newLine()}}}),zn(H0,"Tspan");class Ub extends ra{constructor(e,t=e){super(li("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new gn(e).divide(2))}}tn(Ub,{x:aI,y:oI,cx:lI,cy:cI,width:uI,height:hI}),En({Container:{circle:oi(function(r=0){return this.put(new Ub).size(r).move(0,0)})}}),zn(Ub,"Circle");class zb extends As{constructor(e,t=e){super(li("clipPath",e),t)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return Bh("svg [clip-path*="+this.id()+"]")}}En({Container:{clip:oi(function(){return this.defs().put(new zb)})},Element:{clipper(){return this.reference("clip-path")},clipWith(r){const e=r instanceof zb?r:this.parent().clip().add(r);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),zn(zb,"ClipPath");class GC extends Ur{constructor(e,t=e){super(li("foreignObject",e),t)}}En({Container:{foreignObject:oi(function(r,e){return this.put(new GC).size(r,e)})}}),zn(GC,"ForeignObject");var wI=Object.freeze({__proto__:null,dmove:function(r,e){return this.children().forEach(t=>{let n;try{n=t.node instanceof pg().SVGSVGElement?new Di(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const i=new jt(t),s=i.translate(r,e).transform(i.inverse()),a=new Xn(n.x,n.y).transform(s);t.move(a.x,a.y)}),this},dx:function(r){return this.dmove(r,0)},dy:function(r){return this.dmove(0,r)},height:function(r,e=this.bbox()){return r==null?e.height:this.size(e.width,r,e)},move:function(r=0,e=0,t=this.bbox()){const n=r-t.x,i=e-t.y;return this.dmove(n,i)},size:function(r,e,t=this.bbox()){const n=Gf(this,r,e,t),i=n.width/t.width,s=n.height/t.height;return this.children().forEach(a=>{const o=new Xn(t).transform(new jt(a).inverse());a.scale(i,s,o.x,o.y)}),this},width:function(r,e=this.bbox()){return r==null?e.width:this.size(r,e.height,e)},x:function(r,e=this.bbox()){return r==null?e.x:this.move(r,e.y,e)},y:function(r,e=this.bbox()){return r==null?e.y:this.move(e.x,r,e)}});class Dc extends As{constructor(e,t=e){super(li("g",e),t)}}tn(Dc,wI),En({Container:{group:oi(function(){return this.put(new Dc)})}}),zn(Dc,"G");class Lx extends As{constructor(e,t=e){super(li("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,Vf)}}tn(Lx,wI),En({Container:{link:oi(function(r){return this.put(new Lx).to(r)})},Element:{unlink(){const r=this.linker();if(!r)return this;const e=r.parent();if(!e)return this.remove();const t=e.index(r);return e.add(this,t),r.remove(),this},linkTo(r){let e=this.linker();return e||(e=new Lx,this.wrap(e)),typeof r=="function"?r.call(e,e):e.to(r),this},linker(){const r=this.parent();return r&&r.node.nodeName.toLowerCase()==="a"?r:null}}}),zn(Lx,"A");class Hb extends As{constructor(e,t=e){super(li("mask",e),t)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return Bh("svg [mask*="+this.id()+"]")}}En({Container:{mask:oi(function(){return this.defs().put(new Hb)})},Element:{masker(){return this.reference("mask")},maskWith(r){const e=r instanceof Hb?r:this.parent().mask().add(r);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),zn(Hb,"Mask");class VC extends Ur{constructor(e,t=e){super(li("stop",e),t)}update(e){return(typeof e=="number"||e instanceof gn)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new gn(e.offset)),this}}En({Gradient:{stop:function(r,e,t){return this.put(new VC).update(r,e,t)}}}),zn(VC,"Stop");class Gb extends Ur{constructor(e,t=e){super(li("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,n={}){return this.rule("@font-face",{fontFamily:e,src:t,...n})}rule(e,t){return this.addText(function(n,i){if(!n)return"";if(!i)return n;let s=n+"{";for(const a in i)s+=a.replace(/([A-Z])/g,function(o,l){return"-"+l.toLowerCase()})+":"+i[a]+";";return s+="}",s}(e,t))}}En("Dom",{style(r,e){return this.put(new Gb).rule(r,e)},fontface(r,e,t){return this.put(new Gb).font(r,e,t)}}),zn(Gb,"Style");class Vb extends ao{constructor(e,t=e){super(li("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let n=null;return t&&(n=t.plot(e)),e==null?n:this}track(){return this.reference("href")}}En({Container:{textPath:oi(function(r,e){return r instanceof ao||(r=this.text(r)),r.path(e)})},Text:{path:oi(function(r,e=!0){const t=new Vb;let n;if(r instanceof vf||(r=this.defs().path(r)),t.attr("href","#"+r,Vf),e)for(;n=this.node.firstChild;)t.node.appendChild(n);return this.put(t)}),textPath(){return this.findOne("textPath")}},Path:{text:oi(function(r){return r instanceof ao||(r=new ao().addTo(this.parent()).text(r)),r.path(this)}),targets(){return Bh("svg textPath").filter(r=>(r.attr("href")||"").includes(this.id()))}}}),Vb.prototype.MorphArray=so,zn(Vb,"TextPath");class WC extends ra{constructor(e,t=e){super(li("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,Vf)}}En({Container:{use:oi(function(r,e){return this.put(new WC).use(r,e)})}}),zn(WC,"Use");const tU=vs;tn([Fw,Nw,O0,Gm,U0],Ds("viewbox")),tn([rh,ah,sh,vf],Ds("marker")),tn(ao,Ds("Text")),tn(vf,Ds("Path")),tn(qv,Ds("Defs")),tn([ao,H0],Ds("Tspan")),tn([z0,N0,Cm,ea],Ds("radius")),tn(mg,Ds("EventTarget")),tn(Oc,Ds("Dom")),tn(Ur,Ds("Element")),tn(ra,Ds("Shape")),tn([As,dI],Ds("Container")),tn(Cm,Ds("Gradient")),tn(ea,Ds("Runner")),Sh.extend([...new Set(ZR)]),function(r=[]){Dw.push(...[].concat(r))}([gn,ei,Di,jt,_h,Uc,so,Xn]),tn(Dw,{to(r){return new Qu().type(this.constructor).from(this.toArray()).to(r)},fromArray(r){return this.init(r),this},toConsumable(){return this.toArray()},morph(r,e,t,n,i){return this.fromArray(r.map(function(s,a){return n.step(s,e[a],t,i[a],i)}))}});class mi extends Ur{constructor(e){super(li("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Bh('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class oS extends Ur{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const xa=r=>function(...e){for(let t=r.length;t--;)e[t]!=null&&this.attr(r[t],e[t])},nU={blend:xa(["in","in2","mode"]),colorMatrix:xa(["type","values"]),composite:xa(["in","in2","operator"]),convolveMatrix:function(r){r=new _h(r).toString(),this.attr({order:Math.sqrt(r.split(" ").length),kernelMatrix:r})},diffuseLighting:xa(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:xa(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:xa(["in","dx","dy","stdDeviation"]),flood:xa(["flood-color","flood-opacity"]),gaussianBlur:function(r=0,e=r){this.attr("stdDeviation",r+" "+e)},image:function(r){this.attr("href",r,Vf)},morphology:xa(["operator","radius"]),offset:xa(["dx","dy"]),specularLighting:xa(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:xa([]),turbulence:xa(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(r=>{const e=Hf(r),t=nU[r];mi[e+"Effect"]=class extends oS{constructor(n){super(li("fe"+e,n),n)}update(n){return t.apply(this,n),this}},mi.prototype[r]=oi(function(n,...i){const s=new mi[e+"Effect"];return n==null?this.put(s):(typeof n=="function"?n.call(s,s):i.unshift(n),this.put(s).update(i))})}),tn(mi,{merge(r){const e=this.put(new mi.MergeEffect);return typeof r=="function"?(r.call(e,e),e):((r instanceof Array?r:[...arguments]).forEach(t=>{t instanceof mi.MergeNode?e.put(t):e.mergeNode(t)}),e)},componentTransfer(r={}){const e=this.put(new mi.ComponentTransferEffect);if(typeof r=="function")return r.call(e,e),e;r.r||r.g||r.b||r.a||(r={r,g:r,b:r,a:r});for(const t in r)e.add(new mi["Func"+t.toUpperCase()](r[t]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(r=>{const e=Hf(r);mi[e]=class extends oS{constructor(t){super(li("fe"+e,t),t)}}});["funcR","funcG","funcB","funcA"].forEach(function(r){const e=mi[Hf(r)],t=oi(function(){return this.put(new e)});mi.ComponentTransferEffect.prototype[r]=t});["distantLight","pointLight","spotLight"].forEach(r=>{const e=mi[Hf(r)],t=oi(function(){return this.put(new e)});mi.DiffuseLightingEffect.prototype[r]=t,mi.SpecularLightingEffect.prototype[r]=t}),tn(mi.MergeEffect,{mergeNode(r){return this.put(new mi.MergeNode).attr("in",r)}}),tn(qv,{filter:function(r){const e=this.put(new mi);return typeof r=="function"&&r.call(e,e),e}}),tn(As,{filter:function(r){return this.defs().filter(r)}}),tn(Ur,{filterWith:function(r){const e=r instanceof mi?r:this.defs().filter(r);return this.attr("filter",e)},unfilter:function(r){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const iU={blend:function(r,e){return this.parent()&&this.parent().blend(this,r,e)},colorMatrix:function(r,e){return this.parent()&&this.parent().colorMatrix(r,e).in(this)},componentTransfer:function(r){return this.parent()&&this.parent().componentTransfer(r).in(this)},composite:function(r,e){return this.parent()&&this.parent().composite(this,r,e)},convolveMatrix:function(r){return this.parent()&&this.parent().convolveMatrix(r).in(this)},diffuseLighting:function(r,e,t,n){return this.parent()&&this.parent().diffuseLighting(r,t,n).in(this)},displacementMap:function(r,e,t,n){return this.parent()&&this.parent().displacementMap(this,r,e,t,n)},dropShadow:function(r,e,t){return this.parent()&&this.parent().dropShadow(this,r,e,t).in(this)},flood:function(r,e){return this.parent()&&this.parent().flood(r,e)},gaussianBlur:function(r,e){return this.parent()&&this.parent().gaussianBlur(r,e).in(this)},image:function(r){return this.parent()&&this.parent().image(r)},merge:function(r){return r=r instanceof Array?r:[...r],this.parent()&&this.parent().merge(this,...r)},morphology:function(r,e){return this.parent()&&this.parent().morphology(r,e).in(this)},offset:function(r,e){return this.parent()&&this.parent().offset(r,e).in(this)},specularLighting:function(r,e,t,n,i){return this.parent()&&this.parent().specularLighting(r,t,n,i).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(r,e,t,n,i){return this.parent()&&this.parent().turbulence(r,e,t,n,i).in(this)}};tn(oS,iU),tn(mi.MergeEffect,{in:function(r){return r instanceof mi.MergeNode?this.add(r,0):this.add(new mi.MergeNode().in(r),0),this}}),tn([mi.CompositeEffect,mi.BlendEffect,mi.DisplacementMapEffect],{in2:function(r){if(r==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",r)}}),mi.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Nr=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"getDefaultFilter",value:function(e,t){var n=this.w;e.unfilter(!0),new mi().size("120%","180%","-5%","-40%"),n.config.chart.dropShadow.enabled&&this.dropShadow(e,n.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,n){var i,s=this,a=this.w;if(e.unfilter(!0),n!=="none"){var o,l,c=a.config.chart.dropShadow,u=n==="lighten"?2:.3;e.filterWith(function(d){d.colorMatrix({type:"matrix",values:`
          `.concat(u,` 0 0 0 0
          0 `).concat(u,` 0 0 0
          0 0 `).concat(u,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),c.enabled&&s.addShadow(d,t,c,"brightness")}),!c.noUserSpaceOnUse&&((o=e.filterer())===null||o===void 0||(l=o.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((i=e.filterer())===null||i===void 0?void 0:i.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,n,i){var s,a=this.w,o=n.blur,l=n.top,c=n.left,u=n.color,d=n.opacity;if(u=Array.isArray(u)?u[t]:u,((s=a.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.length)>0&&a.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:i,dx:c,dy:l,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:o,result:"blur"}),e.flood({"flood-color":u,"flood-opacity":d,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",i])}},{key:"dropShadow",value:function(e,t){var n,i,s,a,o,l=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=this.w;return e.unfilter(!0),xe.isMsEdge()&&u.config.chart.type==="radialBar"||((n=u.config.chart.dropShadow.enabledOnSeries)===null||n===void 0?void 0:n.length)>0&&((s=u.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.indexOf(c))===-1?e:(e.filterWith(function(d){l.addShadow(d,c,t,"SourceGraphic")}),t.noUserSpaceOnUse||(a=e.filterer())===null||a===void 0||(o=a.node)===null||o===void 0||o.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((i=e.filterer())===null||i===void 0?void 0:i.node),e)}},{key:"setSelectionFilter",value:function(e,t,n){var i=this.w;if(i.globals.selectedDataPoints[t]!==void 0&&i.globals.selectedDataPoints[t].indexOf(n)>-1){e.node.setAttribute("selected",!0);var s=i.config.states.active.filter;s!=="none"&&this.applyFilter(e,t,s.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),r}(),Ye=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"roundPathCorners",value:function(e,t){function n(k,B,D){var O=B.x-k.x,V=B.y-k.y,X=Math.sqrt(O*O+V*V);return i(k,B,Math.min(1,D/X))}function i(k,B,D){return{x:k.x+(B.x-k.x)*D,y:k.y+(B.y-k.y)*D}}function s(k,B){k.length>2&&(k[k.length-2]=B.x,k[k.length-1]=B.y)}function a(k){return{x:parseFloat(k[k.length-2]),y:parseFloat(k[k.length-1])}}e.indexOf("NaN")>-1&&(e="");var o=e.split(/[,\s]/).reduce(function(k,B){var D=B.match("([a-zA-Z])(.+)");return D?(k.push(D[1]),k.push(D[2])):k.push(B),k},[]).reduce(function(k,B){return parseFloat(B)==B&&k.length?k[k.length-1].push(B):k.push([B]),k},[]),l=[];if(o.length>1){var c=a(o[0]),u=null;o[o.length-1][0]=="Z"&&o[0].length>2&&(u=["L",c.x,c.y],o[o.length-1]=u),l.push(o[0]);for(var d=1;d<o.length;d++){var f=l[l.length-1],m=o[d],v=m==u?o[1]:o[d+1];if(v&&f&&f.length>2&&m[0]=="L"&&v.length>2&&v[0]=="L"){var y,w,b=a(f),S=a(m),M=a(v);y=n(S,b,t),w=n(S,M,t),s(m,y),m.origPoint=S,l.push(m);var E=i(y,S,.5),T=i(S,w,.5),R=["C",E.x,E.y,T.x,T.y,w.x,w.y];R.origPoint=S,l.push(R)}else l.push(m)}if(u){var P=a(l[l.length-1]);l.push(["Z"]),s(l[0],P)}}else l=o;return l.reduce(function(k,B){return k+B.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:n,y2:i,stroke:s,"stroke-dasharray":a,"stroke-width":o,"stroke-linecap":l})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,u=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,d=this.w.globals.dom.Paper.rect();return d.attr({x:e,y:t,width:n>0?n:0,height:i>0?i:0,rx:s,ry:s,opacity:o,"stroke-width":l!==null?l:0,stroke:c!==null?c:"none","stroke-dasharray":u}),d.node.setAttribute("fill",a),d}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:i,stroke:t,"stroke-width":n})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var n=this.w.globals.dom.Paper.circle(2*e);return t!==null&&n.attr(t),n}},{key:"drawPath",value:function(e){var t=e.d,n=t===void 0?"":t,i=e.stroke,s=i===void 0?"#a8a8a8":i,a=e.strokeWidth,o=a===void 0?1:a,l=e.fill,c=e.fillOpacity,u=c===void 0?1:c,d=e.strokeOpacity,f=d===void 0?1:d,m=e.classes,v=e.strokeLinecap,y=v===void 0?null:v,w=e.strokeDashArray,b=w===void 0?0:w,S=this.w;return y===null&&(y=S.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(S.globals.gridHeight)),S.globals.dom.Paper.path(n).attr({fill:l,"fill-opacity":u,stroke:s,"stroke-opacity":f,"stroke-linecap":y,"stroke-width":o,"stroke-dasharray":b,class:m})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var n=["M",e,t].join(" ");return n}},{key:"line",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=null;return n===null?i=[" L",e,t].join(" "):n==="H"?i=[" H",e].join(" "):n==="V"&&(i=[" V",t].join(" ")),i}},{key:"curve",value:function(e,t,n,i,s,a){var o=["C",e,t,n,i,s,a].join(" ");return o}},{key:"quadraticCurve",value:function(e,t,n,i){return["Q",e,t,n,i].join(" ")}},{key:"arc",value:function(e,t,n,i,s,a,o){var l="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(l="a");var c=[l,e,t,n,i,s,a,o].join(" ");return c}},{key:"renderPaths",value:function(e){var t,n=e.j,i=e.realIndex,s=e.pathFrom,a=e.pathTo,o=e.stroke,l=e.strokeWidth,c=e.strokeLinecap,u=e.fill,d=e.animationDelay,f=e.initialSpeed,m=e.dataChangeSpeed,v=e.className,y=e.chartType,w=e.shouldClipToGrid,b=w===void 0||w,S=e.bindEventsOnPaths,M=S===void 0||S,E=e.drawShadow,T=E===void 0||E,R=this.w,P=new Nr(this.ctx),k=new zf(this.ctx),B=this.w.config.chart.animations.enabled,D=B&&this.w.config.chart.animations.dynamicAnimation.enabled,O=!!(B&&!R.globals.resized||D&&R.globals.dataChanged&&R.globals.shouldAnimate);O?t=s:(t=a,R.globals.animationEnded=!0);var V=R.config.stroke.dashArray,X=0;X=Array.isArray(V)?V[i]:R.config.stroke.dashArray;var K=this.drawPath({d:t,stroke:o,strokeWidth:l,fill:u,fillOpacity:1,classes:v,strokeLinecap:c,strokeDashArray:X});K.attr("index",i),b&&(y==="bar"&&!R.globals.isHorizontal||R.globals.comboCharts?K.attr({"clip-path":"url(#gridRectBarMask".concat(R.globals.cuid,")")}):K.attr({"clip-path":"url(#gridRectMask".concat(R.globals.cuid,")")})),R.config.chart.dropShadow.enabled&&T&&P.dropShadow(K,R.config.chart.dropShadow,i),M&&(K.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,K)),K.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,K)),K.node.addEventListener("mousedown",this.pathMouseDown.bind(this,K))),K.attr({pathTo:a,pathFrom:s});var ie={el:K,j:n,realIndex:i,pathFrom:s,pathTo:a,fill:u,strokeWidth:l,delay:d};return!B||R.globals.resized||R.globals.dataChanged?!R.globals.resized&&R.globals.dataChanged||k.showDelayedElements():k.animatePathsGradually(lt(lt({},ie),{},{speed:f})),R.globals.dataChanged&&D&&O&&k.animatePathsGradually(lt(lt({},ie),{},{speed:m})),K}},{key:"drawPattern",value:function(e,t,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,n,function(a){e==="horizontalLines"?a.line(0,0,n,0).stroke({color:i,width:s+1}):e==="verticalLines"?a.line(0,0,0,t).stroke({color:i,width:s+1}):e==="slantedLines"?a.line(0,0,t,n).stroke({color:i,width:s}):e==="squares"?a.rect(t,n).fill("none").stroke({color:i,width:s}):e==="circles"&&a.circle(t).fill("none").stroke({color:i,width:s})})}},{key:"drawGradient",value:function(e,t,n,i,s){var a,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,d=this.w;t.length<9&&t.indexOf("#")===0&&(t=xe.hexToRgba(t,i)),n.length<9&&n.indexOf("#")===0&&(n=xe.hexToRgba(n,s));var f=0,m=1,v=1,y=null;l!==null&&(f=l[0]!==void 0?l[0]/100:0,m=l[1]!==void 0?l[1]/100:1,v=l[2]!==void 0?l[2]/100:1,y=l[3]!==void 0?l[3]/100:null);var w=!(d.config.chart.type!=="donut"&&d.config.chart.type!=="pie"&&d.config.chart.type!=="polarArea"&&d.config.chart.type!=="bubble");if(a=c&&c.length!==0?d.globals.dom.Paper.gradient(w?"radial":"linear",function(M){(Array.isArray(c[u])?c[u]:c).forEach(function(E){M.stop(E.offset/100,E.color,E.opacity)})}):d.globals.dom.Paper.gradient(w?"radial":"linear",function(M){M.stop(f,t,i),M.stop(m,n,s),M.stop(v,n,s),y!==null&&M.stop(y,t,i)}),w){var b=d.globals.gridWidth/2,S=d.globals.gridHeight/2;d.config.chart.type!=="bubble"?a.attr({gradientUnits:"userSpaceOnUse",cx:b,cy:S,r:o}):a.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?a.from(0,0).to(0,1):e==="diagonal"?a.from(0,0).to(1,1):e==="horizontal"?a.from(0,1).to(1,1):e==="diagonal2"&&a.from(1,0).to(0,1);return a}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,n=e.maxWidth,i=e.fontSize,s=e.fontFamily,a=this.getTextRects(t,i,s),o=a.width/t.length,l=Math.floor(n/o);return n<a.width?t.slice(0,l-3)+"...":t}},{key:"drawText",value:function(e){var t=this,n=e.x,i=e.y,s=e.text,a=e.textAnchor,o=e.fontSize,l=e.fontFamily,c=e.fontWeight,u=e.foreColor,d=e.opacity,f=e.maxWidth,m=e.cssClass,v=m===void 0?"":m,y=e.isPlainText,w=y===void 0||y,b=e.dominantBaseline,S=b===void 0?"auto":b,M=this.w;s===void 0&&(s="");var E=s;a||(a="start"),u&&u.length||(u=M.config.chart.foreColor),l=l||M.config.chart.fontFamily,c=c||"regular";var T,R={maxWidth:f,fontSize:o=o||"11px",fontFamily:l};return Array.isArray(s)?T=M.globals.dom.Paper.text(function(P){for(var k=0;k<s.length;k++)E=s[k],f&&(E=t.getTextBasedOnMaxWidth(lt({text:s[k]},R))),k===0?P.tspan(E):P.tspan(E).newLine()}):(f&&(E=this.getTextBasedOnMaxWidth(lt({text:s},R))),T=w?M.globals.dom.Paper.plain(s):M.globals.dom.Paper.text(function(P){return P.tspan(E)})),T.attr({x:n,y:i,"text-anchor":a,"dominant-baseline":S,"font-size":o,"font-family":l,"font-weight":c,fill:u,class:"apexcharts-text "+v}),T.node.style.fontFamily=l,T.node.style.opacity=d,T}},{key:"getMarkerPath",value:function(e,t,n,i){var s="";switch(n){case"cross":s="M ".concat(e-(i/=1.4)," ").concat(t-i," L ").concat(e+i," ").concat(t+i,"  M ").concat(e-i," ").concat(t+i," L ").concat(e+i," ").concat(t-i);break;case"plus":s="M ".concat(e-(i/=1.12)," ").concat(t," L ").concat(e+i," ").concat(t,"  M ").concat(e," ").concat(t-i," L ").concat(e," ").concat(t+i);break;case"star":case"sparkle":var a=5;i*=1.15,n==="sparkle"&&(i/=1.1,a=4);for(var o=Math.PI/a,l=0;l<=2*a;l++){var c=l*o,u=l%2==0?i:i/2;s+=(l===0?"M":"L")+(e+u*Math.sin(c))+","+(t-u*Math.cos(c))}s+="Z";break;case"triangle":s="M ".concat(e," ").concat(t-i,` 
             L `).concat(e+i," ").concat(t+i,` 
             L `).concat(e-i," ").concat(t+i,` 
             Z`);break;case"square":case"rect":s="M ".concat(e-(i/=1.125)," ").concat(t-i,` 
           L `).concat(e+i," ").concat(t-i,` 
           L `).concat(e+i," ").concat(t+i,` 
           L `).concat(e-i," ").concat(t+i,` 
           Z`);break;case"diamond":i*=1.05,s="M ".concat(e," ").concat(t-i,` 
             L `).concat(e+i," ").concat(t,` 
             L `).concat(e," ").concat(t+i,` 
             L `).concat(e-i," ").concat(t,` 
            Z`);break;case"line":s="M ".concat(e-(i/=1.1)," ").concat(t,` 
           L `).concat(e+i," ").concat(t);break;default:i*=2,s="M ".concat(e,", ").concat(t,` 
           m -`).concat(i/2,`, 0 
           a `).concat(i/2,",").concat(i/2," 0 1,0 ").concat(i,`,0 
           a `).concat(i/2,",").concat(i/2," 0 1,0 -").concat(i,",0")}return s}},{key:"drawMarkerShape",value:function(e,t,n,i,s){var a=this.drawPath({d:this.getMarkerPath(e,t,n,i,s),stroke:s.pointStrokeColor,strokeDashArray:s.pointStrokeDashArray,strokeWidth:s.pointStrokeWidth,fill:s.pointFillColor,fillOpacity:s.pointFillOpacity,strokeOpacity:s.pointStrokeOpacity});return a.attr({cx:e,cy:t,shape:s.shape,class:s.class?s.class:""}),a}},{key:"drawMarker",value:function(e,t,n){e=e||0;var i=n.pSize||0;return xe.isNumber(t)||(i=0,t=0),this.drawMarkerShape(e,t,n==null?void 0:n.shape,i,lt(lt({},n),n.shape==="line"||n.shape==="plus"||n.shape==="cross"?{pointStrokeColor:n.pointFillColor,pointStrokeOpacity:n.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var n=this.w,i=new Nr(this.ctx),s=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);if(typeof n.config.chart.events.dataPointMouseEnter=="function"&&n.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:s,dataPointIndex:a,w:n}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:s,dataPointIndex:a,w:n}]),(n.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&n.config.states.hover.filter.type!=="none"&&!n.globals.isTouchDevice){var o=n.config.states.hover.filter;i.applyFilter(e,s,o.type)}}},{key:"pathMouseLeave",value:function(e,t){var n=this.w,i=new Nr(this.ctx),s=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);typeof n.config.chart.events.dataPointMouseLeave=="function"&&n.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:s,dataPointIndex:a,w:n}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:s,dataPointIndex:a,w:n}]),n.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||n.config.states.hover.filter.type!=="none"&&i.getDefaultFilter(e,s)}},{key:"pathMouseDown",value:function(e,t){var n=this.w,i=new Nr(this.ctx),s=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10),o="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),n.globals.selectedDataPoints[s].indexOf(a)>-1){var l=n.globals.selectedDataPoints[s].indexOf(a);n.globals.selectedDataPoints[s].splice(l,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var c=n.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),u=n.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),d=function(v){Array.prototype.forEach.call(v,function(y){y.node.setAttribute("selected","false"),i.getDefaultFilter(y,s)})};d(c),d(u)}e.node.setAttribute("selected","true"),o="true",n.globals.selectedDataPoints[s]===void 0&&(n.globals.selectedDataPoints[s]=[]),n.globals.selectedDataPoints[s].push(a)}if(o==="true"){var f=n.config.states.active.filter;if(f!=="none")i.applyFilter(e,s,f.type);else if(n.config.states.hover.filter!=="none"&&!n.globals.isTouchDevice){var m=n.config.states.hover.filter;i.applyFilter(e,s,m.type)}}else n.config.states.active.filter.type!=="none"&&(n.config.states.hover.filter.type==="none"||n.globals.isTouchDevice?i.getDefaultFilter(e,s):(m=n.config.states.hover.filter,i.applyFilter(e,s,m.type)));typeof n.config.chart.events.dataPointSelection=="function"&&n.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:a,w:n}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:a,w:n}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,n,i){var s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=this.w,o=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:n,foreColor:"#fff",opacity:0});i&&o.attr("transform",i),a.globals.dom.Paper.add(o);var l=o.bbox();return s||(l=o.node.getBoundingClientRect()),o.remove(),{width:l.width,height:l.height}}},{key:"placeTextWithEllipsis",value:function(e,t,n){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=n/1.1)){for(var i=t.length-3;i>0;i-=3)if(e.getSubStringLength(0,i)<=n/1.1)return void(e.textContent=t.substring(0,i)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}}]),r}(),Fi=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,n=[];if(t.globals.series.length===0)return n;for(var i=0;i<t.globals.series[t.globals.maxValsInArrayIndex].length;i++){for(var s=0,a=0;a<t.globals.series.length;a++)t.globals.series[a][i]!==void 0&&e.indexOf(a)===-1&&(s+=t.globals.series[a][i]);n.push(s)}return n}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(t,n){return t+n},0):this.w.globals.series[e].reduce(function(t,n){return t+n},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,n=[];return t.globals.seriesGroups.forEach(function(i){var s=[];t.config.series.forEach(function(o,l){i.indexOf(t.globals.seriesNames[l])>-1&&s.push(l)});var a=t.globals.series.map(function(o,l){return s.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1});n.push(e.getStackedSeriesTotals(a))}),n}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,n=[],i=[],s=[],a=e.series.length>t.yaxis.length||t.yaxis.some(function(d){return Array.isArray(d.seriesName)});t.series.forEach(function(d,f){s.push(f),i.push(null)}),t.yaxis.forEach(function(d,f){n[f]=[]});var o=[];t.yaxis.forEach(function(d,f){var m=!1;if(d.seriesName){var v=[];Array.isArray(d.seriesName)?v=d.seriesName:v.push(d.seriesName),v.forEach(function(y){t.series.forEach(function(w,b){if(w.name===y){var S=b;f===b||a?!a||s.indexOf(b)>-1?n[f].push([f,b]):console.warn("Series '"+w.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(n[b].push([b,f]),S=f),m=!0,(S=s.indexOf(S))!==-1&&s.splice(S,1)}})})}m||o.push(f)}),n=n.map(function(d,f){var m=[];return d.forEach(function(v){i[v[1]]=v[0],m.push(v[1])}),m});for(var l=t.yaxis.length-1,c=0;c<o.length&&(l=o[c],n[l]=[],s);c++){var u=s[0];s.shift(),n[l].push(u),i[u]=l}s.forEach(function(d){n[l].push(d),i[d]=l}),e.seriesYAxisMap=n.map(function(d){return d}),e.seriesYAxisReverseMap=i.map(function(d){return d}),e.seriesYAxisMap.forEach(function(d,f){d.forEach(function(m){t.series[m]&&t.series[m].group===void 0&&(t.series[m].group="apexcharts-axis-".concat(f.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(t){return t!==null}):this.w.config.series[e].data.filter(function(t){return t!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(t,n,i){return t===i[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,n=e.slice();return t.config.xaxis.convertedCatToNumeric&&(n=e.map(function(i,s){return t.config.xaxis.labels.formatter(i-t.globals.minX+1)})),n}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(n){t=Math.max(t,n)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(n){t=Math.max(t,n.size)}),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(t,n){var i=0;if(Array.isArray(t))for(var s=0;s<t.length;s++)i+=t[s];else i+=t;return i})}},{key:"getSeriesTotalsXRange",value:function(e,t){var n=this.w;return n.globals.series.map(function(i,s){for(var a=0,o=0;o<i.length;o++)n.globals.seriesX[s][o]>e&&n.globals.seriesX[s][o]<t&&(a+=i[o]);return a})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,n){var i=[];if(Array.isArray(t))for(var s=0;s<t.length;s++){var a=e.globals.stackedSeriesTotals[s],o=0;a&&(o=100*t[s]/a),i.push(o)}else{var l=100*t/e.globals.seriesTotals.reduce(function(c,u){return c+u},0);i.push(l)}return i})}},{key:"getCalculatedRatios",value:function(){var e,t,n,i=this,s=this.w,a=s.globals,o=[],l=0,c=[],u=.1,d=0;if(a.yRange=[],a.isMultipleYAxis)for(var f=0;f<a.minYArr.length;f++)a.yRange.push(Math.abs(a.minYArr[f]-a.maxYArr[f])),c.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var m=0;m<a.yRange.length;m++)o.push(a.yRange[m]/a.gridHeight);if(t=a.xRange/a.gridWidth,e=a.yRange/a.gridWidth,n=a.xRange/a.gridHeight,(l=a.zRange/a.gridHeight*16)||(l=1),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(a.hasNegs=!0),s.globals.seriesYAxisReverseMap.length>0){var v=function(w,b){var S=s.config.yaxis[s.globals.seriesYAxisReverseMap[b]],M=w<0?-1:1;return w=Math.abs(w),S.logarithmic&&(w=i.getBaseLog(S.logBase,w)),-M*w/o[b]};if(a.isMultipleYAxis){c=[];for(var y=0;y<o.length;y++)c.push(v(a.minYArr[y],y))}else(c=[]).push(v(a.minY,0)),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(u=-a.minY/e,d=a.minX/t)}else(c=[]).push(0),u=0,d=0;return{yRatio:o,invertedYRatio:e,zRatio:l,xRatio:t,invertedXRatio:n,baseLineInvertedY:u,baseLineY:c,baseLineX:d}}},{key:"getLogSeries",value:function(e){var t=this,n=this.w;return n.globals.seriesLog=e.map(function(i,s){var a=n.globals.seriesYAxisReverseMap[s];return n.config.yaxis[a]&&n.config.yaxis[a].logarithmic?i.map(function(o){return o===null?null:t.getLogVal(n.config.yaxis[a].logBase,o,s)}):i}),n.globals.invalidLogScale?e:n.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var n=this.w,i=n.globals.seriesYAxisReverseMap[t];return n.config.yaxis[i]&&n.config.yaxis[i].logarithmic?this.getLogVal(n.config.yaxis[i].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,n){if(t<=0)return 0;var i=this.w,s=i.globals.minYArr[n]===0?-1:this.getBaseLog(e,i.globals.minYArr[n]),a=(i.globals.maxYArr[n]===0?0:this.getBaseLog(e,i.globals.maxYArr[n]))-s;return t<1?t/a:(this.getBaseLog(e,t)-s)/a}},{key:"getLogYRatios",value:function(e){var t=this,n=this.w,i=this.w.globals;return i.yLogRatio=e.slice(),i.logYRange=i.yRange.map(function(s,a){var o=n.globals.seriesYAxisReverseMap[a];if(n.config.yaxis[o]&&t.w.config.yaxis[o].logarithmic){var l,c=-Number.MAX_VALUE,u=Number.MIN_VALUE;return i.seriesLog.forEach(function(d,f){d.forEach(function(m){n.config.yaxis[f]&&n.config.yaxis[f].logarithmic&&(c=Math.max(m,c),u=Math.min(m,u))})}),l=Math.pow(i.yRange[a],Math.abs(u-c)/i.yRange[a]),i.yLogRatio[a]=l/i.gridHeight,l}}),i.invalidLogScale?e.slice():i.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,n,i){var s=this.w,a=[];return e.series.length>0&&t.forEach(function(o){var l=[],c=[];e.i.forEach(function(u,d){s.config.series[u].group===o&&(l.push(e.series[d]),c.push(u))}),l.length>0&&a.push(i.draw(l,n,c))}),a}}],[{key:"checkComboSeries",value:function(e,t){var n=!1,i=0,s=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach(function(a){a.type!=="bar"&&a.type!=="column"&&a.type!=="candlestick"&&a.type!=="boxPlot"||i++,a.type!==void 0&&a.type!==t&&s++}),s>0&&(n=!0),{comboBarCount:i,comboCharts:n}}},{key:"extendArrayProps",value:function(e,t,n){var i,s,a,o,l,c;return(i=t)!==null&&i!==void 0&&i.yaxis&&(t=e.extendYAxis(t,n)),(s=t)!==null&&s!==void 0&&s.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(a=t)!==null&&a!==void 0&&(o=a.annotations)!==null&&o!==void 0&&o.xaxis&&(t=e.extendXAxisAnnotations(t)),(l=t)!==null&&l!==void 0&&(c=l.annotations)!==null&&c!==void 0&&c.points&&(t=e.extendPointAnnotations(t))),t}}]),r}(),Qv=function(){function r(e){_t(this,r),this.w=e.w,this.annoCtx=e}return Mt(r,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.w;if(e.label.orientation==="vertical"){var i=t!==null?t:0,s=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(i,"']"));if(s!==null){var a=s.getBoundingClientRect();s.setAttribute("x",parseFloat(s.getAttribute("x"))-a.height+4);var o=e.label.position==="top"?a.width:-a.width;s.setAttribute("y",parseFloat(s.getAttribute("y"))+o);var l=this.annoCtx.graphics.rotateAroundCenter(s),c=l.x,u=l.y;s.setAttribute("transform","rotate(-90 ".concat(c," ").concat(u,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var n=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var i=n.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),s=e.getBoundingClientRect(),a=t.label.style.padding,o=a.left,l=a.right,c=a.top,u=a.bottom;if(t.label.orientation==="vertical"){var d=[o,l,c,u];c=d[0],u=d[1],o=d[2],l=d[3]}var f=s.left-i.left-o,m=s.top-i.top-c,v=this.annoCtx.graphics.drawRect(f-n.globals.barPadForNumericAxis,m,s.width+o+l,s.height+c+u,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&v.node.classList.add(t.id),v}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,n=function(i,s,a){var o=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(s,"']"));if(o){var l=o.parentNode,c=e.addBackgroundToAnno(o,i);c&&(l.insertBefore(c.node,o),i.label.mouseEnter&&c.node.addEventListener("mouseenter",i.label.mouseEnter.bind(e,i)),i.label.mouseLeave&&c.node.addEventListener("mouseleave",i.label.mouseLeave.bind(e,i)),i.label.click&&c.node.addEventListener("click",i.label.click.bind(e,i)))}};t.config.annotations.xaxis.forEach(function(i,s){return n(i,s,"xaxis")}),t.config.annotations.yaxis.forEach(function(i,s){return n(i,s,"yaxis")}),t.config.annotations.points.forEach(function(i,s){return n(i,s,"point")})}},{key:"getY1Y2",value:function(e,t){var n,i=this.w,s=e==="y1"?t.y:t.y2,a=!1;if(this.annoCtx.invertAxis){var o=i.config.xaxis.convertedCatToNumeric?i.globals.categoryLabels:i.globals.labels,l=o.indexOf(s),c=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(l+1,")"));n=c?parseFloat(c.getAttribute("y")):(i.globals.gridHeight/o.length-1)*(l+1)-i.globals.barHeight,t.seriesIndex!==void 0&&i.globals.barHeight&&(n-=i.globals.barHeight/2*(i.globals.series.length-1)-i.globals.barHeight*t.seriesIndex)}else{var u,d=i.globals.seriesYAxisMap[t.yAxisIndex][0],f=i.config.yaxis[t.yAxisIndex].logarithmic?new Fi(this.annoCtx.ctx).getLogVal(i.config.yaxis[t.yAxisIndex].logBase,s,d)/i.globals.yLogRatio[d]:(s-i.globals.minYArr[d])/(i.globals.yRange[d]/i.globals.gridHeight);n=i.globals.gridHeight-Math.min(Math.max(f,0),i.globals.gridHeight),a=f>i.globals.gridHeight||f<0,!t.marker||t.y!==void 0&&t.y!==null||(n=0),(u=i.config.yaxis[t.yAxisIndex])!==null&&u!==void 0&&u.reversed&&(n=f)}return typeof s=="string"&&s.includes("px")&&(n=parseFloat(s)),{yP:n,clipped:a}}},{key:"getX1X2",value:function(e,t){var n=this.w,i=e==="x1"?t.x:t.x2,s=this.annoCtx.invertAxis?n.globals.minY:n.globals.minX,a=this.annoCtx.invertAxis?n.globals.maxY:n.globals.maxX,o=this.annoCtx.invertAxis?n.globals.yRange[0]:n.globals.xRange,l=!1,c=this.annoCtx.inversedReversedAxis?(a-i)/(o/n.globals.gridWidth):(i-s)/(o/n.globals.gridWidth);return n.config.xaxis.type!=="category"&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||n.config.chart.sparkline.enabled||(c=this.getStringX(i)),typeof i=="string"&&i.includes("px")&&(c=parseFloat(i)),i==null&&t.marker&&(c=n.globals.gridWidth),t.seriesIndex!==void 0&&n.globals.barWidth&&!this.annoCtx.invertAxis&&(c-=n.globals.barWidth/2*(n.globals.series.length-1)-n.globals.barWidth*t.seriesIndex),c>n.globals.gridWidth?(c=n.globals.gridWidth,l=!0):c<0&&(c=0,l=!0),{x:c,clipped:l}}},{key:"getStringX",value:function(e){var t=this.w,n=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var i=t.globals.labels.map(function(a){return Array.isArray(a)?a.join(" "):a}).indexOf(e),s=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(i+1,")"));return s&&(n=parseFloat(s.getAttribute("x"))),n}}]),r}(),rU=function(){function r(e){_t(this,r),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Qv(this.annoCtx)}return Mt(r,[{key:"addXaxisAnnotation",value:function(e,t,n){var i,s=this.w,a=this.helpers.getX1X2("x1",e),o=a.x,l=a.clipped,c=!0,u=e.label.text,d=e.strokeDashArray;if(xe.isNumber(o)){if(e.x2===null||e.x2===void 0){if(!l){var f=this.annoCtx.graphics.drawLine(o+e.offsetX,0+e.offsetY,o+e.offsetX,s.globals.gridHeight+e.offsetY,e.borderColor,d,e.borderWidth);t.appendChild(f.node),e.id&&f.node.classList.add(e.id)}}else{var m=this.helpers.getX1X2("x2",e);if(i=m.x,c=m.clipped,i<o){var v=o;o=i,i=v}var y=this.annoCtx.graphics.drawRect(o+e.offsetX,0+e.offsetY,i-o,s.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,d);y.node.classList.add("apexcharts-annotation-rect"),y.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),t.appendChild(y.node),e.id&&y.node.classList.add(e.id)}if(!l||!c){var w=this.annoCtx.graphics.getTextRects(u,parseFloat(e.label.style.fontSize)),b=e.label.position==="top"?4:e.label.position==="center"?s.globals.gridHeight/2+(e.label.orientation==="vertical"?w.width/2:0):s.globals.gridHeight,S=this.annoCtx.graphics.drawText({x:o+e.label.offsetX,y:b+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?w.width/2-12:-w.width/2:0),text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});S.attr({rel:n}),t.appendChild(S.node),this.annoCtx.helpers.setOrientations(e,n)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(i,s){e.addXaxisAnnotation(i,n.node,s)}),n}}]),r}(),Fr=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return Mt(r,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var n=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return n=this.getTimeStamp(n)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var n=this.w.globals.locale,i=this.w.config.xaxis.labels.datetimeUTC,s=["\0"].concat(hr(n.months)),a=[""].concat(hr(n.shortMonths)),o=[""].concat(hr(n.days)),l=[""].concat(hr(n.shortDays));function c(k,B){var D=k+"";for(B=B||2;D.length<B;)D="0"+D;return D}var u=i?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+u)).replace(/(^|[^\\])yy/g,"$1"+u.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+u);var d=(i?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+s[0])).replace(/(^|[^\\])MMM/g,"$1"+a[0])).replace(/(^|[^\\])MM/g,"$1"+c(d))).replace(/(^|[^\\])M/g,"$1"+d);var f=i?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+c(f))).replace(/(^|[^\\])d/g,"$1"+f);var m=i?e.getUTCHours():e.getHours(),v=m>12?m-12:m===0?12:m;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+c(m))).replace(/(^|[^\\])H/g,"$1"+m)).replace(/(^|[^\\])hh+/g,"$1"+c(v))).replace(/(^|[^\\])h/g,"$1"+v);var y=i?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+c(y))).replace(/(^|[^\\])m/g,"$1"+y);var w=i?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+c(w))).replace(/(^|[^\\])s/g,"$1"+w);var b=i?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+c(b,3)),b=Math.round(b/10),t=t.replace(/(^|[^\\])ff/g,"$1"+c(b)),b=Math.round(b/10);var S=m<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+b)).replace(/(^|[^\\])TT+/g,"$1"+S)).replace(/(^|[^\\])T/g,"$1"+S.charAt(0));var M=S.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+M)).replace(/(^|[^\\])t/g,"$1"+M.charAt(0));var E=-e.getTimezoneOffset(),T=i||!E?"Z":E>0?"+":"-";if(!i){var R=(E=Math.abs(E))%60;T+=c(Math.floor(E/60))+":"+c(R)}t=t.replace(/(^|[^\\])K/g,"$1"+T);var P=(i?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(o[0],"g"),o[P])).replace(new RegExp(l[0],"g"),l[P])).replace(new RegExp(s[0],"g"),s[d])).replace(new RegExp(a[0],"g"),a[d])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,n){var i=this.w;i.config.xaxis.min!==void 0&&(e=i.config.xaxis.min),i.config.xaxis.max!==void 0&&(t=i.config.xaxis.max);var s=this.getDate(e),a=this.getDate(t),o=this.formatDate(s,"yyyy MM dd HH mm ss fff").split(" "),l=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(o[6],10),maxMillisecond:parseInt(l[6],10),minSecond:parseInt(o[5],10),maxSecond:parseInt(l[5],10),minMinute:parseInt(o[4],10),maxMinute:parseInt(l[4],10),minHour:parseInt(o[3],10),maxHour:parseInt(l[3],10),minDate:parseInt(o[2],10),maxDate:parseInt(l[2],10),minMonth:parseInt(o[1],10)-1,maxMonth:parseInt(l[1],10)-1,minYear:parseInt(o[0],10),maxYear:parseInt(l[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,n){return this.determineDaysOfMonths(e,t)-n}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,n){var i=this.daysCntOfYear[t]+n;return t>1&&this.isLeapYear()&&i++,i}},{key:"determineDaysOfMonths",value:function(e,t){var n=30;switch(e=xe.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(n=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:n=31}return n}}]),r}(),xg=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return Mt(r,[{key:"xLabelFormat",value:function(e,t,n,i){var s=this.w;if(s.config.xaxis.type==="datetime"&&s.config.xaxis.labels.formatter===void 0&&s.config.tooltip.x.formatter===void 0){var a=new Fr(this.ctx);return a.formatDate(a.getDate(t),s.config.tooltip.x.format)}return e(t,n,i)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(t){return t}):e}},{key:"defaultYFormatter",value:function(e,t,n){var i=this.w;if(xe.isNumber(e))if(i.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:i.globals.yValueDecimal);else{var s=e.toFixed(0);e=e==s?s:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(n){return e.defaultGeneralFormatter(n)},t.globals.ttKeyFormatter=function(n){return e.defaultGeneralFormatter(n)},t.globals.ttZFormatter=function(n){return n},t.globals.legendFormatter=function(n){return e.defaultGeneralFormatter(n)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(n){if(xe.isNumber(n)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(xe.isNumber(t.config.xaxis.decimalsInFloat))return n.toFixed(t.config.xaxis.decimalsInFloat);var i=t.globals.maxX-t.globals.minX;return i>0&&i<100?n.toFixed(1):n.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?n.toFixed(1):n.toFixed(0)}return n},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(n,i){n.labels.formatter!==void 0?t.globals.yLabelFormatters[i]=n.labels.formatter:t.globals.yLabelFormatters[i]=function(s){return t.globals.xyCharts?Array.isArray(s)?s.map(function(a){return e.defaultYFormatter(a,n,i)}):e.defaultYFormatter(s,n,i):s}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(n,i){return n.length>i.length?n:i},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),r}(),zc=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"getLabel",value:function(e,t,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",o=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],l=this.w,c=e[i]===void 0?"":e[i],u=c,d=l.globals.xLabelFormatter,f=l.config.xaxis.labels.formatter,m=!1,v=new xg(this.ctx),y=c;o&&(u=v.xLabelFormat(d,c,y,{i,dateFormatter:new Fr(this.ctx).formatDate,w:l}),f!==void 0&&(u=f(c,e[i],{i,dateFormatter:new Fr(this.ctx).formatDate,w:l})));var w,b;t.length>0?(w=t[i].unit,b=null,t.forEach(function(T){T.unit==="month"?b="year":T.unit==="day"?b="month":T.unit==="hour"?b="day":T.unit==="minute"&&(b="hour")}),m=b===w,n=t[i].position,u=t[i].value):l.config.xaxis.type==="datetime"&&f===void 0&&(u=""),u===void 0&&(u=""),u=Array.isArray(u)?u:u.toString();var S=new Ye(this.ctx),M={};M=l.globals.rotateXLabels&&o?S.getTextRects(u,parseInt(a,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):S.getTextRects(u,parseInt(a,10));var E=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&(String(u)==="NaN"||s.indexOf(u)>=0&&E)&&(u=""),{x:n,text:u,textRect:M,isBold:m}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,n){var i=this.w,s=i.config.xaxis.tickAmount;return s==="dataPoints"&&(s=Math.round(i.globals.gridWidth/120)),s>n||e%Math.round(n/(s+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,n,i,s){var a=this.w;if(e===0&&a.globals.skipFirstTimelinelabel&&(t.text=""),e===n-1&&a.globals.skipLastTimelinelabel&&(t.text=""),a.config.xaxis.labels.hideOverlappingLabels&&i.length>0){var o=s[s.length-1];t.x<o.textRect.width/(a.globals.rotateXLabels?Math.abs(a.config.xaxis.labels.rotate)/12:1.01)+o.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var n=this.w;return n.config.yaxis[e]&&n.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some(function(n){return t.collapsedSeriesIndices.indexOf(n)===-1})}},{key:"translateYAxisIndex",value:function(e){var t=this.w,n=t.globals,i=t.config.yaxis;return n.series.length>i.length||i.some(function(s){return Array.isArray(s.seriesName)})?e:n.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,n=t.config.yaxis[e];if(!n.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!n.showForNullSeries){var i=t.globals.seriesYAxisMap[e],s=new Fi(this.ctx);return i.every(function(a){return s.isSeriesNull(a)})}return!1}},{key:"getYAxisForeColor",value:function(e,t){var n=this.w;return Array.isArray(e)&&n.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,n.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,n,i,s,a,o){var l=this.w,c=new Ye(this.ctx),u=l.globals.translateY+l.config.yaxis[s].labels.offsetY;if(l.globals.isBarHorizontal?u=0:l.config.chart.type==="heatmap"&&(u+=a/2),i.show&&t>0){l.config.yaxis[s].opposite===!0&&(e+=i.width);for(var d=t;d>=0;d--){var f=c.drawLine(e+n.offsetX-i.width+i.offsetX,u+i.offsetY,e+n.offsetX+i.offsetX,u+i.offsetY,i.color);o.add(f),u+=a}}}}]),r}(),sU=function(){function r(e){_t(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new Qv(this.annoCtx),this.axesUtils=new zc(this.annoCtx)}return Mt(r,[{key:"addYaxisAnnotation",value:function(e,t,n){var i,s=this.w,a=e.strokeDashArray,o=this.helpers.getY1Y2("y1",e),l=o.yP,c=o.clipped,u=!0,d=!1,f=e.label.text;if(e.y2===null||e.y2===void 0){if(!c){d=!0;var m=this.annoCtx.graphics.drawLine(0+e.offsetX,l+e.offsetY,this._getYAxisAnnotationWidth(e),l+e.offsetY,e.borderColor,a,e.borderWidth);t.appendChild(m.node),e.id&&m.node.classList.add(e.id)}}else{if(i=(o=this.helpers.getY1Y2("y2",e)).yP,u=o.clipped,i>l){var v=l;l=i,i=v}if(!c||!u){d=!0;var y=this.annoCtx.graphics.drawRect(0+e.offsetX,i+e.offsetY,this._getYAxisAnnotationWidth(e),l-i,0,e.fillColor,e.opacity,1,e.borderColor,a);y.node.classList.add("apexcharts-annotation-rect"),y.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),t.appendChild(y.node),e.id&&y.node.classList.add(e.id)}}if(d){var w=e.label.position==="right"?s.globals.gridWidth:e.label.position==="center"?s.globals.gridWidth/2:0,b=this.annoCtx.graphics.drawText({x:w+e.label.offsetX,y:(i??l)+e.label.offsetY-3,text:f,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});b.attr({rel:n}),t.appendChild(b.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach(function(i,s){i.yAxisIndex=e.axesUtils.translateYAxisIndex(i.yAxisIndex),e.axesUtils.isYAxisHidden(i.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(i.yAxisIndex)||e.addYaxisAnnotation(i,n.node,s)}),n}}]),r}(),aU=function(){function r(e){_t(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new Qv(this.annoCtx)}return Mt(r,[{key:"addPointAnnotation",value:function(e,t,n){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var i=this.helpers.getX1X2("x1",e),s=i.x,a=i.clipped,o=(i=this.helpers.getY1Y2("y1",e)).yP,l=i.clipped;if(xe.isNumber(s)&&!l&&!a){var c={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},u=this.annoCtx.graphics.drawMarker(s+e.marker.offsetX,o+e.marker.offsetY,c);t.appendChild(u.node);var d=e.label.text?e.label.text:"",f=this.annoCtx.graphics.drawText({x:s+e.label.offsetX,y:o+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:d,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(f.attr({rel:n}),t.appendChild(f.node),e.customSVG.SVG){var m=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});m.attr({transform:"translate(".concat(s+e.customSVG.offsetX,", ").concat(o+e.customSVG.offsetY,")")}),m.node.innerHTML=e.customSVG.SVG,t.appendChild(m.node)}if(e.image.path){var v=e.image.width?e.image.width:20,y=e.image.height?e.image.height:20;u=this.annoCtx.addImage({x:s+e.image.offsetX-v/2,y:o+e.image.offsetY-y/2,width:v,height:y,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&u.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&u.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&u.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(i,s){e.addPointAnnotation(i,n.node,s)}),n}}]),r}(),AI={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},th=function(){function r(){_t(this,r),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return Mt(r,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[AI],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,n){return t+n},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,n){return t+n},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),r}(),oU=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w,this.graphics=new Ye(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Qv(this),this.xAxisAnnotations=new rU(this),this.yAxisAnnotations=new sU(this),this.pointsAnnotations=new aU(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return Mt(r,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),n=this.xAxisAnnotations.drawXAxisAnnotations(),i=this.pointsAnnotations.drawPointAnnotations(),s=e.config.chart.animations.enabled,a=[t,n,i],o=[n.node,t.node,i.node],l=0;l<3;l++)e.globals.dom.elGraphical.add(a[l]),!s||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&o[l].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:o[l],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,n){e.addImage(t,n)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,n){e.addText(t,n)})}},{key:"addXaxisAnnotation",value:function(e,t,n){this.xAxisAnnotations.addXaxisAnnotation(e,t,n)}},{key:"addYaxisAnnotation",value:function(e,t,n){this.yAxisAnnotations.addYaxisAnnotation(e,t,n)}},{key:"addPointAnnotation",value:function(e,t,n){this.pointsAnnotations.addPointAnnotation(e,t,n)}},{key:"addText",value:function(e,t){var n=e.x,i=e.y,s=e.text,a=e.textAnchor,o=e.foreColor,l=e.fontSize,c=e.fontFamily,u=e.fontWeight,d=e.cssClass,f=e.backgroundColor,m=e.borderWidth,v=e.strokeDashArray,y=e.borderRadius,w=e.borderColor,b=e.appendTo,S=b===void 0?".apexcharts-svg":b,M=e.paddingLeft,E=M===void 0?4:M,T=e.paddingRight,R=T===void 0?4:T,P=e.paddingBottom,k=P===void 0?2:P,B=e.paddingTop,D=B===void 0?2:B,O=this.w,V=this.graphics.drawText({x:n,y:i,text:s,textAnchor:a||"start",fontSize:l||"12px",fontWeight:u||"regular",fontFamily:c||O.config.chart.fontFamily,foreColor:o||O.config.chart.foreColor,cssClass:d}),X=O.globals.dom.baseEl.querySelector(S);X&&X.appendChild(V.node);var K=V.bbox();if(s){var ie=this.graphics.drawRect(K.x-E,K.y-D,K.width+E+R,K.height+k+D,y,f||"transparent",1,m,w,v);X.insertBefore(ie.node,V.node)}}},{key:"addImage",value:function(e,t){var n=this.w,i=e.path,s=e.x,a=s===void 0?0:s,o=e.y,l=o===void 0?0:o,c=e.width,u=c===void 0?20:c,d=e.height,f=d===void 0?20:d,m=e.appendTo,v=m===void 0?".apexcharts-svg":m,y=n.globals.dom.Paper.image(i);y.size(u,f).move(a,l);var w=n.globals.dom.baseEl.querySelector(v);return w&&w.appendChild(y.node),y}},{key:"addXaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addPointAnnotationExternal",value:function(e,t,n){return this.invertAxis===void 0&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addAnnotationExternal",value:function(e){var t=e.params,n=e.pushToMemory,i=e.context,s=e.type,a=e.contextMethod,o=i,l=o.w,c=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations")),u=c.childNodes.length+1,d=new th,f=Object.assign({},s==="xaxis"?d.xAxisAnnotation:s==="yaxis"?d.yAxisAnnotation:d.pointAnnotation),m=xe.extend(f,t);switch(s){case"xaxis":this.addXaxisAnnotation(m,c,u);break;case"yaxis":this.addYaxisAnnotation(m,c,u);break;case"point":this.addPointAnnotation(m,c,u)}var v=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations .apexcharts-").concat(s,"-annotation-label[rel='").concat(u,"']")),y=this.helpers.addBackgroundToAnno(v,m);return y&&c.insertBefore(y.node,v),n&&l.globals.memory.methodsToExec.push({context:o,id:m.id?m.id:xe.randomId(),method:a,label:"addAnnotation",params:t}),i}},{key:"clearAnnotations",value:function(e){for(var t=e.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),i=t.globals.memory.methodsToExec.length-1;i>=0;i--)t.globals.memory.methodsToExec[i].label!=="addText"&&t.globals.memory.methodsToExec[i].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(i,1);n=xe.listToArray(n),Array.prototype.forEach.call(n,function(s){for(;s.firstChild;)s.removeChild(s.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var n=e.w,i=n.globals.dom.baseEl.querySelectorAll(".".concat(t));i&&(n.globals.memory.methodsToExec.map(function(s,a){s.id===t&&n.globals.memory.methodsToExec.splice(a,1)}),Array.prototype.forEach.call(i,function(s){s.parentElement.removeChild(s)}))}}]),r}(),Wb=function(r){var e,t=r.isTimeline,n=r.ctx,i=r.seriesIndex,s=r.dataPointIndex,a=r.y1,o=r.y2,l=r.w,c=l.globals.seriesRangeStart[i][s],u=l.globals.seriesRangeEnd[i][s],d=l.globals.labels[s],f=l.config.series[i].name?l.config.series[i].name:"",m=l.globals.ttKeyFormatter,v=l.config.tooltip.y.title.formatter,y={w:l,seriesIndex:i,dataPointIndex:s,start:c,end:u};typeof v=="function"&&(f=v(f,y)),(e=l.config.series[i].data[s])!==null&&e!==void 0&&e.x&&(d=l.config.series[i].data[s].x),t||l.config.xaxis.type==="datetime"&&(d=new xg(n).xLabelFormat(l.globals.ttKeyFormatter,d,d,{i:void 0,dateFormatter:new Fr(n).formatDate,w:l})),typeof m=="function"&&(d=m(d,y)),Number.isFinite(a)&&Number.isFinite(o)&&(c=a,u=o);var w="",b="",S=l.globals.colors[i];if(l.config.tooltip.x.formatter===void 0)if(l.config.xaxis.type==="datetime"){var M=new Fr(n);w=M.formatDate(M.getDate(c),l.config.tooltip.x.format),b=M.formatDate(M.getDate(u),l.config.tooltip.x.format)}else w=c,b=u;else w=l.config.tooltip.x.formatter(c),b=l.config.tooltip.x.formatter(u);return{start:c,end:u,startVal:w,endVal:b,ylabel:d,color:S,seriesName:f}},Xb=function(r){var e=r.color,t=r.seriesName,n=r.ylabel,i=r.start,s=r.end,a=r.seriesIndex,o=r.dataPointIndex,l=r.ctx.tooltip.tooltipLabels.getFormatters(a);i=l.yLbFormatter(i),s=l.yLbFormatter(s);var c=l.yLbFormatter(r.w.globals.series[a][o]),u=`<span class="value start-value">
  `.concat(i,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(s,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+n+": </span> "+(r.w.globals.comboCharts?r.w.config.series[a].type==="rangeArea"||r.w.config.series[a].type==="rangeBar"?u:"<span>".concat(c,"</span>"):u)+" </div></div>"},Wm=function(){function r(e){_t(this,r),this.opts=e}return Mt(r,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),xe.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var n=t.w.config.series[t.seriesIndex].name;return e!==null?n+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),lt(lt({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,i=t.dataPointIndex,s=t.w;return e._getBoxTooltip(s,n,i,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,i=t.dataPointIndex,s=t.w;return e._getBoxTooltip(s,n,i,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var n=t.seriesIndex,i=t.dataPointIndex,s=t.w,a=function(){var o=s.globals.seriesRangeStart[n][i];return s.globals.seriesRangeEnd[n][i]-o};return s.globals.comboCharts?s.config.series[n].type==="rangeBar"||s.config.series[n].type==="rangeArea"?a():e:a()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(t){var n=Wb(lt(lt({},t),{},{isTimeline:!0})),i=n.color,s=n.seriesName,a=n.ylabel,o=n.startVal,l=n.endVal;return Xb(lt(lt({},t),{},{color:i,seriesName:s,ylabel:a,start:o,end:l}))}(e):function(t){var n=Wb(t),i=n.color,s=n.seriesName,a=n.ylabel,o=n.start,l=n.end;return Xb(lt(lt({},t),{},{color:i,seriesName:s,ylabel:a,start:o,end:l}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,n;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(n=e.plotOptions.bar)!==null&&n!==void 0&&n.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(t){var n=Wb(t),i=n.color,s=n.seriesName,a=n.ylabel,o=n.start,l=n.end;return Xb(lt(lt({},t),{},{color:i,seriesName:s,ylabel:a,start:o,end:l}))}(e)}}}}},{key:"brush",value:function(e){return xe.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(n,i){e.yaxis[i].min=0,e.yaxis[i].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(n){return typeof n=="number"&&n?n.toFixed(0)+"%":n}),e}},{key:"stackedBars",value:function(){var e=this.bar();return lt(lt({},e),{},{plotOptions:lt(lt({},e.plotOptions),{},{bar:lt(lt({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,n){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(a){return xe.isNumber(a)?Math.floor(a):a};var i=e.xaxis.labels.formatter,s=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return n&&n.length&&(s=n.map(function(a){return Array.isArray(a)?a:String(a)})),s&&s.length&&(e.xaxis.labels.formatter=function(a){return xe.isNumber(a)?i(s[Math.floor(a)-1]):i(a)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,n,i,s){var a=e.globals.seriesCandleO[t][n],o=e.globals.seriesCandleH[t][n],l=e.globals.seriesCandleM[t][n],c=e.globals.seriesCandleL[t][n],u=e.globals.seriesCandleC[t][n];return e.config.series[t].type&&e.config.series[t].type!==s?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][n],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(i[0],': <span class="value">')+a+"</span></div>"+"<div>".concat(i[1],': <span class="value">')+o+"</span></div>"+(l?"<div>".concat(i[2],': <span class="value">')+l+"</span></div>":"")+"<div>".concat(i[3],': <span class="value">')+c+"</span></div>"+"<div>".concat(i[4],': <span class="value">')+u+"</span></div></div>"}}]),r}(),Xm=function(){function r(e){_t(this,r),this.opts=e}return Mt(r,[{key:"init",value:function(e){var t=e.responsiveOverride,n=this.opts,i=new th,s=new Wm(n);this.chartType=n.chart.type,n=this.extendYAxis(n),n=this.extendAnnotations(n);var a=i.init(),o={};if(n&&Cf(n)==="object"){var l,c,u,d,f,m,v,y,w,b,S={};S=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(n.chart.type)!==-1?s[n.chart.type]():s.line(),(l=n.plotOptions)!==null&&l!==void 0&&(c=l.bar)!==null&&c!==void 0&&c.isFunnel&&(S=s.funnel()),n.chart.stacked&&n.chart.type==="bar"&&(S=s.stackedBars()),(u=n.chart.brush)!==null&&u!==void 0&&u.enabled&&(S=s.brush(S)),(d=n.plotOptions)!==null&&d!==void 0&&(f=d.line)!==null&&f!==void 0&&f.isSlopeChart&&(S=s.slope()),n.chart.stacked&&n.chart.stackType==="100%"&&(n=s.stacked100(n)),(m=n.plotOptions)!==null&&m!==void 0&&(v=m.bar)!==null&&v!==void 0&&v.isDumbbell&&(n=s.dumbbell(n)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(n),n.xaxis=n.xaxis||window.Apex.xaxis||{},t||(n.xaxis.convertedCatToNumeric=!1),((y=(n=this.checkForCatToNumericXAxis(this.chartType,S,n)).chart.sparkline)!==null&&y!==void 0&&y.enabled||(w=window.Apex.chart)!==null&&w!==void 0&&(b=w.sparkline)!==null&&b!==void 0&&b.enabled)&&(S=s.sparkline(S)),o=xe.extend(a,S)}var M=xe.extend(o,window.Apex);return a=xe.extend(M,n),a=this.handleUserInputErrors(a)}},{key:"checkForCatToNumericXAxis",value:function(e,t,n){var i,s,a=new Wm(n),o=(e==="bar"||e==="boxPlot")&&((i=n.plotOptions)===null||i===void 0||(s=i.bar)===null||s===void 0?void 0:s.horizontal),l=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",c=n.xaxis.type!=="datetime"&&n.xaxis.type!=="numeric",u=n.xaxis.tickPlacement?n.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return o||l||!c||u==="between"||(n=a.convertCatToNumeric(n)),n}},{key:"extendYAxis",value:function(e,t){var n=new th;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=xe.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[xe.extend(n.yAxis,e.yaxis)]:e.yaxis=xe.extendArray(e.yaxis,n.yAxis);var i=!1;e.yaxis.forEach(function(a){a.logarithmic&&(i=!0)});var s=e.series;return t&&!s&&(s=t.config.series),i&&s.length!==e.yaxis.length&&s.length&&(e.yaxis=s.map(function(a,o){if(a.name||(s[o].name="series-".concat(o+1)),e.yaxis[o])return e.yaxis[o].seriesName=s[o].name,e.yaxis[o];var l=xe.extend(n.yAxis,e.yaxis[0]);return l.show=!1,l})),i&&s.length>1&&s.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new th;return e.annotations.yaxis=xe.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new th;return e.annotations.xaxis=xe.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new th;return e.annotations.points=xe.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),r}(),SI=function(){function r(){_t(this,r)}return Mt(r,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=xe.extend({},e),t.initialSeries=xe.clone(e.series),t.lastXAxis=xe.clone(t.initialConfig.xaxis),t.lastYAxis=xe.clone(t.initialConfig.yaxis),t}}]),r}(),lU=function(){function r(e){_t(this,r),this.opts=e}return Mt(r,[{key:"init",value:function(){var e=new Xm(this.opts).init({responsiveOverride:!1});return{config:e,globals:new SI().init(e)}}}]),r}(),lo=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return Mt(r,[{key:"clippedImgArea",value:function(e){var t=this.w,n=t.config,i=parseInt(t.globals.gridWidth,10),s=parseInt(t.globals.gridHeight,10),a=i>s?i:s,o=e.image,l=0,c=0;e.width===void 0&&e.height===void 0?n.fill.image.width!==void 0&&n.fill.image.height!==void 0?(l=n.fill.image.width+1,c=n.fill.image.height):(l=a+1,c=a):(l=e.width,c=e.height);var u=document.createElementNS(t.globals.SVGNS,"pattern");Ye.setAttrs(u,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:l+"px",height:c+"px"});var d=document.createElementNS(t.globals.SVGNS,"image");u.appendChild(d),d.setAttributeNS(window.SVG.xlink,"href",o),Ye.setAttrs(d,{x:0,y:0,preserveAspectRatio:"none",width:l+"px",height:c+"px"}),d.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(u)}},{key:"getSeriesIndex",value:function(e){var t=this.w,n=t.config.chart.type;return(n==="bar"||n==="rangeBar")&&t.config.plotOptions.bar.distributed||n==="heatmap"||n==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var n,i=this.w,s=null,a=null,o=gm(e);try{for(o.s();!(n=o.n()).done;){var l=n.value;l>=t.threshold?(s===null||l>s)&&(s=l):(a===null||l<a)&&(a=l)}}catch(d){o.e(d)}finally{o.f()}s===null&&(s=t.threshold),a===null&&(a=t.threshold);var c=s-t.threshold+(t.threshold-a);c===0&&(c=1);var u=100-(t.threshold-a)/c*100;return[{offset:u=Math.max(0,Math.min(u,100)),color:t.colorAboveThreshold,opacity:i.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:i.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,n,i,s=this.w;this.opts=e;var a,o,l,c=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var u=c.plotOptions.line.colors.colorAboveThreshold&&c.plotOptions.line.colors.colorBelowThreshold,d=this.getFillColors()[this.seriesIndex];s.globals.seriesColors[this.seriesIndex]!==void 0&&(d=s.globals.seriesColors[this.seriesIndex]),typeof d=="function"&&(d=d({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:s}));var f,m,v,y=e.fillType?e.fillType:this.getFillType(this.seriesIndex),w=Array.isArray(c.fill.opacity)?c.fill.opacity[this.seriesIndex]:c.fill.opacity,b=y==="gradient"||u;e.color&&(d=e.color),(t=s.config.series[this.seriesIndex])!==null&&t!==void 0&&(n=t.data)!==null&&n!==void 0&&(i=n[e.dataPointIndex])!==null&&i!==void 0&&i.fillColor&&(d=(f=s.config.series[this.seriesIndex])===null||f===void 0||(m=f.data)===null||m===void 0||(v=m[e.dataPointIndex])===null||v===void 0?void 0:v.fillColor),d||(d="#fff",console.warn("undefined color - ApexCharts"));var S=d;if(d.indexOf("rgb")===-1?d.indexOf("#")===-1?S=d:d.length<9&&(S=xe.hexToRgba(d,w)):d.indexOf("rgba")>-1?w=xe.getOpacityFromRGBA(d):S=xe.hexToRgba(xe.rgb2hex(d),w),e.opacity&&(w=e.opacity),y==="pattern"&&(o=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:o,fillColor:d,fillOpacity:w,defaultColor:S})),b){var M=hr(c.fill.gradient.colorStops)||[],E=c.fill.gradient.type;u&&(M[this.seriesIndex]=this.computeColorStops(s.globals.series[this.seriesIndex],c.plotOptions.line.colors),E="vertical"),l=this.handleGradientFill({type:E,fillConfig:e.fillConfig,fillColor:d,fillOpacity:w,colorStops:M,i:this.seriesIndex})}if(y==="image"){var T=c.fill.image.src,R=e.patternID?e.patternID:"",P="pattern".concat(s.globals.cuid).concat(e.seriesNumber+1).concat(R);this.patternIDs.indexOf(P)===-1&&(this.clippedImgArea({opacity:w,image:Array.isArray(T)?e.seriesNumber<T.length?T[e.seriesNumber]:T[0]:T,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:P}),this.patternIDs.push(P)),a="url(#".concat(P,")")}else a=b?l:y==="pattern"?o:S;return e.solid&&(a=S),a}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,n=this.opts,i=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors),n.fillColors!==void 0&&(i=[],Array.isArray(n.fillColors)?i=n.fillColors.slice():i.push(n.fillColors)),i}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,n=e.patternFill,i=e.fillColor,s=e.fillOpacity,a=e.defaultColor,o=this.w.config.fill;t&&(o=t);var l=this.opts,c=new Ye(this.ctx),u=Array.isArray(o.pattern.strokeWidth)?o.pattern.strokeWidth[this.seriesIndex]:o.pattern.strokeWidth,d=i;return Array.isArray(o.pattern.style)?n=o.pattern.style[l.seriesNumber]!==void 0?c.drawPattern(o.pattern.style[l.seriesNumber],o.pattern.width,o.pattern.height,d,u,s):a:n=c.drawPattern(o.pattern.style,o.pattern.width,o.pattern.height,d,u,s),n}},{key:"handleGradientFill",value:function(e){var t=e.type,n=e.fillColor,i=e.fillOpacity,s=e.fillConfig,a=e.colorStops,o=e.i,l=this.w.config.fill;s&&(l=lt(lt({},l),s));var c=this.opts,u=new Ye(this.ctx),d=new xe;t=t||l.gradient.type;var f,m=n,v=l.gradient.opacityFrom===void 0?i:Array.isArray(l.gradient.opacityFrom)?l.gradient.opacityFrom[o]:l.gradient.opacityFrom;m.indexOf("rgba")>-1&&(v=xe.getOpacityFromRGBA(m));var y=l.gradient.opacityTo===void 0?i:Array.isArray(l.gradient.opacityTo)?l.gradient.opacityTo[o]:l.gradient.opacityTo;if(l.gradient.gradientToColors===void 0||l.gradient.gradientToColors.length===0)f=l.gradient.shade==="dark"?d.shadeColor(-1*parseFloat(l.gradient.shadeIntensity),n.indexOf("rgb")>-1?xe.rgb2hex(n):n):d.shadeColor(parseFloat(l.gradient.shadeIntensity),n.indexOf("rgb")>-1?xe.rgb2hex(n):n);else if(l.gradient.gradientToColors[c.seriesNumber]){var w=l.gradient.gradientToColors[c.seriesNumber];f=w,w.indexOf("rgba")>-1&&(y=xe.getOpacityFromRGBA(w))}else f=n;if(l.gradient.gradientFrom&&(m=l.gradient.gradientFrom),l.gradient.gradientTo&&(f=l.gradient.gradientTo),l.gradient.inverseColors){var b=m;m=f,f=b}return m.indexOf("rgb")>-1&&(m=xe.rgb2hex(m)),f.indexOf("rgb")>-1&&(f=xe.rgb2hex(f)),u.drawGradient(t,m,f,v,y,c.size,l.gradient.stops,a,o)}}]),r}(),Wf=function(){function r(e,t){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(n){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,n=e.seriesIndex,i=e.j,s=e.pSize,a=e.alwaysDrawMarker,o=a!==void 0&&a,l=e.isVirtualPoint,c=l!==void 0&&l,u=this.w,d=n,f=t,m=null,v=new Ye(this.ctx),y=u.config.markers.discrete&&u.config.markers.discrete.length;if(Array.isArray(f.x))for(var w=0;w<f.x.length;w++){var b=void 0,S=i,M=!xe.isNumber(f.y[w]);u.globals.markers.largestSize===0&&u.globals.hasNullValues&&u.globals.series[d][i+1]!==null&&!c&&(M=!0),i===1&&w===0&&(S=0),i===1&&w===1&&(S=1);var E="apexcharts-marker";if(u.config.chart.type!=="line"&&u.config.chart.type!=="area"||u.globals.comboCharts||u.config.tooltip.intersect||(E+=" no-pointer-events"),(Array.isArray(u.config.markers.size)?u.globals.markers.size[n]>0:u.config.markers.size>0)||o||y){M||(E+=" w".concat(xe.randomId()));var T=this.getMarkerConfig({cssClass:E,seriesIndex:n,dataPointIndex:S});u.config.series[d].data[S]&&(u.config.series[d].data[S].fillColor&&(T.pointFillColor=u.config.series[d].data[S].fillColor),u.config.series[d].data[S].strokeColor&&(T.pointStrokeColor=u.config.series[d].data[S].strokeColor)),s!==void 0&&(T.pSize=s),(f.x[w]<-u.globals.markers.largestSize||f.x[w]>u.globals.gridWidth+u.globals.markers.largestSize||f.y[w]<-u.globals.markers.largestSize||f.y[w]>u.globals.gridHeight+u.globals.markers.largestSize)&&(T.pSize=0),!M&&((u.globals.markers.size[n]>0||o||y)&&!m&&(m=v.group({class:o||y?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(u.globals.cuid,")")),(b=v.drawMarker(f.x[w],f.y[w],T)).attr("rel",S),b.attr("j",S),b.attr("index",n),b.node.setAttribute("default-marker-size",T.pSize),new Nr(this.ctx).setSelectionFilter(b,n,S),this.addEvents(b),m&&m.add(b))}else u.globals.pointsArray[n]===void 0&&(u.globals.pointsArray[n]=[]),u.globals.pointsArray[n].push([f.x[w],f.y[w]])}return m}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,n=e.seriesIndex,i=e.dataPointIndex,s=i===void 0?null:i,a=e.radius,o=a===void 0?null:a,l=e.size,c=l===void 0?null:l,u=e.strokeWidth,d=u===void 0?null:u,f=this.w,m=this.getMarkerStyle(n),v=c===null?f.globals.markers.size[n]:c,y=f.config.markers;return s!==null&&y.discrete.length&&y.discrete.map(function(w){w.seriesIndex===n&&w.dataPointIndex===s&&(m.pointStrokeColor=w.strokeColor,m.pointFillColor=w.fillColor,v=w.size,m.pointShape=w.shape)}),{pSize:o===null?v:o,pRadius:o!==null?o:y.radius,pointStrokeWidth:d!==null?d:Array.isArray(y.strokeWidth)?y.strokeWidth[n]:y.strokeWidth,pointStrokeColor:m.pointStrokeColor,pointFillColor:m.pointFillColor,shape:m.pointShape||(Array.isArray(y.shape)?y.shape[n]:y.shape),class:t,pointStrokeOpacity:Array.isArray(y.strokeOpacity)?y.strokeOpacity[n]:y.strokeOpacity,pointStrokeDashArray:Array.isArray(y.strokeDashArray)?y.strokeDashArray[n]:y.strokeDashArray,pointFillOpacity:Array.isArray(y.fillOpacity)?y.fillOpacity[n]:y.fillOpacity,seriesIndex:n}}},{key:"addEvents",value:function(e){var t=this.w,n=new Ye(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,n=t.globals.markers.colors,i=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(i)?i[e]:i,pointFillColor:Array.isArray(n)?n[e]:n}}}]),r}(),_I=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return Mt(r,[{key:"draw",value:function(e,t,n){var i=this.w,s=new Ye(this.ctx),a=n.realIndex,o=n.pointsPos,l=n.zRatio,c=n.elParent,u=s.group({class:"apexcharts-series-markers apexcharts-series-".concat(i.config.chart.type)});if(u.attr("clip-path","url(#gridRectMarkerMask".concat(i.globals.cuid,")")),Array.isArray(o.x))for(var d=0;d<o.x.length;d++){var f=t+1,m=!0;t===0&&d===0&&(f=0),t===0&&d===1&&(f=1);var v=i.globals.markers.size[a];if(l!==1/0){var y=i.config.plotOptions.bubble;v=i.globals.seriesZ[a][f],y.zScaling&&(v/=l),y.minBubbleRadius&&v<y.minBubbleRadius&&(v=y.minBubbleRadius),y.maxBubbleRadius&&v>y.maxBubbleRadius&&(v=y.maxBubbleRadius)}var w=o.x[d],b=o.y[d];if(v=v||0,b!==null&&i.globals.series[a][f]!==void 0||(m=!1),m){var S=this.drawPoint(w,b,v,a,f,t);u.add(S)}c.add(u)}}},{key:"drawPoint",value:function(e,t,n,i,s,a){var o=this.w,l=i,c=new zf(this.ctx),u=new Nr(this.ctx),d=new lo(this.ctx),f=new Wf(this.ctx),m=new Ye(this.ctx),v=f.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:s,radius:o.config.chart.type==="bubble"||o.globals.comboCharts&&o.config.series[i]&&o.config.series[i].type==="bubble"?n:null}),y=d.fillPath({seriesNumber:i,dataPointIndex:s,color:v.pointFillColor,patternUnits:"objectBoundingBox",value:o.globals.series[i][a]}),w=m.drawMarker(e,t,v);if(o.config.series[l].data[s]&&o.config.series[l].data[s].fillColor&&(y=o.config.series[l].data[s].fillColor),w.attr({fill:y}),o.config.chart.dropShadow.enabled){var b=o.config.chart.dropShadow;u.dropShadow(w,b,i)}if(!this.initialAnim||o.globals.dataChanged||o.globals.resized)o.globals.animationEnded=!0;else{var S=o.config.chart.animations.speed;c.animateMarker(w,S,o.globals.easing,function(){window.setTimeout(function(){c.animationCompleted(w)},100)})}return w.attr({rel:s,j:s,index:i,"default-marker-size":v.pSize}),u.setSelectionFilter(w,i,s),f.addEvents(w),w.node.classList.add("apexcharts-marker"),w}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),r}(),Ef=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"dataLabelsCorrection",value:function(e,t,n,i,s,a,o){var l=this.w,c=!1,u=new Ye(this.ctx).getTextRects(n,o),d=u.width,f=u.height;t<0&&(t=0),t>l.globals.gridHeight+f&&(t=l.globals.gridHeight+f/2),l.globals.dataLabelsRects[i]===void 0&&(l.globals.dataLabelsRects[i]=[]),l.globals.dataLabelsRects[i].push({x:e,y:t,width:d,height:f});var m=l.globals.dataLabelsRects[i].length-2,v=l.globals.lastDrawnDataLabelsIndexes[i]!==void 0?l.globals.lastDrawnDataLabelsIndexes[i][l.globals.lastDrawnDataLabelsIndexes[i].length-1]:0;if(l.globals.dataLabelsRects[i][m]!==void 0){var y=l.globals.dataLabelsRects[i][v];(e>y.x+y.width||t>y.y+y.height||t+f<y.y||e+d<y.x)&&(c=!0)}return(s===0||a)&&(c=!0),{x:e,y:t,textRects:u,drawnextLabel:c}}},{key:"drawDataLabel",value:function(e){var t=this,n=e.type,i=e.pos,s=e.i,a=e.j,o=e.isRangeStart,l=e.strokeWidth,c=l===void 0?2:l,u=this.w,d=new Ye(this.ctx),f=u.config.dataLabels,m=0,v=0,y=a,w=null;if(u.globals.collapsedSeriesIndices.indexOf(s)!==-1||!f.enabled||!Array.isArray(i.x))return w;w=d.group({class:"apexcharts-data-labels"});for(var b=0;b<i.x.length;b++)if(m=i.x[b]+f.offsetX,v=i.y[b]+f.offsetY+c,!isNaN(m)){a===1&&b===0&&(y=0),a===1&&b===1&&(y=1);var S=u.globals.series[s][y];n==="rangeArea"&&(S=o?u.globals.seriesRangeStart[s][y]:u.globals.seriesRangeEnd[s][y]);var M="",E=function(R){return u.config.dataLabels.formatter(R,{ctx:t.ctx,seriesIndex:s,dataPointIndex:y,w:u})};u.config.chart.type==="bubble"?(M=E(S=u.globals.seriesZ[s][y]),v=i.y[b],v=new _I(this.ctx).centerTextInBubble(v,s,y).y):S!==void 0&&(M=E(S));var T=u.config.dataLabels.textAnchor;u.globals.isSlopeChart&&(T=y===0?"end":y===u.config.series[s].data.length-1?"start":"middle"),this.plotDataLabelsText({x:m,y:v,text:M,i:s,j:y,parent:w,offsetCorrection:!0,dataLabelsConfig:u.config.dataLabels,textAnchor:T})}return w}},{key:"plotDataLabelsText",value:function(e){var t=this.w,n=new Ye(this.ctx),i=e.x,s=e.y,a=e.i,o=e.j,l=e.text,c=e.textAnchor,u=e.fontSize,d=e.parent,f=e.dataLabelsConfig,m=e.color,v=e.alwaysDrawDataLabel,y=e.offsetCorrection,w=e.className,b=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(a)<0)return b;var S={x:i,y:s,drawnextLabel:!0,textRects:null};y&&(S=this.dataLabelsCorrection(i,s,l,a,o,v,parseInt(f.style.fontSize,10))),t.globals.zoomed||(i=S.x,s=S.y),S.textRects&&(i<-20-S.textRects.width||i>t.globals.gridWidth+S.textRects.width+30)&&(l="");var M=t.globals.dataLabels.style.colors[a];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(M=t.globals.dataLabels.style.colors[o]),typeof M=="function"&&(M=M({series:t.globals.series,seriesIndex:a,dataPointIndex:o,w:t})),m&&(M=m);var E=f.offsetX,T=f.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(E=0,T=0),t.globals.isSlopeChart&&(o!==0&&(E=-2*f.offsetX+5),o!==0&&o!==t.config.series[a].data.length-1&&(E=0)),S.drawnextLabel){if((b=n.drawText({width:100,height:parseInt(f.style.fontSize,10),x:i+E,y:s+T,foreColor:M,textAnchor:c||f.textAnchor,text:l,fontSize:u||f.style.fontSize,fontFamily:f.style.fontFamily,fontWeight:f.style.fontWeight||"normal"})).attr({class:w||"apexcharts-datalabel",cx:i,cy:s}),f.dropShadow.enabled){var R=f.dropShadow;new Nr(this.ctx).dropShadow(b,R)}d.add(b),t.globals.lastDrawnDataLabelsIndexes[a]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[a]=[]),t.globals.lastDrawnDataLabelsIndexes[a].push(o)}return b}},{key:"addBackgroundToDataLabel",value:function(e,t){var n=this.w,i=n.config.dataLabels.background,s=i.padding,a=i.padding/2,o=t.width,l=t.height,c=new Ye(this.ctx).drawRect(t.x-s,t.y-a/2,o+2*s,l+a,i.borderRadius,n.config.chart.background!=="transparent"&&n.config.chart.background?n.config.chart.background:"#fff",i.opacity,i.borderWidth,i.borderColor);return i.dropShadow.enabled&&new Nr(this.ctx).dropShadow(c,i.dropShadow),c}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),n=0;n<t.length;n++){var i=t[n],s=i.getBBox(),a=null;if(s.width&&s.height&&(a=this.addBackgroundToDataLabel(i,s)),a){i.parentNode.insertBefore(a.node,i);var o=i.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?a.animate().attr({fill:o}):a.attr({fill:o}),i.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),n=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),i=0;i<t.length;i++)n&&n.insertBefore(t[i],n.nextSibling)}}]),r}(),Ea=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return Mt(r,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(xe.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),n=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:n}}},{key:"addCollapsedClassToSeries",value:function(e,t){var n=this.w;function i(s){for(var a=0;a<s.length;a++)s[a].index===t&&e.node.classList.add("apexcharts-series-collapsed")}i(n.globals.collapsedSeries),i(n.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=this.w,s=xe.clone(i.globals.initialSeries);i.globals.previousPaths=[],n?(i.globals.collapsedSeries=[],i.globals.ancillaryCollapsedSeries=[],i.globals.collapsedSeriesIndices=[],i.globals.ancillaryCollapsedSeriesIndices=[]):s=this.emptyCollapsedSeries(s),i.config.series=s,e&&(t&&(i.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(s,i.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,n=0;n<e.length;n++)t.globals.collapsedSeriesIndices.indexOf(n)>-1&&(e[n].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,n=this.getSeriesByName(e),i=parseInt(n==null?void 0:n.getAttribute("data:realIndex"),10),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),a=null,o=null,l=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){a=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"']")),o=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(i,"']"));var c=t.globals.seriesYAxisReverseMap[i];l=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"']"))}else a=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"']"));else a=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"'] path"));for(var u=0;u<s.length;u++)s[u].classList.add(this.legendInactiveClass);if(a)t.globals.axisCharts||a.parentNode.classList.remove(this.legendInactiveClass),a.classList.remove(this.legendInactiveClass),o!==null&&o.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass);else for(var d=0;d<s.length;d++)s[d].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var n=this.w;t||(t=e.target);var i=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var s=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(n.globals.seriesNames[s])}else if(e.type==="mouseout")for(var a=0;a<i.length;a++)i[a].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var n=this,i=this.w,s=i.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),a=function(c){for(var u=0;u<s.length;u++)s[u].classList[c](n.legendInactiveClass)};if(e.type==="mousemove"){var o=parseInt(t.getAttribute("rel"),10)-1;a("add");var l=i.config.plotOptions.heatmap.colorScale.ranges;(function(c,u){for(var d=0;d<s.length;d++){var f=Number(s[d].getAttribute("val"));f>=c.from&&(f<c.to||c.to===u&&f===u)&&s[d].classList.remove(n.legendInactiveClass)}})(l[o],l.reduce(function(c,u){return Math.max(c,u.to)},0))}else e.type==="mouseout"&&a("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=this.w,i=0;if(n.config.series.length>1){for(var s=n.config.series.map(function(o,l){return o.data&&o.data.length>0&&n.globals.collapsedSeriesIndices.indexOf(l)===-1&&(!n.globals.comboCharts||t.length===0||t.length&&t.indexOf(n.config.series[l].type)>-1)?l:-1}),a=e==="asc"?0:s.length-1;e==="asc"?a<s.length:a>=0;e==="asc"?a++:a--)if(s[a]!==-1){i=s[a];break}}return i}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return e.type==="bar"||e.type==="column"?t:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(a,o,l){for(var c=a[o].childNodes,u={type:l,paths:[],realIndex:a[o].getAttribute("data:realIndex")},d=0;d<c.length;d++)if(c[d].hasAttribute("pathTo")){var f=c[d].getAttribute("pathTo");u.paths.push({d:f})}e.globals.previousPaths.push(u)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(a){for(var o,l=(o=a,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series"))),c=0;c<l.length;c++)t(l,c,a)});var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(n.length>0)for(var i=function(a){for(var o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(a,"'] rect")),l=[],c=function(d){var f=function(v){return o[d].getAttribute(v)},m={x:parseFloat(f("x")),y:parseFloat(f("y")),width:parseFloat(f("width")),height:parseFloat(f("height"))};l.push({rect:m,color:o[d].getAttribute("color")})},u=0;u<o.length;u++)c(u);e.globals.previousPaths.push(l)},s=0;s<n.length;s++)i(s);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,n=new Ye(this.ctx),i=e.globals.svgWidth/2,s=e.globals.svgHeight/2,a="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(i=10,a="start"):t.align==="right"&&(i=e.globals.svgWidth-10,a="end"),t.verticalAlign==="top"?s=50:t.verticalAlign==="bottom"&&(s=e.globals.svgHeight-50),i+=t.offsetX,s=s+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var o=n.drawText({x:i,y:s,text:t.text,textAnchor:a,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,n=0;n<e.length;n++)if(e[n].length===0)for(var i=0;i<e[t.globals.maxValsInArrayIndex].length;i++)e[n].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,n=this.filteredSeriesX(),i=0;i<n.length-1;i++)if(n[i][0]!==n[i+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(t){return t.length>0?t:[]});return e}}]),r}(),lS=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Fi(this.ctx)}return Mt(r,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new Ea(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new Ea(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var n=this.w.config,i=this.w.globals,s=n.chart.type==="boxPlot"||n.series[t].type==="boxPlot",a=0;a<e[t].data.length;a++)if(e[t].data[a][1]!==void 0&&(Array.isArray(e[t].data[a][1])&&e[t].data[a][1].length===4&&!s?this.twoDSeries.push(xe.parseNumber(e[t].data[a][1][3])):e[t].data[a].length>=5?this.twoDSeries.push(xe.parseNumber(e[t].data[a][4])):this.twoDSeries.push(xe.parseNumber(e[t].data[a][1])),i.dataFormatXNumeric=!0),n.xaxis.type==="datetime"){var o=new Date(e[t].data[a][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(e[t].data[a][0]);for(var l=0;l<e[t].data.length;l++)e[t].data[l][2]!==void 0&&(this.threeDSeries.push(e[t].data[l][2]),i.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var n=this.w.config,i=this.w.globals,s=new Fr(this.ctx),a=t;i.collapsedSeriesIndices.indexOf(t)>-1&&(a=this.activeSeriesIndex);for(var o=0;o<e[t].data.length;o++)e[t].data[o].y!==void 0&&(Array.isArray(e[t].data[o].y)?this.twoDSeries.push(xe.parseNumber(e[t].data[o].y[e[t].data[o].y.length-1])):this.twoDSeries.push(xe.parseNumber(e[t].data[o].y))),e[t].data[o].goals!==void 0&&Array.isArray(e[t].data[o].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[o].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var l=0;l<e[a].data.length;l++){var c=typeof e[a].data[l].x=="string",u=Array.isArray(e[a].data[l].x),d=!u&&!!s.isValidDate(e[a].data[l].x);if(c||d)if(c||n.xaxis.convertedCatToNumeric){var f=i.isBarHorizontal&&i.isRangeData;n.xaxis.type!=="datetime"||f?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[l].x),isNaN(e[a].data[l].x)||this.w.config.xaxis.type==="category"||typeof e[a].data[l].x=="string"||(i.isXNumeric=!0)):this.twoDSeriesX.push(s.parseDate(e[a].data[l].x))}else n.xaxis.type==="datetime"?this.twoDSeriesX.push(s.parseDate(e[a].data[l].x.toString())):(i.dataFormatXNumeric=!0,i.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[a].data[l].x)));else u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[l].x)):(i.isXNumeric=!0,i.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[a].data[l].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var m=0;m<e[t].data.length;m++)this.threeDSeries.push(e[t].data[m].z);i.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var n=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleRangeDataFormat("xy",e,t)),n.seriesRangeStart.push(i.start===void 0?[]:i.start),n.seriesRangeEnd.push(i.end===void 0?[]:i.end),n.seriesRange.push(i.rangeUniques),n.seriesRange.forEach(function(s,a){s&&s.forEach(function(o,l){o.y.forEach(function(c,u){for(var d=0;d<o.y.length;d++)if(u!==d){var f=c.y1,m=c.y2,v=o.y[d].y1;f<=o.y[d].y2&&v<=m&&(o.overlaps.indexOf(c.rangeName)<0&&o.overlaps.push(c.rangeName),o.overlaps.indexOf(o.y[d].rangeName)<0&&o.overlaps.push(o.y[d].rangeName))}})})}),i}},{key:"handleCandleStickBoxData",value:function(e,t){var n=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleCandleStickBoxDataFormat("xy",e,t)),n.seriesCandleO[t]=i.o,n.seriesCandleH[t]=i.h,n.seriesCandleM[t]=i.m,n.seriesCandleL[t]=i.l,n.seriesCandleC[t]=i.c,i}},{key:"handleRangeDataFormat",value:function(e,t,n){var i=[],s=[],a=t[n].data.filter(function(u,d,f){return d===f.findIndex(function(m){return m.x===u.x})}).map(function(u,d){return{x:u.x,overlaps:[],y:[]}});if(e==="array")for(var o=0;o<t[n].data.length;o++)Array.isArray(t[n].data[o])?(i.push(t[n].data[o][1][0]),s.push(t[n].data[o][1][1])):(i.push(t[n].data[o]),s.push(t[n].data[o]));else if(e==="xy")for(var l=function(u){var d=Array.isArray(t[n].data[u].y),f=xe.randomId(),m=t[n].data[u].x,v={y1:d?t[n].data[u].y[0]:t[n].data[u].y,y2:d?t[n].data[u].y[1]:t[n].data[u].y,rangeName:f};t[n].data[u].rangeName=f;var y=a.findIndex(function(w){return w.x===m});a[y].y.push(v),i.push(v.y1),s.push(v.y2)},c=0;c<t[n].data.length;c++)l(c);return{start:i,end:s,rangeUniques:a}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,n){var i=this.w,s=i.config.chart.type==="boxPlot"||i.config.series[n].type==="boxPlot",a=[],o=[],l=[],c=[],u=[];if(e==="array")if(s&&t[n].data[0].length===6||!s&&t[n].data[0].length===5)for(var d=0;d<t[n].data.length;d++)a.push(t[n].data[d][1]),o.push(t[n].data[d][2]),s?(l.push(t[n].data[d][3]),c.push(t[n].data[d][4]),u.push(t[n].data[d][5])):(c.push(t[n].data[d][3]),u.push(t[n].data[d][4]));else for(var f=0;f<t[n].data.length;f++)Array.isArray(t[n].data[f][1])&&(a.push(t[n].data[f][1][0]),o.push(t[n].data[f][1][1]),s?(l.push(t[n].data[f][1][2]),c.push(t[n].data[f][1][3]),u.push(t[n].data[f][1][4])):(c.push(t[n].data[f][1][2]),u.push(t[n].data[f][1][3])));else if(e==="xy")for(var m=0;m<t[n].data.length;m++)Array.isArray(t[n].data[m].y)&&(a.push(t[n].data[m].y[0]),o.push(t[n].data[m].y[1]),s?(l.push(t[n].data[m].y[2]),c.push(t[n].data[m].y[3]),u.push(t[n].data[m].y[4])):(c.push(t[n].data[m].y[2]),u.push(t[n].data[m].y[3])));return{o:a,h:o,m:l,l:c,c:u}}},{key:"parseDataAxisCharts",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,i=this.w.config,s=this.w.globals,a=new Fr(n),o=i.labels.length>0?i.labels.slice():i.xaxis.categories.slice();s.isRangeBar=i.chart.type==="rangeBar"&&s.isBarHorizontal,s.hasXaxisGroups=i.xaxis.type==="category"&&i.xaxis.group.groups.length>0,s.hasXaxisGroups&&(s.groups=i.xaxis.group.groups),e.forEach(function(m,v){m.name!==void 0?s.seriesNames.push(m.name):s.seriesNames.push("series-"+parseInt(v+1,10))}),this.coreUtils.setSeriesYAxisMappings();var l=[],c=hr(new Set(i.series.map(function(m){return m.group})));i.series.forEach(function(m,v){var y=c.indexOf(m.group);l[y]||(l[y]=[]),l[y].push(s.seriesNames[v])}),s.seriesGroups=l;for(var u=function(){for(var m=0;m<o.length;m++)if(typeof o[m]=="string"){if(!a.isValidDate(o[m]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(a.parseDate(o[m]))}else t.twoDSeriesX.push(o[m])},d=0;d<e.length;d++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[d].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(i.chart.type!=="rangeBar"&&i.chart.type!=="rangeArea"&&e[d].type!=="rangeBar"&&e[d].type!=="rangeArea"||(s.isRangeData=!0,i.chart.type!=="rangeBar"&&i.chart.type!=="rangeArea"||this.handleRangeData(e,d)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,d):this.isFormatXY()&&this.handleFormatXY(e,d),i.chart.type!=="candlestick"&&e[d].type!=="candlestick"&&i.chart.type!=="boxPlot"&&e[d].type!=="boxPlot"||this.handleCandleStickBoxData(e,d),s.series.push(this.twoDSeries),s.labels.push(this.twoDSeriesX),s.seriesX.push(this.twoDSeriesX),s.seriesGoals=this.seriesGoals,d!==this.activeSeriesIndex||this.fallbackToCategory||(s.isXNumeric=!0);else{i.xaxis.type==="datetime"?(s.isXNumeric=!0,u(),s.seriesX.push(this.twoDSeriesX)):i.xaxis.type==="numeric"&&(s.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,s.seriesX.push(this.twoDSeriesX))),s.labels.push(this.twoDSeriesX);var f=e[d].data.map(function(m){return xe.parseNumber(m)});s.series.push(f)}s.seriesZ.push(this.threeDSeries),e[d].color!==void 0?s.seriesColors.push(e[d].color):s.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,n=this.w.config;t.series=e.slice(),t.seriesNames=n.labels.slice();for(var i=0;i<t.series.length;i++)t.seriesNames[i]===void 0&&t.seriesNames.push("series-"+(i+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,n=this.w.globals;t.xaxis.categories.length>0?n.labels=t.xaxis.categories:t.labels.length>0?n.labels=t.labels.slice():this.fallbackToCategory?(n.labels=n.labels[0],n.seriesRange.length&&(n.seriesRange.map(function(i){i.forEach(function(s){n.labels.indexOf(s.x)<0&&s.x&&n.labels.push(s.x)})}),n.labels=Array.from(new Set(n.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new Wm(t).convertCatToNumericXaxis(t,this.ctx,n.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,n=this.w.config,i=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var s=n.series.map(function(d,f){return d.data.filter(function(m,v,y){return y.findIndex(function(w){return w.x===m.x})===v})}),a=s.reduce(function(d,f,m,v){return v[d].length>f.length?d:m},0),o=0;o<s[a].length;o++)i.push(o+1);else for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++)i.push(l+1);t.seriesX=[];for(var c=0;c<e.length;c++)t.seriesX.push(i);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(i.length===0){i=t.axisCharts?[]:t.series.map(function(d,f){return f+1});for(var u=0;u<e.length;u++)t.seriesX.push(i)}t.labels=i,n.xaxis.convertedCatToNumeric&&(t.categoryLabels=i.map(function(d){return n.xaxis.labels.formatter(d)})),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,n=t.config,i=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),i.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),n.chart.stacked){var s=new Ea(this.ctx);i.series=s.setNullSeriesToZeroValues(i.series)}this.coreUtils.getSeriesTotals(),i.axisCharts&&(i.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),i.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),i.dataFormatXNumeric||i.isXNumeric&&(n.xaxis.type!=="numeric"||n.labels.length!==0||n.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var a=this.coreUtils.getCategoryLabels(i.labels),o=0;o<a.length;o++)if(Array.isArray(a[o])){i.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach(function(n,i){var s=0;n.forEach(function(a){e.globals.collapsedSeriesIndices.indexOf(a)!==-1&&s++}),s>0&&s==n.length&&t.push(i)}),e.globals.ignoreYAxisIndexes=t.map(function(n){return n})}}]),r}(),iv=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"scaleSvgNode",value:function(e,t){var n=parseFloat(e.getAttributeNS(null,"width")),i=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",n*t),e.setAttributeNS(null,"height",i*t),e.setAttributeNS(null,"viewBox","0 0 "+n+" "+i)}},{key:"getSvgString",value:function(e){var t=this;return new Promise(function(n){var i=t.w,s=e||i.config.chart.toolbar.export.scale||i.config.chart.toolbar.export.width/i.globals.svgWidth;s||(s=1);var a=t.w.globals.dom.Paper.svg(),o=t.w.globals.dom.Paper.node.cloneNode(!0);s!==1&&t.scaleSvgNode(o,s),t.convertImagesToBase64(o).then(function(){a=new XMLSerializer().serializeToString(o),n(a.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var t=this,n=e.getElementsByTagName("image"),i=Array.from(n).map(function(s){var a=s.getAttributeNS("http://www.w3.org/1999/xlink","href");return a&&!a.startsWith("data:")?t.getBase64FromUrl(a).then(function(o){s.setAttributeNS("http://www.w3.org/1999/xlink","href",o)}).catch(function(o){console.error("Error converting image to base64:",o)}):Promise.resolve()});return Promise.all(i)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(t,n){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){var s=document.createElement("canvas");s.width=i.width,s.height=i.height,s.getContext("2d").drawImage(i,0,0),t(s.toDataURL())},i.onerror=n,i.src=e})}},{key:"cleanup",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),n=e.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(i,function(s){s.setAttribute("width",0)}),t&&t[0]&&(t[0].setAttribute("x",-500),t[0].setAttribute("x1",-500),t[0].setAttribute("x2",-500)),n&&n[0]&&(n[0].setAttribute("y",-100),n[0].setAttribute("y1",-100),n[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(t){e.cleanup(),e.getSvgString().then(function(n){var i=new Blob([n],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(i))})})}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(n){var i=t.w,s=e?e.scale||e.width/i.globals.svgWidth:1;t.cleanup();var a=document.createElement("canvas");a.width=i.globals.svgWidth*s,a.height=parseInt(i.globals.dom.elWrap.style.height,10)*s;var o=i.config.chart.background!=="transparent"&&i.config.chart.background?i.config.chart.background:"#fff",l=a.getContext("2d");l.fillStyle=o,l.fillRect(0,0,a.width*s,a.height*s),t.getSvgString(s).then(function(c){var u="data:image/svg+xml,"+encodeURIComponent(c),d=new Image;d.crossOrigin="anonymous",d.onload=function(){if(l.drawImage(d,0,0),a.msToBlob){var f=a.msToBlob();n({blob:f})}else{var m=a.toDataURL("image/png");n({imgURI:m})}},d.src=u})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,n=this.w.config.chart.toolbar.export.width,i=t?{scale:t}:n?{width:n}:void 0;this.dataURI(i).then(function(s){var a=s.imgURI,o=s.blob;o?navigator.msSaveOrOpenBlob(o,e.w.globals.chartID+".png"):e.triggerDownload(a,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,n=e.series,i=e.fileName,s=e.columnDelimiter,a=s===void 0?",":s,o=e.lineDelimiter,l=o===void 0?`
`:o,c=this.w;n||(n=c.config.series);var u=[],d=[],f="",m=c.globals.series.map(function(T,R){return c.globals.collapsedSeriesIndices.indexOf(R)===-1?T:[]}),v=function(T){return typeof c.config.chart.toolbar.export.csv.categoryFormatter=="function"?c.config.chart.toolbar.export.csv.categoryFormatter(T):c.config.xaxis.type==="datetime"&&String(T).length>=10?new Date(T).toDateString():xe.isNumber(T)?T:T.split(a).join("")},y=function(T){return typeof c.config.chart.toolbar.export.csv.valueFormatter=="function"?c.config.chart.toolbar.export.csv.valueFormatter(T):T},w=Math.max.apply(Math,hr(n.map(function(T){return T.data?T.data.length:0}))),b=new lS(this.ctx),S=new zc(this.ctx),M=function(T){var R="";if(c.globals.axisCharts){if(c.config.xaxis.type==="category"||c.config.xaxis.convertedCatToNumeric)if(c.globals.isBarHorizontal){var P=c.globals.yLabelFormatters[0],k=new Ea(t.ctx).getActiveConfigSeriesIndex();R=P(c.globals.labels[T],{seriesIndex:k,dataPointIndex:T,w:c})}else R=S.getLabel(c.globals.labels,c.globals.timescaleLabels,0,T).text;c.config.xaxis.type==="datetime"&&(c.config.xaxis.categories.length?R=c.config.xaxis.categories[T]:c.config.labels.length&&(R=c.config.labels[T]))}else R=c.config.labels[T];return R===null?"nullvalue":(Array.isArray(R)&&(R=R.join(" ")),xe.isNumber(R)?R:R.split(a).join(""))},E=function(T,R){if(u.length&&R===0&&d.push(u.join(a)),T.data){T.data=T.data.length&&T.data||hr(Array(w)).map(function(){return""});for(var P=0;P<T.data.length;P++){u=[];var k=M(P);if(k!=="nullvalue"){if(k||(b.isFormatXY()?k=n[R].data[P].x:b.isFormat2DArray()&&(k=n[R].data[P]?n[R].data[P][0]:"")),R===0){u.push(v(k));for(var B=0;B<c.globals.series.length;B++){var D,O=b.isFormatXY()?(D=n[B].data[P])===null||D===void 0?void 0:D.y:m[B][P];u.push(y(O))}}(c.config.chart.type==="candlestick"||T.type&&T.type==="candlestick")&&(u.pop(),u.push(c.globals.seriesCandleO[R][P]),u.push(c.globals.seriesCandleH[R][P]),u.push(c.globals.seriesCandleL[R][P]),u.push(c.globals.seriesCandleC[R][P])),(c.config.chart.type==="boxPlot"||T.type&&T.type==="boxPlot")&&(u.pop(),u.push(c.globals.seriesCandleO[R][P]),u.push(c.globals.seriesCandleH[R][P]),u.push(c.globals.seriesCandleM[R][P]),u.push(c.globals.seriesCandleL[R][P]),u.push(c.globals.seriesCandleC[R][P])),c.config.chart.type==="rangeBar"&&(u.pop(),u.push(c.globals.seriesRangeStart[R][P]),u.push(c.globals.seriesRangeEnd[R][P])),u.length&&d.push(u.join(a))}}}};u.push(c.config.chart.toolbar.export.csv.headerCategory),c.config.chart.type==="boxPlot"?(u.push("minimum"),u.push("q1"),u.push("median"),u.push("q3"),u.push("maximum")):c.config.chart.type==="candlestick"?(u.push("open"),u.push("high"),u.push("low"),u.push("close")):c.config.chart.type==="rangeBar"?(u.push("minimum"),u.push("maximum")):n.map(function(T,R){var P=(T.name?T.name:"series-".concat(R))+"";c.globals.axisCharts&&u.push(P.split(a).join("")?P.split(a).join(""):"series-".concat(R))}),c.globals.axisCharts||(u.push(c.config.chart.toolbar.export.csv.headerValue),d.push(u.join(a))),c.globals.allSeriesHasEqualX||!c.globals.axisCharts||c.config.xaxis.categories.length||c.config.labels.length?n.map(function(T,R){c.globals.axisCharts?E(T,R):((u=[]).push(v(c.globals.labels[R])),u.push(y(m[R])),d.push(u.join(a)))}):function(){var T=new Set,R={};n.forEach(function(P,k){P==null||P.data.forEach(function(B){var D,O;if(b.isFormatXY())D=B.x,O=B.y;else{if(!b.isFormat2DArray())return;D=B[0],O=B[1]}R[D]||(R[D]=Array(n.length).fill("")),R[D][k]=y(O),T.add(D)})}),u.length&&d.push(u.join(a)),Array.from(T).sort().forEach(function(P){d.push([v(P),R[P].join(a)])})}(),f+=d.join(l),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+f),i||c.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,n){var i=document.createElement("a");i.href=e,i.download=(t||this.w.globals.chartID)+n,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}]),r}(),Ym=function(){function r(e,t){_t(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var n=this.w;this.axesUtils=new zc(e),this.xaxisLabels=n.globals.labels.slice(),n.globals.timescaleLabels.length>0&&!n.globals.isBarHorizontal&&(this.xaxisLabels=n.globals.timescaleLabels.slice()),n.config.xaxis.overwriteCategories&&(this.xaxisLabels=n.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],n.config.xaxis.position==="top"?this.offY=0:this.offY=n.globals.gridHeight,this.offY=this.offY+n.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.xaxisBorderWidth=n.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=n.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=n.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=n.config.xaxis.axisBorder.height,this.yaxis=n.config.yaxis[0]}return Mt(r,[{key:"drawXaxis",value:function(){var e=this.w,t=new Ye(this.ctx),n=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),i=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(i);for(var s=[],a=0;a<this.xaxisLabels.length;a++)s.push(this.xaxisLabels[a]);if(this.drawXAxisLabelAndGroup(!0,t,i,s,e.globals.isXNumeric,function(v,y){return y}),e.globals.hasXaxisGroups){var o=e.globals.groups;s=[];for(var l=0;l<o.length;l++)s.push(o[l].title);var c={};e.config.xaxis.group.style&&(c.xaxisFontSize=e.config.xaxis.group.style.fontSize,c.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,c.xaxisForeColors=e.config.xaxis.group.style.colors,c.fontWeight=e.config.xaxis.group.style.fontWeight,c.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,i,s,!1,function(v,y){return o[v].cols*y},c)}if(e.config.xaxis.title.text!==void 0){var u=t.group({class:"apexcharts-xaxis-title"}),d=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});u.add(d),n.add(u)}if(e.config.xaxis.axisBorder.show){var f=e.globals.barPadForNumericAxis,m=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-f,this.offY,this.xaxisBorderWidth+f,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(m):n.add(m)}return n}},{key:"drawXAxisLabelAndGroup",value:function(e,t,n,i,s,a){var o,l=this,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},u=[],d=[],f=this.w,m=c.xaxisFontSize||this.xaxisFontSize,v=c.xaxisFontFamily||this.xaxisFontFamily,y=c.xaxisForeColors||this.xaxisForeColors,w=c.fontWeight||f.config.xaxis.labels.style.fontWeight,b=c.cssClass||f.config.xaxis.labels.style.cssClass,S=f.globals.padHorizontal,M=i.length,E=f.config.xaxis.type==="category"?f.globals.dataPoints:M;if(E===0&&M>E&&(E=M),s){var T=Math.max(Number(f.config.xaxis.tickAmount)||1,E>1?E-1:E);o=f.globals.gridWidth/Math.min(T,M-1),S=S+a(0,o)/2+f.config.xaxis.labels.offsetX}else o=f.globals.gridWidth/E,S=S+a(0,o)+f.config.xaxis.labels.offsetX;for(var R=function(k){var B=S-a(k,o)/2+f.config.xaxis.labels.offsetX;k===0&&M===1&&o/2===S&&E===1&&(B=f.globals.gridWidth/2);var D=l.axesUtils.getLabel(i,f.globals.timescaleLabels,B,k,u,m,e),O=28;if(f.globals.rotateXLabels&&e&&(O=22),f.config.xaxis.title.text&&f.config.xaxis.position==="top"&&(O+=parseFloat(f.config.xaxis.title.style.fontSize)+2),e||(O=O+parseFloat(m)+(f.globals.xAxisLabelsHeight-f.globals.xAxisGroupLabelsHeight)+(f.globals.rotateXLabels?10:0)),D=f.config.xaxis.tickAmount!==void 0&&f.config.xaxis.tickAmount!=="dataPoints"&&f.config.xaxis.type!=="datetime"?l.axesUtils.checkLabelBasedOnTickamount(k,D,M):l.axesUtils.checkForOverflowingLabels(k,D,M,u,d),f.config.xaxis.labels.show){var V=t.drawText({x:D.x,y:l.offY+f.config.xaxis.labels.offsetY+O-(f.config.xaxis.position==="top"?f.globals.xAxisHeight+f.config.xaxis.axisTicks.height-2:0),text:D.text,textAnchor:"middle",fontWeight:D.isBold?600:w,fontSize:m,fontFamily:v,foreColor:Array.isArray(y)?e&&f.config.xaxis.convertedCatToNumeric?y[f.globals.minX+k-1]:y[k]:y,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+b});if(n.add(V),V.on("click",function(K){if(typeof f.config.chart.events.xAxisLabelClick=="function"){var ie=Object.assign({},f,{labelIndex:k});f.config.chart.events.xAxisLabelClick(K,l.ctx,ie)}}),e){var X=document.createElementNS(f.globals.SVGNS,"title");X.textContent=Array.isArray(D.text)?D.text.join(" "):D.text,V.node.appendChild(X),D.text!==""&&(u.push(D.text),d.push(D))}}k<M-1&&(S+=a(k+1,o))},P=0;P<=M-1;P++)R(P)}},{key:"drawXaxisInversed",value:function(e){var t,n,i=this,s=this.w,a=new Ye(this.ctx),o=s.config.yaxis[0].opposite?s.globals.translateYAxisX[e]:0,l=a.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),c=a.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});l.add(c);var u=[];if(s.config.yaxis[e].show)for(var d=0;d<this.xaxisLabels.length;d++)u.push(this.xaxisLabels[d]);t=s.globals.gridHeight/u.length,n=-t/2.2;var f=s.globals.yLabelFormatters[0],m=s.config.yaxis[0].labels;if(m.show)for(var v=function(T){var R=u[T]===void 0?"":u[T];R=f(R,{seriesIndex:e,dataPointIndex:T,w:s});var P=i.axesUtils.getYAxisForeColor(m.style.colors,e),k=0;Array.isArray(R)&&(k=R.length/2*parseInt(m.style.fontSize,10));var B=m.offsetX-15,D="end";i.yaxis.opposite&&(D="start"),s.config.yaxis[0].labels.align==="left"?(B=m.offsetX,D="start"):s.config.yaxis[0].labels.align==="center"?(B=m.offsetX,D="middle"):s.config.yaxis[0].labels.align==="right"&&(D="end");var O=a.drawText({x:B,y:n+t+m.offsetY-k,text:R,textAnchor:D,foreColor:Array.isArray(P)?P[T]:P,fontSize:m.style.fontSize,fontFamily:m.style.fontFamily,fontWeight:m.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+m.style.cssClass,maxWidth:m.maxWidth});c.add(O),O.on("click",function(K){if(typeof s.config.chart.events.xAxisLabelClick=="function"){var ie=Object.assign({},s,{labelIndex:T});s.config.chart.events.xAxisLabelClick(K,i.ctx,ie)}});var V=document.createElementNS(s.globals.SVGNS,"title");if(V.textContent=Array.isArray(R)?R.join(" "):R,O.node.appendChild(V),s.config.yaxis[e].labels.rotate!==0){var X=a.rotateAroundCenter(O.node);O.node.setAttribute("transform","rotate(".concat(s.config.yaxis[e].labels.rotate," 0 ").concat(X.y,")"))}n+=t},y=0;y<=u.length-1;y++)v(y);if(s.config.yaxis[0].title.text!==void 0){var w=a.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),b=a.drawText({x:s.config.yaxis[0].title.offsetX,y:s.globals.gridHeight/2+s.config.yaxis[0].title.offsetY,text:s.config.yaxis[0].title.text,textAnchor:"middle",foreColor:s.config.yaxis[0].title.style.color,fontSize:s.config.yaxis[0].title.style.fontSize,fontWeight:s.config.yaxis[0].title.style.fontWeight,fontFamily:s.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+s.config.yaxis[0].title.style.cssClass});w.add(b),l.add(w)}var S=0;this.isCategoryBarHorizontal&&s.config.yaxis[0].opposite&&(S=s.globals.gridWidth);var M=s.config.xaxis.axisBorder;if(M.show){var E=a.drawLine(s.globals.padHorizontal+M.offsetX+S,1+M.offsetY,s.globals.padHorizontal+M.offsetX+S,s.globals.gridHeight+M.offsetY,M.color,0);this.elgrid&&this.elgrid.elGridBorders&&s.config.grid.show?this.elgrid.elGridBorders.add(E):l.add(E)}return s.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(S,u.length,s.config.yaxis[0].axisBorder,s.config.yaxis[0].axisTicks,0,t,l),l}},{key:"drawXaxisTicks",value:function(e,t,n){var i=this.w,s=e;if(!(e<0||e-2>i.globals.gridWidth)){var a=this.offY+i.config.xaxis.axisTicks.offsetY;if(t=t+a+i.config.xaxis.axisTicks.height,i.config.xaxis.position==="top"&&(t=a-i.config.xaxis.axisTicks.height),i.config.xaxis.axisTicks.show){var o=new Ye(this.ctx).drawLine(e+i.config.xaxis.axisTicks.offsetX,a+i.config.xaxis.offsetY,s+i.config.xaxis.axisTicks.offsetX,t+i.config.xaxis.offsetY,i.config.xaxis.axisTicks.color);n.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],n=this.xaxisLabels.length,i=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var s=0;s<n;s++)i=this.xaxisLabels[s].position,t.push(i);else for(var a=n,o=0;o<a;o++){var l=a;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(l-=1),i+=e.globals.gridWidth/l,t.push(i)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new Ye(this.ctx),n=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var o=0;o<i.length;o++){var l=t.rotateAroundCenter(i[o]);l.y=l.y-1,l.x=l.x+1,i[o].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(l.x," ").concat(l.y,")")),i[o].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")"));var c=i[o].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(c,function(m){t.placeTextWithEllipsis(m,m.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var m=e.globals.gridWidth/(e.globals.labels.length+1),v=0;v<i.length;v++){var y=i[v].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(y,function(w){t.placeTextWithEllipsis(w,w.textContent,m)})}})();if(s.length>0){var u=s[s.length-1].getBBox(),d=s[0].getBBox();u.x<-20&&s[s.length-1].parentNode.removeChild(s[s.length-1]),d.x+d.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&s[0].parentNode.removeChild(s[0]);for(var f=0;f<a.length;f++)t.placeTextWithEllipsis(a[f],a[f].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),r}(),MI=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new zc(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return Mt(r,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,n=new Ye(this.ctx);e||(e=n.group({class:"apexcharts-grid"}));var i=n.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),s=n.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(s),e.add(i),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,n=new Ye(this.ctx),i=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,hr(e.config.stroke.width)):e.config.stroke.width,s=function(u){var d=document.createElementNS(t.SVGNS,"clipPath");return d.setAttribute("id",u),d};t.dom.elGridRectMask=s("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=s("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=s("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=s("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=s("nonForecastMask".concat(t.cuid));var a=0,o=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(a=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),o=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=n.drawRect(-i/2-2,-i/2-2,t.gridWidth+i+4,t.gridHeight+i+4,0,"#fff"),t.dom.elGridRectBar=n.drawRect(-i/2-a-2,-i/2-2,t.gridWidth+i+o+a+4,t.gridHeight+i+4,0,"#fff");var l=e.globals.markers.largestSize;t.dom.elGridRectMarker=n.drawRect(-l,-l,t.gridWidth+2*l,t.gridHeight+2*l,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var c=t.dom.baseEl.querySelector("defs");c.appendChild(t.dom.elGridRectMask),c.appendChild(t.dom.elGridRectBarMask),c.appendChild(t.dom.elGridRectMarkerMask),c.appendChild(t.dom.elForecastMask),c.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,n=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.xCount,l=e.parent,c=this.w;if(!(t===0&&c.globals.skipFirstTimelinelabel||t===o-1&&c.globals.skipLastTimelinelabel&&!c.config.xaxis.labels.formatter||c.config.chart.type==="radar")){c.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:n,y1:i,x2:s,y2:a,xCount:o,parent:l});var u=0;if(c.globals.hasXaxisGroups&&c.config.xaxis.tickPlacement==="between"){var d=c.globals.groups;if(d){for(var f=0,m=0;f<t&&m<d.length;m++)f+=d[m].cols;f===t&&(u=.6*c.globals.xAxisLabelsHeight)}}new Ym(this.ctx).drawXaxisTicks(n,u,c.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,n=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.xCount,l=e.parent,c=this.w,u=l.node.classList.contains("apexcharts-gridlines-horizontal"),d=c.globals.barPadForNumericAxis,f=i===0&&a===0||n===0&&s===0||i===c.globals.gridHeight&&a===c.globals.gridHeight||c.globals.isBarHorizontal&&(t===0||t===o-1),m=new Ye(this).drawLine(n-(u?d:0),i,s+(u?d:0),a,c.config.grid.borderColor,c.config.grid.strokeDashArray);m.node.classList.add("apexcharts-gridline"),f&&c.config.grid.show?this.elGridBorders.add(m):l.add(m)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,n=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.type,l=this.w,c=new Ye(this.ctx),u=l.globals.barPadForNumericAxis,d=l.config.grid[o].colors[t],f=c.drawRect(n-(o==="row"?u:0),i,s+(o==="row"?2*u:0),a,0,d,l.config.grid[o].opacity);this.elg.add(f),f.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")")),f.node.classList.add("apexcharts-grid-".concat(o))}},{key:"_drawXYLines",value:function(e){var t=this,n=e.xCount,i=e.tickAmount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show){var a,o=s.globals.padHorizontal,l=s.globals.gridHeight;s.globals.timescaleLabels.length?function(v){for(var y=v.xC,w=v.x1,b=v.y1,S=v.x2,M=v.y2,E=0;E<y;E++)w=t.xaxisLabels[E].position,S=t.xaxisLabels[E].position,t._drawGridLines({i:E,x1:w,y1:b,x2:S,y2:M,xCount:n,parent:t.elgridLinesV})}({xC:n,x1:o,y1:0,x2:a,y2:l}):(s.globals.isXNumeric&&(n=s.globals.xAxisScale.result.length),function(v){for(var y=v.xC,w=v.x1,b=v.y1,S=v.x2,M=v.y2,E=0;E<y+(s.globals.isXNumeric?0:1);E++)E===0&&y===1&&s.globals.dataPoints===1&&(S=w=s.globals.gridWidth/2),t._drawGridLines({i:E,x1:w,y1:b,x2:S,y2:M,xCount:n,parent:t.elgridLinesV}),S=w+=s.globals.gridWidth/(s.globals.isXNumeric?y-1:y)}({xC:n,x1:o,y1:0,x2:a,y2:l}))}if(s.config.grid.yaxis.lines.show){var c=0,u=0,d=s.globals.gridWidth,f=i+1;this.isRangeBar&&(f=s.globals.labels.length);for(var m=0;m<f+(this.isRangeBar?1:0);m++)this._drawGridLine({i:m,xCount:f+(this.isRangeBar?1:0),x1:0,y1:c,x2:d,y2:u,parent:this.elgridLinesH}),u=c+=s.globals.gridHeight/(this.isRangeBar?f:i)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show)for(var i,s=n.globals.padHorizontal,a=n.globals.gridHeight,o=0;o<t+1;o++)n.config.grid.xaxis.lines.show&&this._drawGridLine({i:o,xCount:t+1,x1:s,y1:0,x2:i,y2:a,parent:this.elgridLinesV}),new Ym(this.ctx).drawXaxisTicks(s,0,n.globals.dom.elGraphical),i=s+=n.globals.gridWidth/t;if(n.config.grid.yaxis.lines.show)for(var l=0,c=0,u=n.globals.gridWidth,d=0;d<n.globals.dataPoints+1;d++)this._drawGridLine({i:d,xCount:n.globals.dataPoints+1,x1:0,y1:l,x2:u,y2:c,parent:this.elgridLinesH}),c=l+=n.globals.gridHeight/n.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,n=new Ye(this.ctx);this.elg=n.group({class:"apexcharts-grid"}),this.elgridLinesH=n.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=n.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=n.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var i=0;i<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(i);)i++;i===t.seriesYAxisMap.length&&(i=0);var s,a=t.yAxisScale[i].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var o,l,c;s=this.xaxisLabels.length,this.isRangeBar&&(a=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(s=e.config.xaxis.tickAmount),((o=t.yAxisScale)===null||o===void 0||(l=o[i])===null||l===void 0||(c=l.result)===null||c===void 0?void 0:c.length)>0&&e.config.xaxis.type!=="datetime"&&(s=t.yAxisScale[i].result.length-1)),this._drawXYLines({xCount:s,tickAmount:a})}else s=a,a=t.xTickAmount,this._drawInvertedXYLines({xCount:s,tickAmount:a});return this.drawGridBands(s,a),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/s}}},{key:"drawGridBands",value:function(e,t){var n,i,s=this,a=this.w;if(((n=a.config.grid.row.colors)===null||n===void 0?void 0:n.length)>0&&function(v,y,w,b,S,M){for(var E=0,T=0;E<y;E++,T++)T>=a.config.grid[v].colors.length&&(T=0),s._drawGridBandRect({c:T,x1:w,y1:b,x2:S,y2:M,type:v}),b+=a.globals.gridHeight/t}("row",t,0,0,a.globals.gridWidth,a.globals.gridHeight/t),((i=a.config.grid.column.colors)===null||i===void 0?void 0:i.length)>0){var o=a.globals.isBarHorizontal||a.config.xaxis.tickPlacement!=="on"||a.config.xaxis.type!=="category"&&!a.config.xaxis.convertedCatToNumeric?e:e-1;a.globals.isXNumeric&&(o=a.globals.xAxisScale.result.length-1);for(var l=a.globals.padHorizontal,c=a.globals.padHorizontal+a.globals.gridWidth/o,u=a.globals.gridHeight,d=0,f=0;d<e;d++,f++){var m;f>=a.config.grid.column.colors.length&&(f=0),a.config.xaxis.type==="datetime"&&(l=this.xaxisLabels[d].position,c=(((m=this.xaxisLabels[d+1])===null||m===void 0?void 0:m.position)||a.globals.gridWidth)-this.xaxisLabels[d].position),this._drawGridBandRect({c:f,x1:l,y1:0,x2:c,y2:u,type:"column"}),l+=a.globals.gridWidth/o}}}}]),r}(),CI=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w,this.coreUtils=new Fi(this.ctx)}return Mt(r,[{key:"niceScale",value:function(e,t){var n,i,s,a,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=1e-11,c=this.w,u=c.globals;u.isBarHorizontal?(n=c.config.xaxis,i=Math.max((u.svgWidth-100)/25,2)):(n=c.config.yaxis[o],i=Math.max((u.svgHeight-100)/15,2)),xe.isNumber(i)||(i=10),s=n.min!==void 0&&n.min!==null,a=n.max!==void 0&&n.min!==null;var d=n.stepSize!==void 0&&n.stepSize!==null,f=n.tickAmount!==void 0&&n.tickAmount!==null,m=f?n.tickAmount:u.niceScaleDefaultTicks[Math.min(Math.round(i/2),u.niceScaleDefaultTicks.length-1)];if(u.isMultipleYAxis&&!f&&u.multiAxisTickAmount>0&&(m=u.multiAxisTickAmount,f=!0),m=m==="dataPoints"?u.dataPoints-1:Math.abs(Math.round(m)),(e===Number.MIN_VALUE&&t===0||!xe.isNumber(e)&&!xe.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=xe.isNumber(n.min)?n.min:0,t=xe.isNumber(n.max)?n.max:e+m,u.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var v=t;t=e,e=v}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var y=[];m<1&&(m=1);var w=m,b=Math.abs(t-e);!s&&e>0&&e/b<.15&&(e=0,s=!0),!a&&t<0&&-t/b<.15&&(t=0,a=!0);var S=(b=Math.abs(t-e))/w,M=S,E=Math.floor(Math.log10(M)),T=Math.pow(10,E),R=Math.ceil(M/T);if(S=M=(R=u.niceScaleAllowedMagMsd[u.yValueDecimal===0?0:1][R])*T,u.isBarHorizontal&&n.stepSize&&n.type!=="datetime"?(S=n.stepSize,d=!0):d&&(S=n.stepSize),d&&n.forceNiceScale){var P=Math.floor(Math.log10(S));S*=Math.pow(10,E-P)}if(s&&a){var k=b/w;if(f)if(d)if(xe.mod(b,S)!=0){var B=xe.getGCD(S,k);S=k/B<10?B:k}else xe.mod(S,k)==0?S=k:(k=S,f=!1);else S=k;else if(d)xe.mod(b,S)==0?k=S:S=k;else if(xe.mod(b,S)==0)k=S;else{k=b/(w=Math.ceil(b/S));var D=xe.getGCD(b,S);b/D<i&&(k=D),S=k}w=Math.round(b/S)}else{if(s||a){if(a)if(f)e=t-S*w;else{var O=e;e=S*Math.floor(e/S),Math.abs(t-e)/xe.getGCD(b,S)>i&&(e=t-S*m,e+=S*Math.floor((O-e)/S))}else if(s)if(f)t=e+S*w;else{var V=t;t=S*Math.ceil(t/S),Math.abs(t-e)/xe.getGCD(b,S)>i&&(t=e+S*m,t+=S*Math.ceil((V-t)/S))}}else if(u.isMultipleYAxis&&f){var X=S*Math.floor(e/S),K=X+S*w;K<t&&(S*=2),K=t,t=(e=X)+S*w,b=Math.abs(t-e),e>0&&e<Math.abs(K-t)&&(e=0,t=S*w),t<0&&-t<Math.abs(X-e)&&(t=0,e=-S*w)}else e=S*Math.floor(e/S),t=S*Math.ceil(t/S);b=Math.abs(t-e),S=xe.getGCD(b,S),w=Math.round(b/S)}if(f||s||a||(w=Math.ceil((b-l)/(S+l)))>16&&xe.getPrimeFactors(w).length<2&&w++,!f&&n.forceNiceScale&&u.yValueDecimal===0&&w>b&&(w=b,S=Math.round(b/w)),w>i&&(!f&&!d||n.forceNiceScale)){var ie=xe.getPrimeFactors(w),ee=ie.length-1,ae=w;e:for(var z=0;z<ee;z++)for(var Q=0;Q<=ee-z;Q++){for(var Z=Math.min(Q+z,ee),Y=ae,oe=1,Pe=Q;Pe<=Z;Pe++)oe*=ie[Pe];if((Y/=oe)<i){ae=Y;break e}}S=ae===w?b:b/ae,w=Math.round(b/S)}u.isMultipleYAxis&&u.multiAxisTickAmount==0&&u.ignoreYAxisIndexes.indexOf(o)<0&&(u.multiAxisTickAmount=w);var fe=e-S,Ce=S*l;do fe+=S,y.push(xe.stripNumber(fe,7));while(t-fe>Ce);return{result:y,niceMin:y[0],niceMax:y[y.length-1]}}},{key:"linearScale",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,a=Math.abs(t-e),o=[];if(e===t)return{result:o=[e],niceMin:o[0],niceMax:o[o.length-1]};(n=this._adjustTicksForSmallRange(n,i,a))==="dataPoints"&&(n=this.w.globals.dataPoints-1),s||(s=a/n),s=Math.round(10*(s+Number.EPSILON))/10,n===Number.MAX_VALUE&&(n=5,s=1);for(var l=e;n>=0;)o.push(l),l=xe.preciseAddition(l,s),n-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var i=[],s=Math.ceil(Math.log(t)/Math.log(n)+1),a=Math.floor(Math.log(e)/Math.log(n));a<s;a++)i.push(Math.pow(n,a));return{result:i,niceMin:i[0],niceMax:i[i.length-1]}}},{key:"logarithmicScale",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var i=[],s=Math.log(t)/Math.log(n),a=Math.log(e)/Math.log(n),o=s-a,l=Math.round(o),c=o/l,u=0,d=a;u<l;u++,d+=c)i.push(Math.pow(n,d));return i.push(Math.pow(n,s)),{result:i,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,n){var i=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var s=Number(this.w.config.yaxis[t].labels.formatter(1));xe.isNumber(s)&&this.w.globals.yValueDecimal===0&&(i=Math.ceil(n))}return i<e?i:e}},{key:"setYScaleForIndex",value:function(e,t,n){var i=this.w.globals,s=this.w.config,a=i.isBarHorizontal?s.xaxis:s.yaxis[e];i.yAxisScale[e]===void 0&&(i.yAxisScale[e]=[]);var o=Math.abs(n-t);a.logarithmic&&o<=5&&(i.invalidLogScale=!0),a.logarithmic&&o>5?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=a.forceNiceScale?this.logarithmicScaleNice(t,n,a.logBase):this.logarithmicScale(t,n,a.logBase)):n!==-Number.MAX_VALUE&&xe.isNumber(n)&&t!==Number.MAX_VALUE&&xe.isNumber(t)?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=this.niceScale(t,n,e)):i.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var n=this.w,i=n.globals,s=Math.abs(t-e);if(t!==-Number.MAX_VALUE&&xe.isNumber(t)){var a=i.xTickAmount;s<10&&s>1&&(a=s),i.xAxisScale=this.linearScale(e,t,a,0,n.config.xaxis.stepSize)}else i.xAxisScale=this.linearScale(0,10,10);return i.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,n=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var i=n.seriesYAxisMap,s=n.minYArr,a=n.maxYArr;n.allSeriesCollapsed=!0,n.barGroups=[],i.forEach(function(o,l){var c=[];o.forEach(function(u){var d,f=(d=t.series[u])===null||d===void 0?void 0:d.group;c.indexOf(f)<0&&c.push(f)}),o.length>0?function(){var u,d,f=Number.MAX_VALUE,m=-Number.MAX_VALUE,v=f,y=m;if(t.chart.stacked)(function(){var S=new Array(n.dataPoints).fill(0),M=[],E=[],T=[];c.forEach(function(){M.push(S.map(function(){return Number.MIN_VALUE})),E.push(S.map(function(){return Number.MIN_VALUE})),T.push(S.map(function(){return Number.MIN_VALUE}))});for(var R=function(k){!u&&t.series[o[k]].type&&(u=t.series[o[k]].type);var B=o[k];d=t.series[B].group?t.series[B].group:"axis-".concat(l),!(n.collapsedSeriesIndices.indexOf(B)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(B)<0)||(n.allSeriesCollapsed=!1,c.forEach(function(D,O){if(t.series[B].group===D)for(var V=0;V<n.series[B].length;V++){var X=n.series[B][V];X>=0?E[O][V]+=X:T[O][V]+=X,M[O][V]+=X,v=Math.min(v,X),y=Math.max(y,X)}})),u!=="bar"&&u!=="column"||n.barGroups.push(d)},P=0;P<o.length;P++)R(P);u||(u=t.chart.type),u==="bar"||u==="column"?c.forEach(function(k,B){f=Math.min(f,Math.min.apply(null,T[B])),m=Math.max(m,Math.max.apply(null,E[B]))}):(c.forEach(function(k,B){v=Math.min(v,Math.min.apply(null,M[B])),y=Math.max(y,Math.max.apply(null,M[B]))}),f=v,m=y),f===Number.MIN_VALUE&&m===Number.MIN_VALUE&&(m=-Number.MAX_VALUE)})();else for(var w=0;w<o.length;w++){var b=o[w];f=Math.min(f,s[b]),m=Math.max(m,a[b]),!(n.collapsedSeriesIndices.indexOf(b)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(b)<0)||(n.allSeriesCollapsed=!1)}t.yaxis[l].min!==void 0&&(f=typeof t.yaxis[l].min=="function"?t.yaxis[l].min(f):t.yaxis[l].min),t.yaxis[l].max!==void 0&&(m=typeof t.yaxis[l].max=="function"?t.yaxis[l].max(m):t.yaxis[l].max),n.barGroups=n.barGroups.filter(function(S,M,E){return E.indexOf(S)===M}),e.setYScaleForIndex(l,f,m),o.forEach(function(S){s[S]=n.yAxisScale[l].niceMin,a[S]=n.yAxisScale[l].niceMax})}():e.setYScaleForIndex(l,0,-Number.MAX_VALUE)})}}]),r}(),Ow=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w,this.scales=new CI(e)}return Mt(r,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.w.config,a=this.w.globals,o=-Number.MAX_VALUE,l=Number.MIN_VALUE;i===null&&(i=e+1);var c=a.series,u=c,d=c;s.chart.type==="candlestick"?(u=a.seriesCandleL,d=a.seriesCandleH):s.chart.type==="boxPlot"?(u=a.seriesCandleO,d=a.seriesCandleC):a.isRangeData&&(u=a.seriesRangeStart,d=a.seriesRangeEnd);var f=!1;if(a.seriesX.length>=i){var m,v=(m=a.brushSource)===null||m===void 0?void 0:m.w.config.chart.brush;(s.chart.zoom.enabled&&s.chart.zoom.autoScaleYaxis||v!=null&&v.enabled&&v!=null&&v.autoScaleYaxis)&&(f=!0)}for(var y=e;y<i;y++){a.dataPoints=Math.max(a.dataPoints,c[y].length);var w=s.series[y].type;a.categoryLabels.length&&(a.dataPoints=a.categoryLabels.filter(function(T){return T!==void 0}).length),a.labels.length&&s.xaxis.type!=="datetime"&&a.series.reduce(function(T,R){return T+R.length},0)!==0&&(a.dataPoints=Math.max(a.dataPoints,a.labels.length));var b=0,S=c[y].length-1;if(f){if(s.xaxis.min)for(;b<S&&a.seriesX[y][b]<s.xaxis.min;b++);if(s.xaxis.max)for(;S>b&&a.seriesX[y][S]>s.xaxis.max;S--);}for(var M=b;M<=S&&M<a.series[y].length;M++){var E=c[y][M];if(E!==null&&xe.isNumber(E)){switch(d[y][M]!==void 0&&(o=Math.max(o,d[y][M]),t=Math.min(t,d[y][M])),u[y][M]!==void 0&&(t=Math.min(t,u[y][M]),n=Math.max(n,u[y][M])),w){case"candlestick":a.seriesCandleC[y][M]!==void 0&&(o=Math.max(o,a.seriesCandleH[y][M]),t=Math.min(t,a.seriesCandleL[y][M]));break;case"boxPlot":a.seriesCandleC[y][M]!==void 0&&(o=Math.max(o,a.seriesCandleC[y][M]),t=Math.min(t,a.seriesCandleO[y][M]))}w&&w!=="candlestick"&&w!=="boxPlot"&&w!=="rangeArea"&&w!=="rangeBar"&&(o=Math.max(o,a.series[y][M]),t=Math.min(t,a.series[y][M])),a.seriesGoals[y]&&a.seriesGoals[y][M]&&Array.isArray(a.seriesGoals[y][M])&&a.seriesGoals[y][M].forEach(function(T){o=Math.max(o,T.value),t=Math.min(t,T.value)}),n=o,E=xe.noExponents(E),xe.isFloat(E)&&(a.yValueDecimal=Math.max(a.yValueDecimal,E.toString().split(".")[1].length)),l>u[y][M]&&u[y][M]<0&&(l=u[y][M])}else a.hasNullValues=!0}w!=="bar"&&w!=="column"||(l<0&&o<0&&(o=0,n=Math.max(n,0)),l===Number.MIN_VALUE&&(l=0,t=Math.min(t,0)))}return s.chart.type==="rangeBar"&&a.seriesRangeStart.length&&a.isBarHorizontal&&(l=t),s.chart.type==="bar"&&(l<0&&o<0&&(o=0),l===Number.MIN_VALUE&&(l=0)),{minY:l,maxY:o,lowestY:t,highestY:n}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var n,i=Number.MAX_VALUE;if(e.isMultipleYAxis){i=Number.MAX_VALUE;for(var s=0;s<e.series.length;s++)n=this.getMinYMaxY(s),e.minYArr[s]=n.lowestY,e.maxYArr[s]=n.highestY,i=Math.min(i,n.lowestY)}return n=this.getMinYMaxY(0,i,null,e.series.length),t.chart.type==="bar"?(e.minY=n.minY,e.maxY=n.maxY):(e.minY=n.lowestY,e.maxY=n.highestY),i=n.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&i!==-Number.MAX_VALUE&&i!==e.maxY&&(e.minY=i):e.minY=e.minY!==Number.MIN_VALUE?Math.min(n.minY,e.minY):n.minY,t.yaxis.forEach(function(a,o){a.max!==void 0&&(typeof a.max=="number"?e.maxYArr[o]=a.max:typeof a.max=="function"&&(e.maxYArr[o]=a.max(e.isMultipleYAxis?e.maxYArr[o]:e.maxY)),e.maxY=e.maxYArr[o]),a.min!==void 0&&(typeof a.min=="number"?e.minYArr[o]=a.min:typeof a.min=="function"&&(e.minYArr[o]=a.min(e.isMultipleYAxis?e.minYArr[o]===Number.MIN_VALUE?0:e.minYArr[o]:e.minY)),e.minY=e.minYArr[o])}),e.isBarHorizontal&&["min","max"].forEach(function(a){t.xaxis[a]!==void 0&&typeof t.xaxis[a]=="number"&&(a==="min"?e.minY=t.xaxis[a]:e.maxY=t.xaxis[a])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=i):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach(function(a){switch(a.type||t.chart.type){case"bar":case"column":e.barGroups.push(a.group);break;case"line":e.lineGroups.push(a.group);break;case"area":e.areaGroups.push(a.group)}}),e.barGroups=e.barGroups.filter(function(a,o,l){return l.indexOf(a)===o}),e.lineGroups=e.lineGroups.filter(function(a,o,l){return l.indexOf(a)===o}),e.areaGroups=e.areaGroups.filter(function(a,o,l){return l.indexOf(a)===o}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,n=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var l=0;l<e.series.length;l++)if(e.labels[l])for(var c=0;c<e.labels[l].length;c++)e.labels[l][c]!==null&&xe.isNumber(e.labels[l][c])&&(e.maxX=Math.max(e.maxX,e.labels[l][c]),e.initialMaxX=Math.max(e.maxX,e.labels[l][c]),e.minX=Math.min(e.minX,e.labels[l][c]),e.initialMinX=Math.min(e.minX,e.labels[l][c]))}(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var i=10;if(t.xaxis.tickAmount===void 0)i=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(i=e.dataPoints-1),i>e.dataPoints&&e.dataPoints!==0&&(i=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(i=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var s=e.maxX-e.minX;s<30&&(i=s-1)}}else i=t.xaxis.tickAmount;if(e.xTickAmount=i,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var a=[],o=e.minX-1;o<e.maxX;o++)a.push(o+1);e.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,i,i,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,i-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());n&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var n=0;n<e.seriesZ[t].length;n++)e.seriesZ[t][n]!==null&&xe.isNumber(e.seriesZ[t][n])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][n]),e.minZ=Math.min(e.minZ,e.seriesZ[t][n]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var n=new Fr(this.ctx);if(t.xaxis.type==="datetime"){var i=n.getDate(e.minX);t.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()-2):i.setDate(i.getDate()-2),e.minX=new Date(i).getTime();var s=n.getDate(e.maxX);t.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()+2):s.setDate(s.getDate()+2),e.maxX=new Date(s).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,n){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var i=t.slice();i.sort(function(s,a){return s-a}),i.forEach(function(s,a){if(a>0){var o=s-i[a-1];o>0&&(e.minXDiff=Math.min(o,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var n=t.seriesGroups;n.length||(n=[this.w.globals.seriesNames.map(function(a){return a})]);var i={},s={};n.forEach(function(a){i[a]=[],s[a]=[],e.w.config.series.map(function(o,l){return a.indexOf(t.seriesNames[l])>-1?l:null}).filter(function(o){return o!==null}).forEach(function(o){for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++){var c,u,d,f;i[a][l]===void 0&&(i[a][l]=0,s[a][l]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((c=e.w.config.series)===null||c===void 0||(u=c[o])===null||u===void 0?void 0:u.type)==="bar"||((d=e.w.config.series)===null||d===void 0||(f=d[o])===null||f===void 0?void 0:f.type)==="column"))&&t.series[o][l]!==null&&xe.isNumber(t.series[o][l])&&(t.series[o][l]>0?i[a][l]+=parseFloat(t.series[o][l])+1e-4:s[a][l]+=parseFloat(t.series[o][l]))}})}),Object.entries(i).forEach(function(a){var o=JR(a,1)[0];i[o].forEach(function(l,c){t.maxY=Math.max(t.maxY,i[o][c]),t.minY=Math.min(t.minY,s[o][c])})})}}}]),r}(),cS=function(){function r(e,t){_t(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var n=this.w;this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.axisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xAxisoffX=n.config.xaxis.position==="bottom"?n.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new zc(e)}return Mt(r,[{key:"drawYaxis",value:function(e){var t=this.w,n=new Ye(this.ctx),i=t.config.yaxis[e].labels.style,s=i.fontSize,a=i.fontFamily,o=i.fontWeight,l=n.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return l;var c=n.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var u=t.globals.yAxisScale[e].result.length-1,d=t.globals.gridHeight/u,f=t.globals.yLabelFormatters[e],m=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var v=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?v=0:t.config.chart.type==="heatmap"&&(v-=d/2),v+=parseInt(s,10)/3;for(var y=u;y>=0;y--){var w=f(m[y],y,t),b=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(b*=-1);var S=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),M=this.axesUtils.getYAxisForeColor(i.colors,e),E=Array.isArray(M)?M[y]:M,T=xe.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(P){return P.textContent}),R=n.drawText({x:b,y:v,text:T.includes(w)&&!t.config.yaxis[e].labels.showDuplicates?"":w,textAnchor:S,fontSize:s,fontFamily:a,fontWeight:o,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:E,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(i.cssClass)});c.add(R),this.addTooltip(R,w),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(n,R,firstLabel,t.config.yaxis[e].labels.rotate),v+=d}}return this.addYAxisTitle(n,l,e),this.addAxisBorder(n,l,e,u,d),l}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var n=document.createElementNS(this.w.globals.SVGNS,"title");n.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(n)}},{key:"rotateLabel",value:function(e,t,n,i){var s=e.rotateAroundCenter(n.node),a=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(i," ").concat(s.x," ").concat(a.y,")"))}},{key:"addYAxisTitle",value:function(e,t,n){var i=this.w;if(i.config.yaxis[n].title.text!==void 0){var s=e.group({class:"apexcharts-yaxis-title"}),a=i.config.yaxis[n].opposite?i.globals.translateYAxisX[n]:0,o=e.drawText({x:a,y:i.globals.gridHeight/2+i.globals.translateY+i.config.yaxis[n].title.offsetY,text:i.config.yaxis[n].title.text,textAnchor:"end",foreColor:i.config.yaxis[n].title.style.color,fontSize:i.config.yaxis[n].title.style.fontSize,fontWeight:i.config.yaxis[n].title.style.fontWeight,fontFamily:i.config.yaxis[n].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(i.config.yaxis[n].title.style.cssClass)});s.add(o),t.add(s)}}},{key:"addAxisBorder",value:function(e,t,n,i,s){var a=this.w,o=a.config.yaxis[n].axisBorder,l=31+o.offsetX;if(a.config.yaxis[n].opposite&&(l=-31-o.offsetX),o.show){var c=e.drawLine(l,a.globals.translateY+o.offsetY-2,l,a.globals.gridHeight+a.globals.translateY+o.offsetY+2,o.color,0,o.width);t.add(c)}a.config.yaxis[n].axisTicks.show&&this.axesUtils.drawYAxisTicks(l,i,o,a.config.yaxis[n].axisTicks,n,s,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,n=new Ye(this.ctx),i=n.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),s=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(s);var a=t.globals.yAxisScale[e].result.length-1,o=t.globals.gridWidth/a+.1,l=o+t.config.xaxis.labels.offsetX,c=t.globals.xLabelFormatter,u=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),d=t.globals.timescaleLabels;if(d.length>0&&(this.xaxisLabels=d.slice(),a=(u=d.slice()).length),t.config.xaxis.labels.show)for(var f=d.length?0:a;d.length?f<d.length:f>=0;d.length?f++:f--){var m=c(u[f],f,t),v=t.globals.gridWidth+t.globals.padHorizontal-(l-o+t.config.xaxis.labels.offsetX);if(d.length){var y=this.axesUtils.getLabel(u,d,v,f,this.drawnLabels,this.xaxisFontSize);v=y.x,m=y.text,this.drawnLabels.push(y.text),f===0&&t.globals.skipFirstTimelinelabel&&(m=""),f===u.length-1&&t.globals.skipLastTimelinelabel&&(m="")}var w=n.drawText({x:v,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:m,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});s.add(w),w.tspan(m),this.addTooltip(w,m),l+=o}return this.inversedYAxisTitleText(i),this.inversedYAxisBorder(i),i}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,n=new Ye(this.ctx),i=t.config.xaxis.axisBorder;if(i.show){var s=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(s-=15);var a=n.drawLine(t.globals.padHorizontal+s+i.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,i.color,0,i.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(a):e.add(a)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,n=new Ye(this.ctx);if(t.config.xaxis.title.text!==void 0){var i=n.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),s=n.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});i.add(s),e.add(i)}}},{key:"yAxisTitleRotate",value:function(e,t){var n=this.w,i=new Ye(this.ctx),s=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),a=s?s.getBoundingClientRect():{width:0,height:0},o=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),l=o?o.getBoundingClientRect():{width:0,height:0};if(o){var c=this.xPaddingForYAxisTitle(e,a,l,t);o.setAttribute("x",c.xPos-(t?10:0));var u=i.rotateAroundCenter(o);o.setAttribute("transform","rotate(".concat(t?-1*n.config.yaxis[e].title.rotate:n.config.yaxis[e].title.rotate," ").concat(u.x," ").concat(u.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,n,i){var s=this.w,a=0,o=10;return s.config.yaxis[e].title.text===void 0||e<0?{xPos:a,padd:0}:(i?a=t.width+s.config.yaxis[e].title.offsetX+n.width/2+o/2:(a=-1*t.width+s.config.yaxis[e].title.offsetX+o/2+n.width/2,s.globals.isBarHorizontal&&(o=25,a=-1*t.width-s.config.yaxis[e].title.offsetX-o)),{xPos:a,padd:o})}},{key:"setYAxisXPosition",value:function(e,t){var n=this.w,i=0,s=0,a=18,o=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.forEach(function(l,c){var u=n.globals.ignoreYAxisIndexes.includes(c)||!l.show||l.floating||e[c].width===0,d=e[c].width+t[c].width;l.opposite?n.globals.isBarHorizontal?(s=n.globals.gridWidth+n.globals.translateX-1,n.globals.translateYAxisX[c]=s-l.labels.offsetX):(s=n.globals.gridWidth+n.globals.translateX+o,u||(o+=d+20),n.globals.translateYAxisX[c]=s-l.labels.offsetX+20):(i=n.globals.translateX-a,u||(a+=d+20),n.globals.translateYAxisX[c]=i+l.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;xe.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(t,n){var i=e.config.yaxis[n];if(i&&!i.floating&&i.labels.align!==void 0){var s=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),a=xe.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label"))),o=s.getBoundingClientRect();a.forEach(function(l){l.setAttribute("text-anchor",i.labels.align)}),i.labels.align!=="left"||i.opposite?i.labels.align==="center"?s.setAttribute("transform","translate(".concat(o.width/2*(i.opposite?1:-1),", 0)")):i.labels.align==="right"&&i.opposite&&s.setAttribute("transform","translate(".concat(o.width,", 0)")):s.setAttribute("transform","translate(-".concat(o.width,", 0)"))}})}}]),r}(),cU=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w,this.documentEvent=xe.bind(this.documentEvent,this)}return Mt(r,[{key:"addEventListener",value:function(e,t){var n=this.w;n.globals.events.hasOwnProperty(e)?n.globals.events[e].push(t):n.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){var i=n.globals.events[e].indexOf(t);i!==-1&&n.globals.events[e].splice(i,1)}}},{key:"fireEvent",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var i=n.globals.events[e],s=i.length,a=0;a<s;a++)i[a].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,n=this.ctx,i=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(s){i.addEventListener(s,function(a){var o=Object.assign({},t,{seriesIndex:t.globals.axisCharts?t.globals.capturedSeriesIndex:0,dataPointIndex:t.globals.capturedDataPointIndex});a.type==="mousemove"||a.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(a,n,o):a.type==="mouseleave"||a.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(a,n,o):(a.type==="mouseup"&&a.which===1||a.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(a,n,o),n.ctx.events.fireEvent("click",[a,n,o]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(s){t.globals.dom.baseEl.addEventListener(s,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,n=e.target.className;if(e.type==="click"){var i=t.globals.dom.baseEl.querySelector(".apexcharts-menu");i&&i.classList.contains("apexcharts-menu-open")&&n!=="apexcharts-menu-icon"&&i.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),r}(),uU=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var n=t.filter(function(s){return s.name===e})[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var i=xe.extend(AI,n);this.w.globals.locale=i.options}}]),r}(),hU=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"drawAxis",value:function(e,t){var n,i,s=this,a=this.w.globals,o=this.w.config,l=new Ym(this.ctx,t),c=new cS(this.ctx,t);a.axisCharts&&e!=="radar"&&(a.isBarHorizontal?(i=c.drawYaxisInversed(0),n=l.drawXaxisInversed(0),a.dom.elGraphical.add(n),a.dom.elGraphical.add(i)):(n=l.drawXaxis(),a.dom.elGraphical.add(n),o.yaxis.map(function(u,d){if(a.ignoreYAxisIndexes.indexOf(d)===-1&&(i=c.drawYaxis(d),a.dom.Paper.add(i),s.w.config.grid.position==="back")){var f=a.dom.Paper.children()[1];f.remove(),a.dom.Paper.add(f)}})))}}]),r}(),Uw=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new Ye(this.ctx),n=new Nr(this.ctx),i=e.config.xaxis.crosshairs.fill.gradient,s=e.config.xaxis.crosshairs.dropShadow,a=e.config.xaxis.crosshairs.fill.type,o=i.colorFrom,l=i.colorTo,c=i.opacityFrom,u=i.opacityTo,d=i.stops,f=s.enabled,m=s.left,v=s.top,y=s.blur,w=s.color,b=s.opacity,S=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){a==="gradient"&&(S=t.drawGradient("vertical",o,l,c,u,null,d,null));var M=t.drawRect();e.config.xaxis.crosshairs.width===1&&(M=t.drawLine());var E=e.globals.gridHeight;(!xe.isNumber(E)||E<0)&&(E=0);var T=e.config.xaxis.crosshairs.width;(!xe.isNumber(T)||T<0)&&(T=0),M.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:E,width:T,height:E,fill:S,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),f&&(M=n.dropShadow(M,{left:m,top:v,blur:y,color:w,opacity:b})),e.globals.dom.elGraphical.add(M)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new Ye(this.ctx),n=e.config.yaxis[0].crosshairs,i=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var s=t.drawLine(-i,0,e.globals.gridWidth+i,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);s.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(s)}var a=t.drawLine(-i,0,e.globals.gridWidth+i,0,n.stroke.color,0,0);a.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(a)}}]),r}(),dU=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"checkResponsiveConfig",value:function(e){var t=this,n=this.w,i=n.config;if(i.responsive.length!==0){var s=i.responsive.slice();s.sort(function(c,u){return c.breakpoint>u.breakpoint?1:u.breakpoint>c.breakpoint?-1:0}).reverse();var a=new Xm({}),o=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s[0].breakpoint,d=window.innerWidth>0?window.innerWidth:screen.width;if(d>u){var f=xe.clone(n.globals.initialConfig);f.series=xe.clone(n.config.series);var m=Fi.extendArrayProps(a,f,n);c=xe.extend(m,c),c=xe.extend(n.config,c),t.overrideResponsiveOptions(c)}else for(var v=0;v<s.length;v++)d<s[v].breakpoint&&(c=Fi.extendArrayProps(a,s[v].options,n),c=xe.extend(n.config,c),t.overrideResponsiveOptions(c))};if(e){var l=Fi.extendArrayProps(a,e,n);l=xe.extend(n.config,l),o(l=xe.extend(l,e))}else o({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new Xm(e).init({responsiveOverride:!0});this.w.config=t}}]),r}(),fU=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return Mt(r,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,n=e.plotOptions;return t.type==="treemap"&&n.treemap&&n.treemap.distributed||t.type==="heatmap"&&n.heatmap&&n.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,n=e.plotOptions;return n.bar&&n.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new xe;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode));var n=hr(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(n),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var i=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],i),this.applyDataLabelsColors(i),this.applyRadarPolygonsColors(),this.applyMarkersColors(i)}},{key:"getColors",value:function(e){var t=this,n=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,n.config.series.map(function(i,s){var a=e[s]||e[0];return typeof a=="function"?a({value:n.globals.axisCharts?n.globals.series[s][0]||0:n.globals.series[s],seriesIndex:s,dataPointIndex:s,w:t.w}):a})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach(function(n,i){n&&(t[i]=n)})}},{key:"getMonochromeColors",value:function(e,t,n){var i=e.color,s=e.shadeIntensity,a=e.shadeTo,o=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,l=1/(o/s),c=0;return Array.from({length:o},function(){var u=a==="dark"?n.shadeColor(-1*c,i):n.shadeColor(c,i);return c+=l,u})}},{key:"applyColorTypes",value:function(e,t){var n=this,i=this.w;e.forEach(function(s){i.globals[s].colors=i.config[s].colors===void 0?n.isColorFn?i.config.colors:t:i.config[s].colors.slice(),n.pushExtraColors(i.globals[s].colors)})}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#424242":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=this.w,s=t||i.globals.series.length;if(n===null&&(n=this.isBarDistributed||this.isHeatmapDistributed||i.config.chart.type==="heatmap"&&i.config.plotOptions.heatmap&&i.config.plotOptions.heatmap.colorScale.inverse),n&&i.globals.series.length&&(s=i.globals.series[i.globals.maxValsInArrayIndex].length*i.globals.series.length),e.length<s)for(var a=s-e.length,o=0;o<a;o++)e.push(e[o])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,n=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",i=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=i,e.theme.palette=n,e}},{key:"predefined",value:function(){var e={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return e[this.w.config.theme.palette]||e.default}}]),r}(),pU=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,n=e==="title"?t.config.title:t.config.subtitle,i=t.globals.svgWidth/2,s=n.offsetY,a="middle";if(n.align==="left"?(i=10,a="start"):n.align==="right"&&(i=t.globals.svgWidth-10,a="end"),i+=n.offsetX,s=s+parseInt(n.style.fontSize,10)+n.margin/2,n.text!==void 0){var o=new Ye(this.ctx).drawText({x:i,y:s,text:n.text,textAnchor:a,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,fontWeight:n.style.fontWeight,foreColor:n.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(o)}}}]),r}(),mU=function(){function r(e){_t(this,r),this.w=e.w,this.dCtx=e}return Mt(r,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,n=0,i=0,s=e==="title"?t.config.title.floating:t.config.subtitle.floating,a=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(a!==null&&!s){var o=a.getBoundingClientRect();n=o.width,i=t.globals.axisCharts?o.height+5:o.height}return{width:n,height:i}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var n=Object.assign({},xe.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:n.x,y:n.y,height:n.height,width:n.height===0?0:n.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,n=[];t.config.series.forEach(function(l,c){l.data.forEach(function(u,d){var f;f=t.globals.series[c][d],i=t.config.dataLabels.formatter(f,{ctx:e.dCtx.ctx,seriesIndex:c,dataPointIndex:d,w:t}),n.push(i)})});var i=xe.getLargestStringFromArr(n),s=new Ye(this.dCtx.ctx),a=t.config.dataLabels.style,o=s.getTextRects(i,parseInt(a.fontSize),a.fontFamily);return{width:1.05*o.width,height:o.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var n=e;if(this.w.globals.isMultiLineX){var i=t.map(function(a,o){return Array.isArray(a)?a.length:1}),s=Math.max.apply(Math,hr(i));n=t[i.indexOf(s)]}return n}}]),r}(),gU=function(){function r(e){_t(this,r),this.w=e.w,this.dCtx=e}return Mt(r,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,n=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&n.length===0&&(n=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var i=this.getxAxisTimeScaleLabelsCoords();e={width:i.width,height:i.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var s=t.globals.xLabelFormatter,a=xe.getLargestStringFromArr(n),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,n);t.globals.isBarHorizontal&&(o=a=t.globals.yAxisScale[0].result.reduce(function(v,y){return v.length>y.length?v:y},0));var l=new xg(this.dCtx.ctx),c=a;a=l.xLabelFormat(s,a,c,{i:void 0,dateFormatter:new Fr(this.dCtx.ctx).formatDate,w:t}),o=l.xLabelFormat(s,o,c,{i:void 0,dateFormatter:new Fr(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&a===void 0||String(a).trim()==="")&&(o=a="1");var u=new Ye(this.dCtx.ctx),d=u.getTextRects(a,t.config.xaxis.labels.style.fontSize),f=d;if(a!==o&&(f=u.getTextRects(o,t.config.xaxis.labels.style.fontSize)),(e={width:d.width>=f.width?d.width:f.width,height:d.height>=f.height?d.height:f.height}).width*n.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var m=function(v){return u.getTextRects(v,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};d=m(a),a!==o&&(f=m(o)),e.height=(d.height>f.height?d.height:f.height)/1.5,e.width=d.width>f.width?d.width:f.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var n,i=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,s=t.globals.groups.map(function(d){return d.title}),a=xe.getLargestStringFromArr(s),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,s),l=new Ye(this.dCtx.ctx),c=l.getTextRects(a,i),u=c;return a!==o&&(u=l.getTextRects(o,i)),n={width:c.width>=u.width?c.width:u.width,height:c.height>=u.height?c.height:u.height},t.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,n=0;if(e.config.xaxis.title.text!==void 0){var i=new Ye(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=i.width,n=i.height}return{width:t,height:n}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var n=this.dCtx.timescaleLabels.map(function(s){return s.value}),i=n.reduce(function(s,a){return s===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):s.length>a.length?s:a},0);return 1.05*(e=new Ye(this.dCtx.ctx).getTextRects(i,t.config.xaxis.labels.style.fontSize)).width*n.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,n=this.w,i=n.globals,s=n.config,a=s.xaxis.type,o=e.width;i.skipLastTimelinelabel=!1,i.skipFirstTimelinelabel=!1;var l=n.config.yaxis[0].opposite&&n.globals.isBarHorizontal,c=function(u,d){s.yaxis.length>1&&function(f){return i.collapsedSeriesIndices.indexOf(f)!==-1}(d)||function(f){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var m=t.dCtx.timescaleLabels[0],v=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+o/1.75-t.dCtx.yAxisWidthRight,y=m.position-o/1.75+t.dCtx.yAxisWidthLeft,w=n.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;v>i.svgWidth-i.translateX-w&&(i.skipLastTimelinelabel=!0),y<-(f.show&&!f.floating||s.chart.type!=="bar"&&s.chart.type!=="candlestick"&&s.chart.type!=="rangeBar"&&s.chart.type!=="boxPlot"?10:o/1.75)&&(i.skipFirstTimelinelabel=!0)}else a==="datetime"?t.dCtx.gridPad.right<o&&!i.rotateXLabels&&(i.skipLastTimelinelabel=!0):a!=="datetime"&&t.dCtx.gridPad.right<o/2-t.dCtx.yAxisWidthRight&&!i.rotateXLabels&&!n.config.xaxis.labels.trim&&(t.dCtx.xPadRight=o/2+1)}(u)};s.yaxis.forEach(function(u,d){l?(t.dCtx.gridPad.left<o&&(t.dCtx.xPadLeft=o/2+1),t.dCtx.xPadRight=o/2+1):c(u,d)})}}]),r}(),xU=function(){function r(e){_t(this,r),this.w=e.w,this.dCtx=e}return Mt(r,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,n=[],i=10,s=new zc(this.dCtx.ctx);return t.config.yaxis.map(function(a,o){var l={seriesIndex:o,dataPointIndex:-1,w:t},c=t.globals.yAxisScale[o],u=0;if(!s.isYAxisHidden(o)&&a.labels.show&&a.labels.minWidth!==void 0&&(u=a.labels.minWidth),!s.isYAxisHidden(o)&&a.labels.show&&c.result.length){var d=t.globals.yLabelFormatters[o],f=c.niceMin===Number.MIN_VALUE?0:c.niceMin,m=c.result.reduce(function(E,T){var R,P;return((R=String(d(E,l)))===null||R===void 0?void 0:R.length)>((P=String(d(T,l)))===null||P===void 0?void 0:P.length)?E:T},f),v=m=d(m,l);if(m!==void 0&&m.length!==0||(m=c.niceMax),t.globals.isBarHorizontal){i=0;var y=t.globals.labels.slice();m=xe.getLargestStringFromArr(y),m=d(m,{seriesIndex:o,dataPointIndex:-1,w:t}),v=e.dCtx.dimHelpers.getLargestStringFromMultiArr(m,y)}var w=new Ye(e.dCtx.ctx),b="rotate(".concat(a.labels.rotate," 0 0)"),S=w.getTextRects(m,a.labels.style.fontSize,a.labels.style.fontFamily,b,!1),M=S;m!==v&&(M=w.getTextRects(v,a.labels.style.fontSize,a.labels.style.fontFamily,b,!1)),n.push({width:(u>M.width||u>S.width?u:M.width>S.width?M.width:S.width)+i,height:M.height>S.height?M.height:S.height})}else n.push({width:0,height:0})}),n}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,n=[];return t.config.yaxis.map(function(i,s){if(i.show&&i.title.text!==void 0){var a=new Ye(e.dCtx.ctx),o="rotate(".concat(i.title.rotate," 0 0)"),l=a.getTextRects(i.title.text,i.title.style.fontSize,i.title.style.fontFamily,o,!1);n.push({width:l.width,height:l.height})}else n.push({width:0,height:0})}),n}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,n=0,i=0,s=e.globals.yAxisScale.length>1?10:0,a=new zc(this.dCtx.ctx),o=function(l,c){var u=e.config.yaxis[c].floating,d=0;l.width>0&&!u?(d=l.width+s,function(f){return e.globals.ignoreYAxisIndexes.indexOf(f)>-1}(c)&&(d=d-l.width-s)):d=u||a.isYAxisHidden(c)?0:5,e.config.yaxis[c].opposite?i+=d:n+=d,t+=d};return e.globals.yLabelsCoords.map(function(l,c){o(l,c)}),e.globals.yTitleCoords.map(function(l,c){o(l,c)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=i,t}}]),r}(),vU=function(){function r(e){_t(this,r),this.w=e.w,this.dCtx=e}return Mt(r,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,n=t.config,i=t.globals;if(i.noData||i.collapsedSeries.length+i.ancillaryCollapsedSeries.length===n.series.length)return 0;var s=function(m){return["bar","rangeBar","candlestick","boxPlot"].includes(m)},a=n.chart.type,o=0,l=s(a)?n.series.length:1;i.comboBarCount>0&&(l=i.comboBarCount),i.collapsedSeries.forEach(function(m){s(m.type)&&(l-=1)}),n.chart.stacked&&(l=1);var c=s(a)||i.comboBarCount>0,u=Math.abs(i.initialMaxX-i.initialMinX);if(c&&i.isXNumeric&&!i.isBarHorizontal&&l>0&&u!==0){u<=3&&(u=i.dataPoints);var d=u/e,f=i.minXDiff&&i.minXDiff/d>0?i.minXDiff/d:0;f>e/2&&(f/=2),(o=f*parseInt(n.plotOptions.bar.columnWidth,10)/100)<1&&(o=1),i.barPadForNumericAxis=o}return o}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,n=t.globals,i=this.dCtx.isSparkline||!n.axisCharts?0:10;["title","subtitle"].forEach(function(o){t.config[o].text!==void 0?i+=t.config[o].margin:i+=e.dCtx.isSparkline||!n.axisCharts?0:5}),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||n.axisCharts||(i+=10);var s=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),a=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");n.gridHeight-=s.height+a.height+i,n.translateY+=s.height+a.height+i}},{key:"setGridXPosForDualYAxis",value:function(e,t){var n=this.w,i=new zc(this.dCtx.ctx);n.config.yaxis.forEach(function(s,a){n.globals.ignoreYAxisIndexes.indexOf(a)!==-1||s.floating||i.isYAxisHidden(a)||(s.opposite&&(n.globals.translateX-=t[a].width+e[a].width+parseInt(s.labels.style.fontSize,10)/1.2+12),n.globals.translateX<2&&(n.globals.translateX=2))})}}]),r}(),rv=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new mU(this),this.dimYAxis=new xU(this),this.dimXAxis=new gU(this),this.dimGrid=new vU(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return Mt(r,[{key:"plotCoords",value:function(){var e=this,t=this.w,n=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var i=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,hr(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(a){var o=JR(a,2),l=o[0],c=o[1];e.gridPad[l]=Math.max(c,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(i/2,this.gridPad.top),this.gridPad.bottom=Math.max(i/2,this.gridPad.bottom)),n.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),n.gridHeight=n.gridHeight-this.gridPad.top-this.gridPad.bottom,n.gridWidth=n.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var s=this.dimGrid.gridPadForColumnsInNumericAxis(n.gridWidth);n.gridWidth=n.gridWidth-2*s,n.translateX=n.translateX+this.gridPad.left+this.xPadLeft+(s>0?s:0),n.translateY=n.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,n=t.globals,i=this.dimYAxis.getyAxisLabelsCoords(),s=this.dimYAxis.getyAxisTitleCoords();n.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(m,v){t.globals.yLabelsCoords.push({width:i[v].width,index:v}),t.globals.yTitleCoords.push({width:s[v].width,index:v})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var a=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisGroupLabelsCoords(),l=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(a,l,o),n.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),n.translateXAxisY=n.translateXAxisY+t.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+t.config.xaxis.labels.offsetX;var c=this.yAxisWidth,u=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight-l.height,n.xAxisGroupLabelsHeight=n.xAxisLabelsHeight-a.height,n.xAxisLabelsWidth=this.xAxisWidth,n.xAxisHeight=this.xAxisHeight;var d=10;(t.config.chart.type==="radar"||this.isSparkline)&&(c=0,u=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(c=0,u=0,d=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(a);var f=function(){n.translateX=c+e.datalabelsCoords.width,n.gridHeight=n.svgHeight-e.lgRect.height-u-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-c-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(d=n.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":n.translateY=d,f();break;case"top":n.translateY=this.lgRect.height+d,f();break;case"left":n.translateY=d,n.translateX=this.lgRect.width+c+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-u-12,n.gridWidth=n.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width;break;case"right":n.translateY=d,n.translateX=c+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-u-12,n.gridWidth=n.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(s,i),new cS(this.ctx).setYAxisXPosition(i,s)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=e.config,i=0;e.config.legend.show&&!e.config.legend.floating&&(i=20);var s=n.chart.type==="pie"||n.chart.type==="polarArea"||n.chart.type==="donut"?"pie":"radialBar",a=n.plotOptions[s].offsetY,o=n.plotOptions[s].offsetX;if(!n.legend.show||n.legend.floating){t.gridHeight=t.svgHeight;var l=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(l,t.gridHeight),t.translateY=a,void(t.translateX=o+(t.svgWidth-t.gridWidth)/2)}switch(n.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=a-10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+a+10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-i,t.gridHeight=n.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=o+this.lgRect.width+i;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-i-5,t.gridHeight=n.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,n){var i=this.w,s=i.globals.hasXaxisGroups?2:1,a=n.height+e.height+t.height,o=i.globals.isMultiLineX?1.2:i.globals.LINE_HEIGHT_RATIO,l=i.globals.rotateXLabels?22:10,c=i.globals.rotateXLabels&&i.config.legend.position==="bottom"?10:0;this.xAxisHeight=a*o+s*l+c,this.xAxisWidth=e.width,this.xAxisHeight-t.height>i.config.xaxis.labels.maxHeight&&(this.xAxisHeight=i.config.xaxis.labels.maxHeight),i.config.xaxis.labels.minHeight&&this.xAxisHeight<i.config.xaxis.labels.minHeight&&(this.xAxisHeight=i.config.xaxis.labels.minHeight),i.config.xaxis.floating&&(this.xAxisHeight=0);var u=0,d=0;i.config.yaxis.forEach(function(f){u+=f.labels.minWidth,d+=f.labels.maxWidth}),this.yAxisWidth<u&&(this.yAxisWidth=u),this.yAxisWidth>d&&(this.yAxisWidth=d)}}]),r}(),yU=function(){function r(e){_t(this,r),this.w=e.w,this.lgCtx=e}return Mt(r,[{key:"getLegendStyles",value:function(){var e,t,n,i=document.createElement("style");i.setAttribute("type","text/css");var s=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(n=t.chart)===null||n===void 0?void 0:n.nonce)||this.w.config.chart.nonce;s&&i.setAttribute("nonce",s);var a=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apexcharts-legend-group-horizontal {
        flex-direction: column;
      }
      .apexcharts-legend-group {
        display: flex;
      }
      .apexcharts-legend-group-vertical {
        flex-direction: column-reverse;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
        align-items: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
        align-items: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
        align-items: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }

    `);return i.appendChild(a),i}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var n=this,i=this.w;if(i.globals.axisCharts||i.config.chart.type==="radialBar"){i.globals.resized=!0;var s=null,a=null;i.globals.risingSeries=[],i.globals.axisCharts?(s=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),a=parseInt(s.getAttribute("data:realIndex"),10)):(s=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),a=parseInt(s.getAttribute("rel"),10)-1),t?[{cs:i.globals.collapsedSeries,csi:i.globals.collapsedSeriesIndices},{cs:i.globals.ancillaryCollapsedSeries,csi:i.globals.ancillaryCollapsedSeriesIndices}].forEach(function(u){n.riseCollapsedSeries(u.cs,u.csi,a)}):this.hideSeries({seriesEl:s,realIndex:a})}else{var o=i.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),l=i.config.chart.type;if(l==="pie"||l==="polarArea"||l==="donut"){var c=i.config.plotOptions.pie.donut.labels;new Ye(this.lgCtx.ctx).pathMouseDown(o,null),this.lgCtx.ctx.pie.printDataLabelsInner(o.node,c)}o.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,n=this.w,i=n.globals,s=xe.clone(n.config.series);if(i.axisCharts){var a=n.config.yaxis[i.seriesYAxisReverseMap[t]],o={index:t,data:s[t].data.slice(),type:s[t].type||n.config.chart.type};if(a&&a.show&&a.showAlways)i.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(i.ancillaryCollapsedSeries.push(o),i.ancillaryCollapsedSeriesIndices.push(t));else if(i.collapsedSeriesIndices.indexOf(t)<0){i.collapsedSeries.push(o),i.collapsedSeriesIndices.push(t);var l=i.risingSeries.indexOf(t);i.risingSeries.splice(l,1)}}else i.collapsedSeries.push({index:t,data:s[t]}),i.collapsedSeriesIndices.push(t);return i.allSeriesCollapsed=i.collapsedSeries.length+i.ancillaryCollapsedSeries.length===n.config.series.length,this._getSeriesBasedOnCollapsedState(s)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,n=e.realIndex,i=this.w,s=this.getSeriesAfterCollapsing({realIndex:n}),a=t.childNodes,o=0;o<a.length;o++)a[o].classList.contains("apexcharts-series-markers-wrap")&&(a[o].classList.contains("apexcharts-hide")?a[o].classList.remove("apexcharts-hide"):a[o].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(s,i.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,n){var i=this.w,s=xe.clone(i.config.series);if(e.length>0){for(var a=0;a<e.length;a++)e[a].index===n&&(i.globals.axisCharts?s[n].data=e[a].data.slice():s[n]=e[a].data,typeof s[n]!="number"&&(s[n].hidden=!1),e.splice(a,1),t.splice(a,1),i.globals.risingSeries.push(n));s=this._getSeriesBasedOnCollapsedState(s),this.lgCtx.ctx.updateHelpers._updateSeries(s,i.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,n=0;return t.globals.axisCharts?e.forEach(function(i,s){t.globals.collapsedSeriesIndices.indexOf(s)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(s)<0||(e[s].data=[],n++)}):e.forEach(function(i,s){!t.globals.collapsedSeriesIndices.indexOf(s)<0&&(e[s]=0,n++)}),t.globals.allSeriesCollapsed=n===e.length,e}}]),r}(),EI=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new yU(this)}return Mt(r,[{key:"init",value:function(){var e=this.w,t=e.globals,n=e.config,i=n.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(i||!t.axisCharts)&&n.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),n.legend.position==="bottom"||n.legend.position==="top"?this.legendAlignHorizontal():n.legend.position!=="right"&&n.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,n=e.fillcolor,i=this.w,s=document.createElement("span");s.classList.add("apexcharts-legend-marker");var a=i.config.legend.markers.shape||i.config.markers.shape,o=a;Array.isArray(a)&&(o=a[t]);var l=Array.isArray(i.config.legend.markers.size)?parseFloat(i.config.legend.markers.size[t]):parseFloat(i.config.legend.markers.size),c=Array.isArray(i.config.legend.markers.offsetX)?parseFloat(i.config.legend.markers.offsetX[t]):parseFloat(i.config.legend.markers.offsetX),u=Array.isArray(i.config.legend.markers.offsetY)?parseFloat(i.config.legend.markers.offsetY[t]):parseFloat(i.config.legend.markers.offsetY),d=Array.isArray(i.config.legend.markers.strokeWidth)?parseFloat(i.config.legend.markers.strokeWidth[t]):parseFloat(i.config.legend.markers.strokeWidth),f=s.style;if(f.height=2*(l+d)+"px",f.width=2*(l+d)+"px",f.left=c+"px",f.top=u+"px",i.config.legend.markers.customHTML)f.background="transparent",f.color=n[t],Array.isArray(i.config.legend.markers.customHTML)?i.config.legend.markers.customHTML[t]&&(s.innerHTML=i.config.legend.markers.customHTML[t]()):s.innerHTML=i.config.legend.markers.customHTML();else{var m=new Wf(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(o),seriesIndex:t,strokeWidth:d,size:l}),v=window.SVG().addTo(s).size("100%","100%"),y=new Ye(this.ctx).drawMarker(0,0,lt(lt({},m),{},{pointFillColor:Array.isArray(n)?n[t]:m.pointFillColor,shape:o}));i.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(w){w.node.classList.contains("apexcharts-marker-triangle")?w.node.style.transform="translate(50%, 45%)":w.node.style.transform="translate(50%, 50%)"}),v.add(y)}return s}},{key:"drawLegends",value:function(){var e=this,t=this,n=this.w,i=n.config.legend.fontFamily,s=n.globals.seriesNames,a=n.config.legend.markers.fillColors?n.config.legend.markers.fillColors.slice():n.globals.colors.slice();if(n.config.chart.type==="heatmap"){var o=n.config.plotOptions.heatmap.colorScale.ranges;s=o.map(function(m){return m.name?m.name:m.from+" - "+m.to}),a=o.map(function(m){return m.color})}else this.isBarsDistributed&&(s=n.globals.labels.slice());n.config.legend.customLegendItems.length&&(s=n.config.legend.customLegendItems);var l=n.globals.legendFormatter,c=n.config.legend.inverseOrder,u=[];n.globals.seriesGroups.length>1&&n.config.legend.clusterGroupedSeries&&n.globals.seriesGroups.forEach(function(m,v){u[v]=document.createElement("div"),u[v].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(v)),n.config.legend.clusterGroupedSeriesOrientation==="horizontal"?n.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):u[v].classList.add("apexcharts-legend-group-vertical")});for(var d=function(m){var v,y=l(s[m],{seriesIndex:m,w:n}),w=!1,b=!1;if(n.globals.collapsedSeries.length>0)for(var S=0;S<n.globals.collapsedSeries.length;S++)n.globals.collapsedSeries[S].index===m&&(w=!0);if(n.globals.ancillaryCollapsedSeriesIndices.length>0)for(var M=0;M<n.globals.ancillaryCollapsedSeriesIndices.length;M++)n.globals.ancillaryCollapsedSeriesIndices[M]===m&&(b=!0);var E=e.createLegendMarker({i:m,fillcolor:a});Ye.setAttrs(E,{rel:m+1,"data:collapsed":w||b}),(w||b)&&E.classList.add("apexcharts-inactive-legend");var T=document.createElement("div"),R=document.createElement("span");R.classList.add("apexcharts-legend-text"),R.innerHTML=Array.isArray(y)?y.join(" "):y;var P=n.config.legend.labels.useSeriesColors?n.globals.colors[m]:Array.isArray(n.config.legend.labels.colors)?(v=n.config.legend.labels.colors)===null||v===void 0?void 0:v[m]:n.config.legend.labels.colors;P||(P=n.config.chart.foreColor),R.style.color=P,R.style.fontSize=parseFloat(n.config.legend.fontSize)+"px",R.style.fontWeight=n.config.legend.fontWeight,R.style.fontFamily=i||n.config.chart.fontFamily,Ye.setAttrs(R,{rel:m+1,i:m,"data:default-text":encodeURIComponent(y),"data:collapsed":w||b}),T.appendChild(E),T.appendChild(R);var k=new Fi(e.ctx);n.config.legend.showForZeroSeries||k.getSeriesTotalByIndex(m)===0&&k.seriesHaveSameValues(m)&&!k.isSeriesNull(m)&&n.globals.collapsedSeriesIndices.indexOf(m)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(m)===-1&&T.classList.add("apexcharts-hidden-zero-series"),n.config.legend.showForNullSeries||k.isSeriesNull(m)&&n.globals.collapsedSeriesIndices.indexOf(m)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(m)===-1&&T.classList.add("apexcharts-hidden-null-series"),u.length?n.globals.seriesGroups.forEach(function(B,D){var O;B.includes((O=n.config.series[m])===null||O===void 0?void 0:O.name)&&(n.globals.dom.elLegendWrap.appendChild(u[D]),u[D].appendChild(T))}):n.globals.dom.elLegendWrap.appendChild(T),n.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(n.config.legend.horizontalAlign)),n.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+n.config.legend.position),T.classList.add("apexcharts-legend-series"),T.style.margin="".concat(n.config.legend.itemMargin.vertical,"px ").concat(n.config.legend.itemMargin.horizontal,"px"),n.globals.dom.elLegendWrap.style.width=n.config.legend.width?n.config.legend.width+"px":"",n.globals.dom.elLegendWrap.style.height=n.config.legend.height?n.config.legend.height+"px":"",Ye.setAttrs(T,{rel:m+1,seriesName:xe.escapeString(s[m]),"data:collapsed":w||b}),(w||b)&&T.classList.add("apexcharts-inactive-legend"),n.config.legend.onItemClick.toggleDataSeries||T.classList.add("apexcharts-no-click")},f=c?s.length-1:0;c?f>=0:f<=s.length-1;c?f--:f++)d(f);n.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),n.config.legend.onItemHover.highlightDataSeries&&n.config.legend.customLegendItems.length===0&&(n.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),n.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var n=this.w,i=n.globals.dom.elLegendWrap,s=i.clientHeight,a=0,o=0;if(n.config.legend.position==="bottom")o=n.globals.svgHeight-Math.min(s,n.globals.svgHeight/2)-5;else if(n.config.legend.position==="top"){var l=new rv(this.ctx),c=l.dimHelpers.getTitleSubtitleCoords("title").height,u=l.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=(c>0?c-10:0)+(u>0?u-10:0)}i.style.position="absolute",a=a+e+n.config.legend.offsetX,o=o+t+n.config.legend.offsetY,i.style.left=a+"px",i.style.top=o+"px",n.config.legend.position==="right"&&(i.style.left="auto",i.style.right=25+n.config.legend.offsetX+"px"),["width","height"].forEach(function(d){i.style[d]&&(i.style[d]=parseInt(n.config.legend[d],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new rv(this.ctx),n=t.dimHelpers.getTitleSubtitleCoords("title"),i=t.dimHelpers.getTitleSubtitleCoords("subtitle"),s=0;e.config.legend.position==="top"&&(s=n.height+i.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,s)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),n=0;e.config.legend.position==="left"&&(n=20),e.config.legend.position==="right"&&(n=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,n=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(n){var i=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,i,this.w]),new Ea(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&n&&new Ea(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var n=parseInt(e.target.getAttribute("rel"),10)-1,i=e.target.getAttribute("data:collapsed")==="true",s=this.w.config.chart.events.legendClick;typeof s=="function"&&s(this.ctx,n,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,n,this.w]);var a=this.w.config.legend.markers.onClick;typeof a=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(a(this.ctx,n,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,n,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(n,i)}}}]),r}(),TI=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return Mt(r,[{key:"createToolbar",value:function(){var e=this,t=this.w,n=function(){return document.createElement("div")},i=n();if(i.setAttribute("class","apexcharts-toolbar"),i.style.top=t.config.chart.toolbar.offsetY+"px",i.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(i),this.elZoom=n(),this.elZoomIn=n(),this.elZoomOut=n(),this.elPan=n(),this.elSelection=n(),this.elZoomReset=n(),this.elMenuIcon=n(),this.elMenu=n(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var s=0;s<this.t.customIcons.length;s++)this.elCustomIcons.push(n());var a=[],o=function(d,f,m){var v=d.toLowerCase();e.t[v]&&t.config.chart.zoom.enabled&&a.push({el:f,icon:typeof e.t[v]=="string"?e.t[v]:m,title:e.localeValues[d],class:"apexcharts-".concat(v,"-icon")})};o("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),o("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var l=function(d){e.t[d]&&t.config.chart[d].enabled&&a.push({el:d==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[d]=="string"?e.t[d]:d==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[d==="zoom"?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(d,"-icon")})};l("zoom"),l("selection"),this.t.pan&&t.config.chart.zoom.enabled&&a.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),o("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&a.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var c=0;c<this.elCustomIcons.length;c++)a.push({el:this.elCustomIcons[c],icon:this.t.customIcons[c].icon,title:this.t.customIcons[c].title,index:this.t.customIcons[c].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[c].class});a.forEach(function(d,f){d.index&&xe.moveIndexInArray(a,f,d.index)});for(var u=0;u<a.length;u++)Ye.setAttrs(a[u].el,{class:a[u].class,title:a[u].title}),a[u].el.innerHTML=a[u].icon,i.appendChild(a[u].el);this._createHamburgerMenu(i),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),Ye.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],n=0;n<t.length;n++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[n].innerHTML=t[n].title,Ye.setAttrs(this.elMenuItems[n],{class:"apexcharts-menu-item ".concat(t[n].name),title:t[n].title}),this.elMenu.appendChild(this.elMenuItems[n])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(n){n.classList.contains("exportSVG")?n.addEventListener("click",e.handleDownload.bind(e,"svg")):n.classList.contains("exportPNG")?n.addEventListener("click",e.handleDownload.bind(e,"png")):n.classList.contains("exportCSV")&&n.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var n=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,i=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[i]=!t.w.globals[i],n.classList.contains(t.ctx.toolbar.selectedClass)?n.classList.remove(t.ctx.toolbar.selectedClass):n.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,n=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),n&&n.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(n){n&&n.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,n=(this.minX+t)/2,i=(this.maxX+t)/2,s=this._getNewMinXMaxX(n,i);e.globals.disableZoomIn||this.zoomUpdateOptions(s.minX,s.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,n=this.minX-(t-this.minX),i=this.maxX-(t-this.maxX),s=this._getNewMinXMaxX(n,i);e.globals.disableZoomOut||this.zoomUpdateOptions(s.minX,s.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var n=this.w.config.xaxis.convertedCatToNumeric;return{minX:n?Math.floor(e):e,maxX:n?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var n=this.w;if(e!==void 0||t!==void 0){if(!(n.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=n.globals.dataPoints),t-e<2))){var i={min:e,max:t},s=this.getBeforeZoomRange(i);s&&(i=s.xaxis);var a={xaxis:i},o=xe.clone(n.globals.initialConfig.yaxis);n.config.chart.group||(a.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(a,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(i,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t})}},{key:"getBeforeZoomRange",value:function(e,t){var n=null;return typeof this.ev.beforeZoom=="function"&&(n=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),n}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,n=new iv(this.ctx);switch(e){case"svg":n.exportToSVG(this.ctx);break;case"png":n.exportToPng(this.ctx);break;case"csv":n.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){var n=t.w;if(n.globals.lastXAxis.min=n.globals.initialConfig.xaxis.min,n.globals.lastXAxis.max=n.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof n.config.chart.events.beforeResetZoom=="function"){var i=n.config.chart.events.beforeResetZoom(t,n);i&&t.updateHelpers.revertDefaultAxisMinMax(i)}typeof n.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:n.config.xaxis.min,max:n.config.xaxis.max}),n.globals.zoomed=!1;var s=t.ctx.series.emptyCollapsedSeries(xe.clone(n.globals.initialSeries));t.updateHelpers._updateSeries(s,n.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),r}(),bU=function(r){fg(t,TI);var e=dg(t);function t(n){var i;return _t(this,t),(i=e.call(this,n)).ctx=n,i.w=n.w,i.dragged=!1,i.graphics=new Ye(i.ctx),i.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],i.clientX=0,i.clientY=0,i.startX=0,i.endX=0,i.dragX=0,i.startY=0,i.endY=0,i.dragY=0,i.moveDirection="none",i.debounceTimer=null,i.debounceDelay=100,i.wheelDelay=400,i}return Mt(t,[{key:"init",value:function(n){var i=this,s=n.xyRatios,a=this.w,o=this;this.xyRatios=s,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=a.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new Di(0,0,a.globals.gridWidth,a.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),a.globals.dom.Paper.add(this.zoomRect),a.globals.dom.Paper.add(this.selectionRect),a.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:a.globals.gridWidth,maxY:a.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):a.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:a.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=a.globals.dom.baseEl.querySelector("".concat(a.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(l){i.hoverArea.addEventListener(l,o.svgMouseEvents.bind(o,s),{capture:!1,passive:!0})}),a.config.chart.zoom.enabled&&a.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",o.mouseWheelEvent.bind(o),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(n,i){var s=this.w,a=this.ctx.toolbar,o=s.globals.zoomEnabled?s.config.chart.zoom.type:s.config.chart.selection.type,l=s.config.chart.toolbar.autoSelected;if(i.shiftKey?(this.shiftWasPressed=!0,a.enableZoomPanFromToolbar(l==="pan"?"zoom":"pan")):this.shiftWasPressed&&(a.enableZoomPanFromToolbar(l),this.shiftWasPressed=!1),i.target){var c,u=i.target.classList;if(i.target.parentNode&&i.target.parentNode!==null&&(c=i.target.parentNode.classList),!(u.contains("apexcharts-legend-marker")||u.contains("apexcharts-legend-text")||c&&c.contains("apexcharts-toolbar"))){if(this.clientX=i.type==="touchmove"||i.type==="touchstart"?i.touches[0].clientX:i.type==="touchend"?i.changedTouches[0].clientX:i.clientX,this.clientY=i.type==="touchmove"||i.type==="touchstart"?i.touches[0].clientY:i.type==="touchend"?i.changedTouches[0].clientY:i.clientY,i.type==="mousedown"&&i.which===1||i.type==="touchstart"){var d=this.gridRect.getBoundingClientRect();this.startX=this.clientX-d.left-s.globals.barPadForNumericAxis,this.startY=this.clientY-d.top,this.dragged=!1,this.w.globals.mousedown=!0}(i.type==="mousemove"&&i.which===1||i.type==="touchmove")&&(this.dragged=!0,s.globals.panEnabled?(s.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:o,xyRatios:n})):(this.w.globals.mousedown&&s.globals.zoomEnabled||this.w.globals.mousedown&&s.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:o}))),i.type!=="mouseup"&&i.type!=="touchend"&&i.type!=="mouseleave"||this.handleMouseUp({zoomtype:o}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(n){var i,s=n.zoomtype,a=n.isResized,o=this.w,l=(i=this.gridRect)===null||i===void 0?void 0:i.getBoundingClientRect();l&&(this.w.globals.mousedown||a)&&(this.endX=this.clientX-l.left-o.globals.barPadForNumericAxis,this.endY=this.clientY-l.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(o.globals.zoomEnabled||o.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:s}),o.globals.panEnabled&&o.config.xaxis.convertedCatToNumeric&&this.delayedPanScrolled()),o.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(n){var i=this,s=this.w;n.preventDefault();var a=Date.now();a-s.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(n),s.globals.lastWheelExecution=a),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){a-s.globals.lastWheelExecution>i.wheelDelay&&(i.executeMouseWheelZoom(n),s.globals.lastWheelExecution=a)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(n){var i,s=this.w;this.minX=s.globals.isRangeBar?s.globals.minY:s.globals.minX,this.maxX=s.globals.isRangeBar?s.globals.maxY:s.globals.maxX;var a=(i=this.gridRect)===null||i===void 0?void 0:i.getBoundingClientRect();if(a){var o,l,c,u=(n.clientX-a.left)/a.width,d=this.minX,f=this.maxX,m=f-d;if(n.deltaY<0){var v=d+u*m;l=v-(o=.5*m)/2,c=v+o/2}else l=d-(o=1.5*m)/2,c=f+o/2;if(!s.globals.isRangeBar){l=Math.max(l,s.globals.initialMinX),c=Math.min(c,s.globals.initialMaxX);var y=.01*(s.globals.initialMaxX-s.globals.initialMinX);if(c-l<y){var w=(l+c)/2;l=w-y/2,c=w+y/2}}var b=this._getNewMinXMaxX(l,c);isNaN(b.minX)||isNaN(b.maxX)||this.zoomUpdateOptions(b.minX,b.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var n=this,i=this.w;if(this.selectionRect){var s=this.selectionRect.node.getBoundingClientRect();s.width>0&&s.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(a,o,l,c,u){return u==="l"||u==="r"?a.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):a.circle(0)},updateHandle:function(a,o){return a.center(o[0],o[1])}}).resize().on("resize",function(){var a=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type;n.handleMouseUp({zoomtype:a,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var n=this.w,i=this.xyRatios;if(!n.globals.zoomEnabled){if(n.globals.selection!==void 0&&n.globals.selection!==null)this.drawSelectionRect(lt(lt({},n.globals.selection),{},{translateX:n.globals.translateX,translateY:n.globals.translateY}));else if(n.config.chart.selection.xaxis.min!==void 0&&n.config.chart.selection.xaxis.max!==void 0){var s=(n.config.chart.selection.xaxis.min-n.globals.minX)/i.xRatio,a=n.globals.gridWidth-(n.globals.maxX-n.config.chart.selection.xaxis.max)/i.xRatio-s;n.globals.isRangeBar&&(s=(n.config.chart.selection.xaxis.min-n.globals.yAxisScale[0].niceMin)/i.invertedYRatio,a=(n.config.chart.selection.xaxis.max-n.config.chart.selection.xaxis.min)/i.invertedYRatio);var o={x:s,y:0,width:a,height:n.globals.gridHeight,translateX:n.globals.translateX,translateY:n.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(o),this.makeSelectionRectDraggable(),typeof n.config.chart.events.selection=="function"&&n.config.chart.events.selection(this.ctx,{xaxis:{min:n.config.chart.selection.xaxis.min,max:n.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(n){var i=n.x,s=n.y,a=n.width,o=n.height,l=n.translateX,c=l===void 0?0:l,u=n.translateY,d=u===void 0?0:u,f=this.w,m=this.zoomRect,v=this.selectionRect;if(this.dragged||f.globals.selection!==null){var y={transform:"translate("+c+", "+d+")"};f.globals.zoomEnabled&&this.dragged&&(a<0&&(a=1),m.attr({x:i,y:s,width:a,height:o,fill:f.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":f.config.chart.zoom.zoomedArea.fill.opacity,stroke:f.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":f.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":f.config.chart.zoom.zoomedArea.stroke.opacity}),Ye.setAttrs(m.node,y)),f.globals.selectionEnabled&&(v.attr({x:i,y:s,width:a>0?a:0,height:o>0?o:0,fill:f.config.chart.selection.fill.color,"fill-opacity":f.config.chart.selection.fill.opacity,stroke:f.config.chart.selection.stroke.color,"stroke-width":f.config.chart.selection.stroke.width,"stroke-dasharray":f.config.chart.selection.stroke.dashArray,"stroke-opacity":f.config.chart.selection.stroke.opacity}),Ye.setAttrs(v.node,y))}}},{key:"hideSelectionRect",value:function(n){n&&n.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(n){var i=n.context,s=n.zoomtype,a=this.w,o=i,l=this.gridRect.getBoundingClientRect(),c=o.startX-1,u=o.startY,d=!1,f=!1,m=o.clientX-l.left-a.globals.barPadForNumericAxis,v=o.clientY-l.top,y=m-c,w=v-u,b={translateX:a.globals.translateX,translateY:a.globals.translateY};return Math.abs(y+c)>a.globals.gridWidth?y=a.globals.gridWidth-c:m<0&&(y=c),c>m&&(d=!0,y=Math.abs(y)),u>v&&(f=!0,w=Math.abs(w)),b=lt(lt({},b=s==="x"?{x:d?c-y:c,y:0,width:y,height:a.globals.gridHeight}:s==="y"?{x:0,y:f?u-w:u,width:a.globals.gridWidth,height:w}:{x:d?c-y:c,y:f?u-w:u,width:y,height:w}),{},{translateX:a.globals.translateX,translateY:a.globals.translateY}),o.drawSelectionRect(b),o.selectionDragging("resizing"),b}},{key:"selectionDragging",value:function(n,i){var s=this,a=this.w;if(i){i.preventDefault();var o=i.detail,l=o.handler,c=o.box,u=c.x,d=c.y;u<this.constraints.x&&(u=this.constraints.x),d<this.constraints.y&&(d=this.constraints.y),c.x2>this.constraints.x2&&(u=this.constraints.x2-c.w),c.y2>this.constraints.y2&&(d=this.constraints.y2-c.h),l.move(u,d);var f=this.xyRatios,m=this.selectionRect,v=0;n==="resizing"&&(v=30);var y=function(b){return parseFloat(m.node.getAttribute(b))},w={x:y("x"),y:y("y"),width:y("width"),height:y("height")};a.globals.selection=w,typeof a.config.chart.events.selection=="function"&&a.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var b,S,M,E,T=s.gridRect.getBoundingClientRect(),R=m.node.getBoundingClientRect();a.globals.isRangeBar?(b=a.globals.yAxisScale[0].niceMin+(R.left-T.left)*f.invertedYRatio,S=a.globals.yAxisScale[0].niceMin+(R.right-T.left)*f.invertedYRatio,M=0,E=1):(b=a.globals.xAxisScale.niceMin+(R.left-T.left)*f.xRatio,S=a.globals.xAxisScale.niceMin+(R.right-T.left)*f.xRatio,M=a.globals.yAxisScale[0].niceMin+(T.bottom-R.bottom)*f.yRatio[0],E=a.globals.yAxisScale[0].niceMax-(R.top-T.top)*f.yRatio[0]);var P={xaxis:{min:b,max:S},yaxis:{min:M,max:E}};a.config.chart.events.selection(s.ctx,P),a.config.chart.brush.enabled&&a.config.chart.events.brushScrolled!==void 0&&a.config.chart.events.brushScrolled(s.ctx,P)},v))}}},{key:"selectionDrawn",value:function(n){var i,s,a=n.context,o=n.zoomtype,l=this.w,c=a,u=this.xyRatios,d=this.ctx.toolbar,f=l.globals.zoomEnabled?c.zoomRect.node.getBoundingClientRect():c.selectionRect.node.getBoundingClientRect(),m=c.gridRect.getBoundingClientRect(),v=f.left-m.left-l.globals.barPadForNumericAxis,y=f.right-m.left-l.globals.barPadForNumericAxis,w=f.top-m.top,b=f.bottom-m.top;l.globals.isRangeBar?(i=l.globals.yAxisScale[0].niceMin+v*u.invertedYRatio,s=l.globals.yAxisScale[0].niceMin+y*u.invertedYRatio):(i=l.globals.xAxisScale.niceMin+v*u.xRatio,s=l.globals.xAxisScale.niceMin+y*u.xRatio);var S=[],M=[];if(l.config.yaxis.forEach(function(D,O){var V=l.globals.seriesYAxisMap[O][0],X=l.globals.yAxisScale[O].niceMax-u.yRatio[V]*w,K=l.globals.yAxisScale[O].niceMax-u.yRatio[V]*b;S.push(X),M.push(K)}),c.dragged&&(c.dragX>10||c.dragY>10)&&i!==s){if(l.globals.zoomEnabled){var E=xe.clone(l.globals.initialConfig.yaxis),T=xe.clone(l.globals.initialConfig.xaxis);if(l.globals.zoomed=!0,l.config.xaxis.convertedCatToNumeric&&(i=Math.floor(i),s=Math.floor(s),i<1&&(i=1,s=l.globals.dataPoints),s-i<2&&(s=i+1)),o!=="xy"&&o!=="x"||(T={min:i,max:s}),o!=="xy"&&o!=="y"||E.forEach(function(D,O){E[O].min=M[O],E[O].max=S[O]}),d){var R=d.getBeforeZoomRange(T,E);R&&(T=R.xaxis?R.xaxis:T,E=R.yaxis?R.yaxis:E)}var P={xaxis:T};l.config.chart.group||(P.yaxis=E),c.ctx.updateHelpers._updateOptions(P,!1,c.w.config.chart.animations.dynamicAnimation.enabled),typeof l.config.chart.events.zoomed=="function"&&d.zoomCallback(T,E)}else if(l.globals.selectionEnabled){var k,B=null;k={min:i,max:s},o!=="xy"&&o!=="y"||(B=xe.clone(l.config.yaxis)).forEach(function(D,O){B[O].min=M[O],B[O].max=S[O]}),l.globals.selection=c.selection,typeof l.config.chart.events.selection=="function"&&l.config.chart.events.selection(c.ctx,{xaxis:k,yaxis:B})}}}},{key:"panDragging",value:function(n){var i=n.context,s=this.w,a=i;if(s.globals.lastClientPosition.x!==void 0){var o=s.globals.lastClientPosition.x-a.clientX,l=s.globals.lastClientPosition.y-a.clientY;Math.abs(o)>Math.abs(l)&&o>0?this.moveDirection="left":Math.abs(o)>Math.abs(l)&&o<0?this.moveDirection="right":Math.abs(l)>Math.abs(o)&&l>0?this.moveDirection="up":Math.abs(l)>Math.abs(o)&&l<0&&(this.moveDirection="down")}s.globals.lastClientPosition={x:a.clientX,y:a.clientY};var c=s.globals.isRangeBar?s.globals.minY:s.globals.minX,u=s.globals.isRangeBar?s.globals.maxY:s.globals.maxX;s.config.xaxis.convertedCatToNumeric||a.panScrolled(c,u)}},{key:"delayedPanScrolled",value:function(){var n=this.w,i=n.globals.minX,s=n.globals.maxX,a=(n.globals.maxX-n.globals.minX)/2;this.moveDirection==="left"?(i=n.globals.minX+a,s=n.globals.maxX+a):this.moveDirection==="right"&&(i=n.globals.minX-a,s=n.globals.maxX-a),i=Math.floor(i),s=Math.floor(s),this.updateScrolledChart({xaxis:{min:i,max:s}},i,s)}},{key:"panScrolled",value:function(n,i){var s=this.w,a=this.xyRatios,o=xe.clone(s.globals.initialConfig.yaxis),l=a.xRatio,c=s.globals.minX,u=s.globals.maxX;s.globals.isRangeBar&&(l=a.invertedYRatio,c=s.globals.minY,u=s.globals.maxY),this.moveDirection==="left"?(n=c+s.globals.gridWidth/15*l,i=u+s.globals.gridWidth/15*l):this.moveDirection==="right"&&(n=c-s.globals.gridWidth/15*l,i=u-s.globals.gridWidth/15*l),s.globals.isRangeBar||(n<s.globals.initialMinX||i>s.globals.initialMaxX)&&(n=c,i=u);var d={xaxis:{min:n,max:i}};s.config.chart.group||(d.yaxis=o),this.updateScrolledChart(d,n,i)}},{key:"updateScrolledChart",value:function(n,i,s){var a=this.w;this.ctx.updateHelpers._updateOptions(n,!1,!1),typeof a.config.chart.events.scrolled=="function"&&a.config.chart.events.scrolled(this.ctx,{xaxis:{min:i,max:s}})}}]),t}(),RI=function(){function r(e){_t(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return Mt(r,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,n=e.elGrid,i=e.clientX,s=e.clientY,a=this.w,o=n.getBoundingClientRect(),l=o.width,c=o.height,u=l/(a.globals.dataPoints-1),d=c/a.globals.dataPoints,f=this.hasBars();!a.globals.comboCharts&&!f||a.config.xaxis.convertedCatToNumeric||(u=l/a.globals.dataPoints);var m=i-o.left-a.globals.barPadForNumericAxis,v=s-o.top;m<0||v<0||m>l||v>c?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):a.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):a.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var y=Math.round(m/u),w=Math.floor(v/d);f&&!a.config.xaxis.convertedCatToNumeric&&(y=Math.ceil(m/u),y-=1);var b=null,S=null,M=a.globals.seriesXvalues.map(function(k){return k.filter(function(B){return xe.isNumber(B)})}),E=a.globals.seriesYvalues.map(function(k){return k.filter(function(B){return xe.isNumber(B)})});if(a.globals.isXNumeric){var T=this.ttCtx.getElGrid().getBoundingClientRect(),R=m*(T.width/l),P=v*(T.height/c);b=(S=this.closestInMultiArray(R,P,M,E)).index,y=S.j,b!==null&&a.globals.hasNullValues&&(M=a.globals.seriesXvalues[b],y=(S=this.closestInArray(R,M)).j)}return a.globals.capturedSeriesIndex=b===null?-1:b,(!y||y<1)&&(y=0),a.globals.isBarHorizontal?a.globals.capturedDataPointIndex=w:a.globals.capturedDataPointIndex=y,{capturedSeries:b,j:a.globals.isBarHorizontal?w:y,hoverX:m,hoverY:v}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,n=0,i=e.map(function(a,o){return a.length>0?o:-1}),s=0;s<i.length;s++)if(i[s]!==-1&&t.globals.collapsedSeriesIndices.indexOf(s)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(s)===-1){n=i[s];break}return n}},{key:"closestInMultiArray",value:function(e,t,n,i){for(var s,a=this.w,o=1/0,l=null,c=null,u=0;u<n.length;u++)if(s=u,a.globals.collapsedSeriesIndices.indexOf(s)===-1&&a.globals.ancillaryCollapsedSeriesIndices.indexOf(s)===-1)for(var d=n[u],f=i[u],m=Math.min(d.length,f.length),v=0;v<m;v++){var y=e-d[v],w=Math.sqrt(y*y);if(!a.globals.allSeriesHasEqualX){var b=t-f[v];w=Math.sqrt(y*y+b*b)}w<o&&(o=w,l=u,c=v)}return{index:l,j:c}}},{key:"closestInArray",value:function(e,t){for(var n=t[0],i=null,s=Math.abs(e-n),a=0;a<t.length;a++){var o=Math.abs(e-t[a]);o<s&&(s=o,i=a)}return{j:i}}},{key:"isXoverlap",value:function(e){var t=[],n=this.w.globals.seriesX.filter(function(s){return s[0]!==void 0});if(n.length>0)for(var i=0;i<n.length-1;i++)n[i][e]!==void 0&&n[i+1][e]!==void 0&&n[i][e]!==n[i+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,n=0;n<t.length-1;n++)if(t[n].data.length!==t[n+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return hr(e).reduce(function(t,n){return t+n.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");n=hr(n),t&&(n=n.filter(function(s){var a=Number(s.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(a)===-1})),n.sort(function(s,a){var o=Number(s.getAttribute("data:realIndex")),l=Number(a.getAttribute("data:realIndex"));return l<o?1:l>o?-1:0});var i=[];return n.forEach(function(s){i.push(s.querySelector(".apexcharts-marker"))}),i}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var n=Number(e.getAttribute("cx")),i=Number(e.getAttribute("cy")),s=e.getAttribute("shape");return new Ye(this.ctx).getMarkerPath(n,i,s,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,n=t.config.markers.hover.size;return n===void 0&&(n=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),n}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,n=this.ttCtx;n.allTooltipSeriesGroups.length===0&&(n.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var i=n.allTooltipSeriesGroups,s=0;s<i.length;s++)e==="enable"?(i[s].classList.add("apexcharts-active"),i[s].style.display=t.config.tooltip.items.display):(i[s].classList.remove("apexcharts-active"),i[s].style.display="none")}}]),r}(),wU=function(){function r(e){_t(this,r),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new RI(e)}return Mt(r,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,n=t===void 0||t,i=e.ttItems,s=e.i,a=s===void 0?0:s,o=e.j,l=o===void 0?null:o,c=e.y1,u=e.y2,d=e.e,f=this.w;f.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:a,j:l,y1:c,y2:u,w:f}):this.toggleActiveInactiveSeries(n,a);var m=this.getValuesToPrint({i:a,j:l});this.printLabels({i:a,j:l,values:m,ttItems:i,shared:n,e:d});var v=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=v.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=v.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,n=this,i=e.i,s=e.j,a=e.values,o=e.ttItems,l=e.shared,c=e.e,u=this.w,d=[],f=function(T){return u.globals.seriesGoals[T]&&u.globals.seriesGoals[T][s]&&Array.isArray(u.globals.seriesGoals[T][s])},m=a.xVal,v=a.zVal,y=a.xAxisTTVal,w="",b=u.globals.colors[i];s!==null&&u.config.plotOptions.bar.distributed&&(b=u.globals.colors[s]);for(var S=function(T,R){var P=n.getFormatters(i);w=n.getSeriesName({fn:P.yLbTitleFormatter,index:i,seriesIndex:i,j:s}),u.config.chart.type==="treemap"&&(w=P.yLbTitleFormatter(String(u.config.series[i].data[s].x),{series:u.globals.series,seriesIndex:i,dataPointIndex:s,w:u}));var k=u.config.tooltip.inverseOrder?R:T;if(u.globals.axisCharts){var B=function(V){var X,K,ie,ee;return u.globals.isRangeData?P.yLbFormatter((X=u.globals.seriesRangeStart)===null||X===void 0||(K=X[V])===null||K===void 0?void 0:K[s],{series:u.globals.seriesRangeStart,seriesIndex:V,dataPointIndex:s,w:u})+" - "+P.yLbFormatter((ie=u.globals.seriesRangeEnd)===null||ie===void 0||(ee=ie[V])===null||ee===void 0?void 0:ee[s],{series:u.globals.seriesRangeEnd,seriesIndex:V,dataPointIndex:s,w:u}):P.yLbFormatter(u.globals.series[V][s],{series:u.globals.series,seriesIndex:V,dataPointIndex:s,w:u})};if(l)P=n.getFormatters(k),w=n.getSeriesName({fn:P.yLbTitleFormatter,index:k,seriesIndex:i,j:s}),b=u.globals.colors[k],t=B(k),f(k)&&(d=u.globals.seriesGoals[k][s].map(function(V){return{attrs:V,val:P.yLbFormatter(V.value,{seriesIndex:k,dataPointIndex:s,w:u})}}));else{var D,O=c==null||(D=c.target)===null||D===void 0?void 0:D.getAttribute("fill");O&&(O.indexOf("url")!==-1?O.indexOf("Pattern")!==-1&&(b=u.globals.dom.baseEl.querySelector(O.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):b=O),t=B(i),f(i)&&Array.isArray(u.globals.seriesGoals[i][s])&&(d=u.globals.seriesGoals[i][s].map(function(V){return{attrs:V,val:P.yLbFormatter(V.value,{seriesIndex:i,dataPointIndex:s,w:u})}}))}}s===null&&(t=P.yLbFormatter(u.globals.series[i],lt(lt({},u),{},{seriesIndex:i,dataPointIndex:i}))),n.DOMHandling({i,t:k,j:s,ttItems:o,values:{val:t,goalVals:d,xVal:m,xAxisTTVal:y,zVal:v},seriesName:w,shared:l,pColor:b})},M=0,E=u.globals.series.length-1;M<u.globals.series.length;M++,E--)S(M,E)}},{key:"getFormatters",value:function(e){var t,n=this.w,i=n.globals.yLabelFormatters[e];return n.globals.ttVal!==void 0?Array.isArray(n.globals.ttVal)?(i=n.globals.ttVal[e]&&n.globals.ttVal[e].formatter,t=n.globals.ttVal[e]&&n.globals.ttVal[e].title&&n.globals.ttVal[e].title.formatter):(i=n.globals.ttVal.formatter,typeof n.globals.ttVal.title.formatter=="function"&&(t=n.globals.ttVal.title.formatter)):t=n.config.tooltip.y.title.formatter,typeof i!="function"&&(i=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(s){return s}),typeof t!="function"&&(t=function(s){return s?s+": ":""}),{yLbFormatter:i,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,n=e.index,i=e.seriesIndex,s=e.j,a=this.w;return t(String(a.globals.seriesNames[n]),{series:a.globals.series,seriesIndex:i,dataPointIndex:s,w:a})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,n=e.j,i=e.ttItems,s=e.values,a=e.seriesName,o=e.shared,l=e.pColor,c=this.w,u=this.ttCtx,d=s.val,f=s.goalVals,m=s.xVal,v=s.xAxisTTVal,y=s.zVal,w=null;w=i[t].children,c.config.tooltip.fillSeriesColor&&(i[t].style.color=l,w[0].style.display="none"),u.showTooltipTitle&&(u.tooltipTitle===null&&(u.tooltipTitle=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),u.tooltipTitle.innerHTML=m),u.isXAxisTooltipEnabled&&(u.xaxisTooltipText.innerHTML=v!==""?v:m);var b=i[t].querySelector(".apexcharts-tooltip-text-y-label");b&&(b.innerHTML=a||"");var S=i[t].querySelector(".apexcharts-tooltip-text-y-value");S&&(S.innerHTML=d!==void 0?d:""),w[0]&&w[0].classList.contains("apexcharts-tooltip-marker")&&(c.config.tooltip.marker.fillColors&&Array.isArray(c.config.tooltip.marker.fillColors)&&(l=c.config.tooltip.marker.fillColors[t]),w[0].style.color=l),c.config.tooltip.marker.show||(w[0].style.display="none");var M=i[t].querySelector(".apexcharts-tooltip-text-goals-label"),E=i[t].querySelector(".apexcharts-tooltip-text-goals-value");if(f.length&&c.globals.seriesGoals[t]){var T=function(){var k="<div>",B="<div>";f.forEach(function(D,O){k+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(D.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(D.attrs.name,"</div>"),B+="<div>".concat(D.val,"</div>")}),M.innerHTML=k+"</div>",E.innerHTML=B+"</div>"};o?c.globals.seriesGoals[t][n]&&Array.isArray(c.globals.seriesGoals[t][n])?T():(M.innerHTML="",E.innerHTML=""):T()}else M.innerHTML="",E.innerHTML="";if(y!==null&&(i[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=c.config.tooltip.z.title,i[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=y!==void 0?y:""),o&&w[0]){if(c.config.tooltip.hideEmptySeries){var R=i[t].querySelector(".apexcharts-tooltip-marker"),P=i[t].querySelector(".apexcharts-tooltip-text");parseFloat(d)==0?(R.style.display="none",P.style.display="none"):(R.style.display="block",P.style.display="block")}d==null||c.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||c.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1?w[0].parentNode.style.display="none":w[0].parentNode.style.display=c.config.tooltip.items.display}else Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1&&(w[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var n=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var i=n.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));i&&(i.classList.add("apexcharts-active"),i.style.display=n.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,n=e.j,i=this.w,s=this.ctx.series.filteredSeriesX(),a="",o="",l=null,c=null,u={series:i.globals.series,seriesIndex:t,dataPointIndex:n,w:i},d=i.globals.ttZFormatter;n===null?c=i.globals.series[t]:i.globals.isXNumeric&&i.config.chart.type!=="treemap"?(a=s[t][n],s[t].length===0&&(a=s[this.tooltipUtil.getFirstActiveXArray(s)][n])):a=new lS(this.ctx).isFormatXY()?i.config.series[t].data[n]!==void 0?i.config.series[t].data[n].x:"":i.globals.labels[n]!==void 0?i.globals.labels[n]:"";var f=a;return i.globals.isXNumeric&&i.config.xaxis.type==="datetime"?a=new xg(this.ctx).xLabelFormat(i.globals.ttKeyFormatter,f,f,{i:void 0,dateFormatter:new Fr(this.ctx).formatDate,w:this.w}):a=i.globals.isBarHorizontal?i.globals.yLabelFormatters[0](f,u):i.globals.xLabelFormatter(f,u),i.config.tooltip.x.formatter!==void 0&&(a=i.globals.ttKeyFormatter(f,u)),i.globals.seriesZ.length>0&&i.globals.seriesZ[t].length>0&&(l=d(i.globals.seriesZ[t][n],i)),o=typeof i.config.xaxis.tooltip.formatter=="function"?i.globals.xaxisTooltipFormatter(f,u):a,{val:Array.isArray(c)?c.join(" "):c,xVal:Array.isArray(a)?a.join(" "):a,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:l}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,n=e.j,i=e.y1,s=e.y2,a=e.w,o=this.ttCtx.getElTooltip(),l=a.config.tooltip.custom;Array.isArray(l)&&l[t]&&(l=l[t]);var c=l({ctx:this.ctx,series:a.globals.series,seriesIndex:t,dataPointIndex:n,y1:i,y2:s,w:a});typeof c=="string"?o.innerHTML=c:(c instanceof Element||typeof c.nodeName=="string")&&(o.innerHTML="",o.appendChild(c.cloneNode(!0)))}}]),r}(),II=function(){function r(e){_t(this,r),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return Mt(r,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.ttCtx,i=this.w,s=n.getElXCrosshairs(),a=e-n.xcrosshairsWidth/2,o=i.globals.labels.slice().length;if(t!==null&&(a=i.globals.gridWidth/o*t),s===null||i.globals.isBarHorizontal||(s.setAttribute("x",a),s.setAttribute("x1",a),s.setAttribute("x2",a),s.setAttribute("y2",i.globals.gridHeight),s.classList.add("apexcharts-active")),a<0&&(a=0),a>i.globals.gridWidth&&(a=i.globals.gridWidth),n.isXAxisTooltipEnabled){var l=a;i.config.xaxis.crosshairs.width!=="tickWidth"&&i.config.xaxis.crosshairs.width!=="barWidth"||(l=a+n.xcrosshairsWidth/2),this.moveXAxisTooltip(l)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&Ye.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&Ye.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;if(n.xaxisTooltip!==null&&n.xcrosshairsWidth!==0){n.xaxisTooltip.classList.add("apexcharts-active");var i=n.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=n.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var s;s=new Ye(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=s.width+"px",n.xaxisTooltip.style.left=e+"px",n.xaxisTooltip.style.top=i+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;n.yaxisTTEls===null&&(n.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var i=parseInt(n.ycrosshairsHidden.getAttribute("y1"),10),s=t.globals.translateY+i,a=n.yaxisTTEls[e].getBoundingClientRect().height,o=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(o-=26),s-=a/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1?(n.yaxisTTEls[e].classList.add("apexcharts-active"),n.yaxisTTEls[e].style.top=s+"px",n.yaxisTTEls[e].style.left=o+t.config.yaxis[e].tooltip.offsetX+"px"):n.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=this.w,s=this.ttCtx,a=s.getElTooltip(),o=s.tooltipRect,l=n!==null?parseFloat(n):1,c=parseFloat(e)+l+5,u=parseFloat(t)+l/2;if(c>i.globals.gridWidth/2&&(c=c-o.ttWidth-l-10),c>i.globals.gridWidth-o.ttWidth-10&&(c=i.globals.gridWidth-o.ttWidth),c<-20&&(c=-20),i.config.tooltip.followCursor){var d=s.getElGrid().getBoundingClientRect();(c=s.e.clientX-d.left)>i.globals.gridWidth/2&&(c-=s.tooltipRect.ttWidth),(u=s.e.clientY+i.globals.translateY-d.top)>i.globals.gridHeight/2&&(u-=s.tooltipRect.ttHeight)}else i.globals.isBarHorizontal||o.ttHeight/2+u>i.globals.gridHeight&&(u=i.globals.gridHeight-o.ttHeight+i.globals.translateY);isNaN(c)||(c+=i.globals.translateX,a.style.left=c+"px",a.style.top=u+"px")}},{key:"moveMarkers",value:function(e,t){var n=this.w,i=this.ttCtx;if(n.globals.markers.size[e]>0)for(var s=n.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),a=0;a<s.length;a++)parseInt(s[a].getAttribute("rel"),10)===t&&(i.marker.resetPointsSize(),i.marker.enlargeCurrentPoint(t,s[a]));else i.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var n,i,s,a,o=this.w,l=this.ttCtx,c=new Ye(this.ctx),u=o.globals.pointsArray,d=l.tooltipUtil.getHoverMarkerSize(t),f=o.config.series[t].type;if(!f||f!=="column"&&f!=="candlestick"&&f!=="boxPlot"){s=(n=u[t][e])===null||n===void 0?void 0:n[0],a=((i=u[t][e])===null||i===void 0?void 0:i[1])||0;var m=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(m&&a<o.globals.gridHeight&&a>0){var v=m.getAttribute("shape"),y=c.getMarkerPath(s,a,v,1.5*d);m.setAttribute("d",y)}this.moveXCrosshairs(s),l.fixedTooltip||this.moveTooltip(s,a,d)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,n=this.ttCtx,i=n.w,s=0,a=0,o=i.globals.pointsArray,l=new Ea(this.ctx),c=new Ye(this.ctx);t=l.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var u=n.tooltipUtil.getHoverMarkerSize(t);if(o[t]&&(s=o[t][e][0],a=o[t][e][1]),!isNaN(s)){var d=n.tooltipUtil.getAllMarkers();if(d.length)for(var f=0;f<i.globals.series.length;f++){var m=o[f];if(i.globals.comboCharts&&m===void 0&&d.splice(f,0,null),m&&m.length){var v=o[f][e][1],y=void 0;d[f].setAttribute("cx",s);var w=d[f].getAttribute("shape");if(i.config.chart.type==="rangeArea"&&!i.globals.comboCharts){var b=e+i.globals.series[f].length;y=o[f][b][1],v-=Math.abs(v-y)/2}if(v!==null&&!isNaN(v)&&v<i.globals.gridHeight+u&&v+u>0){var S=c.getMarkerPath(s,v,w,u);d[f].setAttribute("d",S)}else d[f].setAttribute("d","")}}this.moveXCrosshairs(s),n.fixedTooltip||this.moveTooltip(s,a||i.globals.gridHeight,u)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var n=this.w,i=this.ttCtx,s=n.globals.columnSeries?n.globals.columnSeries.length:n.globals.series.length;n.config.chart.stacked&&(s=n.globals.barGroups.length);var a=s>=2&&s%2==0?Math.floor(s/2):Math.floor(s/2)+1;n.globals.isBarHorizontal&&(a=new Ea(this.ctx).getActiveConfigSeriesIndex("desc")+1);var o=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"']"));o||typeof t!="number"||(o=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var l=o?parseFloat(o.getAttribute("cx")):0,c=o?parseFloat(o.getAttribute("cy")):0,u=o?parseFloat(o.getAttribute("barWidth")):0,d=i.getElGrid().getBoundingClientRect(),f=o&&(o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area"));n.globals.isXNumeric?(o&&!f&&(l-=s%2!=0?u/2:0),o&&f&&(l-=u/2)):n.globals.isBarHorizontal||(l=i.xAxisTicksPositions[e-1]+i.dataPointsDividedWidth/2,isNaN(l)&&(l=i.xAxisTicksPositions[e]-i.dataPointsDividedWidth/2)),n.globals.isBarHorizontal?c-=i.tooltipRect.ttHeight:n.config.tooltip.followCursor?c=i.e.clientY-d.top-i.tooltipRect.ttHeight/2:c+i.tooltipRect.ttHeight+15>n.globals.gridHeight&&(c=n.globals.gridHeight),n.globals.isBarHorizontal||this.moveXCrosshairs(l),i.fixedTooltip||this.moveTooltip(l,c||n.globals.gridHeight)}}]),r}(),AU=function(){function r(e){_t(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new II(e)}return Mt(r,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new Ye(this.ctx),n=new Wf(this.ctx),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");i=hr(i),e.config.chart.stacked&&i.sort(function(d,f){return parseFloat(d.getAttribute("data:realIndex"))-parseFloat(f.getAttribute("data:realIndex"))});for(var s=0;s<i.length;s++){var a=i[s].querySelector(".apexcharts-series-markers-wrap");if(a!==null){var o=void 0,l="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(l+=" no-pointer-events");var c=n.getMarkerConfig({cssClass:l,seriesIndex:Number(a.getAttribute("data:realIndex"))});(o=t.drawMarker(0,0,c)).node.setAttribute("default-marker-size",0);var u=document.createElementNS(e.globals.SVGNS,"g");u.classList.add("apexcharts-series-markers"),u.appendChild(o.node),a.appendChild(u)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.w;s.config.chart.type!=="bubble"&&this.newPointSize(e,t);var a=t.getAttribute("cx"),o=t.getAttribute("cy");if(n!==null&&i!==null&&(a=n,o=i),this.tooltipPosition.moveXCrosshairs(a),!this.fixedTooltip){if(s.config.chart.type==="radar"){var l=this.ttCtx.getElGrid().getBoundingClientRect();a=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(a,o,s.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,n=this,i=this.ttCtx,s=e,a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=t.config.markers.hover.size,l=0;l<a.length;l++){var c=a[l].getAttribute("rel"),u=a[l].getAttribute("index");if(o===void 0&&(o=t.globals.markers.size[u]+t.config.markers.hover.sizeOffset),s===parseInt(c,10)){n.newPointSize(s,a[l]);var d=a[l].getAttribute("cx"),f=a[l].getAttribute("cy");n.tooltipPosition.moveXCrosshairs(d),i.fixedTooltip||n.tooltipPosition.moveTooltip(d,f,o)}else n.oldPointSize(a[l])}}},{key:"newPointSize",value:function(e,t){var n=this.w,i=n.config.markers.hover.size,s=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(s.getAttribute("default-marker-size")!=="0"){var a=parseInt(s.getAttribute("index"),10);i===void 0&&(i=n.globals.markers.size[a]+n.config.markers.hover.sizeOffset),i<0&&(i=0);var o=this.ttCtx.tooltipUtil.getPathFromPoint(t,i);t.setAttribute("d",o)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),n=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",n)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var n=parseFloat(e[t].getAttribute("default-marker-size"));if(xe.isNumber(n)&&n>0){var i=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],n);e[t].setAttribute("d",i)}else e[t].setAttribute("d","M0,0")}}}]),r}(),SU=function(){function r(e){_t(this,r),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return Mt(r,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,n=e.opt,i=e.x,s=e.y,a=e.type,o=this.ttCtx,l=this.w;if(t.target.classList.contains("apexcharts-".concat(a,"-rect"))){var c=this.getAttr(t,"i"),u=this.getAttr(t,"j"),d=this.getAttr(t,"cx"),f=this.getAttr(t,"cy"),m=this.getAttr(t,"width"),v=this.getAttr(t,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:c,j:u,shared:!1,e:t}),l.globals.capturedSeriesIndex=c,l.globals.capturedDataPointIndex=u,i=d+o.tooltipRect.ttWidth/2+m,s=f+o.tooltipRect.ttHeight/2-v/2,o.tooltipPosition.moveXCrosshairs(d+m/2),i>l.globals.gridWidth/2&&(i=d-o.tooltipRect.ttWidth/2+m),o.w.config.tooltip.followCursor){var y=l.globals.dom.elWrap.getBoundingClientRect();i=l.globals.clientX-y.left-(i>l.globals.gridWidth/2?o.tooltipRect.ttWidth:0),s=l.globals.clientY-y.top-(s>l.globals.gridHeight/2?o.tooltipRect.ttHeight:0)}}return{x:i,y:s}}},{key:"handleMarkerTooltip",value:function(e){var t,n,i=e.e,s=e.opt,a=e.x,o=e.y,l=this.w,c=this.ttCtx;if(i.target.classList.contains("apexcharts-marker")){var u=parseInt(s.paths.getAttribute("cx"),10),d=parseInt(s.paths.getAttribute("cy"),10),f=parseFloat(s.paths.getAttribute("val"));if(n=parseInt(s.paths.getAttribute("rel"),10),t=parseInt(s.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,c.intersect){var m=xe.findAncestor(s.paths,"apexcharts-series");m&&(t=parseInt(m.getAttribute("data:realIndex"),10))}if(c.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:t,j:n,shared:!c.showOnIntersect&&l.config.tooltip.shared,e:i}),i.type==="mouseup"&&c.markerClick(i,t,n),l.globals.capturedSeriesIndex=t,l.globals.capturedDataPointIndex=n,a=u,o=d+l.globals.translateY-1.4*c.tooltipRect.ttHeight,c.w.config.tooltip.followCursor){var v=c.getElGrid().getBoundingClientRect();o=c.e.clientY+l.globals.translateY-v.top}f<0&&(o=d),c.marker.enlargeCurrentPoint(n,s.paths,a,o)}return{x:a,y:o}}},{key:"handleBarTooltip",value:function(e){var t,n,i=e.e,s=e.opt,a=this.w,o=this.ttCtx,l=o.getElTooltip(),c=0,u=0,d=0,f=this.getBarTooltipXY({e:i,opt:s});if(f.j!==null||f.barHeight!==0||f.barWidth!==0){t=f.i;var m=f.j;if(a.globals.capturedSeriesIndex=t,a.globals.capturedDataPointIndex=m,a.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!a.config.tooltip.shared?(u=f.x,d=f.y,n=Array.isArray(a.config.stroke.width)?a.config.stroke.width[t]:a.config.stroke.width,c=u):a.globals.comboCharts||a.config.tooltip.shared||(c/=2),isNaN(d)&&(d=a.globals.svgHeight-o.tooltipRect.ttHeight),parseInt(s.paths.parentNode.getAttribute("data:realIndex"),10),u+o.tooltipRect.ttWidth>a.globals.gridWidth?u-=o.tooltipRect.ttWidth:u<0&&(u=0),o.w.config.tooltip.followCursor){var v=o.getElGrid().getBoundingClientRect();d=o.e.clientY-v.top}o.tooltip===null&&(o.tooltip=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),a.config.tooltip.shared||(a.globals.comboBarCount>0?o.tooltipPosition.moveXCrosshairs(c+n/2):o.tooltipPosition.moveXCrosshairs(c)),!o.fixedTooltip&&(!a.config.tooltip.shared||a.globals.isBarHorizontal&&o.tooltipUtil.hasBars())&&(d=d+a.globals.translateY-o.tooltipRect.ttHeight/2,l.style.left=u+a.globals.translateX+"px",l.style.top=d+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,n=e.e,i=e.opt,s=this.w,a=null,o=this.ttCtx,l=0,c=0,u=0,d=0,f=0,m=n.target.classList;if(m.contains("apexcharts-bar-area")||m.contains("apexcharts-candlestick-area")||m.contains("apexcharts-boxPlot-area")||m.contains("apexcharts-rangebar-area")){var v=n.target,y=v.getBoundingClientRect(),w=i.elGrid.getBoundingClientRect(),b=y.height;f=y.height;var S=y.width,M=parseInt(v.getAttribute("cx"),10),E=parseInt(v.getAttribute("cy"),10);d=parseFloat(v.getAttribute("barWidth"));var T=n.type==="touchmove"?n.touches[0].clientX:n.clientX;a=parseInt(v.getAttribute("j"),10),l=parseInt(v.parentNode.getAttribute("rel"),10)-1;var R=v.getAttribute("data-range-y1"),P=v.getAttribute("data-range-y2");s.globals.comboCharts&&(l=parseInt(v.parentNode.getAttribute("data:realIndex"),10));var k=function(D){return s.globals.isXNumeric?M-S/2:t.isVerticalGroupedRangeBar?M+S/2:M-o.dataPointsDividedWidth+S/2},B=function(){return E-o.dataPointsDividedHeight+b/2-o.tooltipRect.ttHeight/2};o.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:l,j:a,y1:R?parseInt(R,10):null,y2:P?parseInt(P,10):null,shared:!o.showOnIntersect&&s.config.tooltip.shared,e:n}),s.config.tooltip.followCursor?s.globals.isBarHorizontal?(c=T-w.left+15,u=B()):(c=k(),u=n.clientY-w.top-o.tooltipRect.ttHeight/2-15):s.globals.isBarHorizontal?((c=M)<o.xyRatios.baseLineInvertedY&&(c=M-o.tooltipRect.ttWidth),u=B()):(c=k(),u=E)}return{x:c,y:u,barHeight:f,barWidth:d,i:l,j:a}}}]),r}(),_U=function(){function r(e){_t(this,r),this.w=e.w,this.ttCtx=e}return Mt(r,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,n=e.config.xaxis.position==="bottom";t.xaxisOffY=n?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var i=n?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",s=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),s.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,n=0;n<e.config.yaxis.length;n++){var i=e.config.yaxis[n].opposite||e.config.yaxis[n].crosshairs.opposite;t.yaxisOffX=i?e.globals.gridWidth+1:1;var s="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n,i?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),a=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(t.yaxisTooltip),n===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[n]=document.createElement("div"),t.yaxisTooltipText[n].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[n]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,n=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var i=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(i!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var s=parseFloat(i.getAttribute("barWidth"));t.xcrosshairsWidth=s}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var a=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/a}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/o}else if(e.config.xaxis.crosshairs.width==="barWidth"){var l=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(l!==null){var c=parseFloat(l.getAttribute("barWidth"));t.xcrosshairsWidth=c}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),n!==null&&t.xcrosshairsWidth>0&&n.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,n){var i=this.ttCtx,s=this.w,a=s.globals,o=a.seriesYAxisMap[e];if(i.yaxisTooltips[e]&&o.length>0){var l=a.yLabelFormatters[e],c=i.getElGrid().getBoundingClientRect(),u=o[0],d=0;n.yRatio.length>1&&(d=u);var f=(t-c.top)*n.yRatio[d],m=a.maxYArr[u]-a.minYArr[u],v=a.minYArr[u]+(m-f);s.config.yaxis[e].reversed&&(v=a.maxYArr[u]-(m-f)),i.tooltipPosition.moveYCrosshairs(t-c.top),i.yaxisTooltipText[e].innerHTML=l(v),i.tooltipPosition.moveYAxisTooltip(e)}}}]),r}(),XC=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new RI(this),this.tooltipLabels=new wU(this),this.tooltipPosition=new II(this),this.marker=new AU(this),this.intersect=new SU(this),this.axesTooltip=new _U(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return Mt(r,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(a,o){return!!(a.show&&a.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&n.classList.add(t.config.tooltip.cssClass),n.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(n),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var i=new Ym(this.ctx);this.xAxisTicksPositions=i.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var s=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(s=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(s),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,n=this.w,i=[],s=this.getElTooltip(),a=function(l){var c=document.createElement("div");c.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(l)),c.style.order=n.config.tooltip.inverseOrder?e-l:l+1;var u=document.createElement("span");u.classList.add("apexcharts-tooltip-marker"),u.style.color=n.globals.colors[l];var d=n.config.markers.shape,f=d;Array.isArray(d)&&(f=d[l]),u.setAttribute("shape",f),c.appendChild(u);var m=document.createElement("div");m.classList.add("apexcharts-tooltip-text"),m.style.fontFamily=t.tConfig.style.fontFamily||n.config.chart.fontFamily,m.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(v){var y=document.createElement("div");y.classList.add("apexcharts-tooltip-".concat(v,"-group"));var w=document.createElement("span");w.classList.add("apexcharts-tooltip-text-".concat(v,"-label")),y.appendChild(w);var b=document.createElement("span");b.classList.add("apexcharts-tooltip-text-".concat(v,"-value")),y.appendChild(b),m.appendChild(y)}),c.appendChild(m),s.appendChild(c),i.push(c)},o=0;o<e;o++)a(o);return i}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,n=this.getElTooltip(),i=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),s=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",a=e.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var l,c=[],u=[],d={hoverArea:a,elGrid:o,tooltipEl:n,tooltipY:c,tooltipX:u,ttItems:this.ttItems};if(e.globals.axisCharts&&(s?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):i?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),l&&l.length))for(var f=0;f<l.length;f++)c.push(l[f].getAttribute("cy")),u.push(l[f].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||i&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([a],d);else if(i&&!e.globals.comboCharts||s&&this.showOnIntersect)this.addDatapointEventsListeners(d);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var m=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(m,d)}if(this.showOnIntersect){var v=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");v.length>0&&this.addPathsEventListeners(v,d),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(d)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),n=t.getBoundingClientRect(),i=n.width+10,s=n.height+10,a=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,l=this.tConfig.fixed.position.toLowerCase();return l.indexOf("right")>-1&&(a=a+e.globals.svgWidth-i+10),l.indexOf("bottom")>-1&&(o=o+e.globals.svgHeight-s-10),t.style.left=a+"px",t.style.top=o+"px",{x:a,y:o,ttWidth:i,ttHeight:s}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var n=this,i=function(a){var o={paths:e[a],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(l){return e[a].addEventListener(l,n.onSeriesHover.bind(n,o),{capture:!1,passive:!0})})},s=0;s<e.length;s++)i(s)}},{key:"onSeriesHover",value:function(e,t){var n=this,i=Date.now()-this.lastHoverTime;i>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){n.seriesHover(e,t)},20-i))}},{key:"seriesHover",value:function(e,t){var n=this;this.lastHoverTime=Date.now();var i=[],s=this.w;s.config.chart.group&&(i=this.ctx.getGroupedCharts()),s.globals.axisCharts&&(s.globals.minX===-1/0&&s.globals.maxX===1/0||s.globals.dataPoints===0)||(i.length?i.forEach(function(a){var o=n.getElTooltip(a),l={paths:e.paths,tooltipEl:o,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:a.w.globals.tooltip.ttItems};a.w.globals.minX===n.w.globals.minX&&a.w.globals.maxX===n.w.globals.maxX&&a.w.globals.tooltip.seriesHoverByContext({chartCtx:a,ttCtx:a.w.globals.tooltip,opt:l,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,n=e.ttCtx,i=e.opt,s=e.e,a=t.w,o=this.getElTooltip(t);o&&(n.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},n.e=s,n.tooltipUtil.hasBars()&&!a.globals.comboCharts&&!n.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ea(t).toggleSeriesOnHover(s,s.target.parentNode),n.fixedTooltip&&n.drawFixedTooltipRect(),a.globals.axisCharts?n.axisChartsTooltips({e:s,opt:i,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:s,opt:i,tooltipRect:n.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var t,n,i=e.e,s=e.opt,a=this.w,o=s.elGrid.getBoundingClientRect(),l=i.type==="touchmove"?i.touches[0].clientX:i.clientX,c=i.type==="touchmove"?i.touches[0].clientY:i.clientY;if(this.clientY=c,this.clientX=l,a.globals.capturedSeriesIndex=-1,a.globals.capturedDataPointIndex=-1,c<o.top||c>o.top+o.height)this.handleMouseOut(s);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!a.config.tooltip.shared){var u=parseInt(s.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(u)<0)return void this.handleMouseOut(s)}var d=this.getElTooltip(),f=this.getElXCrosshairs(),m=[];a.config.chart.group&&(m=this.ctx.getSyncedCharts());var v=a.globals.xyCharts||a.config.chart.type==="bar"&&!a.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||a.globals.comboCharts&&this.tooltipUtil.hasBars();if(i.type==="mousemove"||i.type==="touchmove"||i.type==="mouseup"){if(a.globals.collapsedSeries.length+a.globals.ancillaryCollapsedSeries.length===a.globals.series.length)return;f!==null&&f.classList.add("apexcharts-active");var y=this.yaxisTooltips.filter(function(S){return S===!0});if(this.ycrosshairs!==null&&y.length&&this.ycrosshairs.classList.add("apexcharts-active"),v&&!this.showOnIntersect||m.length>1)this.handleStickyTooltip(i,l,c,s);else if(a.config.chart.type==="heatmap"||a.config.chart.type==="treemap"){var w=this.intersect.handleHeatTreeTooltip({e:i,opt:s,x:t,y:n,type:a.config.chart.type});t=w.x,n=w.y,d.style.left=t+"px",d.style.top=n+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:i,opt:s}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:i,opt:s,x:t,y:n});if(this.yaxisTooltips.length)for(var b=0;b<a.config.yaxis.length;b++)this.axesTooltip.drawYaxisTooltipText(b,c,this.xyRatios);a.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),s.tooltipEl.classList.add("apexcharts-active")}else i.type!=="mouseout"&&i.type!=="touchend"||this.handleMouseOut(s)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,n=e.opt,i=e.tooltipRect,s=this.w,a=n.paths.getAttribute("rel"),o=this.getElTooltip(),l=s.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){s.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(a,10)-1,shared:!1});var c=s.globals.clientX-l.left-i.ttWidth/2,u=s.globals.clientY-l.top-i.ttHeight-10;if(o.style.left=c+"px",o.style.top=u+"px",s.config.legend.tooltipHoverFormatter){var d=a-1,f=(0,s.config.legend.tooltipHoverFormatter)(this.legendLabels[d].getAttribute("data:default-text"),{seriesIndex:d,dataPointIndex:d,w:s});this.legendLabels[d].innerHTML=f}}else t.type!=="mouseout"&&t.type!=="touchend"||(o.classList.remove("apexcharts-active"),s.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),s.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(m){var v=m.getAttribute("data:default-text");m.innerHTML=decodeURIComponent(v)}))}},{key:"handleStickyTooltip",value:function(e,t,n,i){var s=this.w,a=this.tooltipUtil.getNearestValues({context:this,hoverArea:i.hoverArea,elGrid:i.elGrid,clientX:t,clientY:n}),o=a.j,l=a.capturedSeries;s.globals.collapsedSeriesIndices.includes(l)&&(l=null);var c=i.elGrid.getBoundingClientRect();if(a.hoverX<0||a.hoverX>c.width)this.handleMouseOut(i);else if(l!==null)this.handleStickyCapturedSeries(e,l,i,o);else if(this.tooltipUtil.isXoverlap(o)||s.globals.isBarHorizontal){var u=s.globals.series.findIndex(function(d,f){return!s.globals.collapsedSeriesIndices.includes(f)});this.create(e,this,u,o,i.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,n,i){var s=this.w;if(!this.tConfig.shared&&s.globals.series[t][i]===null)return void this.handleMouseOut(n);if(s.globals.series[t][i]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(i)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,i,n.ttItems):this.create(e,this,t,i,n.ttItems,!1);else if(this.tooltipUtil.isXoverlap(i)){var a=s.globals.series.findIndex(function(o,l){return!s.globals.collapsedSeriesIndices.includes(l)});this.create(e,this,a,i,n.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new Ye(this.ctx),n=e.globals.dom.Paper.find(".apexcharts-bar-area"),i=0;i<n.length;i++)t.pathMouseLeave(n[i])}},{key:"handleMouseOut",value:function(e){var t=this.w,n=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),n!==null&&n.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var i=0;i<this.yaxisTTEls.length;i++)this.yaxisTTEls[i].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(s){var a=s.getAttribute("data:default-text");s.innerHTML=decodeURIComponent(a)})}},{key:"markerClick",value:function(e,t,n){var i=this.w;typeof i.config.chart.events.markerClick=="function"&&i.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:i}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:i}])}},{key:"create",value:function(e,t,n,i,s){var a,o,l,c,u,d,f,m,v,y,w,b,S,M,E,T,R=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,P=this.w,k=t;e.type==="mouseup"&&this.markerClick(e,n,i),R===null&&(R=this.tConfig.shared);var B=this.tooltipUtil.hasMarkers(n),D=this.tooltipUtil.getElBars(),O=function(){P.globals.markers.largestSize>0?k.marker.enlargePoints(i):k.tooltipPosition.moveDynamicPointsOnHover(i)};if(P.config.legend.tooltipHoverFormatter){var V=P.config.legend.tooltipHoverFormatter,X=Array.from(this.legendLabels);X.forEach(function(Pe){var fe=Pe.getAttribute("data:default-text");Pe.innerHTML=decodeURIComponent(fe)});for(var K=0;K<X.length;K++){var ie=X[K],ee=parseInt(ie.getAttribute("i"),10),ae=decodeURIComponent(ie.getAttribute("data:default-text")),z=V(ae,{seriesIndex:R?ee:n,dataPointIndex:i,w:P});if(R)ie.innerHTML=P.globals.collapsedSeriesIndices.indexOf(ee)<0?z:ae;else if(ie.innerHTML=ee===n?z:ae,n===ee)break}}var Q=lt(lt({ttItems:s,i:n,j:i},((a=P.globals.seriesRange)===null||a===void 0||(o=a[n])===null||o===void 0||(l=o[i])===null||l===void 0||(c=l.y[0])===null||c===void 0?void 0:c.y1)!==void 0&&{y1:(u=P.globals.seriesRange)===null||u===void 0||(d=u[n])===null||d===void 0||(f=d[i])===null||f===void 0||(m=f.y[0])===null||m===void 0?void 0:m.y1}),((v=P.globals.seriesRange)===null||v===void 0||(y=v[n])===null||y===void 0||(w=y[i])===null||w===void 0||(b=w.y[0])===null||b===void 0?void 0:b.y2)!==void 0&&{y2:(S=P.globals.seriesRange)===null||S===void 0||(M=S[n])===null||M===void 0||(E=M[i])===null||E===void 0||(T=E.y[0])===null||T===void 0?void 0:T.y2});if(R){if(k.tooltipLabels.drawSeriesTexts(lt(lt({},Q),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),B)O();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(D),this.barSeriesHeight>0)){var Z=new Ye(this.ctx),Y=P.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(i,"']"));this.deactivateHoverFilter(),k.tooltipPosition.moveStickyTooltipOverBars(i,n),k.tooltipUtil.getAllMarkers(!0).length&&O();for(var oe=0;oe<Y.length;oe++)Z.pathMouseEnter(Y[oe])}}else k.tooltipLabels.drawSeriesTexts(lt({shared:!1},Q)),this.tooltipUtil.hasBars()&&k.tooltipPosition.moveStickyTooltipOverBars(i,n),B&&k.tooltipPosition.moveMarkers(n,i)}}]),r}(),MU=function(){function r(e){_t(this,r),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return Mt(r,[{key:"handleBarDataLabels",value:function(e){var t,n,i=e.x,s=e.y,a=e.y1,o=e.y2,l=e.i,c=e.j,u=e.realIndex,d=e.columnGroupIndex,f=e.series,m=e.barHeight,v=e.barWidth,y=e.barXPosition,w=e.barYPosition,b=e.visibleSeries,S=e.renderedPath,M=this.w,E=new Ye(this.barCtx.ctx),T=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth;M.globals.isXNumeric&&!M.globals.isBarHorizontal?(t=i+parseFloat(v*(b+1)),n=s+parseFloat(m*(b+1))-T):(t=i+parseFloat(v*b),n=s+parseFloat(m*b));var R,P=null,k=i,B=s,D={},O=M.config.dataLabels,V=this.barCtx.barOptions.dataLabels,X=this.barCtx.barOptions.dataLabels.total;w!==void 0&&this.barCtx.isRangeBar&&(n=w,B=w),y!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=y,k=y);var K=O.offsetX,ie=O.offsetY,ee={width:0,height:0};if(M.config.dataLabels.enabled){var ae=M.globals.series[l][c];ee=E.getTextRects(M.config.dataLabels.formatter?M.config.dataLabels.formatter(ae,lt(lt({},M),{},{seriesIndex:l,dataPointIndex:c,w:M})):M.globals.yLabelFormatters[0](ae),parseFloat(O.style.fontSize))}var z={x:i,y:s,i:l,j:c,realIndex:u,columnGroupIndex:d,renderedPath:S,bcx:t,bcy:n,barHeight:m,barWidth:v,textRects:ee,strokeWidth:T,dataLabelsX:k,dataLabelsY:B,dataLabelsConfig:O,barDataLabelsConfig:V,barTotalDataLabelsConfig:X,offX:K,offY:ie};return D=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(z):this.calculateColumnsDataLabelsPosition(z),S.attr({cy:D.bcy,cx:D.bcx,j:c,val:M.globals.series[l][c],barHeight:m,barWidth:v}),R=this.drawCalculatedDataLabels({x:D.dataLabelsX,y:D.dataLabelsY,val:this.barCtx.isRangeBar?[a,o]:M.config.chart.stackType==="100%"?f[u][c]:M.globals.series[u][c],i:u,j:c,barWidth:v,barHeight:m,textRects:ee,dataLabelsConfig:O}),M.config.chart.stacked&&X.enabled&&(P=this.drawTotalDataLabels({x:D.totalDataLabelsX,y:D.totalDataLabelsY,barWidth:v,barHeight:m,realIndex:u,textAnchor:D.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:u,j:c}),dataLabelsConfig:O,barTotalDataLabelsConfig:X})),{dataLabels:R,totalDataLabels:P}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,n=e.j,i=this.w,s=this.barCtx.stackedSeriesTotals[n];return this.totalFormatter&&(s=this.totalFormatter(s,lt(lt({},i),{},{seriesIndex:t,dataPointIndex:n,w:i}))),s}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,n=this.w,i=e.i,s=e.j,a=e.realIndex;e.columnGroupIndex;var o,l,c=e.y,u=e.bcx,d=e.barWidth,f=e.barHeight,m=e.textRects,v=e.dataLabelsX,y=e.dataLabelsY,w=e.dataLabelsConfig,b=e.barDataLabelsConfig,S=e.barTotalDataLabelsConfig,M=e.strokeWidth,E=e.offX,T=e.offY,R=u;f=Math.abs(f);var P=n.config.plotOptions.bar.dataLabels.orientation==="vertical",k=this.barCtx.barHelpers.getZeroValueEncounters({i,j:s}).zeroEncounters;u-=M/2;var B=n.globals.gridWidth/n.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?v+=d/2:(v=n.globals.isXNumeric?u-d/2+E:u-B+d/2+E,k>0&&n.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(v-=d*k)),P&&(v=v+m.height/2-M/2-2);var D=n.globals.series[i][s]<0,O=c;switch(this.barCtx.isReversed&&(O=c+(D?f:-f)),b.position){case"center":y=P?D?O-f/2+T:O+f/2-T:D?O-f/2+m.height/2+T:O+f/2+m.height/2-T;break;case"bottom":y=P?D?O-f+T:O+f-T:D?O-f+m.height+M+T:O+f-m.height/2+M-T;break;case"top":y=P?D?O+T:O-T:D?O-m.height/2-T:O+m.height+T}var V=O;if(n.globals.seriesGroups.forEach(function(ie){var ee;(ee=t.barCtx[ie.join(",")])===null||ee===void 0||ee.prevY.forEach(function(ae){V=D?Math.max(ae[s],V):Math.min(ae[s],V)})}),this.barCtx.lastActiveBarSerieIndex===a&&S.enabled){var X=new Ye(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:a,j:s}),w.fontSize);o=D?V-X.height/2-T-S.offsetY+18:V+X.height+T+S.offsetY-18;var K=B;l=R+(n.globals.isXNumeric?-d*n.globals.barGroups.length/2:n.globals.barGroups.length*d/2-(n.globals.barGroups.length-1)*d-K)+S.offsetX}return n.config.chart.stacked||(y<0?y=0+M:y+m.height/3>n.globals.gridHeight&&(y=n.globals.gridHeight-M)),{bcx:u,bcy:c,dataLabelsX:v,dataLabelsY:y,totalDataLabelsX:l,totalDataLabelsY:o,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,n=this.w,i=e.x,s=e.i,a=e.j,o=e.realIndex,l=e.bcy,c=e.barHeight,u=e.barWidth,d=e.textRects,f=e.dataLabelsX,m=e.strokeWidth,v=e.dataLabelsConfig,y=e.barDataLabelsConfig,w=e.barTotalDataLabelsConfig,b=e.offX,S=e.offY,M=n.globals.gridHeight/n.globals.dataPoints;u=Math.abs(u);var E,T,R=l-(this.barCtx.isRangeBar?0:M)+c/2+d.height/2+S-3,P="start",k=n.globals.series[s][a]<0,B=i;switch(this.barCtx.isReversed&&(B=i+(k?-u:u),P=k?"start":"end"),y.position){case"center":f=k?B+u/2-b:Math.max(d.width/2,B-u/2)+b;break;case"bottom":f=k?B+u-m-b:B-u+m+b;break;case"top":f=k?B-m-b:B-m+b}var D=B;if(n.globals.seriesGroups.forEach(function(V){var X;(X=t.barCtx[V.join(",")])===null||X===void 0||X.prevX.forEach(function(K){D=k?Math.min(K[a],D):Math.max(K[a],D)})}),this.barCtx.lastActiveBarSerieIndex===o&&w.enabled){var O=new Ye(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:a}),v.fontSize);k?(E=D-m-b-w.offsetX,P="end"):E=D+b+w.offsetX+(this.barCtx.isReversed?-(u+m):m),T=R-d.height/2+O.height/2+w.offsetY+m,n.globals.barGroups.length>1&&(T-=n.globals.barGroups.length/2*(c/2))}return n.config.chart.stacked||(v.textAnchor==="start"?f-d.width<0?f=k?d.width+m:m:f+d.width>n.globals.gridWidth&&(f=k?n.globals.gridWidth-m:n.globals.gridWidth-d.width-m):v.textAnchor==="middle"?f-d.width/2<0?f=d.width/2+m:f+d.width/2>n.globals.gridWidth&&(f=n.globals.gridWidth-d.width/2-m):v.textAnchor==="end"&&(f<1?f=d.width+m:f+1>n.globals.gridWidth&&(f=n.globals.gridWidth-d.width-m))),{bcx:i,bcy:l,dataLabelsX:f,dataLabelsY:R,totalDataLabelsX:E,totalDataLabelsY:T,totalDataLabelsAnchor:P}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,n=e.y,i=e.val,s=e.i,a=e.j,o=e.textRects,l=e.barHeight,c=e.barWidth,u=e.dataLabelsConfig,d=this.w,f="rotate(0)";d.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(f="rotate(-90, ".concat(t,", ").concat(n,")"));var m=new Ef(this.barCtx.ctx),v=new Ye(this.barCtx.ctx),y=u.formatter,w=null,b=d.globals.collapsedSeriesIndices.indexOf(s)>-1;if(u.enabled&&!b){w=v.group({class:"apexcharts-data-labels",transform:f});var S="";i!==void 0&&(S=y(i,lt(lt({},d),{},{seriesIndex:s,dataPointIndex:a,w:d}))),!i&&d.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(S="");var M=d.globals.series[s][a]<0,E=d.config.plotOptions.bar.dataLabels.position;d.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(E==="top"&&(u.textAnchor=M?"end":"start"),E==="center"&&(u.textAnchor="middle"),E==="bottom"&&(u.textAnchor=M?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<v.getTextRects(S,parseFloat(u.style.fontSize)).width&&(S=""),d.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?o.width/1.6>Math.abs(c)&&(S=""):o.height/1.6>Math.abs(l)&&(S=""));var T=lt({},u);this.barCtx.isHorizontal&&i<0&&(u.textAnchor==="start"?T.textAnchor="end":u.textAnchor==="end"&&(T.textAnchor="start")),m.plotDataLabelsText({x:t,y:n,text:S,i:s,j:a,parent:w,dataLabelsConfig:T,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return w}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,n=e.y,i=e.val,s=e.realIndex,a=e.textAnchor,o=e.barTotalDataLabelsConfig;this.w;var l,c=new Ye(this.barCtx.ctx);return o.enabled&&t!==void 0&&n!==void 0&&this.barCtx.lastActiveBarSerieIndex===s&&(l=c.drawText({x:t,y:n,foreColor:o.style.color,text:i,textAnchor:a,fontFamily:o.style.fontFamily,fontSize:o.style.fontSize,fontWeight:o.style.fontWeight})),l}}]),r}(),CU=function(){function r(e){_t(this,r),this.w=e.w,this.barCtx=e}return Mt(r,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var n=0;n<e.length;n++)if(e[n].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[n].length),t.globals.isXNumeric)for(var i=0;i<e[n].length;i++)t.globals.seriesX[n][i]>t.globals.minX&&t.globals.seriesX[n][i]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,n,i,s,a,o,l,c,u=this.w,d=u.globals.dataPoints;this.barCtx.isRangeBar&&(d=u.globals.labels.length);var f=this.barCtx.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(f=1),this.barCtx.isHorizontal)a=(i=u.globals.gridHeight/d)/f,u.globals.isXNumeric&&(a=(i=u.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),a=a*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(a=parseInt(this.barCtx.barOptions.barHeight,10)),c=this.barCtx.baseLineInvertedY+u.globals.padHorizontal+(this.barCtx.isReversed?u.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(c=u.globals.gridWidth/2),n=(i-a*this.barCtx.seriesLen)/2;else{if(s=u.globals.gridWidth/this.barCtx.visibleItems,u.config.xaxis.convertedCatToNumeric&&(s=u.globals.gridWidth/u.globals.dataPoints),o=s/f*parseInt(this.barCtx.barOptions.columnWidth,10)/100,u.globals.isXNumeric){var m=this.barCtx.xRatio;u.globals.minXDiff&&u.globals.minXDiff!==.5&&u.globals.minXDiff/m>0&&(s=u.globals.minXDiff/m),(o=s/f*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.columnWidth,10)),l=u.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?u.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),u.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:o}).x:t=u.globals.padHorizontal+xe.noExponents(s-o*this.barCtx.seriesLen)/2}return u.globals.barHeight=a,u.globals.barWidth=o,{x:t,y:n,yDivision:i,xDivision:s,barHeight:a,barWidth:o,zeroH:l,zeroW:c}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,t,n,i){var s,a,o,l,c=this.w,u=this.barCtx.ctx.fill,d=null,f=this.barCtx.barOptions.distributed?n:t,m=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(v){e[t][n]>=v.from&&e[t][n]<=v.to&&(d=v.color,m=!0)}),{color:u.fillPath({seriesNumber:this.barCtx.barOptions.distributed?f:i,dataPointIndex:n,color:d,value:e[t][n],fillConfig:(s=c.config.series[t].data[n])===null||s===void 0?void 0:s.fill,fillType:(a=c.config.series[t].data[n])!==null&&a!==void 0&&(o=a.fill)!==null&&o!==void 0&&o.type?(l=c.config.series[t].data[n])===null||l===void 0?void 0:l.fill.type:Array.isArray(c.config.fill.type)?c.config.fill.type[i]:c.config.fill.type}),useRangeColor:m}}},{key:"getStrokeWidth",value:function(e,t,n){var i=0,s=this.w;return this.barCtx.series[e][t]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,s.config.stroke.show&&(this.barCtx.isNullValue||(i=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth)),i}},{key:"createBorderRadiusArr",value:function(e){var t,n=this.w,i=!this.w.config.chart.stacked||n.config.plotOptions.bar.borderRadius<=0,s=e.length,a=0|((t=e[0])===null||t===void 0?void 0:t.length),o=Array.from({length:s},function(){return Array(a).fill(i?"top":"none")});if(i)return o;for(var l=0;l<a;l++){for(var c=[],u=[],d=0,f=0;f<s;f++){var m=e[f][l];m>0?(c.push(f),d++):m<0&&(u.push(f),d++)}if(c.length>0&&u.length===0)if(c.length===1)o[c[0]][l]="both";else{var v,y=c[0],w=c[c.length-1],b=gm(c);try{for(b.s();!(v=b.n()).done;){var S=v.value;o[S][l]=S===y?"bottom":S===w?"top":"none"}}catch(ee){b.e(ee)}finally{b.f()}}else if(u.length>0&&c.length===0)if(u.length===1)o[u[0]][l]="both";else{var M,E=Math.max.apply(Math,u),T=Math.min.apply(Math,u),R=gm(u);try{for(R.s();!(M=R.n()).done;){var P=M.value;o[P][l]=P===E?"bottom":P===T?"top":"none"}}catch(ee){R.e(ee)}finally{R.f()}}else if(c.length>0&&u.length>0){var k,B=c[c.length-1],D=gm(c);try{for(D.s();!(k=D.n()).done;){var O=k.value;o[O][l]=O===B?"top":"none"}}catch(ee){D.e(ee)}finally{D.f()}var V,X=Math.max.apply(Math,u),K=gm(u);try{for(K.s();!(V=K.n()).done;){var ie=V.value;o[ie][l]=ie===X?"bottom":"none"}}catch(ee){K.e(ee)}finally{K.f()}}else d===1&&(o[c[0]||u[0]][l]="both")}return o}},{key:"barBackground",value:function(e){var t=e.j,n=e.i,i=e.x1,s=e.x2,a=e.y1,o=e.y2,l=e.elSeries,c=this.w,u=new Ye(this.barCtx.ctx),d=new Ea(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&d===n){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var f=this.barCtx.barOptions.colors.backgroundBarColors[t],m=u.drawRect(i!==void 0?i:0,a!==void 0?a:0,s!==void 0?s:c.globals.gridWidth,o!==void 0?o:c.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,f,this.barCtx.barOptions.colors.backgroundBarOpacity);l.add(m),m.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,n=e.barWidth,i=e.barXPosition,s=e.y1,a=e.y2,o=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,d=e.realIndex,f=e.i,m=e.j,v=e.w,y=new Ye(this.barCtx.ctx);(o=Array.isArray(o)?o[d]:o)||(o=0);var w=n,b=i;(t=v.config.series[d].data[m])!==null&&t!==void 0&&t.columnWidthOffset&&(b=i-v.config.series[d].data[m].columnWidthOffset/2,w=n+v.config.series[d].data[m].columnWidthOffset);var S=o/2,M=b+S,E=b+w-S,T=(c[f][m]>=0?1:-1)*(l?-1:1);s+=.001-S*T,a+=.001+S*T;var R=y.move(M,s),P=y.move(M,s),k=y.line(E,s);if(v.globals.previousPaths.length>0&&(P=this.barCtx.getPreviousPath(d,m,!1)),R=R+y.line(M,a)+y.line(E,a)+k+(v.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[d][m]==="both"?" Z":" z"),P=P+y.line(M,s)+k+k+k+k+k+y.line(M,s)+(v.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[d][m]==="both"?" Z":" z"),this.arrBorderRadius[d][m]!=="none"&&(R=y.roundPathCorners(R,v.config.plotOptions.bar.borderRadius)),v.config.chart.stacked){var B=this.barCtx;(B=this.barCtx[u]).yArrj.push(a-S*T),B.yArrjF.push(Math.abs(s-a+o*T)),B.yArrjVal.push(this.barCtx.series[f][m])}return{pathTo:R,pathFrom:P}}},{key:"getBarpaths",value:function(e){var t,n=e.barYPosition,i=e.barHeight,s=e.x1,a=e.x2,o=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,d=e.realIndex,f=e.i,m=e.j,v=e.w,y=new Ye(this.barCtx.ctx);(o=Array.isArray(o)?o[d]:o)||(o=0);var w=n,b=i;(t=v.config.series[d].data[m])!==null&&t!==void 0&&t.barHeightOffset&&(w=n-v.config.series[d].data[m].barHeightOffset/2,b=i+v.config.series[d].data[m].barHeightOffset);var S=o/2,M=w+S,E=w+b-S,T=(c[f][m]>=0?1:-1)*(l?-1:1);s+=.001+S*T,a+=.001-S*T;var R=y.move(s,M),P=y.move(s,M);v.globals.previousPaths.length>0&&(P=this.barCtx.getPreviousPath(d,m,!1));var k=y.line(s,E);if(R=R+y.line(a,M)+y.line(a,E)+k+(v.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[d][m]==="both"?" Z":" z"),P=P+y.line(s,M)+k+k+k+k+k+y.line(s,M)+(v.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[d][m]==="both"?" Z":" z"),this.arrBorderRadius[d][m]!=="none"&&(R=y.roundPathCorners(R,v.config.plotOptions.bar.borderRadius)),v.config.chart.stacked){var B=this.barCtx;(B=this.barCtx[u]).xArrj.push(a+S*T),B.xArrjF.push(Math.abs(s-a-o*T)),B.xArrjVal.push(this.barCtx.series[f][m])}return{pathTo:R,pathFrom:P}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,n=this.w,i=0;i<t.length;i++){for(var s=0,a=0;a<t[n.globals.maxValsInArrayIndex].length;a++)s+=t[i][a];s===0&&this.barCtx.zeroSerieses.push(i)}}},{key:"getXForValue",value:function(e,t){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(n=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),n}},{key:"getYForValue",value:function(e,t,n){var i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(i=t-e/this.barCtx.yRatio[n]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[n]:0)),i}},{key:"getGoalValues",value:function(e,t,n,i,s,a){var o=this,l=this.w,c=[],u=function(m,v){var y;c.push(($0(y={},e,e==="x"?o.getXForValue(m,t,!1):o.getYForValue(m,n,a,!1)),$0(y,"attrs",v),y))};if(l.globals.seriesGoals[i]&&l.globals.seriesGoals[i][s]&&Array.isArray(l.globals.seriesGoals[i][s])&&l.globals.seriesGoals[i][s].forEach(function(m){u(m.value,m)}),this.barCtx.barOptions.isDumbbell&&l.globals.seriesRange.length){var d=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:l.globals.colors,f={strokeHeight:e==="x"?0:l.globals.markers.size[i],strokeWidth:e==="x"?l.globals.markers.size[i]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(d[i])?d[i][0]:d[i]};u(l.globals.seriesRangeStart[i][s],f),u(l.globals.seriesRangeEnd[i][s],lt(lt({},f),{},{strokeColor:Array.isArray(d[i])?d[i][1]:d[i]}))}return c}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,n=e.barYPosition,i=e.goalX,s=e.goalY,a=e.barWidth,o=e.barHeight,l=new Ye(this.barCtx.ctx),c=l.group({className:"apexcharts-bar-goals-groups"});c.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:c.node}),c.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var u=null;return this.barCtx.isHorizontal?Array.isArray(i)&&i.forEach(function(d){if(d.x>=-1&&d.x<=l.w.globals.gridWidth+1){var f=d.attrs.strokeHeight!==void 0?d.attrs.strokeHeight:o/2,m=n+f+o/2;u=l.drawLine(d.x,m-2*f,d.x,m,d.attrs.strokeColor?d.attrs.strokeColor:void 0,d.attrs.strokeDashArray,d.attrs.strokeWidth?d.attrs.strokeWidth:2,d.attrs.strokeLineCap),c.add(u)}}):Array.isArray(s)&&s.forEach(function(d){if(d.y>=-1&&d.y<=l.w.globals.gridHeight+1){var f=d.attrs.strokeWidth!==void 0?d.attrs.strokeWidth:a/2,m=t+f+a/2;u=l.drawLine(m-2*f,d.y,m,d.y,d.attrs.strokeColor?d.attrs.strokeColor:void 0,d.attrs.strokeDashArray,d.attrs.strokeHeight?d.attrs.strokeHeight:2,d.attrs.strokeLineCap),c.add(u)}}),c}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,n=e.currPaths,i=e.color,s=this.w,a=t.x,o=t.x1,l=t.barYPosition,c=n.x,u=n.x1,d=n.barYPosition,f=l+n.barHeight,m=new Ye(this.barCtx.ctx),v=new xe,y=m.move(o,f)+m.line(a,f)+m.line(c,d)+m.line(u,d)+m.line(o,f)+(s.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return m.drawPath({d:y,fill:v.shadeColor(.5,xe.rgb2hex(i)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,n=e.i,i=e.j,s=this.w,a=0,o=0;return(s.config.plotOptions.bar.horizontal?s.globals.series.map(function(l,c){return c}):((t=s.globals.columnSeries)===null||t===void 0?void 0:t.i.map(function(l){return l}))||[]).forEach(function(l){var c=s.globals.seriesPercent[l][i];c&&a++,l<n&&c===0&&o++}),{nonZeroColumns:a,zeroEncounters:o}}},{key:"getGroupIndex",value:function(e){var t=this.w,n=t.globals.seriesGroups.findIndex(function(a){return a.indexOf(t.globals.seriesNames[e])>-1}),i=this.barCtx.columnGroupIndices,s=i.indexOf(n);return s<0&&(i.push(n),s=i.length-1),{groupIndex:n,columnGroupIndex:s}}}]),r}(),Tf=function(){function r(e,t){_t(this,r),this.ctx=e,this.w=e.w;var n=this.w;this.barOptions=n.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=n.config.stroke.width,this.isNullValue=!1,this.isRangeBar=n.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!n.globals.isBarHorizontal&&n.globals.seriesRange.length&&n.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var i=new Ea(this.ctx);this.lastActiveBarSerieIndex=i.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var s=i.getBarSeriesIndices(),a=new Fi(this.ctx);this.stackedSeriesTotals=a.getStackedSeriesTotals(this.w.config.series.map(function(o,l){return s.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1})),this.barHelpers=new CU(this)}return Mt(r,[{key:"draw",value:function(e,t){var n=this.w,i=new Ye(this.ctx),s=new Fi(this.ctx,n);e=s.getLogSeries(e),this.series=e,this.yRatio=s.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var a=i.group({class:"apexcharts-bar-series apexcharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var o=0,l=0;o<e.length;o++,l++){var c,u,d,f,m=void 0,v=void 0,y=[],w=[],b=n.globals.comboCharts?t[o]:o,S=this.barHelpers.getGroupIndex(b).columnGroupIndex,M=i.group({class:"apexcharts-series",rel:o+1,seriesName:xe.escapeString(n.globals.seriesNames[b]),"data:realIndex":b});this.ctx.series.addCollapsedClassToSeries(M,b),e[o].length>0&&(this.visibleI=this.visibleI+1);var E=0,T=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[b],this.translationsIndex=b);var R=this.translationsIndex;this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var P=this.barHelpers.initialPositions(b);v=P.y,E=P.barHeight,u=P.yDivision,f=P.zeroW,m=P.x,T=P.barWidth,c=P.xDivision,d=P.zeroH,this.isHorizontal||w.push(m+T/2);var k=i.group({class:"apexcharts-datalabels","data:realIndex":b});n.globals.delayedElements.push({el:k.node}),k.node.classList.add("apexcharts-element-hidden");var B=i.group({class:"apexcharts-bar-goals-markers"}),D=i.group({class:"apexcharts-bar-shadows"});n.globals.delayedElements.push({el:D.node}),D.node.classList.add("apexcharts-element-hidden");for(var O=0;O<e[o].length;O++){var V=this.barHelpers.getStrokeWidth(o,O,b),X=null,K={indexes:{i:o,j:O,realIndex:b,translationsIndex:R,bc:l},x:m,y:v,strokeWidth:V,elSeries:M};this.isHorizontal?(X=this.drawBarPaths(lt(lt({},K),{},{barHeight:E,zeroW:f,yDivision:u})),T=this.series[o][O]/this.invertedYRatio):(X=this.drawColumnPaths(lt(lt({},K),{},{xDivision:c,barWidth:T,zeroH:d})),E=this.series[o][O]/this.yRatio[R]);var ie=this.barHelpers.getPathFillColor(e,o,O,b);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&O>0){var ee,ae=this.barHelpers.drawBarShadow({color:typeof ie.color=="string"&&((ee=ie.color)===null||ee===void 0?void 0:ee.indexOf("url"))===-1?ie.color:xe.hexToRgba(n.globals.colors[o]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:X});D.add(ae),n.config.chart.dropShadow.enabled&&new Nr(this.ctx).dropShadow(ae,n.config.chart.dropShadow,b)}this.pathArr.push(X);var z=this.barHelpers.drawGoalLine({barXPosition:X.barXPosition,barYPosition:X.barYPosition,goalX:X.goalX,goalY:X.goalY,barHeight:E,barWidth:T});z&&B.add(z),v=X.y,m=X.x,O>0&&w.push(m+T/2),y.push(v),this.renderSeries(lt(lt({realIndex:b,pathFill:ie.color},ie.useRangeColor?{lineFill:ie.color}:{}),{},{j:O,i:o,columnGroupIndex:S,pathFrom:X.pathFrom,pathTo:X.pathTo,strokeWidth:V,elSeries:M,x:m,y:v,series:e,barHeight:Math.abs(X.barHeight?X.barHeight:E),barWidth:Math.abs(X.barWidth?X.barWidth:T),elDataLabelsWrap:k,elGoalsMarkers:B,elBarShadows:D,visibleSeries:this.visibleI,type:"bar"}))}n.globals.seriesXvalues[b]=w,n.globals.seriesYvalues[b]=y,a.add(M)}return a}},{key:"renderSeries",value:function(e){var t=e.realIndex,n=e.pathFill,i=e.lineFill,s=e.j,a=e.i,o=e.columnGroupIndex,l=e.pathFrom,c=e.pathTo,u=e.strokeWidth,d=e.elSeries,f=e.x,m=e.y,v=e.y1,y=e.y2,w=e.series,b=e.barHeight,S=e.barWidth,M=e.barXPosition,E=e.barYPosition,T=e.elDataLabelsWrap,R=e.elGoalsMarkers,P=e.elBarShadows,k=e.visibleSeries,B=e.type,D=e.classes,O=this.w,V=new Ye(this.ctx);if(!i){var X=typeof O.globals.stroke.colors[t]=="function"?function(z){var Q,Z=O.config.stroke.colors;return Array.isArray(Z)&&Z.length>0&&((Q=Z[z])||(Q=""),typeof Q=="function")?Q({value:O.globals.series[z][s],dataPointIndex:s,w:O}):Q}(t):O.globals.stroke.colors[t];i=this.barOptions.distributed?O.globals.stroke.colors[s]:X}O.config.series[a].data[s]&&O.config.series[a].data[s].strokeColor&&(i=O.config.series[a].data[s].strokeColor),this.isNullValue&&(n="none");var K=s/O.config.chart.animations.animateGradually.delay*(O.config.chart.animations.speed/O.globals.dataPoints)/2.4,ie=V.renderPaths({i:a,j:s,realIndex:t,pathFrom:l,pathTo:c,stroke:i,strokeWidth:u,strokeLineCap:O.config.stroke.lineCap,fill:n,animationDelay:K,initialSpeed:O.config.chart.animations.speed,dataChangeSpeed:O.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(B,"-area ").concat(D),chartType:B});ie.attr("clip-path","url(#gridRectBarMask".concat(O.globals.cuid,")"));var ee=O.config.forecastDataPoints;ee.count>0&&s>=O.globals.dataPoints-ee.count&&(ie.node.setAttribute("stroke-dasharray",ee.dashArray),ie.node.setAttribute("stroke-width",ee.strokeWidth),ie.node.setAttribute("fill-opacity",ee.fillOpacity)),v!==void 0&&y!==void 0&&(ie.attr("data-range-y1",v),ie.attr("data-range-y2",y)),new Nr(this.ctx).setSelectionFilter(ie,t,s),d.add(ie);var ae=new MU(this).handleBarDataLabels({x:f,y:m,y1:v,y2:y,i:a,j:s,series:w,realIndex:t,columnGroupIndex:o,barHeight:b,barWidth:S,barXPosition:M,barYPosition:E,renderedPath:ie,visibleSeries:k});return ae.dataLabels!==null&&T.add(ae.dataLabels),ae.totalDataLabels&&T.add(ae.totalDataLabels),d.add(T),R&&d.add(R),P&&d.add(P),d}},{key:"drawBarPaths",value:function(e){var t,n=e.indexes,i=e.barHeight,s=e.strokeWidth,a=e.zeroW,o=e.x,l=e.y,c=e.yDivision,u=e.elSeries,d=this.w,f=n.i,m=n.j;if(d.globals.isXNumeric)t=(l=(d.globals.seriesX[f][m]-d.globals.minX)/this.invertedXRatio-i)+i*this.visibleI;else if(d.config.plotOptions.bar.hideZeroBarsWhenGrouped){var v=0,y=0;d.globals.seriesPercent.forEach(function(b,S){b[m]&&v++,S<f&&b[m]===0&&y++}),v>0&&(i=this.seriesLen*i/v),t=l+i*this.visibleI,t-=i*y}else t=l+i*this.visibleI;this.isFunnel&&(a-=(this.barHelpers.getXForValue(this.series[f][m],a)-a)/2),o=this.barHelpers.getXForValue(this.series[f][m],a);var w=this.barHelpers.getBarpaths({barYPosition:t,barHeight:i,x1:a,x2:o,strokeWidth:s,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,i:f,j:m,w:d});return d.globals.isXNumeric||(l+=c),this.barHelpers.barBackground({j:m,i:f,y1:t-i*this.visibleI,y2:i*this.seriesLen,elSeries:u}),{pathTo:w.pathTo,pathFrom:w.pathFrom,x1:a,x:o,y:l,goalX:this.barHelpers.getGoalValues("x",a,null,f,m),barYPosition:t,barHeight:i}}},{key:"drawColumnPaths",value:function(e){var t,n=e.indexes,i=e.x,s=e.y,a=e.xDivision,o=e.barWidth,l=e.zeroH,c=e.strokeWidth,u=e.elSeries,d=this.w,f=n.realIndex,m=n.translationsIndex,v=n.i,y=n.j,w=n.bc;if(d.globals.isXNumeric){var b=this.getBarXForNumericXAxis({x:i,j:y,realIndex:f,barWidth:o});i=b.x,t=b.barXPosition}else if(d.config.plotOptions.bar.hideZeroBarsWhenGrouped){var S=this.barHelpers.getZeroValueEncounters({i:v,j:y}),M=S.nonZeroColumns,E=S.zeroEncounters;M>0&&(o=this.seriesLen*o/M),t=i+o*this.visibleI,t-=o*E}else t=i+o*this.visibleI;s=this.barHelpers.getYForValue(this.series[v][y],l,m);var T=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:o,y1:l,y2:s,strokeWidth:c,isReversed:this.isReversed,series:this.series,realIndex:f,i:v,j:y,w:d});return d.globals.isXNumeric||(i+=a),this.barHelpers.barBackground({bc:w,j:y,i:v,x1:t-c/2-o*this.visibleI,x2:o*this.seriesLen+c/2,elSeries:u}),{pathTo:T.pathTo,pathFrom:T.pathFrom,x:i,y:s,goalY:this.barHelpers.getGoalValues("y",null,l,v,y,m),barXPosition:t,barWidth:o}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,n=e.barWidth,i=e.realIndex,s=e.j,a=this.w,o=i;return a.globals.seriesX[i].length||(o=a.globals.maxValsInArrayIndex),xe.isNumber(a.globals.seriesX[o][s])&&(t=(a.globals.seriesX[o][s]-a.globals.minX)/this.xRatio-n*this.seriesLen/2),{barXPosition:t+n*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var n,i=this.w,s=0;s<i.globals.previousPaths.length;s++){var a=i.globals.previousPaths[s];a.paths&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(e,10)&&i.globals.previousPaths[s].paths[t]!==void 0&&(n=i.globals.previousPaths[s].paths[t].d)}return n}}]),r}(),YC=function(r){fg(t,Tf);var e=dg(t);function t(){return _t(this,t),e.apply(this,arguments)}return Mt(t,[{key:"draw",value:function(n,i){var s=this,a=this.w;this.graphics=new Ye(this.ctx),this.bar=new Tf(this.ctx,this.xyRatios);var o=new Fi(this.ctx,a);n=o.getLogSeries(n),this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n),a.config.chart.stackType==="100%"&&(n=a.globals.comboCharts?i.map(function(v){return a.globals.seriesPercent[v]}):a.globals.seriesPercent.slice()),this.series=n,this.barHelpers.initializeStackedPrevVars(this);for(var l=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),c=0,u=0,d=function(v,y){var w=void 0,b=void 0,S=void 0,M=void 0,E=a.globals.comboCharts?i[v]:v,T=s.barHelpers.getGroupIndex(E),R=T.groupIndex,P=T.columnGroupIndex;s.groupCtx=s[a.globals.seriesGroups[R]];var k=[],B=[],D=0;s.yRatio.length>1&&(s.yaxisIndex=a.globals.seriesYAxisReverseMap[E][0],D=E),s.isReversed=a.config.yaxis[s.yaxisIndex]&&a.config.yaxis[s.yaxisIndex].reversed;var O=s.graphics.group({class:"apexcharts-series",seriesName:xe.escapeString(a.globals.seriesNames[E]),rel:v+1,"data:realIndex":E});s.ctx.series.addCollapsedClassToSeries(O,E);var V=s.graphics.group({class:"apexcharts-datalabels","data:realIndex":E}),X=s.graphics.group({class:"apexcharts-bar-goals-markers"}),K=0,ie=0,ee=s.initialPositions(c,u,w,b,S,M,D);u=ee.y,K=ee.barHeight,b=ee.yDivision,M=ee.zeroW,c=ee.x,ie=ee.barWidth,w=ee.xDivision,S=ee.zeroH,a.globals.barHeight=K,a.globals.barWidth=ie,s.barHelpers.initializeStackedXYVars(s),s.groupCtx.prevY.length===1&&s.groupCtx.prevY[0].every(function(Ce){return isNaN(Ce)})&&(s.groupCtx.prevY[0]=s.groupCtx.prevY[0].map(function(){return S}),s.groupCtx.prevYF[0]=s.groupCtx.prevYF[0].map(function(){return 0}));for(var ae=0;ae<a.globals.dataPoints;ae++){var z=s.barHelpers.getStrokeWidth(v,ae,E),Q={indexes:{i:v,j:ae,realIndex:E,translationsIndex:D,bc:y},strokeWidth:z,x:c,y:u,elSeries:O,columnGroupIndex:P,seriesGroup:a.globals.seriesGroups[R]},Z=null;s.isHorizontal?(Z=s.drawStackedBarPaths(lt(lt({},Q),{},{zeroW:M,barHeight:K,yDivision:b})),ie=s.series[v][ae]/s.invertedYRatio):(Z=s.drawStackedColumnPaths(lt(lt({},Q),{},{xDivision:w,barWidth:ie,zeroH:S})),K=s.series[v][ae]/s.yRatio[D]);var Y=s.barHelpers.drawGoalLine({barXPosition:Z.barXPosition,barYPosition:Z.barYPosition,goalX:Z.goalX,goalY:Z.goalY,barHeight:K,barWidth:ie});Y&&X.add(Y),u=Z.y,c=Z.x,k.push(c),B.push(u);var oe=s.barHelpers.getPathFillColor(n,v,ae,E),Pe="",fe=a.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(s.barHelpers.arrBorderRadius[E][ae]==="bottom"&&a.globals.series[E][ae]>0||s.barHelpers.arrBorderRadius[E][ae]==="top"&&a.globals.series[E][ae]<0)&&(Pe=fe),O=s.renderSeries(lt(lt({realIndex:E,pathFill:oe.color},oe.useRangeColor?{lineFill:oe.color}:{}),{},{j:ae,i:v,columnGroupIndex:P,pathFrom:Z.pathFrom,pathTo:Z.pathTo,strokeWidth:z,elSeries:O,x:c,y:u,series:n,barHeight:K,barWidth:ie,elDataLabelsWrap:V,elGoalsMarkers:X,type:"bar",visibleSeries:P,classes:Pe}))}a.globals.seriesXvalues[E]=k,a.globals.seriesYvalues[E]=B,s.groupCtx.prevY.push(s.groupCtx.yArrj),s.groupCtx.prevYF.push(s.groupCtx.yArrjF),s.groupCtx.prevYVal.push(s.groupCtx.yArrjVal),s.groupCtx.prevX.push(s.groupCtx.xArrj),s.groupCtx.prevXF.push(s.groupCtx.xArrjF),s.groupCtx.prevXVal.push(s.groupCtx.xArrjVal),l.add(O)},f=0,m=0;f<n.length;f++,m++)d(f,m);return l}},{key:"initialPositions",value:function(n,i,s,a,o,l,c){var u,d,f=this.w;if(this.isHorizontal){a=f.globals.gridHeight/f.globals.dataPoints;var m=f.config.plotOptions.bar.barHeight;u=String(m).indexOf("%")===-1?parseInt(m,10):a*parseInt(m,10)/100,l=f.globals.padHorizontal+(this.isReversed?f.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),i=(a-u)/2}else{d=s=f.globals.gridWidth/f.globals.dataPoints;var v=f.config.plotOptions.bar.columnWidth;f.globals.isXNumeric&&f.globals.dataPoints>1?d=(s=f.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(v).indexOf("%")===-1?d=parseInt(v,10):d*=parseInt(v,10)/100,o=this.isReversed?this.baseLineY[c]:f.globals.gridHeight-this.baseLineY[c],n=f.globals.padHorizontal+(s-d)/2}var y=f.globals.barGroups.length||1;return{x:n,y:i,yDivision:a,xDivision:s,barHeight:u/y,barWidth:d/y,zeroH:o,zeroW:l}}},{key:"drawStackedBarPaths",value:function(n){for(var i,s=n.indexes,a=n.barHeight,o=n.strokeWidth,l=n.zeroW,c=n.x,u=n.y,d=n.columnGroupIndex,f=n.seriesGroup,m=n.yDivision,v=n.elSeries,y=this.w,w=u+d*a,b=s.i,S=s.j,M=s.realIndex,E=s.translationsIndex,T=0,R=0;R<this.groupCtx.prevXF.length;R++)T+=this.groupCtx.prevXF[R][S];var P;if((P=f.indexOf(y.config.series[M].name))>0){var k=l;this.groupCtx.prevXVal[P-1][S]<0?k=this.series[b][S]>=0?this.groupCtx.prevX[P-1][S]+T-2*(this.isReversed?T:0):this.groupCtx.prevX[P-1][S]:this.groupCtx.prevXVal[P-1][S]>=0&&(k=this.series[b][S]>=0?this.groupCtx.prevX[P-1][S]:this.groupCtx.prevX[P-1][S]-T+2*(this.isReversed?T:0)),i=k}else i=l;c=this.series[b][S]===null?i:i+this.series[b][S]/this.invertedYRatio-2*(this.isReversed?this.series[b][S]/this.invertedYRatio:0);var B=this.barHelpers.getBarpaths({barYPosition:w,barHeight:a,x1:i,x2:c,strokeWidth:o,isReversed:this.isReversed,series:this.series,realIndex:s.realIndex,seriesGroup:f,i:b,j:S,w:y});return this.barHelpers.barBackground({j:S,i:b,y1:w,y2:a,elSeries:v}),u+=m,{pathTo:B.pathTo,pathFrom:B.pathFrom,goalX:this.barHelpers.getGoalValues("x",l,null,b,S,E),barXPosition:i,barYPosition:w,x:c,y:u}}},{key:"drawStackedColumnPaths",value:function(n){var i=n.indexes,s=n.x,a=n.y,o=n.xDivision,l=n.barWidth,c=n.zeroH,u=n.columnGroupIndex,d=n.seriesGroup,f=n.elSeries,m=this.w,v=i.i,y=i.j,w=i.bc,b=i.realIndex,S=i.translationsIndex;if(m.globals.isXNumeric){var M=m.globals.seriesX[b][y];M||(M=0),s=(M-m.globals.minX)/this.xRatio-l/2*m.globals.barGroups.length}for(var E,T=s+u*l,R=0,P=0;P<this.groupCtx.prevYF.length;P++)R+=isNaN(this.groupCtx.prevYF[P][y])?0:this.groupCtx.prevYF[P][y];var k=v;if(d&&(k=d.indexOf(m.globals.seriesNames[b])),k>0&&!m.globals.isXNumeric||k>0&&m.globals.isXNumeric&&m.globals.seriesX[b-1][y]===m.globals.seriesX[b][y]){var B,D,O,V=Math.min(this.yRatio.length+1,b+1);if(this.groupCtx.prevY[k-1]!==void 0&&this.groupCtx.prevY[k-1].length)for(var X=1;X<V;X++){var K;if(!isNaN((K=this.groupCtx.prevY[k-X])===null||K===void 0?void 0:K[y])){O=this.groupCtx.prevY[k-X][y];break}}for(var ie=1;ie<V;ie++){var ee,ae;if(((ee=this.groupCtx.prevYVal[k-ie])===null||ee===void 0?void 0:ee[y])<0){D=this.series[v][y]>=0?O-R+2*(this.isReversed?R:0):O;break}if(((ae=this.groupCtx.prevYVal[k-ie])===null||ae===void 0?void 0:ae[y])>=0){D=this.series[v][y]>=0?O:O+R-2*(this.isReversed?R:0);break}}D===void 0&&(D=m.globals.gridHeight),E=(B=this.groupCtx.prevYF[0])!==null&&B!==void 0&&B.every(function(Q){return Q===0})&&this.groupCtx.prevYF.slice(1,k).every(function(Q){return Q.every(function(Z){return isNaN(Z)})})?c:D}else E=c;a=this.series[v][y]?E-this.series[v][y]/this.yRatio[S]+2*(this.isReversed?this.series[v][y]/this.yRatio[S]:0):E;var z=this.barHelpers.getColumnPaths({barXPosition:T,barWidth:l,y1:E,y2:a,yRatio:this.yRatio[S],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:d,realIndex:i.realIndex,i:v,j:y,w:m});return this.barHelpers.barBackground({bc:w,j:y,i:v,x1:T,x2:l,elSeries:f}),{pathTo:z.pathTo,pathFrom:z.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,c,v,y),barXPosition:T,x:m.globals.isXNumeric?s:s+o,y:a}}}]),t}(),Yb=function(r){fg(t,Tf);var e=dg(t);function t(){return _t(this,t),e.apply(this,arguments)}return Mt(t,[{key:"draw",value:function(n,i,s){var a=this,o=this.w,l=new Ye(this.ctx),c=o.globals.comboCharts?i:o.config.chart.type,u=new lo(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=o.config.plotOptions.bar.horizontal;var d=new Fi(this.ctx,o);n=d.getLogSeries(n),this.series=n,this.yRatio=d.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);for(var f=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),m=function(y){a.isBoxPlot=o.config.chart.type==="boxPlot"||o.config.series[y].type==="boxPlot";var w,b,S,M,E=void 0,T=void 0,R=[],P=[],k=o.globals.comboCharts?s[y]:y,B=a.barHelpers.getGroupIndex(k).columnGroupIndex,D=l.group({class:"apexcharts-series",seriesName:xe.escapeString(o.globals.seriesNames[k]),rel:y+1,"data:realIndex":k});a.ctx.series.addCollapsedClassToSeries(D,k),n[y].length>0&&(a.visibleI=a.visibleI+1);var O,V,X=0;a.yRatio.length>1&&(a.yaxisIndex=o.globals.seriesYAxisReverseMap[k][0],X=k);var K=a.barHelpers.initialPositions(k);T=K.y,O=K.barHeight,b=K.yDivision,M=K.zeroW,E=K.x,V=K.barWidth,w=K.xDivision,S=K.zeroH,P.push(E+V/2);for(var ie=l.group({class:"apexcharts-datalabels","data:realIndex":k}),ee=l.group({class:"apexcharts-bar-goals-markers"}),ae=function(Q){var Z=a.barHelpers.getStrokeWidth(y,Q,k),Y=null,oe={indexes:{i:y,j:Q,realIndex:k,translationsIndex:X},x:E,y:T,strokeWidth:Z,elSeries:D};Y=a.isHorizontal?a.drawHorizontalBoxPaths(lt(lt({},oe),{},{yDivision:b,barHeight:O,zeroW:M})):a.drawVerticalBoxPaths(lt(lt({},oe),{},{xDivision:w,barWidth:V,zeroH:S})),T=Y.y,E=Y.x;var Pe=a.barHelpers.drawGoalLine({barXPosition:Y.barXPosition,barYPosition:Y.barYPosition,goalX:Y.goalX,goalY:Y.goalY,barHeight:O,barWidth:V});Pe&&ee.add(Pe),Q>0&&P.push(E+V/2),R.push(T),Y.pathTo.forEach(function(fe,Ce){var Ae=!a.isBoxPlot&&a.candlestickOptions.wick.useFillColor?Y.color[Ce]:o.globals.stroke.colors[y],Se=u.fillPath({seriesNumber:k,dataPointIndex:Q,color:Y.color[Ce],value:n[y][Q]});a.renderSeries({realIndex:k,pathFill:Se,lineFill:Ae,j:Q,i:y,pathFrom:Y.pathFrom,pathTo:fe,strokeWidth:Z,elSeries:D,x:E,y:T,series:n,columnGroupIndex:B,barHeight:O,barWidth:V,elDataLabelsWrap:ie,elGoalsMarkers:ee,visibleSeries:a.visibleI,type:o.config.chart.type})})},z=0;z<o.globals.dataPoints;z++)ae(z);o.globals.seriesXvalues[k]=P,o.globals.seriesYvalues[k]=R,f.add(D)},v=0;v<n.length;v++)m(v);return f}},{key:"drawVerticalBoxPaths",value:function(n){var i=n.indexes,s=n.x;n.y;var a=n.xDivision,o=n.barWidth,l=n.zeroH,c=n.strokeWidth,u=this.w,d=new Ye(this.ctx),f=i.i,m=i.j,v=u.config.plotOptions.candlestick.colors,y=this.boxOptions.colors,w=i.realIndex,b=function(ie){return Array.isArray(ie)?ie[w]:ie},S=b(v.upward),M=b(v.downward),E=this.yRatio[i.translationsIndex],T=this.getOHLCValue(w,m),R=l,P=l,k=T.o<T.c?[S]:[M];this.isBoxPlot&&(k=[b(y.lower),b(y.upper)]);var B=Math.min(T.o,T.c),D=Math.max(T.o,T.c),O=T.m;u.globals.isXNumeric&&(s=(u.globals.seriesX[w][m]-u.globals.minX)/this.xRatio-o/2);var V=s+o*this.visibleI;this.series[f][m]===void 0||this.series[f][m]===null?(B=l,D=l):(B=l-B/E,D=l-D/E,R=l-T.h/E,P=l-T.l/E,O=l-T.m/E);var X=d.move(V,l),K=d.move(V+o/2,B);return u.globals.previousPaths.length>0&&(K=this.getPreviousPath(w,m,!0)),X=this.isBoxPlot?[d.move(V,B)+d.line(V+o/2,B)+d.line(V+o/2,R)+d.line(V+o/4,R)+d.line(V+o-o/4,R)+d.line(V+o/2,R)+d.line(V+o/2,B)+d.line(V+o,B)+d.line(V+o,O)+d.line(V,O)+d.line(V,B+c/2),d.move(V,O)+d.line(V+o,O)+d.line(V+o,D)+d.line(V+o/2,D)+d.line(V+o/2,P)+d.line(V+o-o/4,P)+d.line(V+o/4,P)+d.line(V+o/2,P)+d.line(V+o/2,D)+d.line(V,D)+d.line(V,O)+"z"]:[d.move(V,D)+d.line(V+o/2,D)+d.line(V+o/2,R)+d.line(V+o/2,D)+d.line(V+o,D)+d.line(V+o,B)+d.line(V+o/2,B)+d.line(V+o/2,P)+d.line(V+o/2,B)+d.line(V,B)+d.line(V,D-c/2)],K+=d.move(V,B),u.globals.isXNumeric||(s+=a),{pathTo:X,pathFrom:K,x:s,y:D,goalY:this.barHelpers.getGoalValues("y",null,l,f,m,i.translationsIndex),barXPosition:V,color:k}}},{key:"drawHorizontalBoxPaths",value:function(n){var i=n.indexes;n.x;var s=n.y,a=n.yDivision,o=n.barHeight,l=n.zeroW,c=n.strokeWidth,u=this.w,d=new Ye(this.ctx),f=i.i,m=i.j,v=this.boxOptions.colors.lower;this.isBoxPlot&&(v=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var y=this.invertedYRatio,w=i.realIndex,b=this.getOHLCValue(w,m),S=l,M=l,E=Math.min(b.o,b.c),T=Math.max(b.o,b.c),R=b.m;u.globals.isXNumeric&&(s=(u.globals.seriesX[w][m]-u.globals.minX)/this.invertedXRatio-o/2);var P=s+o*this.visibleI;this.series[f][m]===void 0||this.series[f][m]===null?(E=l,T=l):(E=l+E/y,T=l+T/y,S=l+b.h/y,M=l+b.l/y,R=l+b.m/y);var k=d.move(l,P),B=d.move(E,P+o/2);return u.globals.previousPaths.length>0&&(B=this.getPreviousPath(w,m,!0)),k=[d.move(E,P)+d.line(E,P+o/2)+d.line(S,P+o/2)+d.line(S,P+o/2-o/4)+d.line(S,P+o/2+o/4)+d.line(S,P+o/2)+d.line(E,P+o/2)+d.line(E,P+o)+d.line(R,P+o)+d.line(R,P)+d.line(E+c/2,P),d.move(R,P)+d.line(R,P+o)+d.line(T,P+o)+d.line(T,P+o/2)+d.line(M,P+o/2)+d.line(M,P+o-o/4)+d.line(M,P+o/4)+d.line(M,P+o/2)+d.line(T,P+o/2)+d.line(T,P)+d.line(R,P)+"z"],B+=d.move(E,P),u.globals.isXNumeric||(s+=a),{pathTo:k,pathFrom:B,x:T,y:s,goalX:this.barHelpers.getGoalValues("x",l,null,f,m),barYPosition:P,color:v}}},{key:"getOHLCValue",value:function(n,i){var s=this.w,a=new Fi(this.ctx,s),o=a.getLogValAtSeriesIndex(s.globals.seriesCandleH[n][i],n),l=a.getLogValAtSeriesIndex(s.globals.seriesCandleO[n][i],n),c=a.getLogValAtSeriesIndex(s.globals.seriesCandleM[n][i],n),u=a.getLogValAtSeriesIndex(s.globals.seriesCandleC[n][i],n),d=a.getLogValAtSeriesIndex(s.globals.seriesCandleL[n][i],n);return{o:this.isBoxPlot?o:l,h:this.isBoxPlot?l:o,m:c,l:this.isBoxPlot?u:d,c:this.isBoxPlot?d:u}}}]),t}(),PI=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,n=e.config.plotOptions[e.config.chart.type];return n.colorScale.ranges.length>0&&n.colorScale.ranges.map(function(i,s){i.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,n,i){var s=this.w,a=1,o=s.config.plotOptions[e].shadeIntensity,l=this.determineColor(e,t,n);s.globals.hasNegs||i?a=s.config.plotOptions[e].reverseNegativeShade?l.percent<0?l.percent/100*(1.25*o):(1-l.percent/100)*(1.25*o):l.percent<=0?1-(1+l.percent/100)*o:(1-l.percent/100)*o:(a=1-l.percent/100,e==="treemap"&&(a=(1-l.percent/100)*(1.25*o)));var c=l.color,u=new xe;if(s.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var d=u.shadeColor(-1*a,l.color);c=xe.hexToRgba(xe.isColorHex(d)?d:xe.rgb2hex(d),s.config.fill.opacity)}else{var f=u.shadeColor(a,l.color);c=xe.hexToRgba(xe.isColorHex(f)?f:xe.rgb2hex(f),s.config.fill.opacity)}return{color:c,colorProps:l}}},{key:"determineColor",value:function(e,t,n){var i=this.w,s=i.globals.series[t][n],a=i.config.plotOptions[e],o=a.colorScale.inverse?n:t;a.distributed&&i.config.chart.type==="treemap"&&(o=n);var l=i.globals.colors[o],c=null,u=Math.min.apply(Math,hr(i.globals.series[t])),d=Math.max.apply(Math,hr(i.globals.series[t]));a.distributed||e!=="heatmap"||(u=i.globals.minY,d=i.globals.maxY),a.colorScale.min!==void 0&&(u=a.colorScale.min<i.globals.minY?a.colorScale.min:i.globals.minY,d=a.colorScale.max>i.globals.maxY?a.colorScale.max:i.globals.maxY);var f=Math.abs(d)+Math.abs(u),m=100*s/(f===0?f-1e-6:f);return a.colorScale.ranges.length>0&&a.colorScale.ranges.map(function(v,y){if(s>=v.from&&s<=v.to){l=v.color,c=v.foreColor?v.foreColor:null,u=v.from,d=v.to;var w=Math.abs(d)+Math.abs(u);m=100*s/(w===0?w-1e-6:w)}}),{color:l,foreColor:c,percent:m}}},{key:"calculateDataLabels",value:function(e){var t=e.text,n=e.x,i=e.y,s=e.i,a=e.j,o=e.colorProps,l=e.fontSize,c=this.w.config.dataLabels,u=new Ye(this.ctx),d=new Ef(this.ctx),f=null;if(c.enabled){f=u.group({class:"apexcharts-data-labels"});var m=c.offsetX,v=c.offsetY,y=n+m,w=i+parseFloat(c.style.fontSize)/3+v;d.plotDataLabelsText({x:y,y:w,text:t,i:s,j:a,color:o.foreColor,parent:f,fontSize:l,dataLabelsConfig:c})}return f}},{key:"addListeners",value:function(e){var t=new Ye(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),r}(),EU=function(){function r(e,t){_t(this,r),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new PI(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return Mt(r,[{key:"draw",value:function(e){var t=this.w,n=new Ye(this.ctx),i=n.group({class:"apexcharts-heatmap"});i.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var s=t.globals.gridWidth/t.globals.dataPoints,a=t.globals.gridHeight/t.globals.series.length,o=0,l=!1;this.negRange=this.helpers.checkColorRange();var c=e.slice();t.config.yaxis[0].reversed&&(l=!0,c.reverse());for(var u=l?0:c.length-1;l?u<c.length:u>=0;l?u++:u--){var d=n.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:xe.escapeString(t.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(this.ctx.series.addCollapsedClassToSeries(d,u),t.config.chart.dropShadow.enabled){var f=t.config.chart.dropShadow;new Nr(this.ctx).dropShadow(d,f,u)}for(var m=0,v=t.config.plotOptions.heatmap.shadeIntensity,y=0,w=0;w<t.globals.dataPoints;w++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*w<t.globals.seriesX[u][y])m+=s;else{if(y>=c[u].length)break;var b=this.helpers.getShadeColor(t.config.chart.type,u,y,this.negRange),S=b.color,M=b.colorProps;t.config.fill.type==="image"&&(S=new lo(this.ctx).fillPath({seriesNumber:u,dataPointIndex:y,opacity:t.globals.hasNegs?M.percent<0?1-(1+M.percent/100):v+M.percent/100:M.percent/100,patternID:xe.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:s,height:t.config.fill.image.height?t.config.fill.image.height:a}));var E=this.rectRadius,T=n.drawRect(m,o,s,a,E);if(T.attr({cx:m,cy:o}),T.node.classList.add("apexcharts-heatmap-rect"),d.add(T),T.attr({fill:S,i:u,index:u,j:y,val:e[u][y],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?S:t.globals.stroke.colors[0],color:S}),this.helpers.addListeners(T),t.config.chart.animations.enabled&&!t.globals.dataChanged){var R=1;t.globals.resized||(R=t.config.chart.animations.speed),this.animateHeatMap(T,m,o,s,a,R)}if(t.globals.dataChanged){var P=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){P=this.dynamicAnim.speed;var k=t.globals.previousPaths[u]&&t.globals.previousPaths[u][y]&&t.globals.previousPaths[u][y].color;k||(k="rgba(255, 255, 255, 0)"),this.animateHeatColor(T,xe.isColorHex(k)?k:xe.rgb2hex(k),xe.isColorHex(S)?S:xe.rgb2hex(S),P)}}var B=(0,t.config.dataLabels.formatter)(t.globals.series[u][y],{value:t.globals.series[u][y],seriesIndex:u,dataPointIndex:y,w:t}),D=this.helpers.calculateDataLabels({text:B,x:m+s/2,y:o+a/2,i:u,j:y,colorProps:M,series:c});D!==null&&d.add(D),m+=s,y++}o+=a,i.add(d)}var O=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?O.unshift(""):O.push(""),t.globals.yAxisScale[0].result=O,i}},{key:"animateHeatMap",value:function(e,t,n,i,s,a){var o=new zf(this.ctx);o.animateRect(e,{x:t+i/2,y:n+s/2,width:0,height:0},{x:t,y:n,width:i,height:s},a,function(){o.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,n,i){e.attr({fill:t}).animate(i).attr({fill:n})}}]),r}(),kI=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"drawYAxisTexts",value:function(e,t,n,i){var s=this.w,a=s.config.yaxis[0],o=s.globals.yLabelFormatters[0];return new Ye(this.ctx).drawText({x:e+a.labels.offsetX,y:t+a.labels.offsetY,text:o(i,n),textAnchor:"middle",fontSize:a.labels.style.fontSize,fontFamily:a.labels.style.fontFamily,foreColor:Array.isArray(a.labels.style.colors)?a.labels.style.colors[n]:a.labels.style.colors})}}]),r}(),LI=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var n=t.config.plotOptions.pie.customScale,i=t.globals.gridWidth/2,s=t.globals.gridHeight/2;this.translateX=i-i*n,this.translateY=s-s*n,this.dataLabelsGroup=new Ye(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return Mt(r,[{key:"draw",value:function(e){var t=this,n=this.w,i=new Ye(this.ctx),s=i.group({class:"apexcharts-pie"});if(n.globals.noData)return s;for(var a=0,o=0;o<e.length;o++)a+=xe.negToZero(e[o]);var l=[],c=i.group();a===0&&(a=1e-5),e.forEach(function(M){t.maxY=Math.max(t.maxY,M)}),n.config.yaxis[0].max&&(this.maxY=n.config.yaxis[0].max),n.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(s);for(var u=0;u<e.length;u++){var d=this.fullAngle*xe.negToZero(e[u])/a;l.push(d),this.chartType==="polarArea"?(l[u]=this.fullAngle/e.length,this.sliceSizes.push(n.globals.radialSize*e[u]/this.maxY)):this.sliceSizes.push(n.globals.radialSize)}if(n.globals.dataChanged){for(var f,m=0,v=0;v<n.globals.previousPaths.length;v++)m+=xe.negToZero(n.globals.previousPaths[v]);for(var y=0;y<n.globals.previousPaths.length;y++)f=this.fullAngle*xe.negToZero(n.globals.previousPaths[y])/m,this.prevSectorAngleArr.push(f)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var w=i.drawCircle(this.donutSize);w.attr({cx:this.centerX,cy:this.centerY,fill:n.config.plotOptions.pie.donut.background?n.config.plotOptions.pie.donut.background:"transparent"}),c.add(w)}var b=this.drawArcs(l,e);if(this.sliceLabels.forEach(function(M){b.add(M)}),c.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n.config.plotOptions.pie.customScale,")")}),c.add(b),s.add(c),this.donutDataLabels.show){var S=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});s.add(S)}return n.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(s),s}},{key:"drawArcs",value:function(e,t){var n=this.w,i=new Nr(this.ctx),s=new Ye(this.ctx),a=new lo(this.ctx),o=s.group({class:"apexcharts-slices"}),l=this.initialAngle,c=this.initialAngle,u=this.initialAngle,d=this.initialAngle;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var f=0;f<e.length;f++){var m=s.group({class:"apexcharts-series apexcharts-pie-series",seriesName:xe.escapeString(n.globals.seriesNames[f]),rel:f+1,"data:realIndex":f});o.add(m),c=d,u=(l=u)+e[f],d=c+this.prevSectorAngleArr[f];var v=u<l?this.fullAngle+u-l:u-l,y=a.fillPath({seriesNumber:f,size:this.sliceSizes[f],value:t[f]}),w=this.getChangedPath(c,d),b=s.drawPath({d:w,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[f]:this.lineColorArr,strokeWidth:0,fill:y,fillOpacity:n.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(f)});if(b.attr({index:0,j:f}),i.setSelectionFilter(b,0,f),n.config.chart.dropShadow.enabled){var S=n.config.chart.dropShadow;i.dropShadow(b,S,f)}this.addListeners(b,this.donutDataLabels),Ye.setAttrs(b.node,{"data:angle":v,"data:startAngle":l,"data:strokeWidth":this.strokeWidth,"data:value":t[f]});var M={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?M=xe.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,(l+v/2)%this.fullAngle):this.chartType==="donut"&&(M=xe.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,(l+v/2)%this.fullAngle)),m.add(b);var E=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):((E=v/this.fullAngle*n.config.chart.animations.speed)===0&&(E=1),this.animDur=E+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&n.globals.dataChanged?this.animatePaths(b,{size:this.sliceSizes[f],endAngle:u,startAngle:l,prevStartAngle:c,prevEndAngle:d,animateStartingPos:!0,i:f,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:n.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(b,{size:this.sliceSizes[f],endAngle:u,startAngle:l,i:f,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:E}),n.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&b.node.addEventListener("mouseup",this.pieClicked.bind(this,f)),n.globals.selectedDataPoints[0]!==void 0&&n.globals.selectedDataPoints[0].indexOf(f)>-1&&this.pieClicked(f),n.config.dataLabels.enabled){var T=M.x,R=M.y,P=100*v/this.fullAngle+"%";if(v!==0&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[f]){var k=n.config.dataLabels.formatter;k!==void 0&&(P=k(n.globals.seriesPercent[f][0],{seriesIndex:f,w:n}));var B=n.globals.dataLabels.style.colors[f],D=s.group({class:"apexcharts-datalabels"}),O=s.drawText({x:T,y:R,text:P,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,fontWeight:n.config.dataLabels.style.fontWeight,foreColor:B});if(D.add(O),n.config.dataLabels.dropShadow.enabled){var V=n.config.dataLabels.dropShadow;i.dropShadow(O,V)}O.node.classList.add("apexcharts-pie-label"),n.config.chart.animations.animate&&n.globals.resized===!1&&(O.node.classList.add("apexcharts-pie-label-delay"),O.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(D)}}}return o}},{key:"addListeners",value:function(e,t){var n=new Ye(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var n=this.w,i=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,s=i,a=t.startAngle,o=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(a=t.prevEndAngle,s=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===n.config.series.length-1&&(i+o>this.fullAngle?t.endAngle=t.endAngle-(i+o):i+o<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(i+o)))),i===this.fullAngle&&(i=this.fullAngle-.01),this.animateArc(e,a,o,i,s,t)}},{key:"animateArc",value:function(e,t,n,i,s,a){var o,l=this,c=this.w,u=new zf(this.ctx),d=a.size;(isNaN(t)||isNaN(s))&&(t=n,s=i,a.dur=0);var f=i,m=n,v=t<n?this.fullAngle+t-n:t-n;c.globals.dataChanged&&a.shouldSetPrevPaths&&a.prevEndAngle&&(o=l.getPiePath({me:l,startAngle:a.prevStartAngle,angle:a.prevEndAngle<a.prevStartAngle?this.fullAngle+a.prevEndAngle-a.prevStartAngle:a.prevEndAngle-a.prevStartAngle,size:d}),e.attr({d:o})),a.dur!==0?e.animate(a.dur,a.animBeginArr[a.i]).after(function(){l.chartType!=="pie"&&l.chartType!=="donut"&&l.chartType!=="polarArea"||this.animate(c.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),a.i===c.config.series.length-1&&u.animationCompleted(e)}).during(function(y){f=v+(i-v)*y,a.animateStartingPos&&(f=s+(i-s)*y,m=t-s+(n-(t-s))*y),o=l.getPiePath({me:l,startAngle:m,angle:f,size:d}),e.node.setAttribute("data:pathOrig",o),e.attr({d:o})}):(o=l.getPiePath({me:l,startAngle:m,angle:i,size:d}),a.isTrack||(c.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",o),e.attr({d:o,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,n=this.w,i=this,s=i.sliceSizes[e]+(n.config.plotOptions.pie.expandOnClick?4:0),a=n.globals.dom.Paper.findOne(".apexcharts-".concat(i.chartType.toLowerCase(),"-slice-").concat(e));if(a.attr("data:pieClicked")!=="true"){var o=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,function(d){d.setAttribute("data:pieClicked","false");var f=d.getAttribute("data:pathOrig");f&&d.setAttribute("d",f)}),n.globals.capturedDataPointIndex=e,a.attr("data:pieClicked","true");var l=parseInt(a.attr("data:startAngle"),10),c=parseInt(a.attr("data:angle"),10);t=i.getPiePath({me:i,startAngle:l,angle:c,size:s}),c!==360&&a.plot(t)}else{a.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(a.node,this.donutDataLabels);var u=a.attr("data:pathOrig");a.attr({d:u})}}},{key:"getChangedPath",value:function(e,t){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),n}},{key:"getPiePath",value:function(e){var t,n=e.me,i=e.startAngle,s=e.angle,a=e.size,o=new Ye(this.ctx),l=i,c=Math.PI*(l-90)/180,u=s+i;Math.ceil(u)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(u=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(u)>this.fullAngle&&(u-=this.fullAngle);var d=Math.PI*(u-90)/180,f=n.centerX+a*Math.cos(c),m=n.centerY+a*Math.sin(c),v=n.centerX+a*Math.cos(d),y=n.centerY+a*Math.sin(d),w=xe.polarToCartesian(n.centerX,n.centerY,n.donutSize,u),b=xe.polarToCartesian(n.centerX,n.centerY,n.donutSize,l),S=s>180?1:0,M=["M",f,m,"A",a,a,0,S,1,v,y];return t=n.chartType==="donut"?[].concat(M,["L",w.x,w.y,"A",n.donutSize,n.donutSize,0,S,0,b.x,b.y,"L",f,m,"z"]).join(" "):n.chartType==="pie"||n.chartType==="polarArea"?[].concat(M,["L",n.centerX,n.centerY,"L",f,m]).join(" "):[].concat(M).join(" "),o.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,n=new CI(this.ctx),i=new Ye(this.ctx),s=new kI(this.ctx),a=i.group(),o=i.group(),l=n.niceScale(0,Math.ceil(this.maxY),0),c=l.result.reverse(),u=l.result.length;this.maxY=l.niceMax;for(var d=t.globals.radialSize,f=d/(u-1),m=0;m<u-1;m++){var v=i.drawCircle(d);if(v.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var y=s.drawYAxisTexts(this.centerX,this.centerY-d+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,m,c[m]);o.add(y)}a.add(v),d-=f}this.drawSpokes(e),e.add(a),e.add(o)}},{key:"renderInnerDataLabels",value:function(e,t,n){var i=this.w,s=new Ye(this.ctx),a=t.total.show;e.node.innerHTML="",e.node.style.opacity=n.opacity;var o,l,c=n.centerX,u=this.donutDataLabels.total.label?n.centerY:n.centerY-n.centerY/6;o=t.name.color===void 0?i.globals.colors[0]:t.name.color;var d=t.name.fontSize,f=t.name.fontFamily,m=t.name.fontWeight;l=t.value.color===void 0?i.config.chart.foreColor:t.value.color;var v=t.value.formatter,y="",w="";if(a?(o=t.total.color,d=t.total.fontSize,f=t.total.fontFamily,m=t.total.fontWeight,w=this.donutDataLabels.total.label?t.total.label:"",y=t.total.formatter(i)):i.globals.series.length===1&&(y=v(i.globals.series[0],i),w=i.globals.seriesNames[0]),w&&(w=t.name.formatter(w,t.total.show,i)),t.name.show){var b=s.drawText({x:c,y:u+parseFloat(t.name.offsetY),text:w,textAnchor:"middle",foreColor:o,fontSize:d,fontWeight:m,fontFamily:f});b.node.classList.add("apexcharts-datalabel-label"),e.add(b)}if(t.value.show){var S=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,M=s.drawText({x:c,y:u+S,text:y,textAnchor:"middle",foreColor:l,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});M.node.classList.add("apexcharts-datalabel-value"),e.add(M)}return e}},{key:"printInnerLabels",value:function(e,t,n,i){var s,a=this.w;i?s=e.name.color===void 0?a.globals.colors[parseInt(i.parentNode.getAttribute("rel"),10)-1]:e.name.color:a.globals.series.length>1&&e.total.show&&(s=e.total.color);var o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),l=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");n=(0,e.value.formatter)(n,a),i||typeof e.total.formatter!="function"||(n=e.total.formatter(a));var c=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,c,a):"",o!==null&&(o.textContent=t),l!==null&&(l.textContent=n),o!==null&&(o.style.fill=s)}},{key:"printDataLabelsInner",value:function(e,t){var n=this.w,i=e.getAttribute("data:value"),s=n.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];n.globals.series.length>1&&this.printInnerLabels(t,s,i,e);var a=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");a!==null&&(a.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,n=this.w,i=new Ye(this.ctx),s=n.config.plotOptions.polarArea.spokes;if(s.strokeWidth!==0){for(var a=[],o=360/n.globals.series.length,l=0;l<n.globals.series.length;l++)a.push(xe.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize,n.config.plotOptions.pie.startAngle+o*l));a.forEach(function(c,u){var d=i.drawLine(c.x,c.y,t.centerX,t.centerY,Array.isArray(s.connectorColors)?s.connectorColors[u]:s.connectorColors);e.add(d)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),n=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(n)}}}]),r}(),TU=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new Ye(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new Fi(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return Mt(r,[{key:"draw",value:function(e){var t=this,n=this.w,i=new lo(this.ctx),s=[],a=new Ef(this.ctx);e.length&&(this.dataPointsLen=e[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=n.globals.gridWidth/2,l=n.globals.gridHeight/2,c=o+n.config.plotOptions.radar.offsetX,u=l+n.config.plotOptions.radar.offsetY,d=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(u||0,")")}),f=[],m=null,v=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(w,b){var S=w.length===n.globals.dataPoints,M=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":S,seriesName:xe.escapeString(n.globals.seriesNames[b]),rel:b+1,"data:realIndex":b});t.dataRadiusOfPercent[b]=[],t.dataRadius[b]=[],t.angleArr[b]=[],w.forEach(function(X,K){var ie=Math.abs(t.maxValue-t.minValue);X-=t.minValue,t.isLog&&(X=t.coreUtils.getLogVal(t.logBase,X,0)),t.dataRadiusOfPercent[b][K]=X/ie,t.dataRadius[b][K]=t.dataRadiusOfPercent[b][K]*t.size,t.angleArr[b][K]=K*t.disAngle}),f=t.getDataPointsPos(t.dataRadius[b],t.angleArr[b]);var E=t.createPaths(f,{x:0,y:0});m=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),v=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":b}),n.globals.delayedElements.push({el:m.node,index:b});var T={i:b,realIndex:b,animationDelay:b,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[b],strokeLineCap:n.config.stroke.lineCap},R=null;n.globals.previousPaths.length>0&&(R=t.getPreviousPath(b));for(var P=0;P<E.linePathsTo.length;P++){var k=t.graphics.renderPaths(lt(lt({},T),{},{pathFrom:R===null?E.linePathsFrom[P]:R,pathTo:E.linePathsTo[P],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[b]:t.strokeWidth,fill:"none",drawShadow:!1}));M.add(k);var B=i.fillPath({seriesNumber:b}),D=t.graphics.renderPaths(lt(lt({},T),{},{pathFrom:R===null?E.areaPathsFrom[P]:R,pathTo:E.areaPathsTo[P],strokeWidth:0,fill:B,drawShadow:!1}));if(n.config.chart.dropShadow.enabled){var O=new Nr(t.ctx),V=n.config.chart.dropShadow;O.dropShadow(D,Object.assign({},V,{noUserSpaceOnUse:!0}),b)}M.add(D)}w.forEach(function(X,K){var ie=new Wf(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:b,dataPointIndex:K}),ee=t.graphics.drawMarker(f[K].x,f[K].y,ie);ee.attr("rel",K),ee.attr("j",K),ee.attr("index",b),ee.node.setAttribute("default-marker-size",ie.pSize);var ae=t.graphics.group({class:"apexcharts-series-markers"});ae&&ae.add(ee),m.add(ae),M.add(m);var z=n.config.dataLabels;if(z.enabled){var Q=z.formatter(n.globals.series[b][K],{seriesIndex:b,dataPointIndex:K,w:n});a.plotDataLabelsText({x:f[K].x,y:f[K].y,text:Q,textAnchor:"middle",i:b,j:b,parent:v,offsetCorrection:!1,dataLabelsConfig:lt({},z)})}M.add(v)}),s.push(M)}),this.drawPolygons({parent:d}),n.config.xaxis.labels.show){var y=this.drawXAxisTexts();d.add(y)}return s.forEach(function(w){d.add(w)}),d.add(this.yaxisLabels),d}},{key:"drawPolygons",value:function(e){for(var t=this,n=this.w,i=e.parent,s=new kI(this.ctx),a=n.globals.yAxisScale[0].result.reverse(),o=a.length,l=[],c=this.size/(o-1),u=0;u<o;u++)l[u]=c*u;l.reverse();var d=[],f=[];l.forEach(function(m,v){var y=xe.getPolygonPos(m,t.dataPointsLen),w="";y.forEach(function(b,S){if(v===0){var M=t.graphics.drawLine(b.x,b.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[S]:t.polygons.connectorColors);f.push(M)}S===0&&t.yaxisLabelsTextsPos.push({x:b.x,y:b.y}),w+=b.x+","+b.y+" "}),d.push(w)}),d.forEach(function(m,v){var y=t.polygons.strokeColors,w=t.polygons.strokeWidth,b=t.graphics.drawPolygon(m,Array.isArray(y)?y[v]:y,Array.isArray(w)?w[v]:w,n.globals.radarPolygons.fill.colors[v]);i.add(b)}),f.forEach(function(m){i.add(m)}),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(m,v){var y=s.drawYAxisTexts(m.x,m.y,v,a[v]);t.yaxisLabels.add(y)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,n=t.config.xaxis.labels,i=this.graphics.group({class:"apexcharts-xaxis"}),s=xe.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(a,o){var l=t.config.xaxis.labels.formatter,c=new Ef(e.ctx);if(s[o]){var u=e.getTextPos(s[o],e.size),d=l(a,{seriesIndex:-1,dataPointIndex:o,w:t});c.plotDataLabelsText({x:u.newX,y:u.newY,text:d,textAnchor:u.textAnchor,i:o,j:o,parent:i,className:"apexcharts-xaxis-label",color:Array.isArray(n.style.colors)&&n.style.colors[o]?n.style.colors[o]:"#a8a8a8",dataLabelsConfig:lt({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},n),offsetCorrection:!1}).on("click",function(f){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var m=Object.assign({},t,{labelIndex:o});t.config.chart.events.xAxisLabelClick(f,e.ctx,m)}})}}),i}},{key:"createPaths",value:function(e,t){var n=this,i=[],s=[],a=[],o=[];if(e.length){s=[this.graphics.move(t.x,t.y)],o=[this.graphics.move(t.x,t.y)];var l=this.graphics.move(e[0].x,e[0].y),c=this.graphics.move(e[0].x,e[0].y);e.forEach(function(u,d){l+=n.graphics.line(u.x,u.y),c+=n.graphics.line(u.x,u.y),d===e.length-1&&(l+="Z",c+="Z")}),i.push(l),a.push(c)}return{linePathsFrom:s,linePathsTo:i,areaPathsFrom:o,areaPathsTo:a}}},{key:"getTextPos",value:function(e,t){var n="middle",i=e.x,s=e.y;return Math.abs(e.x)>=10?e.x>0?(n="start",i+=10):e.x<0&&(n="end",i-=10):n="middle",Math.abs(e.y)>=t-10&&(e.y<0?s-=10:e.y>0&&(s+=10)),{textAnchor:n,newX:i,newY:s}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,n=null,i=0;i<t.globals.previousPaths.length;i++){var s=t.globals.previousPaths[i];s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[i].paths[0]!==void 0&&(n=t.globals.previousPaths[i].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var i=[],s=0;s<n;s++){var a={};a.x=e[s]*Math.sin(t[s]),a.y=-e[s]*Math.cos(t[s]),i.push(a)}return i}}]),r}(),RU=function(r){fg(t,LI);var e=dg(t);function t(n){var i;_t(this,t),(i=e.call(this,n)).ctx=n,i.w=n.w,i.animBeginArr=[0],i.animDur=0;var s=i.w;return i.startAngle=s.config.plotOptions.radialBar.startAngle,i.endAngle=s.config.plotOptions.radialBar.endAngle,i.totalAngle=Math.abs(s.config.plotOptions.radialBar.endAngle-s.config.plotOptions.radialBar.startAngle),i.trackStartAngle=s.config.plotOptions.radialBar.track.startAngle,i.trackEndAngle=s.config.plotOptions.radialBar.track.endAngle,i.barLabels=i.w.config.plotOptions.radialBar.barLabels,i.donutDataLabels=i.w.config.plotOptions.radialBar.dataLabels,i.radialDataLabels=i.donutDataLabels,i.trackStartAngle||(i.trackStartAngle=i.startAngle),i.trackEndAngle||(i.trackEndAngle=i.endAngle),i.endAngle===360&&(i.endAngle=359.99),i.margin=parseInt(s.config.plotOptions.radialBar.track.margin,10),i.onBarLabelClick=i.onBarLabelClick.bind(YR(i)),i}return Mt(t,[{key:"draw",value:function(n){var i=this.w,s=new Ye(this.ctx),a=s.group({class:"apexcharts-radialbar"});if(i.globals.noData)return a;var o=s.group(),l=this.defaultSize/2,c=i.globals.gridWidth/2,u=this.defaultSize/2.05;i.config.chart.sparkline.enabled||(u=u-i.config.stroke.width-i.config.chart.dropShadow.blur);var d=i.globals.fill.colors;if(i.config.plotOptions.radialBar.track.show){var f=this.drawTracks({size:u,centerX:c,centerY:l,colorArr:d,series:n});o.add(f)}var m=this.drawArcs({size:u,centerX:c,centerY:l,colorArr:d,series:n}),v=360;i.config.plotOptions.radialBar.startAngle<0&&(v=this.totalAngle);var y=(360-v)/360;if(i.globals.radialSize=u-u*y,this.radialDataLabels.value.show){var w=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);i.globals.radialSize+=w*y}return o.add(m.g),i.config.plotOptions.radialBar.hollow.position==="front"&&(m.g.add(m.elHollow),m.dataLabels&&m.g.add(m.dataLabels)),a.add(o),a}},{key:"drawTracks",value:function(n){var i=this.w,s=new Ye(this.ctx),a=s.group({class:"apexcharts-tracks"}),o=new Nr(this.ctx),l=new lo(this.ctx),c=this.getStrokeWidth(n);n.size=n.size-c/2;for(var u=0;u<n.series.length;u++){var d=s.group({class:"apexcharts-radialbar-track apexcharts-track"});a.add(d),d.attr({rel:u+1}),n.size=n.size-c-this.margin;var f=i.config.plotOptions.radialBar.track,m=l.fillPath({seriesNumber:0,size:n.size,fillColors:Array.isArray(f.background)?f.background[u]:f.background,solid:!0}),v=this.trackStartAngle,y=this.trackEndAngle;Math.abs(y)+Math.abs(v)>=360&&(y=360-Math.abs(this.startAngle)-.1);var w=s.drawPath({d:"",stroke:m,strokeWidth:c*parseInt(f.strokeWidth,10)/100,fill:"none",strokeOpacity:f.opacity,classes:"apexcharts-radialbar-area"});if(f.dropShadow.enabled){var b=f.dropShadow;o.dropShadow(w,b)}d.add(w),w.attr("id","apexcharts-radialbarTrack-"+u),this.animatePaths(w,{centerX:n.centerX,centerY:n.centerY,endAngle:y,startAngle:v,size:n.size,i:u,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return a}},{key:"drawArcs",value:function(n){var i=this.w,s=new Ye(this.ctx),a=new lo(this.ctx),o=new Nr(this.ctx),l=s.group(),c=this.getStrokeWidth(n);n.size=n.size-c/2;var u=i.config.plotOptions.radialBar.hollow.background,d=n.size-c*n.series.length-this.margin*n.series.length-c*parseInt(i.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,f=d-i.config.plotOptions.radialBar.hollow.margin;i.config.plotOptions.radialBar.hollow.image!==void 0&&(u=this.drawHollowImage(n,l,d,u));var m=this.drawHollow({size:f,centerX:n.centerX,centerY:n.centerY,fill:u||"transparent"});if(i.config.plotOptions.radialBar.hollow.dropShadow.enabled){var v=i.config.plotOptions.radialBar.hollow.dropShadow;o.dropShadow(m,v)}var y=1;!this.radialDataLabels.total.show&&i.globals.series.length>1&&(y=0);var w=null;if(this.radialDataLabels.show){var b=i.globals.dom.Paper.findOne(".apexcharts-datalabels-group");w=this.renderInnerDataLabels(b,this.radialDataLabels,{hollowSize:d,centerX:n.centerX,centerY:n.centerY,opacity:y})}i.config.plotOptions.radialBar.hollow.position==="back"&&(l.add(m),w&&l.add(w));var S=!1;i.config.plotOptions.radialBar.inverseOrder&&(S=!0);for(var M=S?n.series.length-1:0;S?M>=0:M<n.series.length;S?M--:M++){var E=s.group({class:"apexcharts-series apexcharts-radial-series",seriesName:xe.escapeString(i.globals.seriesNames[M])});l.add(E),E.attr({rel:M+1,"data:realIndex":M}),this.ctx.series.addCollapsedClassToSeries(E,M),n.size=n.size-c-this.margin;var T=a.fillPath({seriesNumber:M,size:n.size,value:n.series[M]}),R=this.startAngle,P=void 0,k=xe.negToZero(n.series[M]>100?100:n.series[M])/100,B=Math.round(this.totalAngle*k)+this.startAngle,D=void 0;i.globals.dataChanged&&(P=this.startAngle,D=Math.round(this.totalAngle*xe.negToZero(i.globals.previousPaths[M])/100)+P),Math.abs(B)+Math.abs(R)>360&&(B-=.01),Math.abs(D)+Math.abs(P)>360&&(D-=.01);var O=B-R,V=Array.isArray(i.config.stroke.dashArray)?i.config.stroke.dashArray[M]:i.config.stroke.dashArray,X=s.drawPath({d:"",stroke:T,strokeWidth:c,fill:"none",fillOpacity:i.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+M,strokeDashArray:V});if(Ye.setAttrs(X.node,{"data:angle":O,"data:value":n.series[M]}),i.config.chart.dropShadow.enabled){var K=i.config.chart.dropShadow;o.dropShadow(X,K,M)}if(o.setSelectionFilter(X,0,M),this.addListeners(X,this.radialDataLabels),E.add(X),X.attr({index:0,j:M}),this.barLabels.enabled){var ie=xe.polarToCartesian(n.centerX,n.centerY,n.size,R),ee=this.barLabels.formatter(i.globals.seriesNames[M],{seriesIndex:M,w:i}),ae=["apexcharts-radialbar-label"];this.barLabels.onClick||ae.push("apexcharts-no-click");var z=this.barLabels.useSeriesColors?i.globals.colors[M]:i.config.chart.foreColor;z||(z=i.config.chart.foreColor);var Q=ie.x+this.barLabels.offsetX,Z=ie.y+this.barLabels.offsetY,Y=s.drawText({x:Q,y:Z,text:ee,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:z,cssClass:ae.join(" ")});Y.on("click",this.onBarLabelClick),Y.attr({rel:M+1}),R!==0&&Y.attr({"transform-origin":"".concat(Q," ").concat(Z),transform:"rotate(".concat(R," 0 0)")}),E.add(Y)}var oe=0;!this.initialAnim||i.globals.resized||i.globals.dataChanged||(oe=i.config.chart.animations.speed),i.globals.dataChanged&&(oe=i.config.chart.animations.dynamicAnimation.speed),this.animDur=oe/(1.2*n.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(X,{centerX:n.centerX,centerY:n.centerY,endAngle:B,startAngle:R,prevEndAngle:D,prevStartAngle:P,size:n.size,i:M,totalItems:2,animBeginArr:this.animBeginArr,dur:oe,shouldSetPrevPaths:!0})}return{g:l,elHollow:m,dataLabels:w}}},{key:"drawHollow",value:function(n){var i=new Ye(this.ctx).drawCircle(2*n.size);return i.attr({class:"apexcharts-radialbar-hollow",cx:n.centerX,cy:n.centerY,r:n.size,fill:n.fill}),i}},{key:"drawHollowImage",value:function(n,i,s,a){var o=this.w,l=new lo(this.ctx),c=xe.randomId(),u=o.config.plotOptions.radialBar.hollow.image;if(o.config.plotOptions.radialBar.hollow.imageClipped)l.clippedImgArea({width:s,height:s,image:u,patternID:"pattern".concat(o.globals.cuid).concat(c)}),a="url(#pattern".concat(o.globals.cuid).concat(c,")");else{var d=o.config.plotOptions.radialBar.hollow.imageWidth,f=o.config.plotOptions.radialBar.hollow.imageHeight;if(d===void 0&&f===void 0){var m=o.globals.dom.Paper.image(u,function(y){this.move(n.centerX-y.width/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-y.height/2+o.config.plotOptions.radialBar.hollow.imageOffsetY)});i.add(m)}else{var v=o.globals.dom.Paper.image(u,function(y){this.move(n.centerX-d/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-f/2+o.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(d,f)});i.add(v)}}return a}},{key:"getStrokeWidth",value:function(n){var i=this.w;return n.size*(100-parseInt(i.config.plotOptions.radialBar.hollow.size,10))/100/(n.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(n){var i=parseInt(n.target.getAttribute("rel"),10)-1,s=this.barLabels.onClick,a=this.w;s&&s(a.globals.seriesNames[i],{w:a,seriesIndex:i})}}]),t}(),IU=function(r){fg(t,Tf);var e=dg(t);function t(){return _t(this,t),e.apply(this,arguments)}return Mt(t,[{key:"draw",value:function(n,i){var s=this.w,a=new Ye(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=n,this.seriesRangeStart=s.globals.seriesRangeStart,this.seriesRangeEnd=s.globals.seriesRangeEnd,this.barHelpers.initVariables(n);for(var o=a.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),l=0;l<n.length;l++){var c,u,d,f,m=void 0,v=void 0,y=s.globals.comboCharts?i[l]:l,w=this.barHelpers.getGroupIndex(y).columnGroupIndex,b=a.group({class:"apexcharts-series",seriesName:xe.escapeString(s.globals.seriesNames[y]),rel:l+1,"data:realIndex":y});this.ctx.series.addCollapsedClassToSeries(b,y),n[l].length>0&&(this.visibleI=this.visibleI+1);var S=0,M=0,E=0;this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[y][0],E=y);var T=this.barHelpers.initialPositions(y);v=T.y,f=T.zeroW,m=T.x,M=T.barWidth,S=T.barHeight,c=T.xDivision,u=T.yDivision,d=T.zeroH;for(var R=a.group({class:"apexcharts-datalabels","data:realIndex":y}),P=a.group({class:"apexcharts-rangebar-goals-markers"}),k=0;k<s.globals.dataPoints;k++){var B=this.barHelpers.getStrokeWidth(l,k,y),D=this.seriesRangeStart[l][k],O=this.seriesRangeEnd[l][k],V=null,X=null,K=null,ie={x:m,y:v,strokeWidth:B,elSeries:b},ee=this.seriesLen;if(s.config.plotOptions.bar.rangeBarGroupRows&&(ee=1),s.config.series[l].data[k]===void 0)break;if(this.isHorizontal){K=v+S*this.visibleI;var ae=(u-S*ee)/2;if(s.config.series[l].data[k].x){var z=this.detectOverlappingBars({i:l,j:k,barYPosition:K,srty:ae,barHeight:S,yDivision:u,initPositions:T});S=z.barHeight,K=z.barYPosition}M=(V=this.drawRangeBarPaths(lt({indexes:{i:l,j:k,realIndex:y},barHeight:S,barYPosition:K,zeroW:f,yDivision:u,y1:D,y2:O},ie))).barWidth}else{s.globals.isXNumeric&&(m=(s.globals.seriesX[l][k]-s.globals.minX)/this.xRatio-M/2),X=m+M*this.visibleI;var Q=(c-M*ee)/2;if(s.config.series[l].data[k].x){var Z=this.detectOverlappingBars({i:l,j:k,barXPosition:X,srtx:Q,barWidth:M,xDivision:c,initPositions:T});M=Z.barWidth,X=Z.barXPosition}S=(V=this.drawRangeColumnPaths(lt({indexes:{i:l,j:k,realIndex:y,translationsIndex:E},barWidth:M,barXPosition:X,zeroH:d,xDivision:c},ie))).barHeight}var Y=this.barHelpers.drawGoalLine({barXPosition:V.barXPosition,barYPosition:K,goalX:V.goalX,goalY:V.goalY,barHeight:S,barWidth:M});Y&&P.add(Y),v=V.y,m=V.x;var oe=this.barHelpers.getPathFillColor(n,l,k,y);this.renderSeries({realIndex:y,pathFill:oe.color,lineFill:oe.useRangeColor?oe.color:s.globals.stroke.colors[y],j:k,i:l,x:m,y:v,y1:D,y2:O,pathFrom:V.pathFrom,pathTo:V.pathTo,strokeWidth:B,elSeries:b,series:n,barHeight:S,barWidth:M,barXPosition:X,barYPosition:K,columnGroupIndex:w,elDataLabelsWrap:R,elGoalsMarkers:P,visibleSeries:this.visibleI,type:"rangebar"})}o.add(b)}return o}},{key:"detectOverlappingBars",value:function(n){var i=n.i,s=n.j,a=n.barYPosition,o=n.barXPosition,l=n.srty,c=n.srtx,u=n.barHeight,d=n.barWidth,f=n.yDivision,m=n.xDivision,v=n.initPositions,y=this.w,w=[],b=y.config.series[i].data[s].rangeName,S=y.config.series[i].data[s].x,M=Array.isArray(S)?S.join(" "):S,E=y.globals.labels.map(function(R){return Array.isArray(R)?R.join(" "):R}).indexOf(M),T=y.globals.seriesRange[i].findIndex(function(R){return R.x===M&&R.overlaps.length>0});return this.isHorizontal?(a=y.config.plotOptions.bar.rangeBarGroupRows?l+f*E:l+u*this.visibleI+f*E,T>-1&&!y.config.plotOptions.bar.rangeBarOverlap&&(w=y.globals.seriesRange[i][T].overlaps).indexOf(b)>-1&&(a=(u=v.barHeight/w.length)*this.visibleI+f*(100-parseInt(this.barOptions.barHeight,10))/100/2+u*(this.visibleI+w.indexOf(b))+f*E)):(E>-1&&!y.globals.timescaleLabels.length&&(o=y.config.plotOptions.bar.rangeBarGroupRows?c+m*E:c+d*this.visibleI+m*E),T>-1&&!y.config.plotOptions.bar.rangeBarOverlap&&(w=y.globals.seriesRange[i][T].overlaps).indexOf(b)>-1&&(o=(d=v.barWidth/w.length)*this.visibleI+m*(100-parseInt(this.barOptions.barWidth,10))/100/2+d*(this.visibleI+w.indexOf(b))+m*E)),{barYPosition:a,barXPosition:o,barHeight:u,barWidth:d}}},{key:"drawRangeColumnPaths",value:function(n){var i=n.indexes,s=n.x,a=n.xDivision,o=n.barWidth,l=n.barXPosition,c=n.zeroH,u=this.w,d=i.i,f=i.j,m=i.realIndex,v=i.translationsIndex,y=this.yRatio[v],w=this.getRangeValue(m,f),b=Math.min(w.start,w.end),S=Math.max(w.start,w.end);this.series[d][f]===void 0||this.series[d][f]===null?b=c:(b=c-b/y,S=c-S/y);var M=Math.abs(S-b),E=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:o,y1:b,y2:S,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:m,i:m,j:f,w:u});if(u.globals.isXNumeric){var T=this.getBarXForNumericXAxis({x:s,j:f,realIndex:m,barWidth:o});s=T.x,l=T.barXPosition}else s+=a;return{pathTo:E.pathTo,pathFrom:E.pathFrom,barHeight:M,x:s,y:w.start<0&&w.end<0?b:S,goalY:this.barHelpers.getGoalValues("y",null,c,d,f,v),barXPosition:l}}},{key:"preventBarOverflow",value:function(n){var i=this.w;return n<0&&(n=0),n>i.globals.gridWidth&&(n=i.globals.gridWidth),n}},{key:"drawRangeBarPaths",value:function(n){var i=n.indexes,s=n.y,a=n.y1,o=n.y2,l=n.yDivision,c=n.barHeight,u=n.barYPosition,d=n.zeroW,f=this.w,m=i.realIndex,v=i.j,y=this.preventBarOverflow(d+a/this.invertedYRatio),w=this.preventBarOverflow(d+o/this.invertedYRatio),b=this.getRangeValue(m,v),S=Math.abs(w-y),M=this.barHelpers.getBarpaths({barYPosition:u,barHeight:c,x1:y,x2:w,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:m,realIndex:m,j:v,w:f});return f.globals.isXNumeric||(s+=l),{pathTo:M.pathTo,pathFrom:M.pathFrom,barWidth:S,x:b.start<0&&b.end<0?y:w,goalX:this.barHelpers.getGoalValues("x",d,null,m,v),y:s}}},{key:"getRangeValue",value:function(n,i){var s=this.w;return{start:s.globals.seriesRangeStart[n][i],end:s.globals.seriesRangeEnd[n][i]}}}]),t}(),PU=function(){function r(e){_t(this,r),this.w=e.w,this.lineCtx=e}return Mt(r,[{key:"sameValueSeriesFix",value:function(e,t){var n=this.w;if((n.config.fill.type==="gradient"||n.config.fill.type[e]==="gradient")&&new Fi(this.lineCtx.ctx,n).seriesHaveSameValues(e)){var i=t[e].slice();i[i.length-1]=i[i.length-1]+1e-6,t[e]=i}return t}},{key:"calculatePoints",value:function(e){var t=e.series,n=e.realIndex,i=e.x,s=e.y,a=e.i,o=e.j,l=e.prevY,c=this.w,u=[],d=[],f=this.lineCtx.categoryAxisCorrection+c.config.markers.offsetX;return c.globals.isXNumeric&&(f=(c.globals.seriesX[n][0]-c.globals.minX)/this.lineCtx.xRatio+c.config.markers.offsetX),o===0&&(u.push(f),d.push(xe.isNumber(t[a][0])?l+c.config.markers.offsetY:null)),u.push(i+c.config.markers.offsetX),d.push(xe.isNumber(t[a][o+1])?s+c.config.markers.offsetY:null),{x:u,y:d}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,n=e.pathFromArea,i=e.realIndex,s=this.w,a=0;a<s.globals.previousPaths.length;a++){var o=s.globals.previousPaths[a];(o.type==="line"||o.type==="area")&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(i,10)&&(o.type==="line"?(this.lineCtx.appendPathFrom=!1,t=s.globals.previousPaths[a].paths[0].d):o.type==="area"&&(this.lineCtx.appendPathFrom=!1,n=s.globals.previousPaths[a].paths[0].d,s.config.stroke.show&&s.globals.previousPaths[a].paths[1]&&(t=s.globals.previousPaths[a].paths[1].d)))}return{pathFromLine:t,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(e){var t,n,i,s=e.i,a=e.realIndex,o=e.series,l=e.prevY,c=e.lineYPosition,u=e.translationsIndex,d=this.w,f=d.config.chart.stacked&&!d.globals.comboCharts||d.config.chart.stacked&&d.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[a])===null||t===void 0?void 0:t.type)==="bar"||((n=this.w.config.series[a])===null||n===void 0?void 0:n.type)==="column");if(((i=o[s])===null||i===void 0?void 0:i[0])!==void 0)l=(c=f&&s>0?this.lineCtx.prevSeriesY[s-1][0]:this.lineCtx.zeroY)-o[s][0]/this.lineCtx.yRatio[u]+2*(this.lineCtx.isReversed?o[s][0]/this.lineCtx.yRatio[u]:0);else if(f&&s>0&&o[s][0]===void 0){for(var m=s-1;m>=0;m--)if(o[m][0]!==null&&o[m][0]!==void 0){l=c=this.lineCtx.prevSeriesY[m][0];break}}return{prevY:l,lineYPosition:c}}}]),r}(),kU=function(r){for(var e,t,n,i,s=function(u){for(var d=[],f=u[0],m=u[1],v=d[0]=jb(f,m),y=1,w=u.length-1;y<w;y++)f=m,m=u[y+1],d[y]=.5*(v+(v=jb(f,m)));return d[y]=v,d}(r),a=r.length-1,o=[],l=0;l<a;l++)n=jb(r[l],r[l+1]),Math.abs(n)<1e-6?s[l]=s[l+1]=0:(i=(e=s[l]/n)*e+(t=s[l+1]/n)*t)>9&&(i=3*n/Math.sqrt(i),s[l]=i*e,s[l+1]=i*t);for(var c=0;c<=a;c++)i=(r[Math.min(a,c+1)][0]-r[Math.max(0,c-1)][0])/(6*(1+s[c]*s[c])),o.push([i||0,s[c]*i||0]);return o},LU=function(r){var e=kU(r),t=r[1],n=r[0],i=[],s=e[1],a=e[0];i.push(n,[n[0]+a[0],n[1]+a[1],t[0]-s[0],t[1]-s[1],t[0],t[1]]);for(var o=2,l=e.length;o<l;o++){var c=r[o],u=e[o];i.push([c[0]-u[0],c[1]-u[1],c[0],c[1]])}return i},BU=function(r,e,t){var n=r.slice(e,t);if(e){if(t-e>1&&n[1].length<6){var i=n[0].length;n[1]=[2*n[0][i-2]-n[0][i-4],2*n[0][i-1]-n[0][i-3]].concat(n[1])}n[0]=n[0].slice(-2)}return n};function jb(r,e){return(e[1]-r[1])/(e[0]-r[0])}var Jb=function(){function r(e,t,n){_t(this,r),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||n,this.scatter=new _I(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new PU(this),this.markers=new Wf(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return Mt(r,[{key:"draw",value:function(e,t,n,i){var s,a=this.w,o=new Ye(this.ctx),l=a.globals.comboCharts?t:a.config.chart.type,c=o.group({class:"apexcharts-".concat(l,"-series apexcharts-plot-series")}),u=new Fi(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=u.getLogSeries(e),this.yRatio=u.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var d=[],f=0;f<e.length;f++){e=this.lineHelpers.sameValueSeriesFix(f,e);var m=a.globals.comboCharts?n[f]:f,v=this.yRatio.length>1?m:0;this._initSerieVariables(e,f,m);var y=[],w=[],b=[],S=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,m),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(S=(a.globals.seriesX[m][0]-a.globals.minX)/this.xRatio),b.push(S);var M,E=S,T=void 0,R=E,P=this.zeroY,k=this.zeroY;P=this.lineHelpers.determineFirstPrevY({i:f,realIndex:m,series:e,prevY:P,lineYPosition:0,translationsIndex:v}).prevY,a.config.stroke.curve==="monotoneCubic"&&e[f][0]===null?y.push(null):y.push(P),M=P,l==="rangeArea"&&(T=k=this.lineHelpers.determineFirstPrevY({i:f,realIndex:m,series:i,prevY:k,lineYPosition:0,translationsIndex:v}).prevY,w.push(y[0]!==null?k:null));var B=this._calculatePathsFrom({type:l,series:e,i:f,realIndex:m,translationsIndex:v,prevX:R,prevY:P,prevY2:k}),D=[y[0]],O=[w[0]],V={type:l,series:e,realIndex:m,translationsIndex:v,i:f,x:S,y:1,pX:E,pY:M,pathsFrom:B,linePaths:[],areaPaths:[],seriesIndex:n,lineYPosition:0,xArrj:b,yArrj:y,y2Arrj:w,seriesRangeEnd:i},X=this._iterateOverDataPoints(lt(lt({},V),{},{iterations:l==="rangeArea"?e[f].length-1:void 0,isRangeStart:!0}));if(l==="rangeArea"){for(var K=this._calculatePathsFrom({series:i,i:f,realIndex:m,prevX:R,prevY:k}),ie=this._iterateOverDataPoints(lt(lt({},V),{},{series:i,xArrj:[S],yArrj:D,y2Arrj:O,pY:T,areaPaths:X.areaPaths,pathsFrom:K,iterations:i[f].length-1,isRangeStart:!1})),ee=X.linePaths.length/2,ae=0;ae<ee;ae++)X.linePaths[ae]=ie.linePaths[ae+ee]+X.linePaths[ae];X.linePaths.splice(ee),X.pathFromLine=ie.pathFromLine+X.pathFromLine}else X.pathFromArea+="z";this._handlePaths({type:l,realIndex:m,i:f,paths:X}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),d.push(this.elSeries)}if(((s=a.config.series[0])===null||s===void 0?void 0:s.zIndex)!==void 0&&d.sort(function(Z,Y){return Number(Z.node.getAttribute("zIndex"))-Number(Y.node.getAttribute("zIndex"))}),a.config.chart.stacked)for(var z=d.length-1;z>=0;z--)c.add(d[z]);else for(var Q=0;Q<d.length;Q++)c.add(d[Q]);return c}},{key:"_initSerieVariables",value:function(e,t,n){var i=this.w,s=new Ye(this.ctx);this.xDivision=i.globals.gridWidth/(i.globals.dataPoints-(i.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(i.config.stroke.width)?i.config.stroke.width[n]:i.config.stroke.width;var a=0;if(this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[n],a=n),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed,this.zeroY=i.globals.gridHeight-this.baseLineY[a]-(this.isReversed?i.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[a]:0),this.areaBottomY=this.zeroY,(this.zeroY>i.globals.gridHeight||i.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=i.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=s.group({class:"apexcharts-series",zIndex:i.config.series[n].zIndex!==void 0?i.config.series[n].zIndex:n,seriesName:xe.escapeString(i.globals.seriesNames[n])}),this.elPointsMain=s.group({class:"apexcharts-series-markers-wrap","data:realIndex":n}),i.globals.hasNullValues){var o=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[i.globals.gridHeight+i.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});o!==null&&this.elPointsMain.add(o)}this.elDataLabelsWrap=s.group({class:"apexcharts-datalabels","data:realIndex":n});var l=e[t].length===i.globals.dataPoints;this.elSeries.attr({"data:longestSeries":l,rel:t+1,"data:realIndex":n}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,n,i,s,a=e.type,o=e.series,l=e.i,c=e.realIndex,u=e.translationsIndex,d=e.prevX,f=e.prevY,m=e.prevY2,v=this.w,y=new Ye(this.ctx);if(o[l][0]===null){for(var w=0;w<o[l].length;w++)if(o[l][w]!==null){d=this.xDivision*w,f=this.zeroY-o[l][w]/this.yRatio[u],t=y.move(d,f),n=y.move(d,this.areaBottomY);break}}else t=y.move(d,f),a==="rangeArea"&&(t=y.move(d,m)+y.line(d,f)),n=y.move(d,this.areaBottomY)+y.line(d,f);if(i=y.move(0,this.areaBottomY)+y.line(0,this.areaBottomY),s=y.move(0,this.areaBottomY)+y.line(0,this.areaBottomY),v.globals.previousPaths.length>0){var b=this.lineHelpers.checkPreviousPaths({pathFromLine:i,pathFromArea:s,realIndex:c});i=b.pathFromLine,s=b.pathFromArea}return{prevX:d,prevY:f,linePath:t,areaPath:n,pathFromLine:i,pathFromArea:s}}},{key:"_handlePaths",value:function(e){var t=e.type,n=e.realIndex,i=e.i,s=e.paths,a=this.w,o=new Ye(this.ctx),l=new lo(this.ctx);this.prevSeriesY.push(s.yArrj),a.globals.seriesXvalues[n]=s.xArrj,a.globals.seriesYvalues[n]=s.yArrj;var c=a.config.forecastDataPoints;if(c.count>0&&t!=="rangeArea"){var u=a.globals.seriesXvalues[n][a.globals.seriesXvalues[n].length-c.count-1],d=o.drawRect(u,0,a.globals.gridWidth,a.globals.gridHeight,0);a.globals.dom.elForecastMask.appendChild(d.node);var f=o.drawRect(0,0,u,a.globals.gridHeight,0);a.globals.dom.elNonForecastMask.appendChild(f.node)}this.pointsChart||a.globals.delayedElements.push({el:this.elPointsMain.node,index:n});var m={i,realIndex:n,animationDelay:i,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var v=l.fillPath({seriesNumber:n}),y=0;y<s.areaPaths.length;y++){var w=o.renderPaths(lt(lt({},m),{},{pathFrom:s.pathFromArea,pathTo:s.areaPaths[y],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:v}));this.elSeries.add(w)}if(a.config.stroke.show&&!this.pointsChart){var b=null;if(t==="line")b=l.fillPath({seriesNumber:n,i});else if(a.config.stroke.fill.type==="solid")b=a.globals.stroke.colors[n];else{var S=a.config.fill;a.config.fill=a.config.stroke.fill,b=l.fillPath({seriesNumber:n,i}),a.config.fill=S}for(var M=0;M<s.linePaths.length;M++){var E=b;t==="rangeArea"&&(E=l.fillPath({seriesNumber:n}));var T=lt(lt({},m),{},{pathFrom:s.pathFromLine,pathTo:s.linePaths[M],stroke:b,strokeWidth:this.strokeWidth,strokeLineCap:a.config.stroke.lineCap,fill:t==="rangeArea"?E:"none"}),R=o.renderPaths(T);if(this.elSeries.add(R),R.attr("fill-rule","evenodd"),c.count>0&&t!=="rangeArea"){var P=o.renderPaths(T);P.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&P.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(P),P.attr("clip-path","url(#forecastMask".concat(a.globals.cuid,")")),R.attr("clip-path","url(#nonForecastMask".concat(a.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,n,i=this,s=e.type,a=e.series,o=e.iterations,l=e.realIndex,c=e.translationsIndex,u=e.i,d=e.x,f=e.y,m=e.pX,v=e.pY,y=e.pathsFrom,w=e.linePaths,b=e.areaPaths,S=e.seriesIndex,M=e.lineYPosition,E=e.xArrj,T=e.yArrj,R=e.y2Arrj,P=e.isRangeStart,k=e.seriesRangeEnd,B=this.w,D=new Ye(this.ctx),O=this.yRatio,V=y.prevY,X=y.linePath,K=y.areaPath,ie=y.pathFromLine,ee=y.pathFromArea,ae=xe.isNumber(B.globals.minYArr[l])?B.globals.minYArr[l]:B.globals.minY;o||(o=B.globals.dataPoints>1?B.globals.dataPoints-1:B.globals.dataPoints);var z=function(ut,tt){return tt-ut/O[c]+2*(i.isReversed?ut/O[c]:0)},Q=f,Z=B.config.chart.stacked&&!B.globals.comboCharts||B.config.chart.stacked&&B.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[l])===null||t===void 0?void 0:t.type)==="bar"||((n=this.w.config.series[l])===null||n===void 0?void 0:n.type)==="column"),Y=B.config.stroke.curve;Array.isArray(Y)&&(Y=Array.isArray(S)?Y[S[u]]:Y[u]);for(var oe,Pe=0,fe=0;fe<o&&a[u].length!==0;fe++){var Ce=a[u][fe+1]===void 0||a[u][fe+1]===null;if(B.globals.isXNumeric){var Ae=B.globals.seriesX[l][fe+1];B.globals.seriesX[l][fe+1]===void 0&&(Ae=B.globals.seriesX[l][o-1]),d=(Ae-B.globals.minX)/this.xRatio}else d+=this.xDivision;Z?u>0&&B.globals.collapsedSeries.length<B.config.series.length-1?M=this.prevSeriesY[function(ut){for(var tt=ut;tt>0;tt--){if(!(B.globals.collapsedSeriesIndices.indexOf((S==null?void 0:S[tt])||tt)>-1))return tt;tt--}return 0}(u-1)][fe+1]:M=this.zeroY:M=this.zeroY,Ce?f=z(ae,M):(f=z(a[u][fe+1],M),s==="rangeArea"&&(Q=z(k[u][fe+1],M))),E.push(a[u][fe+1]===null?null:d),!Ce||B.config.stroke.curve!=="smooth"&&B.config.stroke.curve!=="monotoneCubic"?(T.push(f),R.push(Q)):(T.push(null),R.push(null));var Se=this.lineHelpers.calculatePoints({series:a,x:d,y:f,realIndex:l,i:u,j:fe,prevY:V}),He=this._createPaths({type:s,series:a,i:u,realIndex:l,j:fe,x:d,y:f,y2:Q,xArrj:E,yArrj:T,y2Arrj:R,pX:m,pY:v,pathState:Pe,segmentStartX:oe,linePath:X,areaPath:K,linePaths:w,areaPaths:b,curve:Y,isRangeStart:P});b=He.areaPaths,w=He.linePaths,m=He.pX,v=He.pY,Pe=He.pathState,oe=He.segmentStartX,K=He.areaPath,X=He.linePath,!this.appendPathFrom||B.globals.hasNullValues||Y==="monotoneCubic"&&s==="rangeArea"||(ie+=D.line(d,this.areaBottomY),ee+=D.line(d,this.areaBottomY)),this.handleNullDataPoints(a,Se,u,fe,l),this._handleMarkersAndLabels({type:s,pointsPos:Se,i:u,j:fe,realIndex:l,isRangeStart:P})}return{yArrj:T,xArrj:E,pathFromArea:ee,areaPaths:b,pathFromLine:ie,linePaths:w,linePath:X,areaPath:K}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,n=e.pointsPos,i=e.isRangeStart,s=e.i,a=e.j,o=e.realIndex,l=this.w,c=new Ef(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,a,{realIndex:o,pointsPos:n,zRatio:this.zRatio,elParent:this.elPointsMain});else{l.globals.series[s].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var u=this.markers.plotChartMarkers({pointsPos:n,seriesIndex:o,j:a+1});u!==null&&this.elPointsMain.add(u)}var d=c.drawDataLabel({type:t,isRangeStart:i,pos:n,i:o,j:a+1});d!==null&&this.elDataLabelsWrap.add(d)}},{key:"_createPaths",value:function(e){var t=e.type,n=e.series,i=e.i;e.realIndex;var s,a=e.j,o=e.x,l=e.y,c=e.xArrj,u=e.yArrj,d=e.y2,f=e.y2Arrj,m=e.pX,v=e.pY,y=e.pathState,w=e.segmentStartX,b=e.linePath,S=e.areaPath,M=e.linePaths,E=e.areaPaths,T=e.curve,R=e.isRangeStart,P=new Ye(this.ctx),k=this.areaBottomY,B=t==="rangeArea",D=t==="rangeArea"&&R;switch(T){case"monotoneCubic":var O=R?u:f;switch(y){case 0:if(O[a+1]===null)break;y=1;case 1:if(!(B?c.length===n[i].length:a===n[i].length-2))break;case 2:var V=R?c:c.slice().reverse(),X=R?O:O.slice().reverse(),K=(s=X,V.map(function(Ae,Se){return[Ae,s[Se]]}).filter(function(Ae){return Ae[1]!==null})),ie=K.length>1?LU(K):K,ee=[];B&&(D?E=K:ee=E.reverse());var ae=0,z=0;if(function(Ae,Se){for(var He=function(je){var Fe=[],ne=0;return je.forEach(function(Bt){Bt!==null?ne++:ne>0&&(Fe.push(ne),ne=0)}),ne>0&&Fe.push(ne),Fe}(Ae),ut=[],tt=0,kt=0;tt<He.length;kt+=He[tt++])ut[tt]=BU(Se,kt,kt+He[tt]);return ut}(X,ie).forEach(function(Ae){ae++;var Se=function(tt){for(var kt="",je=0;je<tt.length;je++){var Fe=tt[je],ne=Fe.length;ne>4?(kt+="C".concat(Fe[0],", ").concat(Fe[1]),kt+=", ".concat(Fe[2],", ").concat(Fe[3]),kt+=", ".concat(Fe[4],", ").concat(Fe[5])):ne>2&&(kt+="S".concat(Fe[0],", ").concat(Fe[1]),kt+=", ".concat(Fe[2],", ").concat(Fe[3]))}return kt}(Ae),He=z,ut=(z+=Ae.length)-1;D?b=P.move(K[He][0],K[He][1])+Se:B?b=P.move(ee[He][0],ee[He][1])+P.line(K[He][0],K[He][1])+Se+P.line(ee[ut][0],ee[ut][1]):(b=P.move(K[He][0],K[He][1])+Se,S=b+P.line(K[ut][0],k)+P.line(K[He][0],k)+"z",E.push(S)),M.push(b)}),B&&ae>1&&!D){var Q=M.slice(ae).reverse();M.splice(ae),Q.forEach(function(Ae){return M.push(Ae)})}y=0}break;case"smooth":var Z=.35*(o-m);if(n[i][a]===null)y=0;else switch(y){case 0:if(w=m,b=D?P.move(m,f[a])+P.line(m,v):P.move(m,v),S=P.move(m,v),n[i][a+1]===null||n[i][a+1]===void 0){M.push(b),E.push(S);break}if(y=1,a<n[i].length-2){var Y=P.curve(m+Z,v,o-Z,l,o,l);b+=Y,S+=Y;break}case 1:if(n[i][a+1]===null)b+=D?P.line(m,d):P.move(m,v),S+=P.line(m,k)+P.line(w,k)+"z",M.push(b),E.push(S),y=-1;else{var oe=P.curve(m+Z,v,o-Z,l,o,l);b+=oe,S+=oe,a>=n[i].length-2&&(D&&(b+=P.curve(o,l,o,l,o,d)+P.move(o,d)),S+=P.curve(o,l,o,l,o,k)+P.line(w,k)+"z",M.push(b),E.push(S),y=-1)}}m=o,v=l;break;default:var Pe=function(Ae,Se,He){var ut=[];switch(Ae){case"stepline":ut=P.line(Se,null,"H")+P.line(null,He,"V");break;case"linestep":ut=P.line(null,He,"V")+P.line(Se,null,"H");break;case"straight":ut=P.line(Se,He)}return ut};if(n[i][a]===null)y=0;else switch(y){case 0:if(w=m,b=D?P.move(m,f[a])+P.line(m,v):P.move(m,v),S=P.move(m,v),n[i][a+1]===null||n[i][a+1]===void 0){M.push(b),E.push(S);break}if(y=1,a<n[i].length-2){var fe=Pe(T,o,l);b+=fe,S+=fe;break}case 1:if(n[i][a+1]===null)b+=D?P.line(m,d):P.move(m,v),S+=P.line(m,k)+P.line(w,k)+"z",M.push(b),E.push(S),y=-1;else{var Ce=Pe(T,o,l);b+=Ce,S+=Ce,a>=n[i].length-2&&(D&&(b+=P.line(o,d)),S+=P.line(o,k)+P.line(w,k)+"z",M.push(b),E.push(S),y=-1)}}m=o,v=l}return{linePaths:M,areaPaths:E,pX:m,pY:v,pathState:y,segmentStartX:w,linePath:b,areaPath:S}}},{key:"handleNullDataPoints",value:function(e,t,n,i,s){var a=this.w;if(e[n][i]===null&&a.config.markers.showNullDataPoints||e[n].length===1){var o=this.strokeWidth-a.config.markers.strokeWidth/2;o>0||(o=0);var l=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:s,j:i+1,pSize:o,alwaysDrawMarker:!0});l!==null&&this.elPointsMain.add(l)}}}]),r}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function r(o,l,c,u){this.xoffset=o,this.yoffset=l,this.height=u,this.width=c,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(d){var f,m=[],v=this.xoffset,y=this.yoffset,w=s(d)/this.height,b=s(d)/this.width;if(this.width>=this.height)for(f=0;f<d.length;f++)m.push([v,y,v+w,y+d[f]/w]),y+=d[f]/w;else for(f=0;f<d.length;f++)m.push([v,y,v+d[f]/b,y+b]),v+=d[f]/b;return m},this.cutArea=function(d){var f;if(this.width>=this.height){var m=d/this.height,v=this.width-m;f=new r(this.xoffset+m,this.yoffset,v,this.height)}else{var y=d/this.width,w=this.height-y;f=new r(this.xoffset,this.yoffset+y,this.width,w)}return f}}function e(o,l,c,u,d){u=u===void 0?0:u,d=d===void 0?0:d;var f=t(function(m,v){var y,w=[],b=v/s(m);for(y=0;y<m.length;y++)w[y]=m[y]*b;return w}(o,l*c),[],new r(u,d,l,c),[]);return function(m){var v,y,w=[];for(v=0;v<m.length;v++)for(y=0;y<m[v].length;y++)w.push(m[v][y]);return w}(f)}function t(o,l,c,u){var d,f,m;if(o.length!==0)return d=c.shortestEdge(),function(v,y,w){var b;if(v.length===0)return!0;(b=v.slice()).push(y);var S=n(v,w),M=n(b,w);return S>=M}(l,f=o[0],d)?(l.push(f),t(o.slice(1),l,c,u)):(m=c.cutArea(s(l),u),u.push(c.getCoordinates(l)),t(o,[],m,u)),u;u.push(c.getCoordinates(l))}function n(o,l){var c=Math.min.apply(Math,o),u=Math.max.apply(Math,o),d=s(o);return Math.max(Math.pow(l,2)*u/Math.pow(d,2),Math.pow(d,2)/(Math.pow(l,2)*c))}function i(o){return o&&o.constructor===Array}function s(o){var l,c=0;for(l=0;l<o.length;l++)c+=o[l];return c}function a(o){var l,c=0;if(i(o[0]))for(l=0;l<o.length;l++)c+=a(o[l]);else c=s(o);return c}return function o(l,c,u,d,f){d=d===void 0?0:d,f=f===void 0?0:f;var m,v,y=[],w=[];if(i(l[0])){for(v=0;v<l.length;v++)y[v]=a(l[v]);for(m=e(y,c,u,d,f),v=0;v<l.length;v++)w.push(o(l[v],m[v][2]-m[v][0],m[v][3]-m[v][1],m[v][0],m[v][1]))}else w=e(l,c,u,d,f);return w}}();var DU=function(){function r(e,t){_t(this,r),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new PI(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return Mt(r,[{key:"draw",value:function(e){var t=this,n=this.w,i=new Ye(this.ctx),s=new lo(this.ctx),a=i.group({class:"apexcharts-treemap"});if(n.globals.noData)return a;var o=[];return e.forEach(function(l){var c=l.map(function(u){return Math.abs(u)});o.push(c)}),this.negRange=this.helpers.checkColorRange(),n.config.series.forEach(function(l,c){l.data.forEach(function(u){Array.isArray(t.labels[c])||(t.labels[c]=[]),t.labels[c].push(u.x)})}),window.TreemapSquared.generate(o,n.globals.gridWidth,n.globals.gridHeight).forEach(function(l,c){var u=i.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:xe.escapeString(n.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(n.config.chart.dropShadow.enabled){var d=n.config.chart.dropShadow;new Nr(t.ctx).dropShadow(a,d,c)}var f=i.group({class:"apexcharts-data-labels"}),m={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};l.forEach(function(ie,ee){var ae=ie[0],z=ie[1],Q=ie[2],Z=ie[3];m.xMin=Math.min(m.xMin,ae),m.yMin=Math.min(m.yMin,z),m.xMax=Math.max(m.xMax,Q),m.yMax=Math.max(m.yMax,Z);var Y=t.helpers.getShadeColor(n.config.chart.type,c,ee,t.negRange),oe=Y.color,Pe=s.fillPath({color:oe,seriesNumber:c,dataPointIndex:ee}),fe=i.drawRect(ae,z,Q-ae,Z-z,n.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,n.config.plotOptions.treemap.useFillColorAsStroke?oe:n.globals.stroke.colors[c]);fe.attr({cx:ae,cy:z,index:c,i:c,j:ee,width:Q-ae,height:Z-z,fill:Pe}),fe.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(fe);var Ce={x:ae+(Q-ae)/2,y:z+(Z-z)/2,width:0,height:0},Ae={x:ae,y:z,width:Q-ae,height:Z-z};if(n.config.chart.animations.enabled&&!n.globals.dataChanged){var Se=1;n.globals.resized||(Se=n.config.chart.animations.speed),t.animateTreemap(fe,Ce,Ae,Se)}if(n.globals.dataChanged){var He=1;t.dynamicAnim.enabled&&n.globals.shouldAnimate&&(He=t.dynamicAnim.speed,n.globals.previousPaths[c]&&n.globals.previousPaths[c][ee]&&n.globals.previousPaths[c][ee].rect&&(Ce=n.globals.previousPaths[c][ee].rect),t.animateTreemap(fe,Ce,Ae,He))}var ut=t.getFontSize(ie),tt=n.config.dataLabels.formatter(t.labels[c][ee],{value:n.globals.series[c][ee],seriesIndex:c,dataPointIndex:ee,w:n});n.config.plotOptions.treemap.dataLabels.format==="truncate"&&(ut=parseInt(n.config.dataLabels.style.fontSize,10),tt=t.truncateLabels(tt,ut,ae,z,Q,Z));var kt=null;n.globals.series[c][ee]&&(kt=t.helpers.calculateDataLabels({text:tt,x:(ae+Q)/2,y:(z+Z)/2+t.strokeWidth/2+ut/3,i:c,j:ee,colorProps:Y,fontSize:ut,series:e})),n.config.dataLabels.enabled&&kt&&t.rotateToFitLabel(kt,ut,tt,ae,z,Q,Z),u.add(fe),kt!==null&&u.add(kt)});var v=n.config.plotOptions.treemap.seriesTitle;if(n.config.series.length>1&&v&&v.show){var y=n.config.series[c].name||"";if(y&&m.xMin<1/0&&m.yMin<1/0){var w=v.offsetX,b=v.offsetY,S=v.borderColor,M=v.borderWidth,E=v.borderRadius,T=v.style,R=T.color||n.config.chart.foreColor,P={left:T.padding.left,right:T.padding.right,top:T.padding.top,bottom:T.padding.bottom},k=i.getTextRects(y,T.fontSize,T.fontFamily),B=k.width+P.left+P.right,D=k.height+P.top+P.bottom,O=m.xMin+(w||0),V=m.yMin+(b||0),X=i.drawRect(O,V,B,D,E,T.background,1,M,S),K=i.drawText({x:O+P.left,y:V+P.top+.75*k.height,text:y,fontSize:T.fontSize,fontFamily:T.fontFamily,fontWeight:T.fontWeight,foreColor:R,cssClass:T.cssClass||""});u.add(X),u.add(K)}}u.add(f),a.add(u)}),a}},{key:"getFontSize",value:function(e){var t=this.w,n=function i(s){var a,o=0;if(Array.isArray(s[0]))for(a=0;a<s.length;a++)o+=i(s[a]);else for(a=0;a<s.length;a++)o+=s[a].length;return o}(this.labels)/function i(s){var a,o=0;if(Array.isArray(s[0]))for(a=0;a<s.length;a++)o+=i(s[a]);else for(a=0;a<s.length;a++)o+=1;return o}(this.labels);return function(i,s){var a=i*s,o=Math.pow(a,.5);return Math.min(o/n,parseInt(t.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,n,i,s,a,o){var l=new Ye(this.ctx),c=l.getTextRects(n,t);if(c.width+this.w.config.stroke.width+5>a-i&&c.width<=o-s){var u=l.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(u.x," ").concat(u.y,") translate(").concat(c.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,n,i,s,a){var o=new Ye(this.ctx),l=o.getTextRects(e,t).width+this.w.config.stroke.width+5>s-n&&a-i>s-n?a-i:s-n,c=o.getTextBasedOnMaxWidth({text:e,maxWidth:l,fontSize:t});return e.length!==c.length&&l/t<5?"":c}},{key:"animateTreemap",value:function(e,t,n,i){var s=new zf(this.ctx);s.animateRect(e,t,n,i,function(){s.animationCompleted(e)})}}]),r}(),BI=86400,FU=10/BI,NU=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return Mt(r,[{key:"calculateTimeScaleTicks",value:function(e,t){var n=this,i=this.w;if(i.globals.allSeriesCollapsed)return i.globals.labels=[],i.globals.timescaleLabels=[],[];var s=new Fr(this.ctx),a=(t-e)/864e5;this.determineInterval(a),i.globals.disableZoomIn=!1,i.globals.disableZoomOut=!1,a<FU?i.globals.disableZoomIn=!0:a>5e4&&(i.globals.disableZoomOut=!0);var o=s.getTimeUnitsfromTimestamp(e,t,this.utc),l=i.globals.gridWidth/a,c=l/24,u=c/60,d=u/60,f=Math.floor(24*a),m=Math.floor(1440*a),v=Math.floor(a*BI),y=Math.floor(a),w=Math.floor(a/30),b=Math.floor(a/365),S={minMillisecond:o.minMillisecond,minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},M={firstVal:S,currentMillisecond:S.minMillisecond,currentSecond:S.minSecond,currentMinute:S.minMinute,currentHour:S.minHour,currentMonthDate:S.minDate,currentDate:S.minDate,currentMonth:S.minMonth,currentYear:S.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:u,secondsWidthOnXAxis:d,numberOfSeconds:v,numberOfMinutes:m,numberOfHours:f,numberOfDays:y,numberOfMonths:w,numberOfYears:b};switch(this.tickInterval){case"years":this.generateYearScale(M);break;case"months":case"half_year":this.generateMonthScale(M);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(M);break;case"hours":this.generateHourScale(M);break;case"minutes_fives":case"minutes":this.generateMinuteScale(M);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(M)}var E=this.timeScaleArray.map(function(T){var R={position:T.position,unit:T.unit,year:T.year,day:T.day?T.day:1,hour:T.hour?T.hour:0,month:T.month+1};return T.unit==="month"?lt(lt({},R),{},{day:1,value:T.value+1}):T.unit==="day"||T.unit==="hour"?lt(lt({},R),{},{value:T.value}):T.unit==="minute"?lt(lt({},R),{},{value:T.value,minute:T.value}):T.unit==="second"?lt(lt({},R),{},{value:T.value,minute:T.minute,second:T.second}):T});return E.filter(function(T){var R=1,P=Math.ceil(i.globals.gridWidth/120),k=T.value;i.config.xaxis.tickAmount!==void 0&&(P=i.config.xaxis.tickAmount),E.length>P&&(R=Math.floor(E.length/P));var B=!1,D=!1;switch(n.tickInterval){case"years":T.unit==="year"&&(B=!0);break;case"half_year":R=7,T.unit==="year"&&(B=!0);break;case"months":R=1,T.unit==="year"&&(B=!0);break;case"months_fortnight":R=15,T.unit!=="year"&&T.unit!=="month"||(B=!0),k===30&&(D=!0);break;case"months_days":R=10,T.unit==="month"&&(B=!0),k===30&&(D=!0);break;case"week_days":R=8,T.unit==="month"&&(B=!0);break;case"days":R=1,T.unit==="month"&&(B=!0);break;case"hours":T.unit==="day"&&(B=!0);break;case"minutes_fives":case"seconds_fives":k%5!=0&&(D=!0);break;case"seconds_tens":k%10!=0&&(D=!0)}if(n.tickInterval==="hours"||n.tickInterval==="minutes_fives"||n.tickInterval==="seconds_tens"||n.tickInterval==="seconds_fives"){if(!D)return!0}else if((k%R==0||B)&&!D)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var n=this.w,i=this.formatDates(e),s=this.removeOverlappingTS(i);n.globals.timescaleLabels=s.slice(),new rv(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,n=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case n>15:this.tickInterval="minutes_fives";break;case n>5:this.tickInterval="minutes";break;case n>1:this.tickInterval="seconds_tens";break;case 60*n>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,n=e.currentMonth,i=e.currentYear,s=e.daysWidthOnXAxis,a=e.numberOfYears,o=t.minYear,l=0,c=new Fr(this.ctx),u="year";if(t.minDate>1||t.minMonth>0){var d=c.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);l=(c.determineDaysOfYear(t.minYear)-d+1)*s,o=t.minYear+1,this.timeScaleArray.push({position:l,value:o,unit:u,year:o,month:xe.monthMod(n+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:l,value:o,unit:u,year:i,month:xe.monthMod(n+1)});for(var f=o,m=l,v=0;v<a;v++)f++,m=c.determineDaysOfYear(f-1)*s+m,this.timeScaleArray.push({position:m,value:f,unit:u,year:f,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,n=e.currentMonthDate,i=e.currentMonth,s=e.currentYear,a=e.daysWidthOnXAxis,o=e.numberOfMonths,l=i,c=0,u=new Fr(this.ctx),d="month",f=0;if(t.minDate>1){c=(u.determineDaysOfMonths(i+1,t.minYear)-n+1)*a,l=xe.monthMod(i+1);var m=s+f,v=xe.monthMod(l),y=l;l===0&&(d="year",y=m,v=1,m+=f+=1),this.timeScaleArray.push({position:c,value:y,unit:d,year:m,month:v})}else this.timeScaleArray.push({position:c,value:l,unit:d,year:s,month:xe.monthMod(i)});for(var w=l+1,b=c,S=0,M=1;S<o;S++,M++){(w=xe.monthMod(w))===0?(d="year",f+=1):d="month";var E=this._getYear(s,w,f);b=u.determineDaysOfMonths(w,E)*a+b;var T=w===0?E:w;this.timeScaleArray.push({position:b,value:T,unit:d,year:E,month:w===0?1:w}),w++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,n=e.currentMonth,i=e.currentYear,s=e.hoursWidthOnXAxis,a=e.numberOfDays,o=new Fr(this.ctx),l="day",c=t.minDate+1,u=c,d=function(M,E,T){return M>o.determineDaysOfMonths(E+1,T)&&(u=1,l="month",m=E+=1),E},f=(24-t.minHour)*s,m=c,v=d(u,n,i);t.minHour===0&&t.minDate===1?(f=0,m=xe.monthMod(t.minMonth),l="month",u=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(f=0,c=t.minDate,m=c,v=d(u=c,n,i),m!==1&&(l="day")),this.timeScaleArray.push({position:f,value:m,unit:l,year:this._getYear(i,v,0),month:xe.monthMod(v),day:u});for(var y=f,w=0;w<a;w++){l="day",v=d(u+=1,v,this._getYear(i,v,0));var b=this._getYear(i,v,0);y=24*s+y;var S=u===1?xe.monthMod(v):u;this.timeScaleArray.push({position:y,value:S,unit:l,year:b,month:xe.monthMod(v),day:S})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,n=e.currentDate,i=e.currentMonth,s=e.currentYear,a=e.minutesWidthOnXAxis,o=e.numberOfHours,l=new Fr(this.ctx),c="hour",u=function(R,P){return R>l.determineDaysOfMonths(P+1,s)&&(w=1,P+=1),{month:P,date:w}},d=function(R,P){return R>l.determineDaysOfMonths(P+1,s)?P+=1:P},f=60-(t.minMinute+t.minSecond/60),m=f*a,v=t.minHour+1,y=v;f===60&&(m=0,y=v=t.minHour);var w=n;y>=24&&(y=0,c="day",v=w+=1);var b=u(w,i).month;b=d(w,b),v>31&&(v=w=1),this.timeScaleArray.push({position:m,value:v,unit:c,day:w,hour:y,year:s,month:xe.monthMod(b)}),y++;for(var S=m,M=0;M<o;M++){c="hour",y>=24&&(y=0,c="day",b=u(w+=1,b).month,b=d(w,b));var E=this._getYear(s,b,0);S=60*a+S;var T=y===0?w:y;this.timeScaleArray.push({position:S,value:T,unit:c,hour:y,day:w,year:E,month:xe.monthMod(b)}),y++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,i=e.currentMinute,s=e.currentHour,a=e.currentDate,o=e.currentMonth,l=e.currentYear,c=e.minutesWidthOnXAxis,u=e.secondsWidthOnXAxis,d=e.numberOfMinutes,f=i+1,m=a,v=o,y=l,w=s,b=(60-n-t/1e3)*u,S=0;S<d;S++)f>=60&&(f=0,(w+=1)===24&&(w=0)),this.timeScaleArray.push({position:b,value:f,unit:"minute",hour:w,minute:f,day:m,year:this._getYear(y,v,0),month:xe.monthMod(v)}),b+=c,f++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,i=e.currentMinute,s=e.currentHour,a=e.currentDate,o=e.currentMonth,l=e.currentYear,c=e.secondsWidthOnXAxis,u=e.numberOfSeconds,d=n+1,f=i,m=a,v=o,y=l,w=s,b=(1e3-t)/1e3*c,S=0;S<u;S++)d>=60&&(d=0,++f>=60&&(f=0,++w===24&&(w=0))),this.timeScaleArray.push({position:b,value:d,unit:"second",hour:w,minute:f,second:d,day:m,year:this._getYear(y,v,0),month:xe.monthMod(v)}),b+=c,d++}},{key:"createRawDateString",value:function(e,t){var n=e.year;return e.month===0&&(e.month=1),n+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?n+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":n+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?n+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":n+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?n+=":"+("0"+t).slice(-2):n+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?n+=":"+("0"+t).slice(-2):n+=":00",this.utc&&(n+=".000Z"),n}},{key:"formatDates",value:function(e){var t=this,n=this.w;return e.map(function(i){var s=i.value.toString(),a=new Fr(t.ctx),o=t.createRawDateString(i,s),l=a.getDate(a.parseDate(o));if(t.utc||(l=a.getDate(a.parseDateWithTimezone(o))),n.config.xaxis.labels.format===void 0){var c="dd MMM",u=n.config.xaxis.labels.datetimeFormatter;i.unit==="year"&&(c=u.year),i.unit==="month"&&(c=u.month),i.unit==="day"&&(c=u.day),i.unit==="hour"&&(c=u.hour),i.unit==="minute"&&(c=u.minute),i.unit==="second"&&(c=u.second),s=a.formatDate(l,c)}else s=a.formatDate(l,n.config.xaxis.labels.format);return{dateString:o,position:i.position,value:s,unit:i.unit,year:i.year,month:i.month}})}},{key:"removeOverlappingTS",value:function(e){var t,n=this,i=new Ye(this.ctx),s=!1;e.length>0&&e[0].value&&e.every(function(l){return l.value.length===e[0].value.length})&&(s=!0,t=i.getTextRects(e[0].value).width);var a=0,o=e.map(function(l,c){if(c>0&&n.w.config.xaxis.labels.hideOverlappingLabels){var u=s?t:i.getTextRects(e[a].value).width,d=e[a].position;return l.position>d+u+10?(a=c,l):null}return l});return o=o.filter(function(l){return l!==null})}},{key:"_getYear",value:function(e,t,n){return e+Math.floor(t/12)+n}}]),r}(),OU=function(){function r(e,t){_t(this,r),this.ctx=t,this.w=t.w,this.el=e}return Mt(r,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,n=e.config,i=n.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(i),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(i),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(i)&&n.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),Ye.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(n.chart.offsetX,", ").concat(n.chart.offsetY,")")}),t.dom.Paper.node.style.background=n.theme.mode!=="dark"||n.chart.background?n.theme.mode!=="light"||n.chart.background?n.chart.background:"#fff":"#424242",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),Ye.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),t.dom.elLegendForeign.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var n=this.w,i=this.ctx,s=n.config,a=n.globals,o={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},column:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},l=s.chart.type||"line",c=null,u=0;a.series.forEach(function(R,P){var k=e[P].type||l;o[k]?(k==="rangeArea"?(o[k].series.push(a.seriesRangeStart[P]),o[k].seriesRangeEnd.push(a.seriesRangeEnd[P])):o[k].series.push(R),o[k].i.push(P),k!=="column"&&k!=="bar"||(n.globals.columnSeries=o.column)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(k)?c=k:k==="bar"?(o.column.series.push(R),o.column.i.push(P)):console.warn("You have specified an unrecognized series type (".concat(k,").")),l!==k&&k!=="scatter"&&u++}),u>0&&(c&&console.warn("Chart or series type ".concat(c," cannot appear with other chart or series types.")),o.column.series.length>0&&s.plotOptions.bar.horizontal&&(u-=o.column.series.length,o.column={series:[],i:[]},n.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),a.comboCharts||(a.comboCharts=u>0);var d=new Jb(i,t),f=new Yb(i,t);i.pie=new LI(i);var m=new RU(i);i.rangeBar=new IU(i,t);var v=new TU(i),y=[];if(a.comboCharts){var w,b,S=new Fi(i);if(o.area.series.length>0&&(w=y).push.apply(w,hr(S.drawSeriesByGroup(o.area,a.areaGroups,"area",d))),o.column.series.length>0)if(s.chart.stacked){var M=new YC(i,t);y.push(M.draw(o.column.series,o.column.i))}else i.bar=new Tf(i,t),y.push(i.bar.draw(o.column.series,o.column.i));if(o.rangeArea.series.length>0&&y.push(d.draw(o.rangeArea.series,"rangeArea",o.rangeArea.i,o.rangeArea.seriesRangeEnd)),o.line.series.length>0&&(b=y).push.apply(b,hr(S.drawSeriesByGroup(o.line,a.lineGroups,"line",d))),o.candlestick.series.length>0&&y.push(f.draw(o.candlestick.series,"candlestick",o.candlestick.i)),o.boxPlot.series.length>0&&y.push(f.draw(o.boxPlot.series,"boxPlot",o.boxPlot.i)),o.rangeBar.series.length>0&&y.push(i.rangeBar.draw(o.rangeBar.series,o.rangeBar.i)),o.scatter.series.length>0){var E=new Jb(i,t,!0);y.push(E.draw(o.scatter.series,"scatter",o.scatter.i))}if(o.bubble.series.length>0){var T=new Jb(i,t,!0);y.push(T.draw(o.bubble.series,"bubble",o.bubble.i))}}else switch(s.chart.type){case"line":y=d.draw(a.series,"line");break;case"area":y=d.draw(a.series,"area");break;case"bar":s.chart.stacked?y=new YC(i,t).draw(a.series):(i.bar=new Tf(i,t),y=i.bar.draw(a.series));break;case"candlestick":y=new Yb(i,t).draw(a.series,"candlestick");break;case"boxPlot":y=new Yb(i,t).draw(a.series,s.chart.type);break;case"rangeBar":y=i.rangeBar.draw(a.series);break;case"rangeArea":y=d.draw(a.seriesRangeStart,"rangeArea",void 0,a.seriesRangeEnd);break;case"heatmap":y=new EU(i,t).draw(a.series);break;case"treemap":y=new DU(i,t).draw(a.series);break;case"pie":case"donut":case"polarArea":y=i.pie.draw(a.series);break;case"radialBar":y=m.draw(a.series);break;case"radar":y=v.draw(a.series);break;default:y=d.draw(a.series)}return y}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,n=e.config;n.chart.width=n.chart.width||"100%",n.chart.height=n.chart.height||"auto",t.svgWidth=n.chart.width,t.svgHeight=n.chart.height;var i=xe.getDimensions(this.el),s=n.chart.width.toString().split(/[0-9]+/g).pop();s==="%"?xe.isNumber(i[0])&&(i[0].width===0&&(i=xe.getDimensions(this.el.parentNode)),t.svgWidth=i[0]*parseInt(n.chart.width,10)/100):s!=="px"&&s!==""||(t.svgWidth=parseInt(n.chart.width,10));var a=String(n.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(a==="%"){var o=xe.getDimensions(this.el.parentNode);t.svgHeight=o[1]*parseInt(n.chart.height,10)/100}else t.svgHeight=parseInt(n.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),Ye.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),a!=="%"){var l=n.chart.sparkline.enabled?0:t.axisCharts?n.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+l,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,n=e.translateX;Ye.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(n,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=0,i=e.config.chart.sparkline.enabled?1:15;i+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(n=new EI(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var s=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),a=2.05*e.globals.radialSize;if(s&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var o=xe.getBoundingClientRect(s);a=o.bottom;var l=o.bottom-o.top;a=Math.max(2.05*e.globals.radialSize,l)}var c=Math.ceil(a+t.translateY+n+i);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",c),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(c,"px"),Ye.setAttrs(t.dom.Paper.node,{height:c}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(c,"px"))}},{key:"coreCalculations",value:function(){new Ow(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(){return[]})},n=new SI,i=this.w.globals;n.initGlobalVars(i),i.seriesXvalues=t(),i.seriesYvalues=t()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new Uw(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new Uw(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new NU(this.ctx);var n=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(n)}t=new Fi(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,n=this.w;if(n.config.chart.brush.enabled&&typeof n.config.chart.events.selection!="function"){var i=Array.isArray(n.config.chart.brush.targets)?n.config.chart.brush.targets:[n.config.chart.brush.target];i.forEach(function(s){var a=t.constructor.getChartByID(s);a.w.globals.brushSource=e.ctx,typeof a.w.config.chart.events.zoomed!="function"&&(a.w.config.chart.events.zoomed=function(){return e.updateSourceChart(a)}),typeof a.w.config.chart.events.scrolled!="function"&&(a.w.config.chart.events.scrolled=function(){return e.updateSourceChart(a)})}),n.config.chart.events.selection=function(s,a){i.forEach(function(o){t.constructor.getChartByID(o).ctx.updateHelpers._updateOptions({xaxis:{min:a.xaxis.min,max:a.xaxis.max}},!1,!1,!1,!1)})}}}}]),r}(),UU=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"_updateOptions",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(o){var l=[t.ctx];s&&(l=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(l=[t.ctx],t.ctx.w.globals.isExecCalled=!1),l.forEach(function(c,u){var d=c.w;if(d.globals.shouldAnimate=i,n||(d.globals.resized=!0,d.globals.dataChanged=!0,i&&c.series.getPreviousPaths()),e&&Cf(e)==="object"&&(c.config=new Xm(e),e=Fi.extendArrayProps(c.config,e,d),c.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,d.config=xe.extend(d.config,e),a&&(d.globals.lastXAxis=e.xaxis?xe.clone(e.xaxis):[],d.globals.lastYAxis=e.yaxis?xe.clone(e.yaxis):[],d.globals.initialConfig=xe.extend({},d.config),d.globals.initialSeries=xe.clone(d.config.series),e.series))){for(var f=0;f<d.globals.collapsedSeriesIndices.length;f++){var m=d.config.series[d.globals.collapsedSeriesIndices[f]];d.globals.collapsedSeries[f].data=d.globals.axisCharts?m.data.slice():m}for(var v=0;v<d.globals.ancillaryCollapsedSeriesIndices.length;v++){var y=d.config.series[d.globals.ancillaryCollapsedSeriesIndices[v]];d.globals.ancillaryCollapsedSeries[v].data=d.globals.axisCharts?y.data.slice():y}c.series.emptyCollapsedSeries(d.config.series)}return c.update(e).then(function(){u===l.length-1&&o(c)})})})}},{key:"_updateSeries",value:function(e,t){var n=this,i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(s){var a,o=n.w;return o.globals.shouldAnimate=t,o.globals.dataChanged=!0,t&&n.ctx.series.getPreviousPaths(),o.globals.axisCharts?((a=e.map(function(l,c){return n._extendSeries(l,c)})).length===0&&(a=[{data:[]}]),o.config.series=a):o.config.series=e.slice(),i&&(o.globals.initialConfig.series=xe.clone(o.config.series),o.globals.initialSeries=xe.clone(o.config.series)),n.ctx.update().then(function(){s(n.ctx)})})}},{key:"_extendSeries",value:function(e,t){var n=this.w,i=n.config.series[t];return lt(lt({},n.config.series[t]),{},{name:e.name?e.name:i==null?void 0:i.name,color:e.color?e.color:i==null?void 0:i.color,type:e.type?e.type:i==null?void 0:i.type,group:e.group?e.group:i==null?void 0:i.group,hidden:e.hidden!==void 0?e.hidden:i==null?void 0:i.hidden,data:e.data?e.data:i==null?void 0:i.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var n=this.w,i=null,s=".apexcharts-series[data\\:realIndex='".concat(e,"']");return n.globals.axisCharts?i=n.globals.dom.Paper.findOne("".concat(s," path[j='").concat(t,"'], ").concat(s," circle[j='").concat(t,"'], ").concat(s," rect[j='").concat(t,"']")):t===void 0&&(i=n.globals.dom.Paper.findOne("".concat(s," path[j='").concat(e,"']")),n.config.chart.type!=="pie"&&n.config.chart.type!=="polarArea"&&n.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),i?(new Ye(this.ctx).pathMouseDown(i,null),i.node?i.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(i){e.xaxis[i]!==void 0&&(t.config.xaxis[i]=e.xaxis[i],t.globals.lastXAxis[i]=e.xaxis[i])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var n=new Wm(e);e=n.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,n){e.yaxis[n].min=0,e.yaxis[n].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,n=this.w,i=n.globals.lastXAxis,s=n.globals.lastYAxis;e&&e.xaxis&&(i=e.xaxis),e&&e.yaxis&&(s=e.yaxis),n.config.xaxis.min=i.min,n.config.xaxis.max=i.max;var a=function(o){s[o]!==void 0&&(n.config.yaxis[o].min=s[o].min,n.config.yaxis[o].max=s[o].max)};n.config.yaxis.map(function(o,l){n.globals.zoomed||s[l]!==void 0?a(l):t.ctx.opts.yaxis[l]!==void 0&&(o.min=t.ctx.opts.yaxis[l].min,o.max=t.ctx.opts.yaxis[l].max)})}}]),r}();(function(){function r(){for(var s=arguments.length>0&&arguments[0]!==d?arguments[0]:[],a=arguments.length>1?arguments[1]:d,o=arguments.length>2?arguments[2]:d,l=arguments.length>3?arguments[3]:d,c=arguments.length>4?arguments[4]:d,u=arguments.length>5?arguments[5]:d,d=arguments.length>6?arguments[6]:d,f=s.slice(a,o||d),m=l.slice(c,u||d),v=0,y={pos:[0,0],start:[0,0]},w={pos:[0,0],start:[0,0]};f[v]=e.call(y,f[v]),m[v]=e.call(w,m[v]),f[v][0]!=m[v][0]||f[v][0]=="M"||f[v][0]=="A"&&(f[v][4]!=m[v][4]||f[v][5]!=m[v][5])?(Array.prototype.splice.apply(f,[v,1].concat(n.call(y,f[v]))),Array.prototype.splice.apply(m,[v,1].concat(n.call(w,m[v])))):(f[v]=t.call(y,f[v]),m[v]=t.call(w,m[v])),!(++v==f.length&&v==m.length);)v==f.length&&f.push(["C",y.pos[0],y.pos[1],y.pos[0],y.pos[1],y.pos[0],y.pos[1]]),v==m.length&&m.push(["C",w.pos[0],w.pos[1],w.pos[0],w.pos[1],w.pos[0],w.pos[1]]);return{start:f,dest:m}}function e(s){switch(s[0]){case"z":case"Z":s[0]="L",s[1]=this.start[0],s[2]=this.start[1];break;case"H":s[0]="L",s[2]=this.pos[1];break;case"V":s[0]="L",s[2]=s[1],s[1]=this.pos[0];break;case"T":s[0]="Q",s[3]=s[1],s[4]=s[2],s[1]=this.reflection[1],s[2]=this.reflection[0];break;case"S":s[0]="C",s[6]=s[4],s[5]=s[3],s[4]=s[2],s[3]=s[1],s[2]=this.reflection[1],s[1]=this.reflection[0]}return s}function t(s){var a=s.length;return this.pos=[s[a-2],s[a-1]],"SCQT".indexOf(s[0])!=-1&&(this.reflection=[2*this.pos[0]-s[a-4],2*this.pos[1]-s[a-3]]),s}function n(s){var a=[s];switch(s[0]){case"M":return this.pos=this.start=[s[1],s[2]],a;case"L":s[5]=s[3]=s[1],s[6]=s[4]=s[2],s[1]=this.pos[0],s[2]=this.pos[1];break;case"Q":s[6]=s[4],s[5]=s[3],s[4]=1*s[4]/3+2*s[2]/3,s[3]=1*s[3]/3+2*s[1]/3,s[2]=1*this.pos[1]/3+2*s[2]/3,s[1]=1*this.pos[0]/3+2*s[1]/3;break;case"A":a=function(o,l){var c,u,d,f,m,v,y,w,b,S,M,E,T,R,P,k,B,D,O,V,X,K,ie,ee,ae,z,Q=Math.abs(l[1]),Z=Math.abs(l[2]),Y=l[3]%360,oe=l[4],Pe=l[5],fe=l[6],Ce=l[7],Ae=new Xn(o),Se=new Xn(fe,Ce),He=[];if(Q===0||Z===0||Ae.x===Se.x&&Ae.y===Se.y)return[["C",Ae.x,Ae.y,Se.x,Se.y,Se.x,Se.y]];for(c=new Xn((Ae.x-Se.x)/2,(Ae.y-Se.y)/2).transform(new jt().rotate(Y)),u=c.x*c.x/(Q*Q)+c.y*c.y/(Z*Z),u>1&&(Q*=u=Math.sqrt(u),Z*=u),d=new jt().rotate(Y).scale(1/Q,1/Z).rotate(-Y),Ae=Ae.transform(d),Se=Se.transform(d),f=[Se.x-Ae.x,Se.y-Ae.y],v=f[0]*f[0]+f[1]*f[1],m=Math.sqrt(v),f[0]/=m,f[1]/=m,y=v<4?Math.sqrt(1-v/4):0,oe===Pe&&(y*=-1),w=new Xn((Se.x+Ae.x)/2+y*-f[1],(Se.y+Ae.y)/2+y*f[0]),b=new Xn(Ae.x-w.x,Ae.y-w.y),S=new Xn(Se.x-w.x,Se.y-w.y),M=Math.acos(b.x/Math.sqrt(b.x*b.x+b.y*b.y)),b.y<0&&(M*=-1),E=Math.acos(S.x/Math.sqrt(S.x*S.x+S.y*S.y)),S.y<0&&(E*=-1),Pe&&M>E&&(E+=2*Math.PI),!Pe&&M<E&&(E-=2*Math.PI),R=Math.ceil(2*Math.abs(M-E)/Math.PI),k=[],B=M,T=(E-M)/R,P=4*Math.tan(T/4)/3,X=0;X<=R;X++)O=Math.cos(B),D=Math.sin(B),V=new Xn(w.x+O,w.y+D),k[X]=[new Xn(V.x+P*D,V.y-P*O),V,new Xn(V.x-P*D,V.y+P*O)],B+=T;for(k[0][0]=k[0][1].clone(),k[k.length-1][2]=k[k.length-1][1].clone(),d=new jt().rotate(Y).scale(Q,Z).rotate(-Y),X=0,K=k.length;X<K;X++)k[X][0]=k[X][0].transform(d),k[X][1]=k[X][1].transform(d),k[X][2]=k[X][2].transform(d);for(X=1,K=k.length;X<K;X++)ie=(V=k[X-1][2]).x,ee=V.y,ae=(V=k[X][0]).x,z=V.y,fe=(V=k[X][1]).x,Ce=V.y,He.push(["C",ie,ee,ae,z,fe,Ce]);return He}(this.pos,s),s=a[0]}return s[0]="C",this.pos=[s[5],s[6]],this.reflection=[2*s[5]-s[3],2*s[6]-s[4]],a}function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;if(a===!1)return!1;for(var o=a,l=s.length;o<l;++o)if(s[o][0]=="M")return o;return!1}tn(so,{morph:function(s,a,o,l,c){for(var u=this.parse(s),d=this.parse(a),f=0,m=0,v=!1,y=!1;f!==!1||m!==!1;){var w;v=i(u,f!==!1&&f+1),y=i(d,m!==!1&&m+1),f===!1&&(f=(w=new so(b.start).bbox()).height==0||w.width==0?u.push(u[0])-1:u.push(["M",w.x+w.width/2,w.y+w.height/2])-1),m===!1&&(m=(w=new so(b.dest).bbox()).height==0||w.width==0?d.push(d[0])-1:d.push(["M",w.x+w.width/2,w.y+w.height/2])-1);var b=r(u,f,v,d,m,y);u=u.slice(0,f).concat(b.start,v===!1?[]:u.slice(v)),d=d.slice(0,m).concat(b.dest,y===!1?[]:d.slice(y)),f=v!==!1&&f+b.start.length,m=y!==!1&&m+b.dest.length}this._array=u,this.destination=new so,this.destination._array=d;var S=this.fromArray(u.map(function(M,E){var T=d[E].map(function(R,P){return P===0?R:l.step(M[P],d[E][P],o,c[E],c)});return T}));return S}})})();const jC=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY});class zU{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(jC(e));const n=(t?"mouseup":"touchend")+".drag";Pl(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),Pl(window,n,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:n}=this,i=this.el.point(jC(e)),s=i.x-n.x,a=i.y-n.y;if(!s&&!a)return t;const o=t.x+s,l=t.y+a;this.box=new Di(o,l,t.w,t.h),this.lastClick=i,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(o,l)}move(e,t){this.el.type==="svg"?Dc.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),Ma(window,"mousemove.drag"),Ma(window,"touchmove.drag"),Ma(window,"mouseup.drag"),Ma(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function zw(r,e,t,n=null){return function(i){i.preventDefault(),i.stopPropagation();var s=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;e.fire(r,{x:s,y:a,event:i,index:n,points:t})}}function Hw([r,e],{a:t,b:n,c:i,d:s,e:a,f:o}){return[r*t+e*i+a,r*n+e*s+o]}tn(Ur,{draggable(r=!0){return(this.remember("_draggable")||new zU(this)).init(r),this}});let DI=class{constructor(r){this.el=r,r.remember("_selectHandler",this),this.selection=new Dc,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=pg();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.createRot=r.createRot||this.createRotFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.updateRot=r.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((r,e,t)=>{const n=this.order[e];this.createHandle.call(this,this.selection,r,e,t,n),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+n).on("mousedown.selection touchstart.selection",zw(n,this.el,this.handlePoints,e))})}createHandleFn(r){r.polyline()}updateHandleFn(r,e,t,n){const i=n.at(t-1),s=n[(t+1)%n.length],a=e,o=[a[0]-i[0],a[1]-i[1]],l=[a[0]-s[0],a[1]-s[1]],c=Math.sqrt(o[0]*o[0]+o[1]*o[1]),u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),d=[o[0]/c,o[1]/c],f=[l[0]/u,l[1]/u],m=[a[0]-10*d[0],a[1]-10*d[1]],v=[a[0]-10*f[0],a[1]-10*f[1]];r.plot([m,a,v])}updateResizeHandles(){this.handlePoints.forEach((r,e,t)=>{const n=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),r,e,t,n)})}createRotFn(r){r.line(),r.circle(5)}getPoint(r){return this.handlePoints[this.order.indexOf(r)]}getPointHandle(r){return this.selection.get(this.order.indexOf(r)+1)}updateRotFn(r,e){const t=this.getPoint("t");r.get(0).plot(t[0],t[1],e[0],e[1]),r.get(1).center(e[0],e[1])}createRotationHandle(){const r=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",zw("rot",this.el,this.handlePoints));this.createRot.call(this,r)}updateRotationHandle(){const r=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(r,this.rotationPoint,this.handlePoints)}updatePoints(){const r=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(r).map(t=>Hw(t,e)),this.rotationPoint=Hw(this.getRotationPoint(r),e)}getHandlePoints({x:r,x2:e,y:t,y2:n,cx:i,cy:s}=this.el.bbox()){return[[r,t],[i,t],[e,t],[e,s],[e,n],[i,n],[r,n],[r,s]]}getRotationPoint({y:r,cx:e}=this.el.bbox()){return[e,r-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const JC=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let n=this.remember("_"+r.name);return n||(e.prototype instanceof DI?(n=new e(this),e=!0):n=new r(this),this.remember("_"+r.name,n)),n.active(e,t),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Gw(r,e,t,n=null){return function(i){i.preventDefault(),i.stopPropagation();var s=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;e.fire(r,{x:s,y:a,event:i,index:n,points:t})}}function Vw([r,e],{a:t,b:n,c:i,d:s,e:a,f:o}){return[r*t+e*i+a,r*n+e*s+o]}tn(Ur,{select:JC(DI)}),tn([sh,ah,rh],{pointSelect:JC(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new Dc,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=pg();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",zw("point",this.el,this.points,e))})}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)})}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>Hw(e,r))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class FI{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new Dc,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=pg();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const i=this.order[t];this.createHandle.call(this,this.selection,e,t,n,i),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+i).on("mousedown.selection touchstart.selection",Gw(i,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,n,i){const s=i.at(n-1),a=i[(n+1)%i.length],o=t,l=[o[0]-s[0],o[1]-s[1]],c=[o[0]-a[0],o[1]-a[1]],u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),f=[l[0]/u,l[1]/u],m=[c[0]/d,c[1]/d],v=[o[0]-10*f[0],o[1]-10*f[1]],y=[o[0]-10*m[0],o[1]-10*m[1]];e.plot([v,o,y])}updateResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const i=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,n,i)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const n=this.getPoint("t");e.get(0).plot(n[0],n[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Gw("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(n=>Vw(n,t)),this.rotationPoint=Vw(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:n,y2:i,cx:s,cy:a}=this.el.bbox()){return[[e,n],[s,n],[t,n],[t,a],[t,i],[s,i],[e,i],[e,a]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const KC=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let n=this.remember("_"+r.name);return n||(e.prototype instanceof FI?(n=new e(this),e=!0):n=new r(this),this.remember("_"+r.name,n)),n.active(e,t),this};tn(Ur,{select:KC(FI)}),tn([sh,ah,rh],{pointSelect:KC(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new Dc,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=pg();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Gw("point",this.el,this.points,e))})}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)})}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>Vw(e,r))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const Bx=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY}),ZC=r=>{let e=1/0,t=1/0,n=-1/0,i=-1/0;for(let s=0;s<r.length;s++){const a=r[s];e=Math.min(e,a[0]),t=Math.min(t,a[1]),n=Math.max(n,a[0]),i=Math.max(i,a[1])}return new Di(e,t,n-e,i-t)};class qC{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:n,points:i}=e.detail,s=!t.type.indexOf("mouse");if(s&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(Bx(t)),this.index=n,this.points=i.slice();const a=(s?"mousemove":"touchmove")+".resize",o=(s?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?Pl(window,a,this.movePoint):e.type==="rot"?Pl(window,a,this.rotate):Pl(window,a,this.resize),Pl(window,o,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(Bx(e)));let n=t.x-this.startPoint.x,i=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(n*=2,i*=2);const s=this.box.x+n,a=this.box.y+i,o=this.box.x2+n,l=this.box.y2+i;let c=new Di(this.box);if(this.eventType.includes("l")&&(c.x=Math.min(s,this.box.x2),c.x2=Math.max(s,this.box.x2)),this.eventType.includes("r")&&(c.x=Math.min(o,this.box.x),c.x2=Math.max(o,this.box.x)),this.eventType.includes("t")&&(c.y=Math.min(a,this.box.y2),c.y2=Math.max(a,this.box.y2)),this.eventType.includes("b")&&(c.y=Math.min(l,this.box.y),c.y2=Math.max(l,this.box.y)),c.width=c.x2-c.x,c.height=c.y2-c.y,this.preserveAspectRatio){const u=c.width/this.box.width,d=c.height/this.box.height,f=["lt","t","rt","r","rb","b","lb","l"],m=(f.indexOf(this.eventType)+4)%f.length,v=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[m];let y=this.eventType.includes("t")||this.eventType.includes("b")?d:u;y=this.eventType.length===2?Math.max(u,d):y,c=function(w,b,S){const M=[[w.x,w.y],[w.x+w.width,w.y],[w.x+w.width,w.y+w.height],[w.x,w.y+w.height]].map(([E,T])=>{const R=E-b[0],P=(T-b[1])*S;return[R*S+b[0],P+b[1]]});return ZC(M)}(this.box,v,y)}this.el.dispatch("resize",{box:new Di(c),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(c.width,c.height).move(c.x,c.y)}movePoint(e){this.lastEvent=e;const{x:t,y:n}=this.snapToGrid(this.el.point(Bx(e))),i=this.el.array().slice();i[this.index]=[t,n],this.el.dispatch("resize",{box:ZC(i),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(i)}rotate(e){this.lastEvent=e;const t=this.startPoint,n=this.el.point(Bx(e)),{cx:i,cy:s}=this.box,a=t.x-i,o=t.y-s,l=n.x-i,c=n.y-s,u=Math.sqrt(a*a+o*o)*Math.sqrt(l*l+c*c);if(u===0)return;let d=Math.acos((a*l+o*c)/u)/Math.PI*180;if(!d)return;n.x<t.x&&(d=-d);const f=new jt(this.el),{x:m,y:v}=new Xn(i,s).transformO(f),{rotate:y}=f.decompose(),w=this.snapToAngle(y+d)-y;this.el.dispatch("resize",{box:this.box,angle:w,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(f.rotateO(w,m,v))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",Ma(window,"mousemove.resize touchmove.resize"),Ma(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}tn(Ur,{resize:function(r=!0,e={}){typeof r=="object"&&(e=r,r=!0);let t=this.remember("_ResizeHandler");return t||(r.prototype instanceof qC?(t=new r(this),r=!0):t=new qC(this),this.remember("_resizeHandler",t)),t.active(r,e),this}}),window.SVG===void 0&&(window.SVG=tU),window.Apex===void 0&&(window.Apex={});var QC=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new zf(this.ctx),this.ctx.axes=new hU(this.ctx),this.ctx.core=new OU(this.ctx.el,this.ctx),this.ctx.config=new Xm({}),this.ctx.data=new lS(this.ctx),this.ctx.grid=new MI(this.ctx),this.ctx.graphics=new Ye(this.ctx),this.ctx.coreUtils=new Fi(this.ctx),this.ctx.crosshairs=new Uw(this.ctx),this.ctx.events=new cU(this.ctx),this.ctx.exports=new iv(this.ctx),this.ctx.fill=new lo(this.ctx),this.ctx.localization=new uU(this.ctx),this.ctx.options=new th,this.ctx.responsive=new dU(this.ctx),this.ctx.series=new Ea(this.ctx),this.ctx.theme=new fU(this.ctx),this.ctx.formatters=new xg(this.ctx),this.ctx.titleSubtitle=new pU(this.ctx),this.ctx.legend=new EI(this.ctx),this.ctx.toolbar=new TI(this.ctx),this.ctx.tooltip=new XC(this.ctx),this.ctx.dimensions=new rv(this.ctx),this.ctx.updateHelpers=new UU(this.ctx),this.ctx.zoomPanSelection=new bU(this.ctx),this.ctx.w.globals.tooltip=new XC(this.ctx)}}]),r}(),$C=function(){function r(e){_t(this,r),this.ctx=e,this.w=e.w}return Mt(r,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,n=e.isUpdating,i=this.w.globals.dom.Paper.node;i.parentNode&&i.parentNode.parentNode&&!n&&(i.parentNode.parentNode.style.minHeight="unset");var s=this.w.globals.dom.baseEl;s&&this.ctx.eventList.forEach(function(o){s.removeEventListener(o,t.ctx.events.documentEvent)});var a=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(a.Paper),a.Paper.remove(),a.elWrap=null,a.elGraphical=null,a.elLegendWrap=null,a.elLegendForeign=null,a.baseEl=null,a.elGridRect=null,a.elGridRectMask=null,a.elGridRectBarMask=null,a.elGridRectMarkerMask=null,a.elForecastMask=null,a.elNonForecastMask=null,a.elDefs=null}}]),r}(),Kb=new WeakMap,HU=function(){function r(e,t){_t(this,r),this.opts=t,this.ctx=this,this.w=new lU(t).init(),this.el=e,this.w.globals.cuid=xe.randomId(),this.w.globals.chartID=this.w.config.chart.id?xe.escapeString(this.w.config.chart.id):this.w.globals.cuid,new QC(this).initModules(),this.create=xe.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return Mt(r,[{key:"render",value:function(){var e=this;return new Promise(function(t,n){if(xe.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var i=e.w.config.chart.events.beforeMount;typeof i=="function"&&i(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(f,m){var v=!1;if(f.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var y=f.getBoundingClientRect();f.style.display!=="none"&&y.width!==0||(v=!0)}var w=new ResizeObserver(function(b){v&&m.call(f,b),v=!0});f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(f.children).forEach(function(b){return w.observe(b)}):w.observe(f),Kb.set(m,w)}(e.el.parentNode,e.parentResizeHandler);var s=e.el.getRootNode&&e.el.getRootNode(),a=xe.is("ShadowRoot",s),o=e.el.ownerDocument,l=a?s.getElementById("apexcharts-css"):o.getElementById("apexcharts-css");if(!l){var c;(l=document.createElement("style")).id="apexcharts-css",l.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}`;var u=((c=e.opts.chart)===null||c===void 0?void 0:c.nonce)||e.w.config.chart.nonce;u&&l.setAttribute("nonce",u),a?s.prepend(l):o.head.appendChild(l)}var d=e.create(e.w.config.series,{});if(!d)return t(e);e.mount(d).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(d)}).catch(function(f){n(f)})}else n(new Error("Element not found"))})}},{key:"create",value:function(e,t){var n=this,i=this.w;new QC(this).initModules();var s=this.w.globals;if(s.noData=!1,s.animationEnded=!1,!xe.elementExists(this.el))return s.animationEnded=!0,this.destroy(),null;if(this.responsive.checkResponsiveConfig(t),i.config.xaxis.convertedCatToNumeric&&new Wm(i.config).convertCatToNumericXaxis(i.config,this.ctx),this.core.setupElements(),i.config.chart.type==="treemap"&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),s.svgWidth===0)return s.animationEnded=!0,null;var a=e;e.forEach(function(f,m){f.hidden&&(a=n.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:m}))});var o=Fi.checkComboSeries(a,i.config.chart.type);s.comboCharts=o.comboCharts,s.comboBarCount=o.comboBarCount;var l=a.every(function(f){return f.data&&f.data.length===0});(a.length===0||l&&s.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(a),this.theme.init(),new Wf(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),s.noData&&s.collapsedSeries.length!==s.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),s.axisCharts&&(this.core.coreCalculations(),i.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX),this.formatters.heatmapLabelFormatters(),new Fi(this).getLargestMarkerSize(),this.dimensions.plotCoords();var c=this.core.xySettings();this.grid.createGridMask();var u=this.core.plotChartType(a,c),d=new Ef(this);return d.bringForward(),i.config.dataLabels.background.enabled&&d.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:u,xyRatios:c,dimensions:{plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=this,i=n.w;return new Promise(function(s,a){if(n.el===null)return a(new Error("Not enough data to display or target element not found"));(t===null||i.globals.allSeriesCollapsed)&&n.series.handleNoData(),n.grid=new MI(n);var o,l,c=n.grid.drawGrid();if(n.annotations=new oU(n),n.annotations.drawImageAnnos(),n.annotations.drawTextAnnos(),i.config.grid.position==="back"&&(c&&i.globals.dom.elGraphical.add(c.el),c!=null&&(o=c.elGridBorders)!==null&&o!==void 0&&o.node&&i.globals.dom.elGraphical.add(c.elGridBorders)),Array.isArray(t.elGraph))for(var u=0;u<t.elGraph.length;u++)i.globals.dom.elGraphical.add(t.elGraph[u]);else i.globals.dom.elGraphical.add(t.elGraph);i.config.grid.position==="front"&&(c&&i.globals.dom.elGraphical.add(c.el),c!=null&&(l=c.elGridBorders)!==null&&l!==void 0&&l.node&&i.globals.dom.elGraphical.add(c.elGridBorders)),i.config.xaxis.crosshairs.position==="front"&&n.crosshairs.drawXCrosshairs(),i.config.yaxis[0].crosshairs.position==="front"&&n.crosshairs.drawYCrosshairs(),i.config.chart.type!=="treemap"&&n.axes.drawAxis(i.config.chart.type,c);var d=new Ym(e.ctx,c),f=new cS(e.ctx,c);if(c!==null&&(d.xAxisLabelCorrections(c.xAxisTickWidth),f.setYAxisTextAlignments(),i.config.yaxis.map(function(v,y){i.globals.ignoreYAxisIndexes.indexOf(y)===-1&&f.yAxisTitleRotate(y,v.opposite)})),n.annotations.drawAxesAnnotations(),!i.globals.noData){if(i.config.tooltip.enabled&&!i.globals.noData&&n.w.globals.tooltip.drawTooltip(t.xyRatios),i.globals.axisCharts&&(i.globals.isXNumeric||i.config.xaxis.convertedCatToNumeric||i.globals.isRangeBar))(i.config.chart.zoom.enabled||i.config.chart.selection&&i.config.chart.selection.enabled||i.config.chart.pan&&i.config.chart.pan.enabled)&&n.zoomPanSelection.init({xyRatios:t.xyRatios});else{var m=i.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(v){m[v]=!1})}i.config.chart.toolbar.show&&!i.globals.allSeriesCollapsed&&n.toolbar.createToolbar()}i.globals.memory.methodsToExec.length>0&&i.globals.memory.methodsToExec.forEach(function(v){v.method(v.params,!1,v.context)}),i.globals.axisCharts||i.globals.noData||n.core.resizeNonAxisCharts(),s(n)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(t,n){var i=Kb.get(n);i&&(i.disconnect(),Kb.delete(n))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(t,n){t.id===xe.escapeString(e)&&Apex._chartInstances.splice(n,1)}),new $C(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w;return o.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(l,c){return t.updateHelpers._extendSeries(l,c)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),o.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,n,i,s,a)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,n)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=this.w.config.series.slice();return i.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,t,n)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this;n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var i=n.w.config.series.slice(),s=0;s<i.length;s++)if(e[s]!==null&&e[s]!==void 0)for(var a=0;a<e[s].data.length;a++)i[s].data.push(e[s].data[a]);return n.w.config.series=i,t&&(n.w.globals.initialSeries=xe.clone(n.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(n,i){new $C(t.ctx).clear({isUpdating:!0});var s=t.create(t.w.config.series,e);if(!s)return n(t);t.mount(s).then(function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,n(t)}).catch(function(a){i(a)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(n){t.push(n)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addXaxisAnnotationExternal(e,t,i)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addYaxisAnnotationExternal(e,t,i)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addPointAnnotationExternal(e,t,i)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=this;t&&(n=t),n.annotations.removeAnnotation(n,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Ow(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Ow(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new iv(this.ctx).dataURI(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new iv(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=xe.escapeString(e);if(Apex._chartInstances){var n=Apex._chartInstances.filter(function(i){return i.id===t})[0];return n&&n.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new r(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var n=this.getChartByID(e);if(n){n.w.globals.isExecCalled=!0;var i=null;if(n.publicMethods.indexOf(t)!==-1){for(var s=arguments.length,a=new Array(s>2?s-2:0),o=2;o<s;o++)a[o-2]=arguments[o];i=n[t].apply(n,a)}return i}}},{key:"merge",value:function(e,t){return xe.extend(e,t)}}]),r}();const GU=Object.freeze(Object.defineProperty({__proto__:null,default:HU},Symbol.toStringTag,{value:"Module"})),VU=F3(GU);var e2;function WU(){return e2||(e2=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=M;var e=o(ag()),t=s(VU),n=s(xO()),i=["type","width","height","series","options"];function s(E){return E&&E.__esModule?E:{default:E}}function a(E){var T,R;return typeof WeakMap!="function"?null:(T=new WeakMap,R=new WeakMap,(a=function(P){return P?R:T})(E))}function o(E,T){if(!T&&E&&E.__esModule)return E;if(E===null||d(E)!="object"&&typeof E!="function")return{default:E};if(T=a(T),T&&T.has(E))return T.get(E);var R,P,k={__proto__:null},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in E)R!=="default"&&{}.hasOwnProperty.call(E,R)&&((P=B?Object.getOwnPropertyDescriptor(E,R):null)&&(P.get||P.set)?Object.defineProperty(k,R,P):k[R]=E[R]);return k.default=E,T&&T.set(E,k),k}function l(){return(l=Object.assign?Object.assign.bind():function(E){for(var T=1;T<arguments.length;T++){var R,P=arguments[T];for(R in P)!{}.hasOwnProperty.call(P,R)||(E[R]=P[R])}return E}).apply(null,arguments)}function c(E,T){if(E==null)return{};var R,P=u(E,T);if(Object.getOwnPropertySymbols)for(var k=Object.getOwnPropertySymbols(E),B=0;B<k.length;B++)R=k[B],T.includes(R)||{}.propertyIsEnumerable.call(E,R)&&(P[R]=E[R]);return P}function u(E,T){if(E==null)return{};var R,P={};for(R in E)if({}.hasOwnProperty.call(E,R)){if(T.includes(R))continue;P[R]=E[R]}return P}function d(E){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(E)}function f(E,T){var R,P=Object.keys(E);return Object.getOwnPropertySymbols&&(R=Object.getOwnPropertySymbols(E),T&&(R=R.filter(function(k){return Object.getOwnPropertyDescriptor(E,k).enumerable})),P.push.apply(P,R)),P}function m(E){for(var T=1;T<arguments.length;T++){var R=arguments[T]!=null?arguments[T]:{};T%2?f(Object(R),!0).forEach(function(P){v(E,P,R[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(R)):f(Object(R)).forEach(function(P){Object.defineProperty(E,P,Object.getOwnPropertyDescriptor(R,P))})}return E}function v(E,T,R){return(T=y(T))in E?Object.defineProperty(E,T,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[T]=R,E}function y(E){return E=w(E,"string"),d(E)=="symbol"?E:E+""}function w(E,T){if(d(E)!="object"||!E)return E;var R=E[Symbol.toPrimitive];if(R===void 0)return(T==="string"?String:Number)(E);if(R=R.call(E,T||"default"),d(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}function b(E,T){var R=m({},E);return T.forEach(function(P){delete R[P]}),R}function S(E,T){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(E!==T){if(d(E)!=="object"||E===null||d(T)!=="object"||T===null)return!1;if(!R.has(E)&&!R.has(T)){R.add(E),R.add(T);var P=Object.keys(E),k=Object.keys(T);if(P.length!==k.length)return!1;for(var B=0,D=P;B<D.length;B++){var O=D[B];if(!k.includes(O)||!S(E[O],T[O],R))return!1}}}return!0}function M(ae){function T(z){return z&&d(z)==="object"&&!Array.isArray(z)}var O=ae.type,R=O===void 0?"line":O,O=ae.width,P=O===void 0?"100%":O,O=ae.height,k=O===void 0?"auto":O,B=ae.series,D=ae.options,O=c(ae,i),V=(0,e.useRef)(null),X=(0,e.useRef)(null),K=(0,e.useRef)(),ie=((0,e.useEffect)(function(){K.current=D;var z=V.current;return X.current=new t.default(z,ie()),X.current.render(),function(){X.current&&typeof X.current.destroy=="function"&&X.current.destroy()}},[]),(0,e.useEffect)(function(){var z=!S(X.current.w.config.series,B),Q=!S(K.current,D)||k!==X.current.opts.chart.height||P!==X.current.opts.chart.width;(z||Q)&&(!z||Q?X.current.updateOptions(ie()):X.current.updateSeries(B)),K.current=D},[D,B,k,P]),function(){return ee(D,{chart:{type:R,height:k,width:P},series:B})}),ee=function(z,Q){var Z=m({},z);return T(z)&&T(Q)&&Object.keys(Q).forEach(function(Y){T(Q[Y])&&Y in z?Z[Y]=ee(z[Y],Q[Y]):Object.assign(Z,v({},Y,Q[Y]))}),Z},ae=b(O,Object.keys(M.propTypes));return e.default.createElement("div",l({ref:V},ae))}M.propTypes={type:n.default.string.isRequired,series:n.default.array.isRequired,options:n.default.object.isRequired,width:n.default.oneOfType([n.default.string,n.default.number]),height:n.default.oneOfType([n.default.string,n.default.number])}}(Pb)),Pb}var XU=WU();const YU=dT(XU),Od=({percentage:r,label:e,fillLight:t,fillDark:n})=>{const{isDarkMode:i}=de.useContext(KA),{ref:s,inView:a}=MO({triggerOnce:!0}),o=()=>i?n:t,l=()=>i?"#FFFFFF":"#333333",[c,u]=de.useState({series:[0],options:{chart:{height:150,type:"radialBar",offsetY:-10},plotOptions:{radialBar:{startAngle:-135,endAngle:135,dataLabels:{name:{fontSize:"16px",color:l(),offsetY:120},value:{offsetY:76,fontSize:"22px",color:o(),formatter:d=>`${d}%`}}}},fill:{colors:[o()]},stroke:{dashArray:4},labels:[e]}});return de.useEffect(()=>{a&&u(d=>({...d,series:[r],options:{...d.options,plotOptions:{...d.options.plotOptions,radialBar:{...d.options.plotOptions.radialBar,dataLabels:{name:{...d.options.plotOptions.radialBar.dataLabels.name,color:l()},value:{...d.options.plotOptions.radialBar.dataLabels.value,color:o()}}}},fill:{colors:[o()]}}}))},[a,i]),ue.jsx("div",{ref:s,id:"chart",children:ue.jsx(YU,{options:c.options,series:c.series,type:"radialBar",height:350})})},jU=()=>{const{scrollYProgress:r}=hg(),e=qi(r,[.1,.9],[.9,1.2]);return ue.jsxs("div",{className:"mb-12",id:"skills",children:[ue.jsx("div",{className:"mb-[26rem] mt-20 max-2xl:mb-[22rem] max-xl:mb-[17rem] max-lg:mb-[20rem] max-md:mb-[16rem] max-sm:mb-[15rem] max-[400px]:mb-[12rem]",children:ue.jsxs("div",{className:"relative flex justify-center py-24 font-poppinsB max-2xl:py-14 max-lg:py-16 max-md:py-12 max-sm:py-12 max-[400px]:py-8",children:[ue.jsx(cr.p,{style:{scale:e},className:"strokeText absolute top-[85%] text-[13rem] text-transparent dark:stroke-mainYellow max-md:top-[92%] max-md:text-[9rem] max-sm:top-[95%] max-sm:text-[7rem]",children:"Skills"}),ue.jsx("h2",{className:"absolute top-full text-[11rem] text-neutral-900 dark:text-mainYellow max-md:text-[8rem] max-sm:text-[6rem]",children:"Skills"})]})}),ue.jsxs("div",{className:"mt-10 grid grid-cols-2 items-center justify-center gap-y-9 max-[400px]:grid-cols-1 md:grid-cols-3",children:[ue.jsx(Od,{percentage:90,label:"JavaScript",fillLight:"orange",fillDark:"#F2613F"}),ue.jsx(Od,{percentage:92,label:"React",fillLight:"blue",fillDark:"#F7418F"}),ue.jsx(Od,{percentage:60,label:"Next",fillLight:"red",fillDark:"purple"}),ue.jsx(Od,{percentage:95,label:"Tailwind",fillLight:"#574964",fillDark:"#5D8736"}),ue.jsx(Od,{percentage:88,label:"Framer Motion",fillLight:"#5B913B",fillDark:"#8E1616"}),ue.jsx(Od,{percentage:70,label:"ThreeJS",fillLight:"#780C28",fillDark:"#3B6790"})]})]})},JU="/myPortfolio/assets/co2-website-B-dNTEYr.png",KU="/myPortfolio/assets/musicApp-CyusFrnO.png",ZU="/myPortfolio/assets/ajilWeb-CChOLm_r.png",t2="/myPortfolio/assets/css-kf0bV1JH.png",n2="/myPortfolio/assets/html-CiI4gUby.png",Zb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAMe0lEQVR4nO1ceVAUZxaf7Kay9/Xf7lbtH7t/7W7V7maP2tRubVbdRLpBxWgWTLwxMRATTeLGI4qLCCpCTOIRk+keBJEA4oEoV/cMjMN9hNsD5ZabcAyXnDNv6zV2T88APd0DCnH7V/WqqOnu73vfr7/+3nvfex8ajQoVKlSoUKFChQoVKlSoUKFChQoVKlQ8JhgDFj2t15F/ZCnCj6HIswxFGhmKKGdpoomhiQco3N8UUY7XWIoIZ2jCl6E8nsVn/y9flF774o/0lPtGhiKSWZoYYmkSXBNiiKHIJFZHbEg5T/5Q86RDryVeZCkigaHI4ZlIMUZ5Q+4lPyi8/h8oZQI4wb/xN7w203PYJkORl1kd+YLmSUJ8vNc3WYrwZmmy2HHQep07FFx9B2qLo+Gr+wUwMtgFzjA8+BV0NuZDzZdRkJ+wHVjafRoyiSJWR3oFBAR8Q/N1BkOTKxiauOs4QBx4051kGH3QA7PFyFAXNN1Ogrwrb02dmRRZlUa5Ldd83WAIJ3/LUgRjN9vCl0HljTDo67wLjwrmjjtQaTwGep2H/YykyTSW9viNZqEj5QT5LYYijjI0OW77TD2g0hgGQ30t8LgwaG6CiowQbokQkTjGUERwfLzXM5qFiLRwtz9Muh+2N1+UtAsGehpgvtDfVQuF13Y6Wu5Svdb9d5qFAgDNUwxF7GIpYpRX8kb0q9BanQ4AVtmDbWjvh8ScOjgWUwLvnMqCtUEsrDqQAqsPpHJ/42+hsSVwLaceGjsGFNBohZa7DBjPiy04McJQxE7UfV7Ju6rz/AFLExfFb7gkzR9GhrplDW1kbAKS8hpg+4lM8NyXrEh2nMyE5LwGGB2bkNXX6INeKGUPOq6NieiTzqOhIKt4ZdIjV3FvWtacsFqBKbwPGw7rpxCzcn8yeB0ywIZj2eBzPI8T/Ns70MBdc7x/4xED6L9sAqusyW7lrL8hwlPs8txO07r9+rGSx1Du/2Jo0swrkR3/Ggx018sir8s8DHupPDsSXvJPhdc+LoQ952vh6PUuCEs1Tyt4De/Z8lEB94y4jX10PnT3DcvSob+7FrIu+IhJ7NXTxOLHQx5Nrhevd6VMAIyPDspS/E5jD6wPts26lftTYOuJIjh8tXNG0maSw4mdsO1MKazcbyMSZ/Td+72ydBkbGYDiVH+Rz0iMplHkukdLHkXsYijSynd6O+skWK0WWQqX13aB98E0YbDrjpog8HKbYuIcJfByK7x62Ci0i31U1DqPaBBWywTcNH0kDgetrI58/5GQx1LkHvECfK8wHOSipsUMawIZYZA460JTehST9WGaGaLzBiCheAhoU7/we0hSD2w5blsWXglkoLalT7Z+9WXxDsaFCJlb8mgyVBxRNFelyVZu4MEYvB6aIQzO71QJhKYon2kR2QPQ2W9vcavaxuATtu/hPb3wxqli20sKM8Lg8JhsPTEcFEcwc0YiS5FH+EYNZz25QF4JPowrFQa1KSwHQlN6FZN3Ut8HfcPTLxUVTaPCfdj2xtAcob+P4ssU6dpRnwOGsyvExiV4VuQxFOEvkBe+XDF55bVdwmDWBKVLWlgpybwrbV0p0eeMfaw5lC64RJV18tZDHp0NuaAPXy6eiR+4OPMIP/Fni29HKfZocwUCP/iiXjZhOJMORN+CnZ+aOCmvN0v2c6V4yO75/bENQr+7P89VrHd7rcnxc/ZVRJ6ediP5DQEMyNtqMhQrcbuhx+ZehGTKIu5oYgds3h8Bi5ZvhL8uXiFITPxVyb7QsDi2telD28tD90kpWu8ZbJsRFDGBW3MyP1uPZ1mK6J9k3x2aZUYXjjh1pUIYgH9co1Py/KNuwpKXttgRx8sm3/e46GU6dPRNcNZ5SntxjUL/nyZUgitAwyLyE/sNNPl76c9W9+LPWYq8zz9UU3zepY6tViuse+gwex9Kd2p1D8ZWw/Pua6clj5fjJykYH7e3wkOjVojIGphhGTBzffMOtrxQbyqqCyPEfmJL2lm3X0xL3jXt8u/iVg9/c0XGMUW7KWLUtfYJb//N0yVO1zvilR2S5PGydst2iL6QAKl6I4THXIdTeukX43fa5gHUt/WDa7BCefoRsWUuyT3u9Z2ps48mI/ibMIljmZDvQzkCg3tecYxdpQb57id6WeRNJ++eMEi2jX3zehiKm8BVWCZG7fYVGYr8wn7dowlf/mJmzAYYHZa2es5wLq1KUBxDLalBrvI95DKBL/sFS7aNffN6RDFVsxoT5m9MMetEa6L7Vo68VC3xJ9xg5H09c8fsOnI0IEeTuiUHudhzs8sELvb0kbbqSTY/9HRCBcwW5o7bHEd8GhULAjTidKOrRsMRYaLow1nk8bcXVrtMID7rbH3l9UCd5gLIkShuLrZzmLPiNsPYiKuLrQ2fXCoXFD+WLL1p8LzHOpcJ/Oey9ZJt4yYDr8eJy+UwWyA3yNEUB5uhyCj+x+KUfbK3qGYCdf2WoHiwk70+jw3vu0zgsg27JNsOutoh6KFLugWzAbpmmK4Q5VViBSNiPL3o+7i1zV+sLoqcVWfXc+ttO8Wx0k701sAYlwnceihWsu19MbaQDnMvs4G9P0jcQs6m5DgYmhzgb5Kb35gOZTW2xXu79qb0Qp/Y7tJnjM8cSZTekN2urRT0kLvJOh0wGhNHJDPmUBitu7sQA4cvh+7mEpc6HBmb4NKRk3FwluQgUXZ8zMBzSzxlk4f3ov/orN31IVmcDi//N1V29s4RPa0VguXFmJjVEp6S4RyjJbfxbGece9nlxHhARMHDt5/CrUXOBvtGUDw8t2SlDPJWgm/wRaftBSd0CFm8wMhCl8Yw2NvIcSCafX6S5ImikuPiJPlg733FnRtLm4XPB5M/zgaMsvvzPFjqtW1G8ty834bdVL6stjCE5Ps3lSkvK8FSFNMXIseZJkM1coFlYVytnRCdrIcH/W2KFBgbt8DmkMlgftWBVNmZN/Td9uiKwMf/LHjvCOPE50AE7NUVyd7NxtnHpz19QtI5XZRgeLATsuI2iRPwlxSXymHAzJXUinxEOfV7YmAZBj8LfI7nu5QLUSrYBybjXbW+OEZxzpilyIxpNw/klm4wNJHHN5YT/zpXjycXExYrV9MilGNQ0hZ5LkRsebFkZGJC/o4SlqTkXNwq/mxzprgrSpF0ZtlPWJr80jYTNylaE6ubzYJFRoOyN7rukZG3J7qO64O3vDXNZkUlcQ5RRuGc1c1gQ/g2+MaNUf+G3rabspVLzrc5tLg27Tp3b87Jez/ynl25R1pBo2z9sOjzxvk1YmubPedFR0zU0u8xFGGwpThXQHtdlmwlzzG2LS6Ut86Uu5TinM7obDtTZte2kq2rruZiyIhcJSbPhEuX5lGAMyw0eUnI1uk8uGonuYgx3LMb6NojJjhw4b7L5OGza4+a7NqMS78nWx8sEMCMoyi+vWiMWPRtzSMvqKSJg+JSiEpjGFjGR2UpbSpvsSvz4BPuuHvsbOcGBe/Zc77GLoHOl3NkVbTK0gF326tyP3MsSD/xWKv6Wdrtbaw7Flfey/UV27qHuOjAsdYP17BNodmc4/3e2TuwK6qak53hd7jfNh7LnlLWhnLoXBG09wzJ6vtBfzt3tELk443pafJNzXxAryX/wdJkqxD6Ra6CpjspIBel1V9xdX2OhMiV/bp8buNCLtrrMjkDaJdl07r9XTOfSNUSP2NoIkv8OZSxgYqc7pauQYjLqOYKL9H9mIkwvPYBlQcXMqqhtUvejEOg71qmD3L4ZAmTMcLjp5qFAGPAoqcny98mcyso6REvcdvfFss4KAE630gO1tUU3G7nBLei8LO3WJSlWbH+r7EyATIiV9sfd6CJg3iCSrPQwFAezzoedci95Asd9dku55hdg5Wr5cG+7WYdTZQ6rS6Yb8THez2jp8m9tvKQScGjWB0NubNOF0jSZrVCZ0PewzN0dp9rH1bXLthDNjOtjZPJesIiHkxm7EaoK42VfRRCbs4W28S2HWacBc8gL5i1zhUwk8VKcdxurvjsnM6dy/ZjeS1W+CuZmXjvQE899yy2IT7S9XCdG8ekD/ateVKgD1/2K5YmPmUpctB+ltiMTkHiu1zhOh5/bbx5FVqrDZzg3/gbXsN78N7p2niY0znNUEt/qXlSkTsZDq6YTKXO5rS67dgWS5PX8QT8rLeevm4wRqz8MZLJ0mQQS5EsHnhxRhh3z+RR2iB8dt6Oai1EAGiewgWf1bn/hfv3ADSxGgX/Zmi3P+O1eT8gqEKFChUqVKhQoUKFChWa+cb/AME+Eil5hLQbAAAAAElFTkSuQmCC",qU="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='64'%20height='64'%20fill-rule='evenodd'%3e%3cpath%20d='M.38%2032C.38%2049.463%2014.536%2063.62%2032%2063.62S63.62%2049.463%2063.62%2032%2049.464.38%2032%20.38.38%2014.537.38%2032z'%20fill='%231d4371'/%3e%3cpath%20d='M32%20.001A31.79%2031.79%200%200%200%209.374%209.373%2031.79%2031.79%200%200%200%200%2032a31.78%2031.78%200%200%200%209.374%2022.627%2031.79%2031.79%200%200%200%2022.625%209.372%2031.78%2031.78%200%200%200%2022.627-9.374A31.79%2031.79%200%200%200%2064%2032a31.79%2031.79%200%200%200-9.374-22.627A31.79%2031.79%200%200%200%2031.999.001m0%20.38C49.463.38%2063.62%2014.537%2063.62%2032S49.464%2063.62%2032%2063.62.38%2049.463.38%2032%2014.536.38%2032%20.38m21.182%2045.816l-6.3.5c-.684.014-1.347-.238-1.848-.704l-2.28-2.197-2.258-2.12a1.32%201.32%200%200%200-.977-.307c-.646.055-1.154.577-1.192%201.224-.02.302.064.603.24.85l3.993%204.774%201.42%201.55a2.11%202.11%200%200%201%20.626%202.043c-.178.743-.746%201.333-1.483%201.54a2.1%202.1%200%200%201-2.065-.55l-1.613-1.35-6.308-5.378a1.29%201.29%200%200%200-1.77.034l-6.105%205.607-1.562%201.4c-.514.574-1.3.82-2.05.644s-1.344-.748-1.548-1.5a2.11%202.11%200%200%201%20.567-2.074L22.04%2048.6l3.8-4.873a1.39%201.39%200%200%200%20.232-.903c-.062-.646-.6-1.147-1.237-1.178-.354-.02-.702.102-.964.342l-2.18%202.2-2.196%202.283a2.63%202.63%200%200%201-1.822.772l-6.3-.273-2.104-.108c-1.132-.022-2.043-.935-2.064-2.067s.856-2.078%201.987-2.142l2.097-.17%204.693-.584c1.247-.256%202.135-1.364%202.112-2.638l-.27-14.543c-.144-7.758%206.028-14.165%2013.787-14.3s14.165%206.028%2014.3%2013.787l.27%2014.54c.024%201.273.952%202.35%202.2%202.558l4.712.4%202.1.1a2.08%202.08%200%200%201%201.9.993c.397.656.422%201.48.04%202.152a2.1%202.1%200%200%201-1.87%201.064z'%20fill='%23fff'/%3e%3cpath%20d='M41.553%2023.552l-5.108-3.3c-.91-.547-1.972.192-1.956%201.256.008.57.3.937.76%201.23l2.793%201.818-2.98%201.795c-.683.436-.835%201.214-.44%201.875.37.62%201.148.882%201.805.507l5.05-3c.8-.51.856-1.643.076-2.18m-13.18%202.64l-2.746-1.638%202.714-1.763c.892-.584%201.12-1.37.626-2.1-.474-.696-1.266-.787-2.133-.228l-4.36%202.822c-1.214.793-1.192%201.92.057%202.668l4.408%202.607c.87.5%201.683.376%202.114-.336.436-.72.175-1.516-.68-2.034'%20fill='%231d4371'/%3e%3c/svg%3e",QU=()=>{const{scrollYProgress:r}=hg(),e=qi(r,[0,.93],[0,-100]),t=qi(r,[0,.9,1],[1,.9,0]),n=qi(r,[.3,.96],[100,-100]),i=qi(r,[.33,.6,1],[0,1,1]),s=qi(r,[.33,.97],[100,0]),a=qi(r,[.33,.7,1],[0,1,1]),o=qi(r,[.5,1],["0%","100%"]),l=qi(r,[.95,1],[1,0]),c=qi(r,[.1,.9],[.9,1.2]);return ue.jsxs(ue.Fragment,{children:[ue.jsx("div",{className:"mb-[20rem] max-lg:mb-[22rem] max-md:mb-[15rem] max-sm:mb-[12rem] max-[400px]:mb-[12rem]",id:"projects",children:ue.jsxs("div",{className:"relative flex justify-center py-24 font-poppinsB max-2xl:py-14 max-lg:py-16 max-md:py-12 max-sm:py-12 max-[400px]:py-8",children:[ue.jsx(cr.p,{style:{scale:c},className:"strokeText absolute top-[85%] text-[13rem] text-transparent dark:stroke-mainYellow max-md:top-[92%] max-md:text-[9rem] max-sm:top-[95%] max-sm:text-[7rem]",children:"Projects"}),ue.jsx("h2",{className:"absolute top-full text-[11rem] text-neutral-900 dark:text-mainYellow max-md:text-[8rem] max-sm:text-[6rem]",children:"Projects"})]})}),ue.jsx(cr.div,{style:{width:o,opacity:l},className:"mb-30 sticky left-6 top-0 z-50 h-3 w-full bg-mainYellow max-[1004px]:mb-20 max-[540px]:mb-40 max-[400px]:mb-36"}),ue.jsx("div",{className:"relative",children:ue.jsxs("div",{className:"flex flex-col items-center justify-center px-6 text-white",children:[ue.jsxs(cr.div,{style:{opacity:t,y:e},className:"sticky top-0 z-10 mb-48 flex h-screen w-full flex-wrap items-center justify-center gap-6 bg-[#efefe9] dark:bg-[#0c0c0c]",children:[ue.jsx("div",{className:"flex max-w-[600px] grow items-center justify-center",children:ue.jsx("img",{src:JU,className:"rounded-xl",alt:"co2-website"})}),ue.jsxs("div",{className:"flex grow flex-col items-center justify-center gap-20",children:[ue.jsxs("div",{className:"flex flex-col gap-12",children:[ue.jsx("h3",{className:"text-6xl text-neutral-900 dark:text-white",dir:"rtl",children:"لندینگ پیج CO-2"}),ue.jsxs("p",{className:"text-center text-2xl text-gray-400",dir:"rtl",children:["CO-2 Landing Page"," "]})]}),ue.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[ue.jsxs("div",{className:"bgGlassesLight flex w-fit items-center gap-3 rounded-full px-6 py-4 text-neutral-900 dark:bg-[#019961] max-[800px]:px-5 max-[800px]:py-4",children:[ue.jsx("img",{src:n2,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"font-poppins text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-2xl max-[640px]:text-xl",children:"Html"})]}),ue.jsxs("div",{className:"bgGlassesLight flex w-fit items-center gap-3 rounded-full px-6 py-4 text-neutral-900 dark:bg-[#019961] max-[800px]:px-5 max-[800px]:py-4",children:[ue.jsx("img",{src:t2,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"font-poppins text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-2xl max-[640px]:text-xl",children:"Css"})]}),ue.jsxs("div",{className:"bgGlassesLight flex w-fit items-center gap-3 rounded-full px-6 py-4 text-neutral-900 dark:bg-[#019961] max-[800px]:px-5 max-[800px]:py-4",children:[ue.jsx("img",{src:IC,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"font-poppins text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-2xl max-[640px]:text-xl",children:"Js"})]})]}),ue.jsxs("a",{href:"https://fer-feri.github.io/landing-co2-website/",target:"_blank",className:"flex cursor-pointer items-center gap-3 rounded-full bg-[#019945] px-9 py-8 text-4xl transition-all hover:bg-[#019945ae] max-md:px-6 max-md:py-6 max-md:text-3xl",children:["مشاهده دمو",ue.jsx("img",{src:Zb,className:"w-10",alt:"eye-icon"})]})]})]}),ue.jsxs(cr.div,{style:{opacity:i,y:n},className:"sticky top-0 z-10 flex h-screen w-full flex-wrap items-center justify-center gap-6 bg-[#efefe9] dark:bg-[#0c0c0c]",children:[ue.jsx("div",{className:"flex max-w-[600px] grow items-center justify-center",children:ue.jsx("img",{src:KU,className:"rounded-xl",alt:"music-app-website"})}),ue.jsxs("div",{className:"flex grow flex-col items-center justify-center gap-20",children:[ue.jsxs("div",{className:"flex flex-col gap-12",children:[ue.jsx("h3",{className:"text-6xl text-neutral-900 dark:text-white",dir:"rtl",children:"اپ موزیک"}),ue.jsxs("p",{className:"text-center text-2xl text-gray-400",dir:"rtl",children:["Music App",ue.jsxs("span",{className:"pb-12 text-xl text-red-500",children:[" ","(Turn on VPN)"]})]})]}),ue.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[ue.jsxs("div",{className:"bgGlassesLight flex w-fit items-center gap-3 rounded-full px-6 py-4 text-[#3c183b] dark:bg-[#3c183b] dark:text-white max-[800px]:px-5 max-[800px]:py-4",children:[ue.jsx("img",{src:vO,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"font-poppins text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-2xl max-[640px]:text-xl",children:"React"})]}),ue.jsxs("div",{className:"bgGlassesLight dark:ext-white flex w-fit items-center gap-3 rounded-full px-6 py-4 text-[#3c183b] dark:bg-[#3c183b] dark:text-white max-[800px]:px-5 max-[800px]:py-4",children:[ue.jsx("img",{src:yO,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"font-poppins text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-2xl max-[640px]:text-xl",children:"Sass"})]}),ue.jsxs("div",{className:"bgGlassesLight flex w-fit items-center gap-3 rounded-full px-6 py-4 text-[#3c183b] dark:bg-[#3c183b] dark:text-white max-[800px]:px-5 max-[800px]:py-4",children:[ue.jsx("img",{src:qU,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"font-poppins text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-2xl max-[640px]:text-xl",children:"Rapid API"})]})]}),ue.jsxs("a",{href:"https://music-app-pink-iota.vercel.app/",target:"_blank",className:"flex cursor-pointer items-center gap-3 rounded-full bg-[#3c183b] px-9 py-8 text-4xl transition-all hover:bg-[#6a2968] max-md:px-6 max-md:py-6 max-md:text-3xl",children:["مشاهده دمو",ue.jsx("img",{src:Zb,className:"w-10",alt:"eye-icon"})]})]})]}),ue.jsxs(cr.div,{style:{opacity:a,y:s},className:"sticky top-0 z-10 flex h-screen w-full flex-wrap items-center justify-center gap-6 bg-[#efefe9] dark:bg-[#0c0c0c]",children:[ue.jsx("div",{className:"flex max-w-[600px] grow items-center justify-center",children:ue.jsx("img",{src:ZU,className:"rounded-xl",alt:"waffy-website"})}),ue.jsxs("div",{className:"flex grow flex-col items-center justify-center gap-20",children:[ue.jsxs("div",{className:"flex flex-col gap-12",children:[ue.jsx("h3",{className:"text-6xl text-neutral-900 dark:text-white",dir:"rtl",children:"فروشگاه آجیل"}),ue.jsx("p",{className:"text-center text-2xl text-gray-400",dir:"rtl",children:"Waffy Shop"})]}),ue.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[ue.jsxs("div",{className:"bgGlassesLight flex w-fit items-center gap-3 rounded-full px-6 py-4 text-neutral-900 dark:bg-[#182950] dark:text-white max-[800px]:px-5 max-[800px]:py-4",children:[ue.jsx("img",{src:n2,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"font-poppins text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-2xl max-[640px]:text-xl",children:"Html"})]}),ue.jsxs("div",{className:"bgGlassesLight flex w-fit items-center gap-3 rounded-full px-6 py-4 text-neutral-900 dark:bg-[#182950] dark:text-white max-[800px]:px-5 max-[800px]:py-4",children:[ue.jsx("img",{src:t2,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"font-poppins text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-2xl max-[640px]:text-xl",children:"Css"})]}),ue.jsxs("div",{className:"bgGlassesLight flex w-fit items-center gap-3 rounded-full px-6 py-4 text-neutral-900 dark:bg-[#182950] dark:text-white max-[800px]:px-5 max-[800px]:py-4",children:[ue.jsx("img",{src:IC,className:"w-[35px] !cursor-default max-[640px]:w-[27px]",alt:"tailwind-Logo"}),ue.jsx("span",{className:"font-poppins text-4xl tracking-wide max-lg:text-3xl max-[800px]:text-2xl max-[640px]:text-xl",children:"Js"})]})]}),ue.jsxs("a",{href:"https://waffy-nine.vercel.app/",target:"_blank",className:"flex cursor-pointer items-center gap-3 rounded-full bg-[#182950] px-9 py-8 text-4xl transition-all hover:bg-[#284589] max-md:px-6 max-md:py-6 max-md:text-3xl",children:["مشاهده دمو",ue.jsx("img",{src:Zb,className:"w-10",alt:"eye-icon"})]})]})]})]})})]})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Xf="173",$U={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},e4={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},NI=0,Ww=1,OI=2,t4=3,UI=0,$v=1,Em=2,io=3,Oo=0,ws=1,Sa=2,Bo=0,xh=1,Xw=2,Yw=3,jw=4,zI=5,Lc=100,HI=101,GI=102,VI=103,WI=104,XI=200,YI=201,jI=202,JI=203,sv=204,av=205,KI=206,ZI=207,qI=208,QI=209,$I=210,eP=211,tP=212,nP=213,iP=214,ov=0,lv=1,cv=2,Mh=3,uv=4,hv=5,dv=6,fv=7,vg=0,rP=1,sP=2,Do=0,aP=1,oP=2,lP=3,uS=4,cP=5,uP=6,hP=7,Jw="attached",dP="detached",Hc=300,Uo=301,Gc=302,Rf=303,jm=304,Yf=306,Vc=1e3,Gi=1001,If=1002,Qi=1003,ey=1004,n4=1004,oh=1005,i4=1005,jn=1006,yf=1007,r4=1007,Ca=1008,Kw=1008,zs=1009,ty=1010,ny=1011,Pf=1012,yg=1013,zo=1014,Ri=1015,dr=1016,iy=1017,ry=1018,Ch=1020,hS=35902,dS=1021,fS=1022,Vi=1023,pS=1024,mS=1025,vh=1026,Eh=1027,bg=1028,wg=1029,gS=1030,sy=1031,s4=1032,ay=1033,Tm=33776,Rm=33777,Im=33778,Pm=33779,pv=35840,mv=35841,gv=35842,xv=35843,vv=36196,yv=37492,bv=37496,wv=37808,Av=37809,Sv=37810,_v=37811,Mv=37812,Cv=37813,Ev=37814,Tv=37815,Rv=37816,Iv=37817,Pv=37818,kv=37819,Lv=37820,Bv=37821,km=36492,Dv=36494,Fv=36495,xS=36283,Nv=36284,Ov=36285,Uv=36286,fP=2200,pP=2201,mP=2202,kf=2300,Lf=2301,G0=2302,lh=2400,ch=2401,Jm=2402,oy=2500,vS=2501,gP=0,yS=1,zv=2,xP=3200,vP=3201,a4=3202,o4=3203,Yc=0,yP=1,Rl="",xs="srgb",Ho="srgb-linear",Km="linear",ti="srgb",l4=0,$u=7680,c4=7681,u4=7682,h4=7683,d4=34055,f4=34056,p4=5386,m4=512,g4=513,x4=514,v4=515,y4=516,b4=517,w4=518,Zw=519,bP=512,wP=513,AP=514,bS=515,SP=516,_P=517,MP=518,CP=519,Zm=35044,A4=35048,S4=35040,_4=35045,M4=35049,C4=35041,E4=35046,T4=35050,R4=35042,I4="100",qw="300 es",oo=2e3,qm=2001,P4={COMPUTE:"compute",RENDER:"render"};class Go{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const i=n[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}const Zr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let i2=1234567;const yh=Math.PI/180,Bf=180/Math.PI;function ta(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Zr[r&255]+Zr[r>>8&255]+Zr[r>>16&255]+Zr[r>>24&255]+"-"+Zr[e&255]+Zr[e>>8&255]+"-"+Zr[e>>16&15|64]+Zr[e>>24&255]+"-"+Zr[t&63|128]+Zr[t>>8&255]+"-"+Zr[t>>16&255]+Zr[t>>24&255]+Zr[n&255]+Zr[n>>8&255]+Zr[n>>16&255]+Zr[n>>24&255]).toLowerCase()}function xn(r,e,t){return Math.max(e,Math.min(t,r))}function wS(r,e){return(r%e+e)%e}function k4(r,e,t,n,i){return n+(r-e)*(i-n)/(t-e)}function L4(r,e,t){return r!==e?(t-r)/(e-r):0}function Lm(r,e,t){return(1-t)*r+t*e}function B4(r,e,t,n){return Lm(r,e,1-Math.exp(-t*n))}function D4(r,e=1){return e-Math.abs(wS(r,e*2)-e)}function F4(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*(3-2*r))}function N4(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*r*(r*(r*6-15)+10))}function O4(r,e){return r+Math.floor(Math.random()*(e-r+1))}function U4(r,e){return r+Math.random()*(e-r)}function z4(r){return r*(.5-Math.random())}function H4(r){r!==void 0&&(i2=r);let e=i2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function G4(r){return r*yh}function V4(r){return r*Bf}function W4(r){return(r&r-1)===0&&r!==0}function X4(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function Y4(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function j4(r,e,t,n,i){const s=Math.cos,a=Math.sin,o=s(t/2),l=a(t/2),c=s((e+n)/2),u=a((e+n)/2),d=s((e-n)/2),f=a((e-n)/2),m=s((n-e)/2),v=a((n-e)/2);switch(i){case"XYX":r.set(o*u,l*d,l*f,o*c);break;case"YZY":r.set(l*f,o*u,l*d,o*c);break;case"ZXZ":r.set(l*d,l*f,o*u,o*c);break;case"XZX":r.set(o*u,l*v,l*m,o*c);break;case"YXY":r.set(l*m,o*u,l*v,o*c);break;case"ZYZ":r.set(l*v,l*m,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ys(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return r/4294967295;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int32Array:return Math.max(r/2147483647,-1);case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function _n(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return Math.round(r*4294967295);case Uint16Array:return Math.round(r*65535);case Uint8Array:return Math.round(r*255);case Int32Array:return Math.round(r*2147483647);case Int16Array:return Math.round(r*32767);case Int8Array:return Math.round(r*127);default:throw new Error("Invalid component type.")}}const bf={DEG2RAD:yh,RAD2DEG:Bf,generateUUID:ta,clamp:xn,euclideanModulo:wS,mapLinear:k4,inverseLerp:L4,lerp:Lm,damp:B4,pingpong:D4,smoothstep:F4,smootherstep:N4,randInt:O4,randFloat:U4,randFloatSpread:z4,seededRandom:H4,degToRad:G4,radToDeg:V4,isPowerOfTwo:W4,ceilPowerOfTwo:X4,floorPowerOfTwo:Y4,setQuaternionFromProperEuler:j4,normalize:_n,denormalize:ys};class Ke{constructor(e=0,t=0){Ke.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(xn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*n-a*i+e.x,this.y=s*i+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class bn{constructor(e,t,n,i,s,a,o,l,c){bn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,i,s,a,o,l,c)}set(e,t,n,i,s,a,o,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=t,u[4]=s,u[5]=l,u[6]=n,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,s=this.elements,a=n[0],o=n[3],l=n[6],c=n[1],u=n[4],d=n[7],f=n[2],m=n[5],v=n[8],y=i[0],w=i[3],b=i[6],S=i[1],M=i[4],E=i[7],T=i[2],R=i[5],P=i[8];return s[0]=a*y+o*S+l*T,s[3]=a*w+o*M+l*R,s[6]=a*b+o*E+l*P,s[1]=c*y+u*S+d*T,s[4]=c*w+u*M+d*R,s[7]=c*b+u*E+d*P,s[2]=f*y+m*S+v*T,s[5]=f*w+m*M+v*R,s[8]=f*b+m*E+v*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return t*a*u-t*o*c-n*s*u+n*o*l+i*s*c-i*a*l}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=u*a-o*c,f=o*l-u*s,m=c*s-a*l,v=t*d+n*f+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=d*y,e[1]=(i*c-u*n)*y,e[2]=(o*n-i*a)*y,e[3]=f*y,e[4]=(u*t-i*l)*y,e[5]=(i*s-o*t)*y,e[6]=m*y,e[7]=(n*l-c*t)*y,e[8]=(a*t-n*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(n*l,n*c,-n*(l*a+c*o)+a+e,-i*c,i*l,-i*(-c*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(qb.makeScale(e,t)),this}rotate(e){return this.premultiply(qb.makeRotation(-e)),this}translate(e,t){return this.premultiply(qb.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const qb=new bn;function EP(r){for(let e=r.length-1;e>=0;--e)if(r[e]>=65535)return!0;return!1}const J4={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function mf(r,e){return new J4[r](e)}function Qm(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function TP(){const r=Qm("canvas");return r.style.display="block",r}const r2={};function af(r){r in r2||(r2[r]=!0,console.warn(r))}function K4(r,e,t){return new Promise(function(n,i){function s(){switch(r.clientWaitSync(e,r.SYNC_FLUSH_COMMANDS_BIT,0)){case r.WAIT_FAILED:i();break;case r.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:n()}}setTimeout(s,t)})}function Z4(r){const e=r.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function q4(r){const e=r.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const s2=new bn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),a2=new bn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Q4(){const r={enabled:!0,workingColorSpace:Ho,spaces:{},convert:function(i,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===ti&&(i.r=Fl(i.r),i.g=Fl(i.g),i.b=Fl(i.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===ti&&(i.r=wf(i.r),i.g=wf(i.g),i.b=wf(i.b))),i},fromWorkingColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},toWorkingColorSpace:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Rl?Km:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,a){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return r.define({[Ho]:{primaries:e,whitePoint:n,transfer:Km,toXYZ:s2,fromXYZ:a2,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:xs},outputColorSpaceConfig:{drawingBufferColorSpace:xs}},[xs]:{primaries:e,whitePoint:n,transfer:ti,toXYZ:s2,fromXYZ:a2,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:xs}}}),r}const On=Q4();function Fl(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function wf(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}let Ud;class RP{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Ud===void 0&&(Ud=Qm("canvas")),Ud.width=e.width,Ud.height=e.height;const n=Ud.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Ud}return t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Qm("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=Fl(s[a]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Fl(t[n]/255)*255):t[n]=Fl(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let $4=0;class uh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:$4++}),this.uuid=ta(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(Qb(i[a].image)):s.push(Qb(i[a]))}else s=Qb(i);n.url=s}return t||(e.images[this.uuid]=n),n}}function Qb(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?RP.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ez=0;class qn extends Go{constructor(e=qn.DEFAULT_IMAGE,t=qn.DEFAULT_MAPPING,n=Gi,i=Gi,s=jn,a=Ca,o=Vi,l=zs,c=qn.DEFAULT_ANISOTROPY,u=Rl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ez++}),this.uuid=ta(),this.name="",this.source=new uh(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Ke(0,0),this.repeat=new Ke(1,1),this.center=new Ke(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new bn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Hc)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Vc:e.x=e.x-Math.floor(e.x);break;case Gi:e.x=e.x<0?0:1;break;case If:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Vc:e.y=e.y-Math.floor(e.y);break;case Gi:e.y=e.y<0?0:1;break;case If:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}qn.DEFAULT_IMAGE=null;qn.DEFAULT_MAPPING=Hc;qn.DEFAULT_ANISOTROPY=1;class Gn{constructor(e=0,t=0,n=0,i=1){Gn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i+a[12]*s,this.y=a[1]*t+a[5]*n+a[9]*i+a[13]*s,this.z=a[2]*t+a[6]*n+a[10]*i+a[14]*s,this.w=a[3]*t+a[7]*n+a[11]*i+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,s;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],m=l[5],v=l[9],y=l[2],w=l[6],b=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-y)<.01&&Math.abs(v-w)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+y)<.1&&Math.abs(v+w)<.1&&Math.abs(c+m+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(c+1)/2,E=(m+1)/2,T=(b+1)/2,R=(u+f)/4,P=(d+y)/4,k=(v+w)/4;return M>E&&M>T?M<.01?(n=0,i=.707106781,s=.707106781):(n=Math.sqrt(M),i=R/n,s=P/n):E>T?E<.01?(n=.707106781,i=0,s=.707106781):(i=Math.sqrt(E),n=R/i,s=k/i):T<.01?(n=.707106781,i=.707106781,s=0):(s=Math.sqrt(T),n=P/s,i=k/s),this.set(n,i,s,t),this}let S=Math.sqrt((w-v)*(w-v)+(d-y)*(d-y)+(f-u)*(f-u));return Math.abs(S)<.001&&(S=1),this.x=(w-v)/S,this.y=(d-y)/S,this.z=(f-u)/S,this.w=Math.acos((c+m+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this.z=xn(this.z,e.z,t.z),this.w=xn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this.z=xn(this.z,e,t),this.w=xn(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ly extends Go{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Gn(0,0,e,t),this.scissorTest=!1,this.viewport=new Gn(0,0,e,t);const i={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:jn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const s=new qn(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);s.flipY=!1,s.generateMipmaps=n.generateMipmaps,s.internalFormat=n.internalFormat,this.textures=[];const a=n.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const t=Object.assign({},e.texture.image);return this.texture.source=new uh(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ts extends ly{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class Ag extends qn{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Qi,this.minFilter=Qi,this.wrapR=Gi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class tz extends ts{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Ag(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class cy extends qn{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Qi,this.minFilter=Qi,this.wrapR=Gi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class nz extends ts{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new cy(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class fr{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,s,a,o){let l=n[i+0],c=n[i+1],u=n[i+2],d=n[i+3];const f=s[a+0],m=s[a+1],v=s[a+2],y=s[a+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(o===1){e[t+0]=f,e[t+1]=m,e[t+2]=v,e[t+3]=y;return}if(d!==y||l!==f||c!==m||u!==v){let w=1-o;const b=l*f+c*m+u*v+d*y,S=b>=0?1:-1,M=1-b*b;if(M>Number.EPSILON){const T=Math.sqrt(M),R=Math.atan2(T,b*S);w=Math.sin(w*R)/T,o=Math.sin(o*R)/T}const E=o*S;if(l=l*w+f*E,c=c*w+m*E,u=u*w+v*E,d=d*w+y*E,w===1-o){const T=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=T,c*=T,u*=T,d*=T}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,n,i,s,a){const o=n[i],l=n[i+1],c=n[i+2],u=n[i+3],d=s[a],f=s[a+1],m=s[a+2],v=s[a+3];return e[t]=o*v+u*d+l*m-c*f,e[t+1]=l*v+u*f+c*d-o*m,e[t+2]=c*v+u*m+o*f-l*d,e[t+3]=u*v-o*d-l*f-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(n/2),u=o(i/2),d=o(s/2),f=l(n/2),m=l(i/2),v=l(s/2);switch(a){case"XYZ":this._x=f*u*d+c*m*v,this._y=c*m*d-f*u*v,this._z=c*u*v+f*m*d,this._w=c*u*d-f*m*v;break;case"YXZ":this._x=f*u*d+c*m*v,this._y=c*m*d-f*u*v,this._z=c*u*v-f*m*d,this._w=c*u*d+f*m*v;break;case"ZXY":this._x=f*u*d-c*m*v,this._y=c*m*d+f*u*v,this._z=c*u*v+f*m*d,this._w=c*u*d-f*m*v;break;case"ZYX":this._x=f*u*d-c*m*v,this._y=c*m*d+f*u*v,this._z=c*u*v-f*m*d,this._w=c*u*d+f*m*v;break;case"YZX":this._x=f*u*d+c*m*v,this._y=c*m*d+f*u*v,this._z=c*u*v-f*m*d,this._w=c*u*d-f*m*v;break;case"XZY":this._x=f*u*d-c*m*v,this._y=c*m*d-f*u*v,this._z=c*u*v+f*m*d,this._w=c*u*d+f*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],s=t[8],a=t[1],o=t[5],l=t[9],c=t[2],u=t[6],d=t[10],f=n+o+d;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(a-i)*m}else if(n>o&&n>d){const m=2*Math.sqrt(1+n-o-d);this._w=(u-l)/m,this._x=.25*m,this._y=(i+a)/m,this._z=(s+c)/m}else if(o>d){const m=2*Math.sqrt(1+o-n-d);this._w=(s-c)/m,this._x=(i+a)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-n-o);this._w=(a-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(xn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,s=e._z,a=e._w,o=t._x,l=t._y,c=t._z,u=t._w;return this._x=n*u+a*o+i*c-s*l,this._y=i*u+a*l+s*o-n*c,this._z=s*u+a*c+n*l-i*o,this._w=a*u-n*o-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,s=this._z,a=this._w;let o=a*e._w+n*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=i,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const m=1-t;return this._w=m*a+t*this._w,this._x=m*n+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),d=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=a*d+this._w*f,this._x=n*d+this._x*f,this._y=i*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),s=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ${constructor(e=0,t=0,n=0){$.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(o2.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(o2.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*i,this.y=s[1]*t+s[4]*n+s[7]*i,this.z=s[2]*t+s[5]*n+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,s=e.elements,a=1/(s[3]*t+s[7]*n+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*i+s[12])*a,this.y=(s[1]*t+s[5]*n+s[9]*i+s[13])*a,this.z=(s[2]*t+s[6]*n+s[10]*i+s[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*i-o*n),u=2*(o*t-s*i),d=2*(s*n-a*t);return this.x=t+l*c+a*d-o*u,this.y=n+l*u+o*c-s*d,this.z=i+l*d+s*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i,this.y=s[1]*t+s[5]*n+s[9]*i,this.z=s[2]*t+s[6]*n+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this.z=xn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this.z=xn(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=i*l-s*o,this.y=s*a-n*l,this.z=n*o-i*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return $b.copy(this).projectOnVector(e),this.sub($b)}reflect(e){return this.sub($b.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(xn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const $b=new $,o2=new fr;class _r{constructor(e=new $(1/0,1/0,1/0),t=new $(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Qa.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Qa.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Qa.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const s=n.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,Qa):Qa.fromBufferAttribute(s,a),Qa.applyMatrix4(e.matrixWorld),this.expandByPoint(Qa);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Dx.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),Dx.copy(n.boundingBox)),Dx.applyMatrix4(e.matrixWorld),this.union(Dx)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Qa),Qa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Zp),Fx.subVectors(this.max,Zp),zd.subVectors(e.a,Zp),Hd.subVectors(e.b,Zp),Gd.subVectors(e.c,Zp),vc.subVectors(Hd,zd),yc.subVectors(Gd,Hd),Du.subVectors(zd,Gd);let t=[0,-vc.z,vc.y,0,-yc.z,yc.y,0,-Du.z,Du.y,vc.z,0,-vc.x,yc.z,0,-yc.x,Du.z,0,-Du.x,-vc.y,vc.x,0,-yc.y,yc.x,0,-Du.y,Du.x,0];return!e1(t,zd,Hd,Gd,Fx)||(t=[1,0,0,0,1,0,0,0,1],!e1(t,zd,Hd,Gd,Fx))?!1:(Nx.crossVectors(vc,yc),t=[Nx.x,Nx.y,Nx.z],e1(t,zd,Hd,Gd,Fx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Qa).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Qa).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Al[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Al[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Al[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Al[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Al[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Al[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Al[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Al[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Al),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Al=[new $,new $,new $,new $,new $,new $,new $,new $],Qa=new $,Dx=new _r,zd=new $,Hd=new $,Gd=new $,vc=new $,yc=new $,Du=new $,Zp=new $,Fx=new $,Nx=new $,Fu=new $;function e1(r,e,t,n,i){for(let s=0,a=r.length-3;s<=a;s+=3){Fu.fromArray(r,s);const o=i.x*Math.abs(Fu.x)+i.y*Math.abs(Fu.y)+i.z*Math.abs(Fu.z),l=e.dot(Fu),c=t.dot(Fu),u=n.dot(Fu);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const iz=new _r,qp=new $,t1=new $;class Mr{constructor(e=new $,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):iz.setFromPoints(e).getCenter(n);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;qp.subVectors(e,this.center);const t=qp.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(qp,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(t1.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(qp.copy(e.center).add(t1)),this.expandByPoint(qp.copy(e.center).sub(t1))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Sl=new $,n1=new $,Ox=new $,bc=new $,i1=new $,Ux=new $,r1=new $;class jf{constructor(e=new $,t=new $(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Sl)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Sl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Sl.copy(this.origin).addScaledVector(this.direction,t),Sl.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){n1.copy(e).add(t).multiplyScalar(.5),Ox.copy(t).sub(e).normalize(),bc.copy(this.origin).sub(n1);const s=e.distanceTo(t)*.5,a=-this.direction.dot(Ox),o=bc.dot(this.direction),l=-bc.dot(Ox),c=bc.lengthSq(),u=Math.abs(1-a*a);let d,f,m,v;if(u>0)if(d=a*l-o,f=a*o-l,v=s*u,d>=0)if(f>=-v)if(f<=v){const y=1/u;d*=y,f*=y,m=d*(d+a*f+2*o)+f*(a*d+f+2*l)+c}else f=s,d=Math.max(0,-(a*f+o)),m=-d*d+f*(f+2*l)+c;else f=-s,d=Math.max(0,-(a*f+o)),m=-d*d+f*(f+2*l)+c;else f<=-v?(d=Math.max(0,-(-a*s+o)),f=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+c):f<=v?(d=0,f=Math.min(Math.max(-s,-l),s),m=f*(f+2*l)+c):(d=Math.max(0,-(a*s+o)),f=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+c);else f=a>0?-s:s,d=Math.max(0,-(a*f+o)),m=-d*d+f*(f+2*l)+c;return n&&n.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(n1).addScaledVector(Ox,f),m}intersectSphere(e,t){Sl.subVectors(e.center,this.origin);const n=Sl.dot(this.direction),i=Sl.dot(Sl)-n*n,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=n-a,l=n+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,s,a,o,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(n=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(n=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,a=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,a=(e.min.y-f.y)*u),n>a||s>i||((s>n||isNaN(n))&&(n=s),(a<i||isNaN(i))&&(i=a),d>=0?(o=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(o=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),n>l||o>i)||((o>n||n!==n)&&(n=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,Sl)!==null}intersectTriangle(e,t,n,i,s){i1.subVectors(t,e),Ux.subVectors(n,e),r1.crossVectors(i1,Ux);let a=this.direction.dot(r1),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;bc.subVectors(this.origin,e);const l=o*this.direction.dot(Ux.crossVectors(bc,Ux));if(l<0)return null;const c=o*this.direction.dot(i1.cross(bc));if(c<0||l+c>a)return null;const u=-o*bc.dot(r1);return u<0?null:this.at(u/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Kt{constructor(e,t,n,i,s,a,o,l,c,u,d,f,m,v,y,w){Kt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,i,s,a,o,l,c,u,d,f,m,v,y,w)}set(e,t,n,i,s,a,o,l,c,u,d,f,m,v,y,w){const b=this.elements;return b[0]=e,b[4]=t,b[8]=n,b[12]=i,b[1]=s,b[5]=a,b[9]=o,b[13]=l,b[2]=c,b[6]=u,b[10]=d,b[14]=f,b[3]=m,b[7]=v,b[11]=y,b[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Kt().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/Vd.setFromMatrixColumn(e,0).length(),s=1/Vd.setFromMatrixColumn(e,1).length(),a=1/Vd.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,s=e.z,a=Math.cos(n),o=Math.sin(n),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const f=a*u,m=a*d,v=o*u,y=o*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=m+v*c,t[5]=f-y*c,t[9]=-o*l,t[2]=y-f*c,t[6]=v+m*c,t[10]=a*l}else if(e.order==="YXZ"){const f=l*u,m=l*d,v=c*u,y=c*d;t[0]=f+y*o,t[4]=v*o-m,t[8]=a*c,t[1]=a*d,t[5]=a*u,t[9]=-o,t[2]=m*o-v,t[6]=y+f*o,t[10]=a*l}else if(e.order==="ZXY"){const f=l*u,m=l*d,v=c*u,y=c*d;t[0]=f-y*o,t[4]=-a*d,t[8]=v+m*o,t[1]=m+v*o,t[5]=a*u,t[9]=y-f*o,t[2]=-a*c,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const f=a*u,m=a*d,v=o*u,y=o*d;t[0]=l*u,t[4]=v*c-m,t[8]=f*c+y,t[1]=l*d,t[5]=y*c+f,t[9]=m*c-v,t[2]=-c,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const f=a*l,m=a*c,v=o*l,y=o*c;t[0]=l*u,t[4]=y-f*d,t[8]=v*d+m,t[1]=d,t[5]=a*u,t[9]=-o*u,t[2]=-c*u,t[6]=m*d+v,t[10]=f-y*d}else if(e.order==="XZY"){const f=a*l,m=a*c,v=o*l,y=o*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=f*d+y,t[5]=a*u,t[9]=m*d-v,t[2]=v*d-m,t[6]=o*u,t[10]=y*d+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(rz,e,sz)}lookAt(e,t,n){const i=this.elements;return qs.subVectors(e,t),qs.lengthSq()===0&&(qs.z=1),qs.normalize(),wc.crossVectors(n,qs),wc.lengthSq()===0&&(Math.abs(n.z)===1?qs.x+=1e-4:qs.z+=1e-4,qs.normalize(),wc.crossVectors(n,qs)),wc.normalize(),zx.crossVectors(qs,wc),i[0]=wc.x,i[4]=zx.x,i[8]=qs.x,i[1]=wc.y,i[5]=zx.y,i[9]=qs.y,i[2]=wc.z,i[6]=zx.z,i[10]=qs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,s=this.elements,a=n[0],o=n[4],l=n[8],c=n[12],u=n[1],d=n[5],f=n[9],m=n[13],v=n[2],y=n[6],w=n[10],b=n[14],S=n[3],M=n[7],E=n[11],T=n[15],R=i[0],P=i[4],k=i[8],B=i[12],D=i[1],O=i[5],V=i[9],X=i[13],K=i[2],ie=i[6],ee=i[10],ae=i[14],z=i[3],Q=i[7],Z=i[11],Y=i[15];return s[0]=a*R+o*D+l*K+c*z,s[4]=a*P+o*O+l*ie+c*Q,s[8]=a*k+o*V+l*ee+c*Z,s[12]=a*B+o*X+l*ae+c*Y,s[1]=u*R+d*D+f*K+m*z,s[5]=u*P+d*O+f*ie+m*Q,s[9]=u*k+d*V+f*ee+m*Z,s[13]=u*B+d*X+f*ae+m*Y,s[2]=v*R+y*D+w*K+b*z,s[6]=v*P+y*O+w*ie+b*Q,s[10]=v*k+y*V+w*ee+b*Z,s[14]=v*B+y*X+w*ae+b*Y,s[3]=S*R+M*D+E*K+T*z,s[7]=S*P+M*O+E*ie+T*Q,s[11]=S*k+M*V+E*ee+T*Z,s[15]=S*B+M*X+E*ae+T*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],m=e[14],v=e[3],y=e[7],w=e[11],b=e[15];return v*(+s*l*d-i*c*d-s*o*f+n*c*f+i*o*m-n*l*m)+y*(+t*l*m-t*c*f+s*a*f-i*a*m+i*c*u-s*l*u)+w*(+t*c*d-t*o*m-s*a*d+n*a*m+s*o*u-n*c*u)+b*(-i*o*u-t*l*d+t*o*f+i*a*d-n*a*f+n*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],m=e[11],v=e[12],y=e[13],w=e[14],b=e[15],S=d*w*c-y*f*c+y*l*m-o*w*m-d*l*b+o*f*b,M=v*f*c-u*w*c-v*l*m+a*w*m+u*l*b-a*f*b,E=u*y*c-v*d*c+v*o*m-a*y*m-u*o*b+a*d*b,T=v*d*l-u*y*l-v*o*f+a*y*f+u*o*w-a*d*w,R=t*S+n*M+i*E+s*T;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/R;return e[0]=S*P,e[1]=(y*f*s-d*w*s-y*i*m+n*w*m+d*i*b-n*f*b)*P,e[2]=(o*w*s-y*l*s+y*i*c-n*w*c-o*i*b+n*l*b)*P,e[3]=(d*l*s-o*f*s-d*i*c+n*f*c+o*i*m-n*l*m)*P,e[4]=M*P,e[5]=(u*w*s-v*f*s+v*i*m-t*w*m-u*i*b+t*f*b)*P,e[6]=(v*l*s-a*w*s-v*i*c+t*w*c+a*i*b-t*l*b)*P,e[7]=(a*f*s-u*l*s+u*i*c-t*f*c-a*i*m+t*l*m)*P,e[8]=E*P,e[9]=(v*d*s-u*y*s-v*n*m+t*y*m+u*n*b-t*d*b)*P,e[10]=(a*y*s-v*o*s+v*n*c-t*y*c-a*n*b+t*o*b)*P,e[11]=(u*o*s-a*d*s-u*n*c+t*d*c+a*n*m-t*o*m)*P,e[12]=T*P,e[13]=(u*y*i-v*d*i+v*n*f-t*y*f-u*n*w+t*d*w)*P,e[14]=(v*o*i-a*y*i-v*n*l+t*y*l+a*n*w-t*o*w)*P,e[15]=(a*d*i-u*o*i+u*n*l-t*d*l-a*n*f+t*o*f)*P,this}scale(e){const t=this.elements,n=e.x,i=e.y,s=e.z;return t[0]*=n,t[4]*=i,t[8]*=s,t[1]*=n,t[5]*=i,t[9]*=s,t[2]*=n,t[6]*=i,t[10]*=s,t[3]*=n,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),s=1-n,a=e.x,o=e.y,l=e.z,c=s*a,u=s*o;return this.set(c*a+n,c*o-i*l,c*l+i*o,0,c*o+i*l,u*o+n,u*l-i*a,0,c*l-i*o,u*l+i*a,s*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,s,a){return this.set(1,n,s,0,e,1,a,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,c=s+s,u=a+a,d=o+o,f=s*c,m=s*u,v=s*d,y=a*u,w=a*d,b=o*d,S=l*c,M=l*u,E=l*d,T=n.x,R=n.y,P=n.z;return i[0]=(1-(y+b))*T,i[1]=(m+E)*T,i[2]=(v-M)*T,i[3]=0,i[4]=(m-E)*R,i[5]=(1-(f+b))*R,i[6]=(w+S)*R,i[7]=0,i[8]=(v+M)*P,i[9]=(w-S)*P,i[10]=(1-(f+y))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let s=Vd.set(i[0],i[1],i[2]).length();const a=Vd.set(i[4],i[5],i[6]).length(),o=Vd.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],$a.copy(this);const c=1/s,u=1/a,d=1/o;return $a.elements[0]*=c,$a.elements[1]*=c,$a.elements[2]*=c,$a.elements[4]*=u,$a.elements[5]*=u,$a.elements[6]*=u,$a.elements[8]*=d,$a.elements[9]*=d,$a.elements[10]*=d,t.setFromRotationMatrix($a),n.x=s,n.y=a,n.z=o,this}makePerspective(e,t,n,i,s,a,o=oo){const l=this.elements,c=2*s/(t-e),u=2*s/(n-i),d=(t+e)/(t-e),f=(n+i)/(n-i);let m,v;if(o===oo)m=-(a+s)/(a-s),v=-2*a*s/(a-s);else if(o===qm)m=-a/(a-s),v=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,i,s,a,o=oo){const l=this.elements,c=1/(t-e),u=1/(n-i),d=1/(a-s),f=(t+e)*c,m=(n+i)*u;let v,y;if(o===oo)v=(a+s)*d,y=-2*d;else if(o===qm)v=s*d,y=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=y,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Vd=new $,$a=new Kt,rz=new $(0,0,0),sz=new $(1,1,1),wc=new $,zx=new $,qs=new $,l2=new Kt,c2=new fr;class ia{constructor(e=0,t=0,n=0,i=ia.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(xn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-xn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(xn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-xn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(xn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(o,m));break;case"XZY":this._z=Math.asin(-xn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return l2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(l2,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return c2.setFromEuler(this),this.setFromQuaternion(c2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ia.DEFAULT_ORDER="XYZ";class bh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let az=0;const u2=new $,Wd=new fr,_l=new Kt,Hx=new $,Qp=new $,oz=new $,lz=new fr,h2=new $(1,0,0),d2=new $(0,1,0),f2=new $(0,0,1),p2={type:"added"},cz={type:"removed"},Xd={type:"childadded",child:null},s1={type:"childremoved",child:null};class Bn extends Go{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:az++}),this.uuid=ta(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bn.DEFAULT_UP.clone();const e=new $,t=new ia,n=new fr,i=new $(1,1,1);function s(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Kt},normalMatrix:{value:new bn}}),this.matrix=new Kt,this.matrixWorld=new Kt,this.matrixAutoUpdate=Bn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Bn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new bh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Wd.setFromAxisAngle(e,t),this.quaternion.multiply(Wd),this}rotateOnWorldAxis(e,t){return Wd.setFromAxisAngle(e,t),this.quaternion.premultiply(Wd),this}rotateX(e){return this.rotateOnAxis(h2,e)}rotateY(e){return this.rotateOnAxis(d2,e)}rotateZ(e){return this.rotateOnAxis(f2,e)}translateOnAxis(e,t){return u2.copy(e).applyQuaternion(this.quaternion),this.position.add(u2.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(h2,e)}translateY(e){return this.translateOnAxis(d2,e)}translateZ(e){return this.translateOnAxis(f2,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(_l.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Hx.copy(e):Hx.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Qp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_l.lookAt(Qp,Hx,this.up):_l.lookAt(Hx,Qp,this.up),this.quaternion.setFromRotationMatrix(_l),i&&(_l.extractRotation(i.matrixWorld),Wd.setFromRotationMatrix(_l),this.quaternion.premultiply(Wd.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(p2),Xd.child=e,this.dispatchEvent(Xd),Xd.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(cz),s1.child=e,this.dispatchEvent(s1),s1.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),_l.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_l.multiply(e.parent.matrixWorld)),e.applyMatrix4(_l),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(p2),Xd.child=e,this.dispatchEvent(Xd),Xd.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const a=this.children[n].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qp,e,oz),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qp,lz,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),d=a(e.shapes),f=a(e.skeletons),m=a(e.animations),v=a(e.nodes);o.length>0&&(n.geometries=o),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),u.length>0&&(n.images=u),d.length>0&&(n.shapes=d),f.length>0&&(n.skeletons=f),m.length>0&&(n.animations=m),v.length>0&&(n.nodes=v)}return n.object=i,n;function a(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}Bn.DEFAULT_UP=new $(0,1,0);Bn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const eo=new $,Ml=new $,a1=new $,Cl=new $,Yd=new $,jd=new $,m2=new $,o1=new $,l1=new $,c1=new $,u1=new Gn,h1=new Gn,d1=new Gn;class Os{constructor(e=new $,t=new $,n=new $){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),eo.subVectors(e,t),i.cross(eo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,n,i,s){eo.subVectors(i,t),Ml.subVectors(n,t),a1.subVectors(e,t);const a=eo.dot(eo),o=eo.dot(Ml),l=eo.dot(a1),c=Ml.dot(Ml),u=Ml.dot(a1),d=a*c-o*o;if(d===0)return s.set(0,0,0),null;const f=1/d,m=(c*l-o*u)*f,v=(a*u-o*l)*f;return s.set(1-m-v,v,m)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Cl)===null?!1:Cl.x>=0&&Cl.y>=0&&Cl.x+Cl.y<=1}static getInterpolation(e,t,n,i,s,a,o,l){return this.getBarycoord(e,t,n,i,Cl)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Cl.x),l.addScaledVector(a,Cl.y),l.addScaledVector(o,Cl.z),l)}static getInterpolatedAttribute(e,t,n,i,s,a){return u1.setScalar(0),h1.setScalar(0),d1.setScalar(0),u1.fromBufferAttribute(e,t),h1.fromBufferAttribute(e,n),d1.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(u1,s.x),a.addScaledVector(h1,s.y),a.addScaledVector(d1,s.z),a}static isFrontFacing(e,t,n,i){return eo.subVectors(n,t),Ml.subVectors(e,t),eo.cross(Ml).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return eo.subVectors(this.c,this.b),Ml.subVectors(this.a,this.b),eo.cross(Ml).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Os.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Os.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,s){return Os.getInterpolation(e,this.a,this.b,this.c,t,n,i,s)}containsPoint(e){return Os.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Os.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,s=this.c;let a,o;Yd.subVectors(i,n),jd.subVectors(s,n),o1.subVectors(e,n);const l=Yd.dot(o1),c=jd.dot(o1);if(l<=0&&c<=0)return t.copy(n);l1.subVectors(e,i);const u=Yd.dot(l1),d=jd.dot(l1);if(u>=0&&d<=u)return t.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return a=l/(l-u),t.copy(n).addScaledVector(Yd,a);c1.subVectors(e,s);const m=Yd.dot(c1),v=jd.dot(c1);if(v>=0&&m<=v)return t.copy(s);const y=m*c-l*v;if(y<=0&&c>=0&&v<=0)return o=c/(c-v),t.copy(n).addScaledVector(jd,o);const w=u*v-m*d;if(w<=0&&d-u>=0&&m-v>=0)return m2.subVectors(s,i),o=(d-u)/(d-u+(m-v)),t.copy(i).addScaledVector(m2,o);const b=1/(w+y+f);return a=y*b,o=f*b,t.copy(n).addScaledVector(Yd,a).addScaledVector(jd,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const IP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ac={h:0,s:0,l:0},Gx={h:0,s:0,l:0};function f1(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}class gt{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=xs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,On.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=On.workingColorSpace){return this.r=e,this.g=t,this.b=n,On.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=On.workingColorSpace){if(e=wS(e,1),t=xn(t,0,1),n=xn(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,a=2*n-s;this.r=f1(a,s,e+1/3),this.g=f1(a,s,e),this.b=f1(a,s,e-1/3)}return On.toWorkingColorSpace(this,i),this}setStyle(e,t=xs){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=xs){const n=IP[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Fl(e.r),this.g=Fl(e.g),this.b=Fl(e.b),this}copyLinearToSRGB(e){return this.r=wf(e.r),this.g=wf(e.g),this.b=wf(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=xs){return On.fromWorkingColorSpace(qr.copy(this),e),Math.round(xn(qr.r*255,0,255))*65536+Math.round(xn(qr.g*255,0,255))*256+Math.round(xn(qr.b*255,0,255))}getHexString(e=xs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=On.workingColorSpace){On.fromWorkingColorSpace(qr.copy(this),t);const n=qr.r,i=qr.g,s=qr.b,a=Math.max(n,i,s),o=Math.min(n,i,s);let l,c;const u=(o+a)/2;if(o===a)l=0,c=0;else{const d=a-o;switch(c=u<=.5?d/(a+o):d/(2-a-o),a){case n:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-n)/d+2;break;case s:l=(n-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=On.workingColorSpace){return On.fromWorkingColorSpace(qr.copy(this),t),e.r=qr.r,e.g=qr.g,e.b=qr.b,e}getStyle(e=xs){On.fromWorkingColorSpace(qr.copy(this),e);const t=qr.r,n=qr.g,i=qr.b;return e!==xs?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(i*255)})`}offsetHSL(e,t,n){return this.getHSL(Ac),this.setHSL(Ac.h+e,Ac.s+t,Ac.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ac),e.getHSL(Gx);const n=Lm(Ac.h,Gx.h,t),i=Lm(Ac.s,Gx.s,t),s=Lm(Ac.l,Gx.l,t);return this.setHSL(n,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*n+s[6]*i,this.g=s[1]*t+s[4]*n+s[7]*i,this.b=s[2]*t+s[5]*n+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const qr=new gt;gt.NAMES=IP;let uz=0;class pr extends Go{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:uz++}),this.uuid=ta(),this.name="",this.type="Material",this.blending=xh,this.side=Oo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=sv,this.blendDst=av,this.blendEquation=Lc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new gt(0,0,0),this.blendAlpha=0,this.depthFunc=Mh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Zw,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=$u,this.stencilZFail=$u,this.stencilZPass=$u,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==xh&&(n.blending=this.blending),this.side!==Oo&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==sv&&(n.blendSrc=this.blendSrc),this.blendDst!==av&&(n.blendDst=this.blendDst),this.blendEquation!==Lc&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Mh&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Zw&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==$u&&(n.stencilFail=this.stencilFail),this.stencilZFail!==$u&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==$u&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=i(e.textures),a=i(e.images);s.length>0&&(n.textures=s),a.length>0&&(n.images=a)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let s=0;s!==i;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Us extends pr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new gt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ia,this.combine=vg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Il=hz();function hz(){const r=new ArrayBuffer(4),e=new Float32Array(r),t=new Uint32Array(r),n=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(n[l]=0,n[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(n[l]=1024>>-c-14,n[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(n[l]=c+15<<10,n[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(n[l]=31744,n[l|256]=64512,i[l]=24,i[l|256]=24):(n[l]=31744,n[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:o}}function Ns(r){Math.abs(r)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),r=xn(r,-65504,65504),Il.floatView[0]=r;const e=Il.uint32View[0],t=e>>23&511;return Il.baseTable[t]+((e&8388607)>>Il.shiftTable[t])}function xm(r){const e=r>>10;return Il.uint32View[0]=Il.mantissaTable[Il.offsetTable[e]+(r&1023)]+Il.exponentTable[e],Il.floatView[0]}const hh={toHalfFloat:Ns,fromHalfFloat:xm},Zi=new $,Vx=new Ke;let dz=0;class Vn{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:dz++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=Zm,this.updateRanges=[],this.gpuType=Ri,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Vx.fromBufferAttribute(this,t),Vx.applyMatrix3(e),this.setXY(t,Vx.x,Vx.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Zi.fromBufferAttribute(this,t),Zi.applyMatrix3(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Zi.fromBufferAttribute(this,t),Zi.applyMatrix4(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Zi.fromBufferAttribute(this,t),Zi.applyNormalMatrix(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Zi.fromBufferAttribute(this,t),Zi.transformDirection(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=ys(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ys(t,this.array)),t}setX(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ys(t,this.array)),t}setY(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ys(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ys(t,this.array)),t}setW(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),i=_n(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,s){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),i=_n(i,this.array),s=_n(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Zm&&(e.usage=this.usage),e}}class fz extends Vn{constructor(e,t,n){super(new Int8Array(e),t,n)}}class pz extends Vn{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class mz extends Vn{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class gz extends Vn{constructor(e,t,n){super(new Int16Array(e),t,n)}}class AS extends Vn{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class xz extends Vn{constructor(e,t,n){super(new Int32Array(e),t,n)}}class SS extends Vn{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class vz extends Vn{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=xm(this.array[e*this.itemSize]);return this.normalized&&(t=ys(t,this.array)),t}setX(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize]=Ns(t),this}getY(e){let t=xm(this.array[e*this.itemSize+1]);return this.normalized&&(t=ys(t,this.array)),t}setY(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+1]=Ns(t),this}getZ(e){let t=xm(this.array[e*this.itemSize+2]);return this.normalized&&(t=ys(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+2]=Ns(t),this}getW(e){let t=xm(this.array[e*this.itemSize+3]);return this.normalized&&(t=ys(t,this.array)),t}setW(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+3]=Ns(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array)),this.array[e+0]=Ns(t),this.array[e+1]=Ns(n),this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),i=_n(i,this.array)),this.array[e+0]=Ns(t),this.array[e+1]=Ns(n),this.array[e+2]=Ns(i),this}setXYZW(e,t,n,i,s){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),i=_n(i,this.array),s=_n(s,this.array)),this.array[e+0]=Ns(t),this.array[e+1]=Ns(n),this.array[e+2]=Ns(i),this.array[e+3]=Ns(s),this}}class Vt extends Vn{constructor(e,t,n){super(new Float32Array(e),t,n)}}let yz=0;const va=new Kt,p1=new Bn,Jd=new $,Qs=new _r,$p=new _r,Ar=new $;class wn extends Go{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:yz++}),this.uuid=ta(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(EP(e)?SS:AS)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new bn().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return va.makeRotationFromQuaternion(e),this.applyMatrix4(va),this}rotateX(e){return va.makeRotationX(e),this.applyMatrix4(va),this}rotateY(e){return va.makeRotationY(e),this.applyMatrix4(va),this}rotateZ(e){return va.makeRotationZ(e),this.applyMatrix4(va),this}translate(e,t,n){return va.makeTranslation(e,t,n),this.applyMatrix4(va),this}scale(e,t,n){return va.makeScale(e,t,n),this.applyMatrix4(va),this}lookAt(e){return p1.lookAt(e),p1.updateMatrix(),this.applyMatrix4(p1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Jd).negate(),this.translate(Jd.x,Jd.y,Jd.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let i=0,s=e.length;i<s;i++){const a=e[i];n.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Vt(n,3))}else{const n=Math.min(e.length,t.count);for(let i=0;i<n;i++){const s=e[i];t.setXYZ(i,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _r);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new $(-1/0,-1/0,-1/0),new $(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const s=t[n];Qs.setFromBufferAttribute(s),this.morphTargetsRelative?(Ar.addVectors(this.boundingBox.min,Qs.min),this.boundingBox.expandByPoint(Ar),Ar.addVectors(this.boundingBox.max,Qs.max),this.boundingBox.expandByPoint(Ar)):(this.boundingBox.expandByPoint(Qs.min),this.boundingBox.expandByPoint(Qs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Mr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new $,1/0);return}if(e){const n=this.boundingSphere.center;if(Qs.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];$p.setFromBufferAttribute(o),this.morphTargetsRelative?(Ar.addVectors(Qs.min,$p.min),Qs.expandByPoint(Ar),Ar.addVectors(Qs.max,$p.max),Qs.expandByPoint(Ar)):(Qs.expandByPoint($p.min),Qs.expandByPoint($p.max))}Qs.getCenter(n);let i=0;for(let s=0,a=e.count;s<a;s++)Ar.fromBufferAttribute(e,s),i=Math.max(i,n.distanceToSquared(Ar));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)Ar.fromBufferAttribute(o,c),l&&(Jd.fromBufferAttribute(e,c),Ar.add(Jd)),i=Math.max(i,n.distanceToSquared(Ar))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,i=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Vn(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let k=0;k<n.count;k++)o[k]=new $,l[k]=new $;const c=new $,u=new $,d=new $,f=new Ke,m=new Ke,v=new Ke,y=new $,w=new $;function b(k,B,D){c.fromBufferAttribute(n,k),u.fromBufferAttribute(n,B),d.fromBufferAttribute(n,D),f.fromBufferAttribute(s,k),m.fromBufferAttribute(s,B),v.fromBufferAttribute(s,D),u.sub(c),d.sub(c),m.sub(f),v.sub(f);const O=1/(m.x*v.y-v.x*m.y);isFinite(O)&&(y.copy(u).multiplyScalar(v.y).addScaledVector(d,-m.y).multiplyScalar(O),w.copy(d).multiplyScalar(m.x).addScaledVector(u,-v.x).multiplyScalar(O),o[k].add(y),o[B].add(y),o[D].add(y),l[k].add(w),l[B].add(w),l[D].add(w))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let k=0,B=S.length;k<B;++k){const D=S[k],O=D.start,V=D.count;for(let X=O,K=O+V;X<K;X+=3)b(e.getX(X+0),e.getX(X+1),e.getX(X+2))}const M=new $,E=new $,T=new $,R=new $;function P(k){T.fromBufferAttribute(i,k),R.copy(T);const B=o[k];M.copy(B),M.sub(T.multiplyScalar(T.dot(B))).normalize(),E.crossVectors(R,B);const O=E.dot(l[k])<0?-1:1;a.setXYZW(k,M.x,M.y,M.z,O)}for(let k=0,B=S.length;k<B;++k){const D=S[k],O=D.start,V=D.count;for(let X=O,K=O+V;X<K;X+=3)P(e.getX(X+0)),P(e.getX(X+1)),P(e.getX(X+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Vn(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let f=0,m=n.count;f<m;f++)n.setXYZ(f,0,0,0);const i=new $,s=new $,a=new $,o=new $,l=new $,c=new $,u=new $,d=new $;if(e)for(let f=0,m=e.count;f<m;f+=3){const v=e.getX(f+0),y=e.getX(f+1),w=e.getX(f+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),a.fromBufferAttribute(t,w),u.subVectors(a,s),d.subVectors(i,s),u.cross(d),o.fromBufferAttribute(n,v),l.fromBufferAttribute(n,y),c.fromBufferAttribute(n,w),o.add(u),l.add(u),c.add(u),n.setXYZ(v,o.x,o.y,o.z),n.setXYZ(y,l.x,l.y,l.z),n.setXYZ(w,c.x,c.y,c.z)}else for(let f=0,m=t.count;f<m;f+=3)i.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),a.fromBufferAttribute(t,f+2),u.subVectors(a,s),d.subVectors(i,s),u.cross(d),n.setXYZ(f+0,u.x,u.y,u.z),n.setXYZ(f+1,u.x,u.y,u.z),n.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ar.fromBufferAttribute(e,t),Ar.normalize(),e.setXYZ(t,Ar.x,Ar.y,Ar.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,d=o.normalized,f=new c.constructor(l.length*u);let m=0,v=0;for(let y=0,w=l.length;y<w;y++){o.isInterleavedBufferAttribute?m=l[y]*o.data.stride+o.offset:m=l[y]*u;for(let b=0;b<u;b++)f[v++]=c[m++]}return new Vn(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new wn,n=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,n);t.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let u=0,d=c.length;u<d;u++){const f=c[u],m=e(f,n);l.push(m)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n){const c=n[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let f=0,m=d.length;f<m;f++)u.push(d[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const g2=new Kt,Nu=new jf,Wx=new Mr,x2=new $,Xx=new $,Yx=new $,jx=new $,m1=new $,Jx=new $,v2=new $,Kx=new $;class yi extends Bn{constructor(e=new wn,t=new Us){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,s=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){Jx.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=o[l],d=s[l];u!==0&&(m1.fromBufferAttribute(d,e),a?Jx.addScaledVector(m1,u):Jx.addScaledVector(m1.sub(t),u))}t.add(Jx)}return t}raycast(e,t){const n=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),Wx.copy(n.boundingSphere),Wx.applyMatrix4(s),Nu.copy(e.ray).recast(e.near),!(Wx.containsPoint(Nu.origin)===!1&&(Nu.intersectSphere(Wx,x2)===null||Nu.origin.distanceToSquared(x2)>(e.far-e.near)**2))&&(g2.copy(s).invert(),Nu.copy(e.ray).applyMatrix4(g2),!(n.boundingBox!==null&&Nu.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,Nu)))}_computeIntersections(e,t,n){let i;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,f=s.groups,m=s.drawRange;if(o!==null)if(Array.isArray(a))for(let v=0,y=f.length;v<y;v++){const w=f[v],b=a[w.materialIndex],S=Math.max(w.start,m.start),M=Math.min(o.count,Math.min(w.start+w.count,m.start+m.count));for(let E=S,T=M;E<T;E+=3){const R=o.getX(E),P=o.getX(E+1),k=o.getX(E+2);i=Zx(this,b,e,n,c,u,d,R,P,k),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=w.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),y=Math.min(o.count,m.start+m.count);for(let w=v,b=y;w<b;w+=3){const S=o.getX(w),M=o.getX(w+1),E=o.getX(w+2);i=Zx(this,a,e,n,c,u,d,S,M,E),i&&(i.faceIndex=Math.floor(w/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let v=0,y=f.length;v<y;v++){const w=f[v],b=a[w.materialIndex],S=Math.max(w.start,m.start),M=Math.min(l.count,Math.min(w.start+w.count,m.start+m.count));for(let E=S,T=M;E<T;E+=3){const R=E,P=E+1,k=E+2;i=Zx(this,b,e,n,c,u,d,R,P,k),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=w.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let w=v,b=y;w<b;w+=3){const S=w,M=w+1,E=w+2;i=Zx(this,a,e,n,c,u,d,S,M,E),i&&(i.faceIndex=Math.floor(w/3),t.push(i))}}}}function bz(r,e,t,n,i,s,a,o){let l;if(e.side===ws?l=n.intersectTriangle(a,s,i,!0,o):l=n.intersectTriangle(i,s,a,e.side===Oo,o),l===null)return null;Kx.copy(o),Kx.applyMatrix4(r.matrixWorld);const c=t.ray.origin.distanceTo(Kx);return c<t.near||c>t.far?null:{distance:c,point:Kx.clone(),object:r}}function Zx(r,e,t,n,i,s,a,o,l,c){r.getVertexPosition(o,Xx),r.getVertexPosition(l,Yx),r.getVertexPosition(c,jx);const u=bz(r,e,t,n,Xx,Yx,jx,v2);if(u){const d=new $;Os.getBarycoord(v2,Xx,Yx,jx,d),i&&(u.uv=Os.getInterpolatedAttribute(i,o,l,c,d,new Ke)),s&&(u.uv1=Os.getInterpolatedAttribute(s,o,l,c,d,new Ke)),a&&(u.normal=Os.getInterpolatedAttribute(a,o,l,c,d,new $),u.normal.dot(n.direction)>0&&u.normal.multiplyScalar(-1));const f={a:o,b:l,c,normal:new $,materialIndex:0};Os.getNormal(Xx,Yx,jx,f.normal),u.face=f,u.barycoord=d}return u}class Dh extends wn{constructor(e=1,t=1,n=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],u=[],d=[];let f=0,m=0;v("z","y","x",-1,-1,n,t,e,a,s,0),v("z","y","x",1,-1,n,t,-e,a,s,1),v("x","z","y",1,1,e,n,t,i,a,2),v("x","z","y",1,-1,e,n,-t,i,a,3),v("x","y","z",1,-1,e,t,n,i,s,4),v("x","y","z",-1,-1,e,t,-n,i,s,5),this.setIndex(l),this.setAttribute("position",new Vt(c,3)),this.setAttribute("normal",new Vt(u,3)),this.setAttribute("uv",new Vt(d,2));function v(y,w,b,S,M,E,T,R,P,k,B){const D=E/P,O=T/k,V=E/2,X=T/2,K=R/2,ie=P+1,ee=k+1;let ae=0,z=0;const Q=new $;for(let Z=0;Z<ee;Z++){const Y=Z*O-X;for(let oe=0;oe<ie;oe++){const Pe=oe*D-V;Q[y]=Pe*S,Q[w]=Y*M,Q[b]=K,c.push(Q.x,Q.y,Q.z),Q[y]=0,Q[w]=0,Q[b]=R>0?1:-1,u.push(Q.x,Q.y,Q.z),d.push(oe/P),d.push(1-Z/k),ae+=1}}for(let Z=0;Z<k;Z++)for(let Y=0;Y<P;Y++){const oe=f+Y+ie*Z,Pe=f+Y+ie*(Z+1),fe=f+(Y+1)+ie*(Z+1),Ce=f+(Y+1)+ie*Z;l.push(oe,Pe,Ce),l.push(Pe,fe,Ce),z+=6}o.addGroup(m,z,B),m+=z,f+=ae}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Df(r){const e={};for(const t in r){e[t]={};for(const n in r[t]){const i=r[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function gs(r){const e={};for(let t=0;t<r.length;t++){const n=Df(r[t]);for(const i in n)e[i]=n[i]}return e}function wz(r){const e=[];for(let t=0;t<r.length;t++)e.push(r[t].clone());return e}function PP(r){const e=r.getRenderTarget();return e===null?r.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:On.workingColorSpace}const _S={clone:Df,merge:gs};var Az=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Sz=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class zr extends pr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Az,this.fragmentShader=Sz,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Df(e.uniforms),this.uniformsGroups=wz(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?t.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[i]={type:"m4",value:a.toArray()}:t.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Sg extends Bn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Kt,this.projectionMatrix=new Kt,this.projectionMatrixInverse=new Kt,this.coordinateSystem=oo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Sc=new $,y2=new Ke,b2=new Ke;class ur extends Sg{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Bf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(yh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Bf*2*Math.atan(Math.tan(yh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Sc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Sc.x,Sc.y).multiplyScalar(-e/Sc.z),Sc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Sc.x,Sc.y).multiplyScalar(-e/Sc.z)}getViewSize(e,t){return this.getViewBounds(e,y2,b2),t.subVectors(b2,y2)}setViewOffset(e,t,n,i,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(yh*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*i/l,t-=a.offsetY*n/c,i*=a.width/l,n*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Kd=-90,Zd=1;class kP extends Bn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new ur(Kd,Zd,e,t);i.layers=this.layers,this.add(i);const s=new ur(Kd,Zd,e,t);s.layers=this.layers,this.add(s);const a=new ur(Kd,Zd,e,t);a.layers=this.layers,this.add(a);const o=new ur(Kd,Zd,e,t);o.layers=this.layers,this.add(o);const l=new ur(Kd,Zd,e,t);l.layers=this.layers,this.add(l);const c=new ur(Kd,Zd,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,s,a,o,l]=t;for(const c of t)this.remove(c);if(e===oo)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===qm)n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const y=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,s),e.setRenderTarget(n,1,i),e.render(t,a),e.setRenderTarget(n,2,i),e.render(t,o),e.setRenderTarget(n,3,i),e.render(t,l),e.setRenderTarget(n,4,i),e.render(t,c),n.texture.generateMipmaps=y,e.setRenderTarget(n,5,i),e.render(t,u),e.setRenderTarget(d,f,m),e.xr.enabled=v,n.texture.needsPMREMUpdate=!0}}class _g extends qn{constructor(e,t,n,i,s,a,o,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Uo,super(e,t,n,i,s,a,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class MS extends ts{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new _g(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:jn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Dh(5,5,5),s=new zr({name:"CubemapFromEquirect",uniforms:Df(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:ws,blending:Bo});s.uniforms.tEquirect.value=t;const a=new yi(i,s),o=t.minFilter;return t.minFilter===Ca&&(t.minFilter=jn),new kP(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,i){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,i);e.setRenderTarget(s)}}class kl extends Bn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _z={type:"move"};class V0{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new kl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new kl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new kl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const y of e.hand.values()){const w=t.getJointPose(y,n),b=this._getHandJoint(c,y);w!==null&&(b.matrix.fromArray(w.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=w.radius),b.visible=w!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),m=.02,v=.005;c.inputState.pinching&&f>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,n),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(_z)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new kl;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class uy{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new gt(e),this.density=t}clone(){return new uy(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class hy{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new gt(e),this.near=t,this.far=n}clone(){return new hy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Mg extends Bn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ia,this.environmentIntensity=1,this.environmentRotation=new ia,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Cg{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Zm,this.updateRanges=[],this.version=0,this.uuid=ta()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ta()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ta()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ms=new $;class Wc{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)ms.fromBufferAttribute(this,t),ms.applyMatrix4(e),this.setXYZ(t,ms.x,ms.y,ms.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ms.fromBufferAttribute(this,t),ms.applyNormalMatrix(e),this.setXYZ(t,ms.x,ms.y,ms.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ms.fromBufferAttribute(this,t),ms.transformDirection(e),this.setXYZ(t,ms.x,ms.y,ms.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=ys(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=_n(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ys(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ys(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ys(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ys(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),i=_n(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),i=_n(i,this.array),s=_n(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Vn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Wc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class CS extends pr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new gt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let qd;const em=new $,Qd=new $,$d=new $,ef=new Ke,tm=new Ke,LP=new Kt,qx=new $,nm=new $,Qx=new $,w2=new Ke,g1=new Ke,A2=new Ke;class BP extends Bn{constructor(e=new CS){if(super(),this.isSprite=!0,this.type="Sprite",qd===void 0){qd=new wn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Cg(t,5);qd.setIndex([0,1,2,0,2,3]),qd.setAttribute("position",new Wc(n,3,0,!1)),qd.setAttribute("uv",new Wc(n,2,3,!1))}this.geometry=qd,this.material=e,this.center=new Ke(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Qd.setFromMatrixScale(this.matrixWorld),LP.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),$d.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Qd.multiplyScalar(-$d.z);const n=this.material.rotation;let i,s;n!==0&&(s=Math.cos(n),i=Math.sin(n));const a=this.center;$x(qx.set(-.5,-.5,0),$d,a,Qd,i,s),$x(nm.set(.5,-.5,0),$d,a,Qd,i,s),$x(Qx.set(.5,.5,0),$d,a,Qd,i,s),w2.set(0,0),g1.set(1,0),A2.set(1,1);let o=e.ray.intersectTriangle(qx,nm,Qx,!1,em);if(o===null&&($x(nm.set(-.5,.5,0),$d,a,Qd,i,s),g1.set(0,1),o=e.ray.intersectTriangle(qx,Qx,nm,!1,em),o===null))return;const l=e.ray.origin.distanceTo(em);l<e.near||l>e.far||t.push({distance:l,point:em.clone(),uv:Os.getInterpolation(em,qx,nm,Qx,w2,g1,A2,new Ke),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function $x(r,e,t,n,i,s){ef.subVectors(r,t).addScalar(.5).multiply(n),i!==void 0?(tm.x=s*ef.x-i*ef.y,tm.y=i*ef.x+s*ef.y):tm.copy(ef),r.copy(e),r.x+=tm.x,r.y+=tm.y,r.applyMatrix4(LP)}const e0=new $,S2=new $;class DP extends Bn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const s=t[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const i=t.splice(n,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),e<s)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){e0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(e0);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){e0.setFromMatrixPosition(e.matrixWorld),S2.setFromMatrixPosition(this.matrixWorld);const n=e0.distanceTo(S2)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),n>=a)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,s=n.length;i<s;i++){const a=n[i];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const _2=new $,M2=new Gn,C2=new Gn,Mz=new $,E2=new Kt,t0=new $,x1=new Mr,T2=new Kt,v1=new jf;class ES extends yi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Jw,this.bindMatrix=new Kt,this.bindMatrixInverse=new Kt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new _r),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,t0),this.boundingBox.expandByPoint(t0)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Mr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,t0),this.boundingSphere.expandByPoint(t0)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),x1.copy(this.boundingSphere),x1.applyMatrix4(i),e.ray.intersectsSphere(x1)!==!1&&(T2.copy(i).invert(),v1.copy(e.ray).applyMatrix4(T2),!(this.boundingBox!==null&&v1.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,v1)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Gn,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Jw?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===dP?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;M2.fromBufferAttribute(i.attributes.skinIndex,e),C2.fromBufferAttribute(i.attributes.skinWeight,e),_2.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=C2.getComponent(s);if(a!==0){const o=M2.getComponent(s);E2.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(Mz.copy(_2).applyMatrix4(E2),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class dy extends Bn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class co extends qn{constructor(e=null,t=1,n=1,i,s,a,o,l,c=Qi,u=Qi,d,f){super(null,a,o,l,c,u,i,s,d,f),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const R2=new Kt,Cz=new Kt;class Eg{constructor(e=[],t=[]){this.uuid=ta(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Kt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Kt;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:Cz;R2.multiplyMatrices(o,t[s]),R2.toArray(n,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Eg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new co(t,e,e,Vi,Ri);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const s=e.bones[n];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new dy),this.bones.push(a),this.boneInverses.push(new Kt().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const a=t[i];e.bones.push(a.uuid);const o=n[i];e.boneInverses.push(o.toArray())}return e}}class Th extends Vn{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const tf=new Kt,I2=new Kt,n0=[],P2=new _r,Ez=new Kt,im=new yi,rm=new Mr;class TS extends yi{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Th(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,Ez)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new _r),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,tf),P2.copy(e.boundingBox).applyMatrix4(tf),this.boundingBox.union(P2)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Mr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,tf),rm.copy(e.boundingSphere).applyMatrix4(tf),this.boundingSphere.union(rm)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,s=n.length+1,a=e*s+1;for(let o=0;o<n.length;o++)n[o]=i[a+o]}raycast(e,t){const n=this.matrixWorld,i=this.count;if(im.geometry=this.geometry,im.material=this.material,im.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),rm.copy(this.boundingSphere),rm.applyMatrix4(n),e.ray.intersectsSphere(rm)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,tf),I2.multiplyMatrices(n,tf),im.matrixWorld=I2,im.raycast(e,n0);for(let a=0,o=n0.length;a<o;a++){const l=n0[a];l.instanceId=s,l.object=this,t.push(l)}n0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Th(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,i=n.length+1;this.morphTexture===null&&(this.morphTexture=new co(new Float32Array(i*this.count),i,this.count,bg,Ri));const s=this.morphTexture.source.data.data;let a=0;for(let c=0;c<n.length;c++)a+=n[c];const o=this.geometry.morphTargetsRelative?1:1-a,l=i*e;s[l]=o,s.set(n,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const y1=new $,Tz=new $,Rz=new bn;class Ic{constructor(e=new $(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=y1.subVectors(n,t).cross(Tz.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(y1),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(n,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Rz.getNormalMatrix(e),i=this.coplanarPoint(y1).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ou=new Mr,i0=new $;class Tg{constructor(e=new Ic,t=new Ic,n=new Ic,i=new Ic,s=new Ic,a=new Ic){this.planes=[e,t,n,i,s,a]}set(e,t,n,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=oo){const n=this.planes,i=e.elements,s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],m=i[8],v=i[9],y=i[10],w=i[11],b=i[12],S=i[13],M=i[14],E=i[15];if(n[0].setComponents(l-s,f-c,w-m,E-b).normalize(),n[1].setComponents(l+s,f+c,w+m,E+b).normalize(),n[2].setComponents(l+a,f+u,w+v,E+S).normalize(),n[3].setComponents(l-a,f-u,w-v,E-S).normalize(),n[4].setComponents(l-o,f-d,w-y,E-M).normalize(),t===oo)n[5].setComponents(l+o,f+d,w+y,E+M).normalize();else if(t===qm)n[5].setComponents(o,d,y,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ou.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Ou.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ou)}intersectsSprite(e){return Ou.center.set(0,0,0),Ou.radius=.7071067811865476,Ou.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ou)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(i0.x=i.normal.x>0?e.max.x:e.min.x,i0.y=i.normal.y>0?e.max.y:e.min.y,i0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(i0)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function b1(r,e){return r-e}function Iz(r,e){return r.z-e.z}function Pz(r,e){return e.z-r.z}class kz{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,i){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=n,o.index=i}reset(){this.list.length=0,this.index=0}}const Fs=new Kt,Lz=new gt(1,1,1),w1=new Tg,r0=new _r,Uu=new Mr,sm=new $,k2=new $,Bz=new $,A1=new kz,Qr=new yi,s0=[];function Dz(r,e,t=0){const n=e.itemSize;if(r.isInterleavedBufferAttribute||r.array.constructor!==e.array.constructor){const i=r.count;for(let s=0;s<i;s++)for(let a=0;a<n;a++)e.setComponent(s+t,a,r.getComponent(s,a))}else e.array.set(r.array,t*n);e.needsUpdate=!0}function zu(r,e){if(r.constructor!==e.constructor){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++)e[n]=r[n]}else{const t=Math.min(r.length,e.length);e.set(new r.constructor(r.buffer,0,t))}}class FP extends yi{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,t,n=t*2,i){super(new wn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new co(t,e,e,Vi,Ri);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new co(t,e,e,wg,zo);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new co(t,e,e,Vi,Ri);n.colorSpace=On.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:c}=a,u=new o.constructor(n*l),d=new Vn(u,l,c);t.setAttribute(s,d)}if(e.getIndex()!==null){const s=n>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Vn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const i=e.getAttribute(n),s=t.getAttribute(n);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _r);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(t[n].active===!1)continue;const s=t[n].geometryIndex;this.getMatrixAt(n,Fs),this.getBoundingBoxAt(s,r0).applyMatrix4(Fs),e.union(r0)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Mr);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(t[n].active===!1)continue;const s=t[n].geometryIndex;this.getMatrixAt(n,Fs),this.getBoundingSphereAt(s,Uu).applyMatrix4(Fs),e.union(Uu)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(b1),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=n):(i=this._instanceInfo.length,this._instanceInfo.push(n));const s=this._matricesTexture;Fs.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(Lz.toArray(a.image.data,i*4),a.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=n===-1?a.count:n),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(b1),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,i=n.getIndex()!==null,s=n.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(i&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const u in n.attributes){const d=t.getAttribute(u),f=n.getAttribute(u);Dz(d,f,l);const m=d.itemSize;for(let v=d.count,y=c;v<y;v++){const w=l+v;for(let b=0;b<m;b++)f.setComponent(w,b,0)}f.needsUpdate=!0,f.addUpdateRange(l*m,c*m)}if(i){const u=o.indexStart,d=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let f=0;f<a.count;f++)s.setX(u+f,l+a.getX(f));for(let f=a.count,m=d;f<m;f++)s.setX(u+f,l);s.needsUpdate=!0,s.addUpdateRange(u,o.reservedIndexCount)}return o.start=i?o.indexStart:o.vertexStart,o.count=i?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let i=0,s=n.length;i<s;i++)n[i].active&&n[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,i=n.map((a,o)=>o).sort((a,o)=>n[a].vertexStart-n[o].vertexStart),s=this.geometry;for(let a=0,o=n.length;a<o;a++){const l=i[a],c=n[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==t){const{indexStart:u,vertexStart:d,reservedIndexCount:f}=c,m=s.index,v=m.array,y=e-d;for(let w=u;w<u+f;w++)v[w]=v[w]+y;m.array.copyWithin(t,u,u+f),m.addUpdateRange(t,f),c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:d}=c,f=s.attributes;for(const m in f){const v=f[m],{array:y,itemSize:w}=v;y.copyWithin(e*w,u*w,(u+d)*w),v.addUpdateRange(e*w,d*w)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new _r,a=n.index,o=n.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let u=l;a&&(u=a.getX(u)),s.expandByPoint(sm.fromBufferAttribute(o,u))}i.boundingBox=s}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new Mr;this.getBoundingBoxAt(e,r0),r0.getCenter(s.center);const a=n.index,o=n.attributes.position;let l=0;for(let c=i.start,u=i.start+i.count;c<u;c++){let d=c;a&&(d=a.getX(d)),sm.fromBufferAttribute(o,d),l=Math.max(l,s.center.distanceToSquared(sm))}s.radius=Math.sqrt(l),i.boundingSphere=s}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(b1);t[t.length-1]===n.length;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);zu(this._multiDrawCounts,i),zu(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),zu(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),zu(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),zu(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...n.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new wn,this._initializeGeometry(s));const a=this.geometry;s.index&&zu(s.index.array,a.index.array);for(const o in s.attributes)zu(s.attributes[o].array,a.attributes[o].array)}raycast(e,t){const n=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,a=this.geometry;Qr.material=this.material,Qr.geometry.index=a.index,Qr.geometry.attributes=a.attributes,Qr.geometry.boundingBox===null&&(Qr.geometry.boundingBox=new _r),Qr.geometry.boundingSphere===null&&(Qr.geometry.boundingSphere=new Mr);for(let o=0,l=n.length;o<l;o++){if(!n[o].visible||!n[o].active)continue;const c=n[o].geometryIndex,u=i[c];Qr.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(o,Qr.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,Qr.geometry.boundingBox),this.getBoundingSphereAt(c,Qr.geometry.boundingSphere),Qr.raycast(e,s0);for(let d=0,f=s0.length;d<f;d++){const m=s0[d];m.object=this,m.batchId=o,t.push(m)}s0.length=0}Qr.material=null,Qr.geometry.index=null,Qr.geometry.attributes={},Qr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,n,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,d=this._geometryInfo,f=this.perObjectFrustumCulled,m=this._indirectTexture,v=m.image.data;f&&(Fs.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),w1.setFromProjectionMatrix(Fs,e.coordinateSystem));let y=0;if(this.sortObjects){Fs.copy(this.matrixWorld).invert(),sm.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Fs),k2.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Fs);for(let S=0,M=l.length;S<M;S++)if(l[S].visible&&l[S].active){const E=l[S].geometryIndex;this.getMatrixAt(S,Fs),this.getBoundingSphereAt(E,Uu).applyMatrix4(Fs);let T=!1;if(f&&(T=!w1.intersectsSphere(Uu)),!T){const R=d[E],P=Bz.subVectors(Uu.center,sm).dot(k2);A1.push(R.start,R.count,P,S)}}const w=A1.list,b=this.customSort;b===null?w.sort(s.transparent?Pz:Iz):b.call(this,w,n);for(let S=0,M=w.length;S<M;S++){const E=w[S];c[y]=E.start*o,u[y]=E.count,v[y]=E.index,y++}A1.reset()}else for(let w=0,b=l.length;w<b;w++)if(l[w].visible&&l[w].active){const S=l[w].geometryIndex;let M=!1;if(f&&(this.getMatrixAt(w,Fs),this.getBoundingSphereAt(S,Uu).applyMatrix4(Fs),M=!w1.intersectsSphere(Uu)),!M){const E=d[S];c[y]=E.start*o,u[y]=E.count,v[y]=w,y++}}m.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,t,n,i,s,a){this.onBeforeRender(e,null,i,s,a)}}class ns extends pr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new gt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Hv=new $,Gv=new $,L2=new Kt,am=new jf,a0=new Mr,S1=new $,B2=new $;class Ol extends Bn{constructor(e=new wn,t=new ns){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,s=t.count;i<s;i++)Hv.fromBufferAttribute(t,i-1),Gv.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=Hv.distanceTo(Gv);e.setAttribute("lineDistance",new Vt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),a0.copy(n.boundingSphere),a0.applyMatrix4(i),a0.radius+=s,e.ray.intersectsSphere(a0)===!1)return;L2.copy(i).invert(),am.copy(e.ray).applyMatrix4(L2);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,u=n.index,f=n.attributes.position;if(u!==null){const m=Math.max(0,a.start),v=Math.min(u.count,a.start+a.count);for(let y=m,w=v-1;y<w;y+=c){const b=u.getX(y),S=u.getX(y+1),M=o0(this,e,am,l,b,S,y);M&&t.push(M)}if(this.isLineLoop){const y=u.getX(v-1),w=u.getX(m),b=o0(this,e,am,l,y,w,v-1);b&&t.push(b)}}else{const m=Math.max(0,a.start),v=Math.min(f.count,a.start+a.count);for(let y=m,w=v-1;y<w;y+=c){const b=o0(this,e,am,l,y,y+1,y);b&&t.push(b)}if(this.isLineLoop){const y=o0(this,e,am,l,v-1,m,v-1);y&&t.push(y)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function o0(r,e,t,n,i,s,a){const o=r.geometry.attributes.position;if(Hv.fromBufferAttribute(o,i),Gv.fromBufferAttribute(o,s),t.distanceSqToSegment(Hv,Gv,S1,B2)>n)return;S1.applyMatrix4(r.matrixWorld);const c=e.ray.origin.distanceTo(S1);if(!(c<e.near||c>e.far))return{distance:c,point:B2.clone().applyMatrix4(r.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:r}}const D2=new $,F2=new $;class ho extends Ol{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,s=t.count;i<s;i+=2)D2.fromBufferAttribute(t,i),F2.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+D2.distanceTo(F2);e.setAttribute("lineDistance",new Vt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class RS extends Ol{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class fy extends pr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new gt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const N2=new Kt,Qw=new jf,l0=new Mr,c0=new $;class IS extends Bn{constructor(e=new wn,t=new fy){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),l0.copy(n.boundingSphere),l0.applyMatrix4(i),l0.radius+=s,e.ray.intersectsSphere(l0)===!1)return;N2.copy(i).invert(),Qw.copy(e.ray).applyMatrix4(N2);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=n.index,d=n.attributes.position;if(c!==null){const f=Math.max(0,a.start),m=Math.min(c.count,a.start+a.count);for(let v=f,y=m;v<y;v++){const w=c.getX(v);c0.fromBufferAttribute(d,w),O2(c0,w,l,i,e,t,this)}}else{const f=Math.max(0,a.start),m=Math.min(d.count,a.start+a.count);for(let v=f,y=m;v<y;v++)c0.fromBufferAttribute(d,v),O2(c0,v,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function O2(r,e,t,n,i,s,a){const o=Qw.distanceSqToPoint(r);if(o<t){const l=new $;Qw.closestPointToPoint(r,l),l.applyMatrix4(n);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class NP extends qn{constructor(e,t,n,i,s,a,o,l,c){super(e,t,n,i,s,a,o,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:jn,this.magFilter=s!==void 0?s:jn,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Fz extends NP{constructor(e,t,n,i,s,a,o,l){super({},e,t,n,i,s,a,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Nz extends qn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Qi,this.minFilter=Qi,this.generateMipmaps=!1,this.needsUpdate=!0}}class py extends qn{constructor(e,t,n,i,s,a,o,l,c,u,d,f){super(null,a,o,l,c,u,i,s,d,f),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Oz extends py{constructor(e,t,n,i,s,a){super(e,t,n,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Gi,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Uz extends py{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Uo),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class zz extends qn{constructor(e,t,n,i,s,a,o,l,c){super(e,t,n,i,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class PS extends qn{constructor(e,t,n,i,s,a,o,l,c,u=vh){if(u!==vh&&u!==Eh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&u===vh&&(n=zo),n===void 0&&u===Eh&&(n=Ch),super(null,i,s,a,o,l,u,n,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:Qi,this.minFilter=l!==void 0?l:Qi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class fo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),s+=n.distanceTo(i),t.push(s),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let i=0;const s=n.length;let a;t?a=t:a=e*n[s-1];let o=0,l=s-1,c;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),c=n[i]-a,c<0)o=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,n[i]===a)return i/(s-1);const u=n[i],f=n[i+1]-u,m=(a-u)/f;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),o=this.getPoint(s),l=t||(a.isVector2?new Ke:new $);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new $,i=[],s=[],a=[],o=new $,l=new Kt;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new $)}s[0]=new $,a[0]=new $;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,n.set(1,0,0)),d<=c&&(c=d,n.set(0,1,0)),f<=c&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),s[0].crossVectors(i[0],o),a[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),a[m]=a[m-1].clone(),o.crossVectors(i[m-1],i[m]),o.length()>Number.EPSILON){o.normalize();const v=Math.acos(xn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(o,v))}a[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(xn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(o.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),a[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class my extends fo{constructor(e=0,t=0,n=1,i=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new Ke){const n=t,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,m=c-this.aY;l=f*u-m*d+this.aX,c=f*d+m*u+this.aY}return n.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class OP extends my{constructor(e,t,n,i,s,a){super(e,t,n,n,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function kS(){let r=0,e=0,t=0,n=0;function i(s,a,o,l){r=s,e=o,t=-3*s+3*a-2*o-l,n=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,c){i(a,o,c*(o-s),c*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,c,u,d){let f=(a-s)/c-(o-s)/(c+u)+(o-a)/u,m=(o-a)/u-(l-a)/(u+d)+(l-o)/d;f*=u,m*=u,i(a,o,f,m)},calc:function(s){const a=s*s,o=a*s;return r+e*s+t*a+n*o}}}const u0=new $,_1=new kS,M1=new kS,C1=new kS;class UP extends fo{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new $){const n=t,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let c,u;this.closed||o>0?c=i[(o-1)%s]:(u0.subVectors(i[0],i[1]).add(i[0]),c=u0);const d=i[o%s],f=i[(o+1)%s];if(this.closed||o+2<s?u=i[(o+2)%s]:(u0.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=u0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(f),m),w=Math.pow(f.distanceToSquared(u),m);y<1e-4&&(y=1),v<1e-4&&(v=y),w<1e-4&&(w=y),_1.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,v,y,w),M1.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,v,y,w),C1.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,v,y,w)}else this.curveType==="catmullrom"&&(_1.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),M1.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),C1.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return n.set(_1.calc(l),M1.calc(l),C1.calc(l)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new $().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function U2(r,e,t,n,i){const s=(n-e)*.5,a=(i-t)*.5,o=r*r,l=r*o;return(2*t-2*n+s+a)*l+(-3*t+3*n-2*s-a)*o+s*r+t}function Hz(r,e){const t=1-r;return t*t*e}function Gz(r,e){return 2*(1-r)*r*e}function Vz(r,e){return r*r*e}function Bm(r,e,t,n){return Hz(r,e)+Gz(r,t)+Vz(r,n)}function Wz(r,e){const t=1-r;return t*t*t*e}function Xz(r,e){const t=1-r;return 3*t*t*r*e}function Yz(r,e){return 3*(1-r)*r*r*e}function jz(r,e){return r*r*r*e}function Dm(r,e,t,n,i){return Wz(r,e)+Xz(r,t)+Yz(r,n)+jz(r,i)}class LS extends fo{constructor(e=new Ke,t=new Ke,n=new Ke,i=new Ke){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Ke){const n=t,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return n.set(Dm(e,i.x,s.x,a.x,o.x),Dm(e,i.y,s.y,a.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class zP extends fo{constructor(e=new $,t=new $,n=new $,i=new $){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new $){const n=t,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return n.set(Dm(e,i.x,s.x,a.x,o.x),Dm(e,i.y,s.y,a.y,o.y),Dm(e,i.z,s.z,a.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class BS extends fo{constructor(e=new Ke,t=new Ke){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ke){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ke){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class HP extends fo{constructor(e=new $,t=new $){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new $){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new $){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DS extends fo{constructor(e=new Ke,t=new Ke,n=new Ke){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ke){const n=t,i=this.v0,s=this.v1,a=this.v2;return n.set(Bm(e,i.x,s.x,a.x),Bm(e,i.y,s.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FS extends fo{constructor(e=new $,t=new $,n=new $){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new $){const n=t,i=this.v0,s=this.v1,a=this.v2;return n.set(Bm(e,i.x,s.x,a.x),Bm(e,i.y,s.y,a.y),Bm(e,i.z,s.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NS extends fo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ke){const n=t,i=this.points,s=(i.length-1)*e,a=Math.floor(s),o=s-a,l=i[a===0?a:a-1],c=i[a],u=i[a>i.length-2?i.length-1:a+1],d=i[a>i.length-3?i.length-1:a+2];return n.set(U2(o,l.x,c.x,u.x,d.x),U2(o,l.y,c.y,u.y,d.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new Ke().fromArray(i))}return this}}var Vv=Object.freeze({__proto__:null,ArcCurve:OP,CatmullRomCurve3:UP,CubicBezierCurve:LS,CubicBezierCurve3:zP,EllipseCurve:my,LineCurve:BS,LineCurve3:HP,QuadraticBezierCurve:DS,QuadraticBezierCurve3:FS,SplineCurve:NS});class GP extends fo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Vv[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=n){const a=i[s]-n,o=this.curves[s],l=o.getLength(),c=l===0?0:1-a/l;return o.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];n&&n.equals(u)||(t.push(u),n=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new Vv[i.type]().fromJSON(i))}return this}}class $m extends GP{constructor(e){super(),this.type="Path",this.currentPoint=new Ke,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new BS(this.currentPoint.clone(),new Ke(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const s=new DS(this.currentPoint.clone(),new Ke(e,t),new Ke(n,i));return this.curves.push(s),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,s,a){const o=new LS(this.currentPoint.clone(),new Ke(e,t),new Ke(n,i),new Ke(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new NS(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,n,i,s,a),this}absarc(e,t,n,i,s,a){return this.absellipse(e,t,n,n,i,s,a),this}ellipse(e,t,n,i,s,a,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,n,i,s,a,o,l),this}absellipse(e,t,n,i,s,a,o,l){const c=new my(e,t,n,i,s,a,o,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Rg extends wn{constructor(e=[new Ke(0,-.5),new Ke(.5,0),new Ke(0,.5)],t=12,n=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=xn(i,0,Math.PI*2);const s=[],a=[],o=[],l=[],c=[],u=1/t,d=new $,f=new Ke,m=new $,v=new $,y=new $;let w=0,b=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:w=e[S+1].x-e[S].x,b=e[S+1].y-e[S].y,m.x=b*1,m.y=-w,m.z=b*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:w=e[S+1].x-e[S].x,b=e[S+1].y-e[S].y,m.x=b*1,m.y=-w,m.z=b*0,v.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(v)}for(let S=0;S<=t;S++){const M=n+S*u*i,E=Math.sin(M),T=Math.cos(M);for(let R=0;R<=e.length-1;R++){d.x=e[R].x*E,d.y=e[R].y,d.z=e[R].x*T,a.push(d.x,d.y,d.z),f.x=S/t,f.y=R/(e.length-1),o.push(f.x,f.y);const P=l[3*R+0]*E,k=l[3*R+1],B=l[3*R+0]*T;c.push(P,k,B)}}for(let S=0;S<t;S++)for(let M=0;M<e.length-1;M++){const E=M+S*e.length,T=E,R=E+e.length,P=E+e.length+1,k=E+1;s.push(T,R,k),s.push(P,k,R)}this.setIndex(s),this.setAttribute("position",new Vt(a,3)),this.setAttribute("uv",new Vt(o,2)),this.setAttribute("normal",new Vt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rg(e.points,e.segments,e.phiStart,e.phiLength)}}class gy extends Rg{constructor(e=1,t=1,n=4,i=8){const s=new $m;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(n),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:i}}static fromJSON(e){return new gy(e.radius,e.length,e.capSegments,e.radialSegments)}}class xy extends wn{constructor(e=1,t=32,n=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const s=[],a=[],o=[],l=[],c=new $,u=new Ke;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=t;d++,f+=3){const m=n+d/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),a.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(a[f]/e+1)/2,u.y=(a[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Vt(a,3)),this.setAttribute("normal",new Vt(o,3)),this.setAttribute("uv",new Vt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xy(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Jf extends wn{constructor(e=1,t=1,n=1,i=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],d=[],f=[],m=[];let v=0;const y=[],w=n/2;let b=0;S(),a===!1&&(e>0&&M(!0),t>0&&M(!1)),this.setIndex(u),this.setAttribute("position",new Vt(d,3)),this.setAttribute("normal",new Vt(f,3)),this.setAttribute("uv",new Vt(m,2));function S(){const E=new $,T=new $;let R=0;const P=(t-e)/n;for(let k=0;k<=s;k++){const B=[],D=k/s,O=D*(t-e)+e;for(let V=0;V<=i;V++){const X=V/i,K=X*l+o,ie=Math.sin(K),ee=Math.cos(K);T.x=O*ie,T.y=-D*n+w,T.z=O*ee,d.push(T.x,T.y,T.z),E.set(ie,P,ee).normalize(),f.push(E.x,E.y,E.z),m.push(X,1-D),B.push(v++)}y.push(B)}for(let k=0;k<i;k++)for(let B=0;B<s;B++){const D=y[B][k],O=y[B+1][k],V=y[B+1][k+1],X=y[B][k+1];(e>0||B!==0)&&(u.push(D,O,X),R+=3),(t>0||B!==s-1)&&(u.push(O,V,X),R+=3)}c.addGroup(b,R,0),b+=R}function M(E){const T=v,R=new Ke,P=new $;let k=0;const B=E===!0?e:t,D=E===!0?1:-1;for(let V=1;V<=i;V++)d.push(0,w*D,0),f.push(0,D,0),m.push(.5,.5),v++;const O=v;for(let V=0;V<=i;V++){const K=V/i*l+o,ie=Math.cos(K),ee=Math.sin(K);P.x=B*ee,P.y=w*D,P.z=B*ie,d.push(P.x,P.y,P.z),f.push(0,D,0),R.x=ie*.5+.5,R.y=ee*.5*D+.5,m.push(R.x,R.y),v++}for(let V=0;V<i;V++){const X=T+V,K=O+V;E===!0?u.push(K,K+1,X):u.push(K+1,K,X),k+=3}c.addGroup(b,k,E===!0?1:2),b+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class vy extends Jf{constructor(e=1,t=1,n=32,i=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,n,i,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new vy(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class jc extends wn{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const s=[],a=[];o(i),c(n),u(),this.setAttribute("position",new Vt(s,3)),this.setAttribute("normal",new Vt(s.slice(),3)),this.setAttribute("uv",new Vt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(S){const M=new $,E=new $,T=new $;for(let R=0;R<t.length;R+=3)m(t[R+0],M),m(t[R+1],E),m(t[R+2],T),l(M,E,T,S)}function l(S,M,E,T){const R=T+1,P=[];for(let k=0;k<=R;k++){P[k]=[];const B=S.clone().lerp(E,k/R),D=M.clone().lerp(E,k/R),O=R-k;for(let V=0;V<=O;V++)V===0&&k===R?P[k][V]=B:P[k][V]=B.clone().lerp(D,V/O)}for(let k=0;k<R;k++)for(let B=0;B<2*(R-k)-1;B++){const D=Math.floor(B/2);B%2===0?(f(P[k][D+1]),f(P[k+1][D]),f(P[k][D])):(f(P[k][D+1]),f(P[k+1][D+1]),f(P[k+1][D]))}}function c(S){const M=new $;for(let E=0;E<s.length;E+=3)M.x=s[E+0],M.y=s[E+1],M.z=s[E+2],M.normalize().multiplyScalar(S),s[E+0]=M.x,s[E+1]=M.y,s[E+2]=M.z}function u(){const S=new $;for(let M=0;M<s.length;M+=3){S.x=s[M+0],S.y=s[M+1],S.z=s[M+2];const E=w(S)/2/Math.PI+.5,T=b(S)/Math.PI+.5;a.push(E,1-T)}v(),d()}function d(){for(let S=0;S<a.length;S+=6){const M=a[S+0],E=a[S+2],T=a[S+4],R=Math.max(M,E,T),P=Math.min(M,E,T);R>.9&&P<.1&&(M<.2&&(a[S+0]+=1),E<.2&&(a[S+2]+=1),T<.2&&(a[S+4]+=1))}}function f(S){s.push(S.x,S.y,S.z)}function m(S,M){const E=S*3;M.x=e[E+0],M.y=e[E+1],M.z=e[E+2]}function v(){const S=new $,M=new $,E=new $,T=new $,R=new Ke,P=new Ke,k=new Ke;for(let B=0,D=0;B<s.length;B+=9,D+=6){S.set(s[B+0],s[B+1],s[B+2]),M.set(s[B+3],s[B+4],s[B+5]),E.set(s[B+6],s[B+7],s[B+8]),R.set(a[D+0],a[D+1]),P.set(a[D+2],a[D+3]),k.set(a[D+4],a[D+5]),T.copy(S).add(M).add(E).divideScalar(3);const O=w(T);y(R,D+0,S,O),y(P,D+2,M,O),y(k,D+4,E,O)}}function y(S,M,E,T){T<0&&S.x===1&&(a[M]=S.x-1),E.x===0&&E.z===0&&(a[M]=T/2/Math.PI+.5)}function w(S){return Math.atan2(S.z,-S.x)}function b(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jc(e.vertices,e.indices,e.radius,e.details)}}class yy extends jc{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yy(e.radius,e.detail)}}const h0=new $,d0=new $,E1=new $,f0=new Os;class VP extends wn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(yh*t),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},m=[];for(let v=0;v<l;v+=3){a?(c[0]=a.getX(v),c[1]=a.getX(v+1),c[2]=a.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:y,b:w,c:b}=f0;if(y.fromBufferAttribute(o,c[0]),w.fromBufferAttribute(o,c[1]),b.fromBufferAttribute(o,c[2]),f0.getNormal(E1),d[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[1]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,d[2]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let S=0;S<3;S++){const M=(S+1)%3,E=d[S],T=d[M],R=f0[u[S]],P=f0[u[M]],k=`${E}_${T}`,B=`${T}_${E}`;B in f&&f[B]?(E1.dot(f[B].normal)<=s&&(m.push(R.x,R.y,R.z),m.push(P.x,P.y,P.z)),f[B]=null):k in f||(f[k]={index0:c[S],index1:c[M],normal:E1.clone()})}}for(const v in f)if(f[v]){const{index0:y,index1:w}=f[v];h0.fromBufferAttribute(o,y),d0.fromBufferAttribute(o,w),m.push(h0.x,h0.y,h0.z),m.push(d0.x,d0.y,d0.z)}this.setAttribute("position",new Vt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class wh extends $m{constructor(e){super(e),this.uuid=ta(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new $m().fromJSON(i))}return this}}const Jz={triangulate:function(r,e,t=2){const n=e&&e.length,i=n?e[0]*t:r.length;let s=WP(r,0,i,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c,u,d,f,m;if(n&&(s=$z(r,e,s,t)),r.length>80*t){o=c=r[0],l=u=r[1];for(let v=t;v<i;v+=t)d=r[v],f=r[v+1],d<o&&(o=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);m=Math.max(c-o,u-l),m=m!==0?32767/m:0}return eg(s,a,t,o,l,m,0),a}};function WP(r,e,t,n,i){let s,a;if(i===uH(r,e,t,n)>0)for(s=e;s<t;s+=n)a=z2(s,r[s],r[s+1],a);else for(s=t-n;s>=e;s-=n)a=z2(s,r[s],r[s+1],a);return a&&by(a,a.next)&&(ng(a),a=a.next),a}function Rh(r,e){if(!r)return r;e||(e=r);let t=r,n;do if(n=!1,!t.steiner&&(by(t,t.next)||Ti(t.prev,t,t.next)===0)){if(ng(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function eg(r,e,t,n,i,s,a){if(!r)return;!a&&s&&rH(r,n,i,s);let o=r,l,c;for(;r.prev!==r.next;){if(l=r.prev,c=r.next,s?Zz(r,n,i,s):Kz(r)){e.push(l.i/t|0),e.push(r.i/t|0),e.push(c.i/t|0),ng(r),r=c.next,o=c.next;continue}if(r=c,r===o){a?a===1?(r=qz(Rh(r),e,t),eg(r,e,t,n,i,s,2)):a===2&&Qz(r,e,t,n,i,s):eg(Rh(r),e,t,n,i,s,1);break}}}function Kz(r){const e=r.prev,t=r,n=r.next;if(Ti(e,t,n)>=0)return!1;const i=e.x,s=t.x,a=n.x,o=e.y,l=t.y,c=n.y,u=i<s?i<a?i:a:s<a?s:a,d=o<l?o<c?o:c:l<c?l:c,f=i>s?i>a?i:a:s>a?s:a,m=o>l?o>c?o:c:l>c?l:c;let v=n.next;for(;v!==e;){if(v.x>=u&&v.x<=f&&v.y>=d&&v.y<=m&&gf(i,o,s,l,a,c,v.x,v.y)&&Ti(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Zz(r,e,t,n){const i=r.prev,s=r,a=r.next;if(Ti(i,s,a)>=0)return!1;const o=i.x,l=s.x,c=a.x,u=i.y,d=s.y,f=a.y,m=o<l?o<c?o:c:l<c?l:c,v=u<d?u<f?u:f:d<f?d:f,y=o>l?o>c?o:c:l>c?l:c,w=u>d?u>f?u:f:d>f?d:f,b=$w(m,v,e,t,n),S=$w(y,w,e,t,n);let M=r.prevZ,E=r.nextZ;for(;M&&M.z>=b&&E&&E.z<=S;){if(M.x>=m&&M.x<=y&&M.y>=v&&M.y<=w&&M!==i&&M!==a&&gf(o,u,l,d,c,f,M.x,M.y)&&Ti(M.prev,M,M.next)>=0||(M=M.prevZ,E.x>=m&&E.x<=y&&E.y>=v&&E.y<=w&&E!==i&&E!==a&&gf(o,u,l,d,c,f,E.x,E.y)&&Ti(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;M&&M.z>=b;){if(M.x>=m&&M.x<=y&&M.y>=v&&M.y<=w&&M!==i&&M!==a&&gf(o,u,l,d,c,f,M.x,M.y)&&Ti(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;E&&E.z<=S;){if(E.x>=m&&E.x<=y&&E.y>=v&&E.y<=w&&E!==i&&E!==a&&gf(o,u,l,d,c,f,E.x,E.y)&&Ti(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function qz(r,e,t){let n=r;do{const i=n.prev,s=n.next.next;!by(i,s)&&XP(i,n,n.next,s)&&tg(i,s)&&tg(s,i)&&(e.push(i.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),ng(n),ng(n.next),n=r=s),n=n.next}while(n!==r);return Rh(n)}function Qz(r,e,t,n,i,s){let a=r;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&oH(a,o)){let l=YP(a,o);a=Rh(a,a.next),l=Rh(l,l.next),eg(a,e,t,n,i,s,0),eg(l,e,t,n,i,s,0);return}o=o.next}a=a.next}while(a!==r)}function $z(r,e,t,n){const i=[];let s,a,o,l,c;for(s=0,a=e.length;s<a;s++)o=e[s]*n,l=s<a-1?e[s+1]*n:r.length,c=WP(r,o,l,n,!1),c===c.next&&(c.steiner=!0),i.push(aH(c));for(i.sort(eH),s=0;s<i.length;s++)t=tH(i[s],t);return t}function eH(r,e){return r.x-e.x}function tH(r,e){const t=nH(r,e);if(!t)return e;const n=YP(t,r);return Rh(n,n.next),Rh(t,t.next)}function nH(r,e){let t=e,n=-1/0,i;const s=r.x,a=r.y;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const f=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=s&&f>n&&(n=f,i=t.x<t.next.x?t:t.next,f===s))return i}t=t.next}while(t!==e);if(!i)return null;const o=i,l=i.x,c=i.y;let u=1/0,d;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&gf(a<c?s:n,a,l,c,a<c?n:s,a,t.x,t.y)&&(d=Math.abs(a-t.y)/(s-t.x),tg(t,r)&&(d<u||d===u&&(t.x>i.x||t.x===i.x&&iH(i,t)))&&(i=t,u=d)),t=t.next;while(t!==o);return i}function iH(r,e){return Ti(r.prev,r,e.prev)<0&&Ti(e.next,r,r.next)<0}function rH(r,e,t,n){let i=r;do i.z===0&&(i.z=$w(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,sH(i)}function sH(r){let e,t,n,i,s,a,o,l,c=1;do{for(t=r,r=null,s=null,a=0;t;){for(a++,n=t,o=0,e=0;e<c&&(o++,n=n.nextZ,!!n);e++);for(l=c;o>0||l>0&&n;)o!==0&&(l===0||!n||t.z<=n.z)?(i=t,t=t.nextZ,o--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:r=i,i.prevZ=s,s=i;t=n}s.nextZ=null,c*=2}while(a>1);return r}function $w(r,e,t,n,i){return r=(r-t)*i|0,e=(e-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function aH(r){let e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function gf(r,e,t,n,i,s,a,o){return(i-a)*(e-o)>=(r-a)*(s-o)&&(r-a)*(n-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(i-a)*(n-o)}function oH(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!lH(r,e)&&(tg(r,e)&&tg(e,r)&&cH(r,e)&&(Ti(r.prev,r,e.prev)||Ti(r,e.prev,e))||by(r,e)&&Ti(r.prev,r,r.next)>0&&Ti(e.prev,e,e.next)>0)}function Ti(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function by(r,e){return r.x===e.x&&r.y===e.y}function XP(r,e,t,n){const i=m0(Ti(r,e,t)),s=m0(Ti(r,e,n)),a=m0(Ti(t,n,r)),o=m0(Ti(t,n,e));return!!(i!==s&&a!==o||i===0&&p0(r,t,e)||s===0&&p0(r,n,e)||a===0&&p0(t,r,n)||o===0&&p0(t,e,n))}function p0(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function m0(r){return r>0?1:r<0?-1:0}function lH(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&XP(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function tg(r,e){return Ti(r.prev,r,r.next)<0?Ti(r,e,r.next)>=0&&Ti(r,r.prev,e)>=0:Ti(r,e,r.prev)<0||Ti(r,r.next,e)<0}function cH(r,e){let t=r,n=!1;const i=(r.x+e.x)/2,s=(r.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function YP(r,e){const t=new eA(r.i,r.x,r.y),n=new eA(e.i,e.x,e.y),i=r.next,s=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function z2(r,e,t,n){const i=new eA(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function ng(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function eA(r,e,t){this.i=r,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function uH(r,e,t,n){let i=0;for(let s=e,a=t-n;s<t;s+=n)i+=(r[a]-r[s])*(r[s+1]+r[a+1]),a=s;return i}class Fo{static area(e){const t=e.length;let n=0;for(let i=t-1,s=0;s<t;i=s++)n+=e[i].x*e[s].y-e[s].x*e[i].y;return n*.5}static isClockWise(e){return Fo.area(e)<0}static triangulateShape(e,t){const n=[],i=[],s=[];H2(e),G2(n,e);let a=e.length;t.forEach(H2);for(let l=0;l<t.length;l++)i.push(a),a+=t[l].length,G2(n,t[l]);const o=Jz.triangulate(n,i);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function H2(r){const e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function G2(r,e){for(let t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y)}class wy extends wn{constructor(e=new wh([new Ke(.5,.5),new Ke(-.5,.5),new Ke(-.5,-.5),new Ke(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];a(c)}this.setAttribute("position",new Vt(i,3)),this.setAttribute("uv",new Vt(s,2)),this.computeVertexNormals();function a(o){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,w=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:hH;let M,E=!1,T,R,P,k;b&&(M=b.getSpacedPoints(u),E=!0,f=!1,T=b.computeFrenetFrames(u,!1),R=new $,P=new $,k=new $),f||(w=0,m=0,v=0,y=0);const B=o.extractPoints(c);let D=B.shape;const O=B.holes;if(!Fo.isClockWise(D)){D=D.reverse();for(let je=0,Fe=O.length;je<Fe;je++){const ne=O[je];Fo.isClockWise(ne)&&(O[je]=ne.reverse())}}const X=Fo.triangulateShape(D,O),K=D;for(let je=0,Fe=O.length;je<Fe;je++){const ne=O[je];D=D.concat(ne)}function ie(je,Fe,ne){return Fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),je.clone().addScaledVector(Fe,ne)}const ee=D.length,ae=X.length;function z(je,Fe,ne){let Bt,nt,Ct;const ot=je.x-Fe.x,Jt=je.y-Fe.y,dt=ne.x-je.x,te=ne.y-je.y,J=ot*ot+Jt*Jt,Me=ot*te-Jt*dt;if(Math.abs(Me)>Number.EPSILON){const Ge=Math.sqrt(J),Je=Math.sqrt(dt*dt+te*te),Ve=Fe.x-Jt/Ge,Dt=Fe.y+ot/Ge,pt=ne.x-te/Je,bt=ne.y+dt/Je,un=((pt-Ve)*te-(bt-Dt)*dt)/(ot*te-Jt*dt);Bt=Ve+ot*un-je.x,nt=Dt+Jt*un-je.y;const it=Bt*Bt+nt*nt;if(it<=2)return new Ke(Bt,nt);Ct=Math.sqrt(it/2)}else{let Ge=!1;ot>Number.EPSILON?dt>Number.EPSILON&&(Ge=!0):ot<-Number.EPSILON?dt<-Number.EPSILON&&(Ge=!0):Math.sign(Jt)===Math.sign(te)&&(Ge=!0),Ge?(Bt=-Jt,nt=ot,Ct=Math.sqrt(J)):(Bt=ot,nt=Jt,Ct=Math.sqrt(J/2))}return new Ke(Bt/Ct,nt/Ct)}const Q=[];for(let je=0,Fe=K.length,ne=Fe-1,Bt=je+1;je<Fe;je++,ne++,Bt++)ne===Fe&&(ne=0),Bt===Fe&&(Bt=0),Q[je]=z(K[je],K[ne],K[Bt]);const Z=[];let Y,oe=Q.concat();for(let je=0,Fe=O.length;je<Fe;je++){const ne=O[je];Y=[];for(let Bt=0,nt=ne.length,Ct=nt-1,ot=Bt+1;Bt<nt;Bt++,Ct++,ot++)Ct===nt&&(Ct=0),ot===nt&&(ot=0),Y[Bt]=z(ne[Bt],ne[Ct],ne[ot]);Z.push(Y),oe=oe.concat(Y)}for(let je=0;je<w;je++){const Fe=je/w,ne=m*Math.cos(Fe*Math.PI/2),Bt=v*Math.sin(Fe*Math.PI/2)+y;for(let nt=0,Ct=K.length;nt<Ct;nt++){const ot=ie(K[nt],Q[nt],Bt);Se(ot.x,ot.y,-ne)}for(let nt=0,Ct=O.length;nt<Ct;nt++){const ot=O[nt];Y=Z[nt];for(let Jt=0,dt=ot.length;Jt<dt;Jt++){const te=ie(ot[Jt],Y[Jt],Bt);Se(te.x,te.y,-ne)}}}const Pe=v+y;for(let je=0;je<ee;je++){const Fe=f?ie(D[je],oe[je],Pe):D[je];E?(P.copy(T.normals[0]).multiplyScalar(Fe.x),R.copy(T.binormals[0]).multiplyScalar(Fe.y),k.copy(M[0]).add(P).add(R),Se(k.x,k.y,k.z)):Se(Fe.x,Fe.y,0)}for(let je=1;je<=u;je++)for(let Fe=0;Fe<ee;Fe++){const ne=f?ie(D[Fe],oe[Fe],Pe):D[Fe];E?(P.copy(T.normals[je]).multiplyScalar(ne.x),R.copy(T.binormals[je]).multiplyScalar(ne.y),k.copy(M[je]).add(P).add(R),Se(k.x,k.y,k.z)):Se(ne.x,ne.y,d/u*je)}for(let je=w-1;je>=0;je--){const Fe=je/w,ne=m*Math.cos(Fe*Math.PI/2),Bt=v*Math.sin(Fe*Math.PI/2)+y;for(let nt=0,Ct=K.length;nt<Ct;nt++){const ot=ie(K[nt],Q[nt],Bt);Se(ot.x,ot.y,d+ne)}for(let nt=0,Ct=O.length;nt<Ct;nt++){const ot=O[nt];Y=Z[nt];for(let Jt=0,dt=ot.length;Jt<dt;Jt++){const te=ie(ot[Jt],Y[Jt],Bt);E?Se(te.x,te.y+M[u-1].y,M[u-1].x+ne):Se(te.x,te.y,d+ne)}}}fe(),Ce();function fe(){const je=i.length/3;if(f){let Fe=0,ne=ee*Fe;for(let Bt=0;Bt<ae;Bt++){const nt=X[Bt];He(nt[2]+ne,nt[1]+ne,nt[0]+ne)}Fe=u+w*2,ne=ee*Fe;for(let Bt=0;Bt<ae;Bt++){const nt=X[Bt];He(nt[0]+ne,nt[1]+ne,nt[2]+ne)}}else{for(let Fe=0;Fe<ae;Fe++){const ne=X[Fe];He(ne[2],ne[1],ne[0])}for(let Fe=0;Fe<ae;Fe++){const ne=X[Fe];He(ne[0]+ee*u,ne[1]+ee*u,ne[2]+ee*u)}}n.addGroup(je,i.length/3-je,0)}function Ce(){const je=i.length/3;let Fe=0;Ae(K,Fe),Fe+=K.length;for(let ne=0,Bt=O.length;ne<Bt;ne++){const nt=O[ne];Ae(nt,Fe),Fe+=nt.length}n.addGroup(je,i.length/3-je,1)}function Ae(je,Fe){let ne=je.length;for(;--ne>=0;){const Bt=ne;let nt=ne-1;nt<0&&(nt=je.length-1);for(let Ct=0,ot=u+w*2;Ct<ot;Ct++){const Jt=ee*Ct,dt=ee*(Ct+1),te=Fe+Bt+Jt,J=Fe+nt+Jt,Me=Fe+nt+dt,Ge=Fe+Bt+dt;ut(te,J,Me,Ge)}}}function Se(je,Fe,ne){l.push(je),l.push(Fe),l.push(ne)}function He(je,Fe,ne){tt(je),tt(Fe),tt(ne);const Bt=i.length/3,nt=S.generateTopUV(n,i,Bt-3,Bt-2,Bt-1);kt(nt[0]),kt(nt[1]),kt(nt[2])}function ut(je,Fe,ne,Bt){tt(je),tt(Fe),tt(Bt),tt(Fe),tt(ne),tt(Bt);const nt=i.length/3,Ct=S.generateSideWallUV(n,i,nt-6,nt-3,nt-2,nt-1);kt(Ct[0]),kt(Ct[1]),kt(Ct[3]),kt(Ct[1]),kt(Ct[2]),kt(Ct[3])}function tt(je){i.push(l[je*3+0]),i.push(l[je*3+1]),i.push(l[je*3+2])}function kt(je){s.push(je.x),s.push(je.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return dH(t,n,e)}static fromJSON(e,t){const n=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];n.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Vv[i.type]().fromJSON(i)),new wy(n,e.options)}}const hH={generateTopUV:function(r,e,t,n,i){const s=e[t*3],a=e[t*3+1],o=e[n*3],l=e[n*3+1],c=e[i*3],u=e[i*3+1];return[new Ke(s,a),new Ke(o,l),new Ke(c,u)]},generateSideWallUV:function(r,e,t,n,i,s){const a=e[t*3],o=e[t*3+1],l=e[t*3+2],c=e[n*3],u=e[n*3+1],d=e[n*3+2],f=e[i*3],m=e[i*3+1],v=e[i*3+2],y=e[s*3],w=e[s*3+1],b=e[s*3+2];return Math.abs(o-u)<Math.abs(a-c)?[new Ke(a,1-l),new Ke(c,1-d),new Ke(f,1-v),new Ke(y,1-b)]:[new Ke(o,1-l),new Ke(u,1-d),new Ke(m,1-v),new Ke(w,1-b)]}};function dH(r,e,t){if(t.shapes=[],Array.isArray(r))for(let n=0,i=r.length;n<i;n++){const s=r[n];t.shapes.push(s.uuid)}else t.shapes.push(r.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Ig extends jc{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ig(e.radius,e.detail)}}class Pg extends jc{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Pg(e.radius,e.detail)}}class Hl extends wn{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const s=e/2,a=t/2,o=Math.floor(n),l=Math.floor(i),c=o+1,u=l+1,d=e/o,f=t/l,m=[],v=[],y=[],w=[];for(let b=0;b<u;b++){const S=b*f-a;for(let M=0;M<c;M++){const E=M*d-s;v.push(E,-S,0),y.push(0,0,1),w.push(M/o),w.push(1-b/l)}}for(let b=0;b<l;b++)for(let S=0;S<o;S++){const M=S+c*b,E=S+c*(b+1),T=S+1+c*(b+1),R=S+1+c*b;m.push(M,E,R),m.push(E,T,R)}this.setIndex(m),this.setAttribute("position",new Vt(v,3)),this.setAttribute("normal",new Vt(y,3)),this.setAttribute("uv",new Vt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hl(e.width,e.height,e.widthSegments,e.heightSegments)}}class Ay extends wn{constructor(e=.5,t=1,n=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:s,thetaLength:a},n=Math.max(3,n),i=Math.max(1,i);const o=[],l=[],c=[],u=[];let d=e;const f=(t-e)/i,m=new $,v=new Ke;for(let y=0;y<=i;y++){for(let w=0;w<=n;w++){const b=s+w/n*a;m.x=d*Math.cos(b),m.y=d*Math.sin(b),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,u.push(v.x,v.y)}d+=f}for(let y=0;y<i;y++){const w=y*(n+1);for(let b=0;b<n;b++){const S=b+w,M=S,E=S+n+1,T=S+n+2,R=S+1;o.push(M,E,R),o.push(E,T,R)}}this.setIndex(o),this.setAttribute("position",new Vt(l,3)),this.setAttribute("normal",new Vt(c,3)),this.setAttribute("uv",new Vt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ay(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Sy extends wn{constructor(e=new wh([new Ke(0,.5),new Ke(-.5,-.5),new Ke(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(n),this.setAttribute("position",new Vt(i,3)),this.setAttribute("normal",new Vt(s,3)),this.setAttribute("uv",new Vt(a,2));function c(u){const d=i.length/3,f=u.extractPoints(t);let m=f.shape;const v=f.holes;Fo.isClockWise(m)===!1&&(m=m.reverse());for(let w=0,b=v.length;w<b;w++){const S=v[w];Fo.isClockWise(S)===!0&&(v[w]=S.reverse())}const y=Fo.triangulateShape(m,v);for(let w=0,b=v.length;w<b;w++){const S=v[w];m=m.concat(S)}for(let w=0,b=m.length;w<b;w++){const S=m[w];i.push(S.x,S.y,0),s.push(0,0,1),a.push(S.x,S.y)}for(let w=0,b=y.length;w<b;w++){const S=y[w],M=S[0]+d,E=S[1]+d,T=S[2]+d;n.push(M,E,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return fH(t,e)}static fromJSON(e,t){const n=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=t[e.shapes[i]];n.push(a)}return new Sy(n,e.curveSegments)}}function fH(r,e){if(e.shapes=[],Array.isArray(r))for(let t=0,n=r.length;t<n;t++){const i=r[t];e.shapes.push(i.uuid)}else e.shapes.push(r.uuid);return e}class kg extends wn{constructor(e=1,t=32,n=16,i=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const l=Math.min(a+o,Math.PI);let c=0;const u=[],d=new $,f=new $,m=[],v=[],y=[],w=[];for(let b=0;b<=n;b++){const S=[],M=b/n;let E=0;b===0&&a===0?E=.5/t:b===n&&l===Math.PI&&(E=-.5/t);for(let T=0;T<=t;T++){const R=T/t;d.x=-e*Math.cos(i+R*s)*Math.sin(a+M*o),d.y=e*Math.cos(a+M*o),d.z=e*Math.sin(i+R*s)*Math.sin(a+M*o),v.push(d.x,d.y,d.z),f.copy(d).normalize(),y.push(f.x,f.y,f.z),w.push(R+E,1-M),S.push(c++)}u.push(S)}for(let b=0;b<n;b++)for(let S=0;S<t;S++){const M=u[b][S+1],E=u[b][S],T=u[b+1][S],R=u[b+1][S+1];(b!==0||a>0)&&m.push(M,E,R),(b!==n-1||l<Math.PI)&&m.push(E,T,R)}this.setIndex(m),this.setAttribute("position",new Vt(v,3)),this.setAttribute("normal",new Vt(y,3)),this.setAttribute("uv",new Vt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class _y extends jc{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _y(e.radius,e.detail)}}class My extends wn{constructor(e=1,t=.4,n=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:s},n=Math.floor(n),i=Math.floor(i);const a=[],o=[],l=[],c=[],u=new $,d=new $,f=new $;for(let m=0;m<=n;m++)for(let v=0;v<=i;v++){const y=v/i*s,w=m/n*Math.PI*2;d.x=(e+t*Math.cos(w))*Math.cos(y),d.y=(e+t*Math.cos(w))*Math.sin(y),d.z=t*Math.sin(w),o.push(d.x,d.y,d.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(v/i),c.push(m/n)}for(let m=1;m<=n;m++)for(let v=1;v<=i;v++){const y=(i+1)*m+v-1,w=(i+1)*(m-1)+v-1,b=(i+1)*(m-1)+v,S=(i+1)*m+v;a.push(y,w,S),a.push(w,b,S)}this.setIndex(a),this.setAttribute("position",new Vt(o,3)),this.setAttribute("normal",new Vt(l,3)),this.setAttribute("uv",new Vt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new My(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Cy extends wn{constructor(e=1,t=.4,n=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:s,q:a},n=Math.floor(n),i=Math.floor(i);const o=[],l=[],c=[],u=[],d=new $,f=new $,m=new $,v=new $,y=new $,w=new $,b=new $;for(let M=0;M<=n;++M){const E=M/n*s*Math.PI*2;S(E,s,a,e,m),S(E+.01,s,a,e,v),w.subVectors(v,m),b.addVectors(v,m),y.crossVectors(w,b),b.crossVectors(y,w),y.normalize(),b.normalize();for(let T=0;T<=i;++T){const R=T/i*Math.PI*2,P=-t*Math.cos(R),k=t*Math.sin(R);d.x=m.x+(P*b.x+k*y.x),d.y=m.y+(P*b.y+k*y.y),d.z=m.z+(P*b.z+k*y.z),l.push(d.x,d.y,d.z),f.subVectors(d,m).normalize(),c.push(f.x,f.y,f.z),u.push(M/n),u.push(T/i)}}for(let M=1;M<=n;M++)for(let E=1;E<=i;E++){const T=(i+1)*(M-1)+(E-1),R=(i+1)*M+(E-1),P=(i+1)*M+E,k=(i+1)*(M-1)+E;o.push(T,R,k),o.push(R,P,k)}this.setIndex(o),this.setAttribute("position",new Vt(l,3)),this.setAttribute("normal",new Vt(c,3)),this.setAttribute("uv",new Vt(u,2));function S(M,E,T,R,P){const k=Math.cos(M),B=Math.sin(M),D=T/E*M,O=Math.cos(D);P.x=R*(2+O)*.5*k,P.y=R*(2+O)*B*.5,P.z=R*Math.sin(D)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cy(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Ey extends wn{constructor(e=new FS(new $(-1,-1,0),new $(-1,1,0),new $(1,1,0)),t=64,n=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new $,l=new $,c=new Ke;let u=new $;const d=[],f=[],m=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new Vt(d,3)),this.setAttribute("normal",new Vt(f,3)),this.setAttribute("uv",new Vt(m,2));function y(){for(let M=0;M<t;M++)w(M);w(s===!1?t:0),S(),b()}function w(M){u=e.getPointAt(M/t,u);const E=a.normals[M],T=a.binormals[M];for(let R=0;R<=i;R++){const P=R/i*Math.PI*2,k=Math.sin(P),B=-Math.cos(P);l.x=B*E.x+k*T.x,l.y=B*E.y+k*T.y,l.z=B*E.z+k*T.z,l.normalize(),f.push(l.x,l.y,l.z),o.x=u.x+n*l.x,o.y=u.y+n*l.y,o.z=u.z+n*l.z,d.push(o.x,o.y,o.z)}}function b(){for(let M=1;M<=t;M++)for(let E=1;E<=i;E++){const T=(i+1)*(M-1)+(E-1),R=(i+1)*M+(E-1),P=(i+1)*M+E,k=(i+1)*(M-1)+E;v.push(T,R,k),v.push(R,P,k)}}function S(){for(let M=0;M<=t;M++)for(let E=0;E<=i;E++)c.x=M/t,c.y=E/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Ey(new Vv[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class jP extends wn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,i=new $,s=new $;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,m=d.count;for(let v=f,y=f+m;v<y;v+=3)for(let w=0;w<3;w++){const b=o.getX(v+w),S=o.getX(v+(w+1)%3);i.fromBufferAttribute(a,b),s.fromBufferAttribute(a,S),V2(i,s,n)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,d=3*o+(c+1)%3;i.fromBufferAttribute(a,u),s.fromBufferAttribute(a,d),V2(i,s,n)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Vt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function V2(r,e,t){const n=`${r.x},${r.y},${r.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${r.x},${r.y},${r.z}`;return t.has(n)===!0||t.has(i)===!0?!1:(t.add(n),t.add(i),!0)}var W2=Object.freeze({__proto__:null,BoxGeometry:Dh,CapsuleGeometry:gy,CircleGeometry:xy,ConeGeometry:vy,CylinderGeometry:Jf,DodecahedronGeometry:yy,EdgesGeometry:VP,ExtrudeGeometry:wy,IcosahedronGeometry:Ig,LatheGeometry:Rg,OctahedronGeometry:Pg,PlaneGeometry:Hl,PolyhedronGeometry:jc,RingGeometry:Ay,ShapeGeometry:Sy,SphereGeometry:kg,TetrahedronGeometry:_y,TorusGeometry:My,TorusKnotGeometry:Cy,TubeGeometry:Ey,WireframeGeometry:jP});class JP extends pr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new gt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class KP extends zr{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Lg extends pr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new gt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yc,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ia,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ta extends Lg{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ke(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return xn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new gt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new gt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new gt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class ZP extends pr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new gt(16777215),this.specular=new gt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yc,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ia,this.combine=vg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class qP extends pr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new gt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yc,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class QP extends pr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yc,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class OS extends pr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new gt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yc,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ia,this.combine=vg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ty extends pr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=xP,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class US extends pr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class $P extends pr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new gt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yc,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ek extends ns{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function dh(r,e,t){return!r||!t&&r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)}function tk(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function nk(r){function e(i,s){return r[i]-r[s]}const t=r.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n}function tA(r,e,t){const n=r.length,i=new r.constructor(n);for(let s=0,a=0;a!==n;++s){const o=t[s]*e;for(let l=0;l!==e;++l)i[a++]=r[o+l]}return i}function zS(r,e,t,n){let i=1,s=r[0];for(;s!==void 0&&s[n]===void 0;)s=r[i++];if(s===void 0)return;let a=s[n];if(a!==void 0)if(Array.isArray(a))do a=s[n],a!==void 0&&(e.push(s.time),t.push.apply(t,a)),s=r[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[n],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=r[i++];while(s!==void 0);else do a=s[n],a!==void 0&&(e.push(s.time),t.push(a)),s=r[i++];while(s!==void 0)}function pH(r,e,t,n,i=30){const s=r.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],f=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*i;if(!(v<t||v>=n)){d.push(c.times[m]);for(let y=0;y<u;++y)f.push(c.values[m*u+y])}}d.length!==0&&(c.times=dh(d,c.times.constructor),c.values=dh(f,c.values.constructor),a.push(c))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function mH(r,e=0,t=r,n=30){n<=0&&(n=30);const i=t.tracks.length,s=e/n;for(let a=0;a<i;++a){const o=t.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=r.tracks.find(function(b){return b.name===o.name&&b.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);const v=o.times.length-1;let y;if(s<=o.times[0]){const b=u,S=d-u;y=o.values.slice(b,S)}else if(s>=o.times[v]){const b=v*d+u,S=b+d-u;y=o.values.slice(b,S)}else{const b=o.createInterpolant(),S=u,M=d-u;b.evaluate(s),y=b.resultBuffer.slice(S,M)}l==="quaternion"&&new fr().fromArray(y).normalize().conjugate().toArray(y);const w=c.times.length;for(let b=0;b<w;++b){const S=b*m+f;if(l==="quaternion")fr.multiplyQuaternionsFlat(c.values,S,y,0,c.values,S);else{const M=m-f*2;for(let E=0;E<M;++E)c.values[S+E]-=y[E]}}}return r.blendMode=vS,r}const gH={convertArray:dh,isTypedArray:tk,getKeyframeOrder:nk,sortedArray:tA,flattenJSON:zS,subclip:pH,makeClipAdditive:mH};class Kf{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],s=t[n-1];e:{t:{let a;n:{i:if(!(e<i)){for(let o=n+2;;){if(i===void 0){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(s=i,i=t[++n],e<i)break t}a=t.length;break n}if(!(e>=s)){const o=t[1];e<o&&(n=2,s=o);for(let l=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(i=s,s=t[--n-1],e>=s)break t}a=n,n=0;break n}break e}for(;n<a;){const o=n+a>>>1;e<t[o]?a=o:n=o+1}if(i=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,i)}return this.interpolate_(n,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)t[a]=n[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ik extends Kf{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:lh,endingEnd:lh}}intervalChanged_(e,t,n){const i=this.parameterPositions;let s=e-2,a=e+1,o=i[s],l=i[a];if(o===void 0)switch(this.getSettings_().endingStart){case ch:s=e,o=2*t-n;break;case Jm:s=i.length-2,o=t+i[s]-i[s+1];break;default:s=e,o=n}if(l===void 0)switch(this.getSettings_().endingEnd){case ch:a=e,l=2*n-t;break;case Jm:a=1,l=n+i[1]-i[0];break;default:a=e-1,l=t}const c=(n-t)*.5,u=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(l-n),this._offsetPrev=s*u,this._offsetNext=a*u}interpolate_(e,t,n,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,m=this._weightNext,v=(n-t)/(i-t),y=v*v,w=y*v,b=-f*w+2*f*y-f*v,S=(1+f)*w+(-1.5-2*f)*y+(-.5+f)*v+1,M=(-1-m)*w+(1.5+m)*y+.5*v,E=m*w-m*y;for(let T=0;T!==o;++T)s[T]=b*a[u+T]+S*a[c+T]+M*a[l+T]+E*a[d+T];return s}}class HS extends Kf{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(n-t)/(i-t),d=1-u;for(let f=0;f!==o;++f)s[f]=a[c+f]*d+a[l+f]*u;return s}}class rk extends Kf{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class po{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=dh(t,this.TimeBufferType),this.values=dh(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:dh(e.times,Array),values:dh(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new rk(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new HS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ik(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case kf:t=this.InterpolantFactoryMethodDiscrete;break;case Lf:t=this.InterpolantFactoryMethodLinear;break;case G0:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return kf;case this.InterpolantFactoryMethodLinear:return Lf;case this.InterpolantFactoryMethodSmooth:return G0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let s=0,a=i-1;for(;s!==i&&n[s]<e;)++s;for(;a!==-1&&n[a]>t;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=n.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=n[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(i!==void 0&&tk(i))for(let o=0,l=i.length;o!==l;++o){const c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===G0,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(i)l=!0;else{const d=o*n,f=d-n,m=d+n;for(let v=0;v!==n;++v){const y=t[d+v];if(y!==t[f+v]||y!==t[m+v]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const d=o*n,f=a*n;for(let m=0;m!==n;++m)t[f+m]=t[d+m]}++a}}if(s>0){e[a]=e[s];for(let o=s*n,l=a*n,c=0;c!==n;++c)t[l+c]=t[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}po.prototype.TimeBufferType=Float32Array;po.prototype.ValueBufferType=Float32Array;po.prototype.DefaultInterpolation=Lf;class Fh extends po{constructor(e,t,n){super(e,t,n)}}Fh.prototype.ValueTypeName="bool";Fh.prototype.ValueBufferType=Array;Fh.prototype.DefaultInterpolation=kf;Fh.prototype.InterpolantFactoryMethodLinear=void 0;Fh.prototype.InterpolantFactoryMethodSmooth=void 0;class GS extends po{}GS.prototype.ValueTypeName="color";class Ih extends po{}Ih.prototype.ValueTypeName="number";class sk extends Kf{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(n-t)/(i-t);let c=e*o;for(let u=c+o;c!==u;c+=4)fr.slerpFlat(s,0,a,c-o,a,c,l);return s}}class Ph extends po{InterpolantFactoryMethodLinear(e){return new sk(this.times,this.values,this.getValueSize(),e)}}Ph.prototype.ValueTypeName="quaternion";Ph.prototype.InterpolantFactoryMethodSmooth=void 0;class Nh extends po{constructor(e,t,n){super(e,t,n)}}Nh.prototype.ValueTypeName="string";Nh.prototype.ValueBufferType=Array;Nh.prototype.DefaultInterpolation=kf;Nh.prototype.InterpolantFactoryMethodLinear=void 0;Nh.prototype.InterpolantFactoryMethodSmooth=void 0;class kh extends po{}kh.prototype.ValueTypeName="vector";class Ff{constructor(e="",t=-1,n=[],i=oy){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=ta(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let a=0,o=n.length;a!==o;++a)t.push(vH(n[a]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=n.length;s!==a;++s)t.push(po.toJSON(n[s]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const s=t.length,a=[];for(let o=0;o<s;o++){let l=[],c=[];l.push((o+s-1)%s,o,(o+1)%s),c.push(0,1,0);const u=nk(l);l=tA(l,1,u),c=tA(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),a.push(new Ih(".morphTargetInfluences["+t[o].name+"]",l,c).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],t,n));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(d,f,m,v,y){if(m.length!==0){const w=[],b=[];zS(m,w,b,v),w.length!==0&&y.push(new d(f,w,b))}},i=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const m={};let v;for(v=0;v<f.length;v++)if(f[v].morphTargets)for(let y=0;y<f[v].morphTargets.length;y++)m[f[v].morphTargets[y]]=-1;for(const y in m){const w=[],b=[];for(let S=0;S!==f[v].morphTargets.length;++S){const M=f[v];w.push(M.time),b.push(M.morphTarget===y?1:0)}i.push(new Ih(".morphTargetInfluence["+y+"]",w,b))}l=m.length*a}else{const m=".bones["+t[d].name+"]";n(kh,m+".position",f,"pos",i),n(Ph,m+".quaternion",f,"rot",i),n(kh,m+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,o)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function xH(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ih;case"vector":case"vector2":case"vector3":case"vector4":return kh;case"color":return GS;case"quaternion":return Ph;case"bool":case"boolean":return Fh;case"string":return Nh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function vH(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=xH(r.type);if(r.times===void 0){const t=[],n=[];zS(r.keys,t,n,"value"),r.times=t,r.values=n}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const Ll={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class Ry{constructor(e,t,n){const i=this;let s=!1,a=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(u){o++,s===!1&&i.onStart!==void 0&&i.onStart(u,a,o),s=!0},this.itemEnd=function(u){a++,i.onProgress!==void 0&&i.onProgress(u,a,o),a===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const m=c[d],v=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return v}return null}}}const ak=new Ry;class Hr{constructor(e){this.manager=e!==void 0?e:ak,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,s){n.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Hr.DEFAULT_MATERIAL_NAME="__DEFAULT";const El={};class yH extends Error{constructor(e,t){super(e),this.response=t}}class Or extends Hr{constructor(e){super(e)}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ll.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(El[e]!==void 0){El[e].push({onLoad:t,onProgress:n,onError:i});return}El[e]=[],El[e].push({onLoad:t,onProgress:n,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=El[e],d=c.body.getReader(),f=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=f?parseInt(f):0,v=m!==0;let y=0;const w=new ReadableStream({start(b){S();function S(){d.read().then(({done:M,value:E})=>{if(M)b.close();else{y+=E.byteLength;const T=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:m});for(let R=0,P=u.length;R<P;R++){const k=u[R];k.onProgress&&k.onProgress(T)}b.enqueue(E),S()}},M=>{b.error(M)})}}});return new Response(w)}else throw new yH(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(o),f=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(f);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{Ll.add(e,c);const u=El[e];delete El[e];for(let d=0,f=u.length;d<f;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=El[e];if(u===void 0)throw this.manager.itemError(e),c;delete El[e];for(let d=0,f=u.length;d<f;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class bH extends Hr{constructor(e){super(e)}load(e,t,n,i){const s=this,a=new Or(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=Ff.parse(e[n]);t.push(i)}return t}}class wH extends Hr{constructor(e){super(e)}load(e,t,n,i){const s=this,a=[],o=new py,l=new Or(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const m=s.parse(f,!0);a[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(o.minFilter=jn),o.image=a,o.format=m.format,o.needsUpdate=!0,t&&t(o))},n,i)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=s.parse(d,!0);if(f.isCubemap){const m=f.mipmaps.length/f.mipmapCount;for(let v=0;v<m;v++){a[v]={mipmaps:[]};for(let y=0;y<f.mipmapCount;y++)a[v].mipmaps.push(f.mipmaps[v*f.mipmapCount+y]),a[v].format=f.format,a[v].width=f.width,a[v].height=f.height}o.image=a}else o.image.width=f.width,o.image.height=f.height,o.mipmaps=f.mipmaps;f.mipmapCount===1&&(o.minFilter=jn),o.format=f.format,o.needsUpdate=!0,t&&t(o)},n,i);return o}}class ig extends Hr{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Ll.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const o=Qm("img");function l(){u(),Ll.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class ok extends Hr{constructor(e){super(e)}load(e,t,n,i){const s=new _g;s.colorSpace=xs;const a=new ig(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(e[c],function(u){s.images[c]=u,o++,o===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class VS extends Hr{constructor(e){super(e)}load(e,t,n,i){const s=this,a=new co,o=new Or(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:Gi,a.wrapT=c.wrapT!==void 0?c.wrapT:Gi,a.magFilter=c.magFilter!==void 0?c.magFilter:jn,a.minFilter=c.minFilter!==void 0?c.minFilter:jn,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=Ca),c.mipmapCount===1&&(a.minFilter=jn),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,t&&t(a,c)},n,i),a}}class lk extends Hr{constructor(e){super(e)}load(e,t,n,i){const s=new qn,a=new ig(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},n,i),s}}class Jc extends Bn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new gt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class ck extends Jc{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Bn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new gt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const T1=new Kt,X2=new $,Y2=new $;class WS{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ke(512,512),this.map=null,this.mapPass=null,this.matrix=new Kt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Tg,this._frameExtents=new Ke(1,1),this._viewportCount=1,this._viewports=[new Gn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;X2.setFromMatrixPosition(e.matrixWorld),t.position.copy(X2),Y2.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Y2),t.updateMatrixWorld(),T1.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(T1),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(T1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class AH extends WS{constructor(){super(new ur(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=Bf*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(n!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class XS extends Jc{constructor(e,t,n=0,i=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Bn.DEFAULT_UP),this.updateMatrix(),this.target=new Bn,this.distance=n,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new AH}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const j2=new Kt,om=new $,R1=new $;class SH extends WS{constructor(){super(new ur(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ke(4,2),this._viewportCount=6,this._viewports=[new Gn(2,1,1,1),new Gn(0,1,1,1),new Gn(3,1,1,1),new Gn(1,1,1,1),new Gn(3,0,1,1),new Gn(1,0,1,1)],this._cubeDirections=[new $(1,0,0),new $(-1,0,0),new $(0,0,1),new $(0,0,-1),new $(0,1,0),new $(0,-1,0)],this._cubeUps=[new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,0,1),new $(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),om.setFromMatrixPosition(e.matrixWorld),n.position.copy(om),R1.copy(n.position),R1.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(R1),n.updateMatrixWorld(),i.makeTranslation(-om.x,-om.y,-om.z),j2.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(j2)}}class YS extends Jc{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new SH}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Oh extends Sg{constructor(e=-1,t=1,n=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=n-e,a=n+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class _H extends WS{constructor(){super(new Oh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class jS extends Jc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Bn.DEFAULT_UP),this.updateMatrix(),this.target=new Bn,this.shadow=new _H}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class uk extends Jc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class hk extends Jc{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class dk{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new $)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*i),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],1.092548*(n*i)),t.addScaledVector(a[5],1.092548*(i*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(n*s)),t.addScaledVector(a[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*i),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*n),t.addScaledVector(a[4],2*.429043*n*i),t.addScaledVector(a[5],2*.429043*i*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*n*s),t.addScaledVector(a[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const n=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-i*i)}}class fk extends Jc{constructor(e=new dk,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Iy extends Hr{constructor(e){super(e),this.textures={}}load(e,t,n,i){const s=this,a=new Or(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},n,i)}parse(e){const t=this.textures;function n(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new gt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=n(a.value);break;case"c":i.uniforms[s].value=new gt().setHex(a.value);break;case"v2":i.uniforms[s].value=new Ke().fromArray(a.value);break;case"v3":i.uniforms[s].value=new $().fromArray(a.value);break;case"v4":i.uniforms[s].value=new Gn().fromArray(a.value);break;case"m3":i.uniforms[s].value=new bn().fromArray(a.value);break;case"m4":i.uniforms[s].value=new Kt().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ke().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ke().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Iy.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:JP,SpriteMaterial:CS,RawShaderMaterial:KP,ShaderMaterial:zr,PointsMaterial:fy,MeshPhysicalMaterial:Ta,MeshStandardMaterial:Lg,MeshPhongMaterial:ZP,MeshToonMaterial:qP,MeshNormalMaterial:QP,MeshLambertMaterial:OS,MeshDepthMaterial:Ty,MeshDistanceMaterial:US,MeshBasicMaterial:Us,MeshMatcapMaterial:$P,LineDashedMaterial:ek,LineBasicMaterial:ns,Material:pr};return new t[e]}}class Fc{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class pk extends wn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class mk extends Hr{constructor(e){super(e)}load(e,t,n,i){const s=this,a=new Or(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},n,i)}parse(e){const t={},n={};function i(m,v){if(t[v]!==void 0)return t[v];const w=m.interleavedBuffers[v],b=s(m,w.buffer),S=mf(w.type,b),M=new Cg(S,w.stride);return M.uuid=w.uuid,t[v]=M,M}function s(m,v){if(n[v]!==void 0)return n[v];const w=m.arrayBuffers[v],b=new Uint32Array(w).buffer;return n[v]=b,b}const a=e.isInstancedBufferGeometry?new pk:new wn,o=e.data.index;if(o!==void 0){const m=mf(o.type,o.array);a.setIndex(new Vn(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let y;if(v.isInterleavedBufferAttribute){const w=i(e.data,v.data);y=new Wc(w,v.itemSize,v.offset,v.normalized)}else{const w=mf(v.type,v.array),b=v.isInstancedBufferAttribute?Th:Vn;y=new b(w,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),a.setAttribute(m,y)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],y=[];for(let w=0,b=v.length;w<b;w++){const S=v[w];let M;if(S.isInterleavedBufferAttribute){const E=i(e.data,S.data);M=new Wc(E,S.itemSize,S.offset,S.normalized)}else{const E=mf(S.type,S.array);M=new Vn(E,S.itemSize,S.normalized)}S.name!==void 0&&(M.name=S.name),y.push(M)}a.morphAttributes[m]=y}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,v=d.length;m!==v;++m){const y=d[m];a.addGroup(y.start,y.count,y.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const m=new $;f.center!==void 0&&m.fromArray(f.center),a.boundingSphere=new Mr(m,f.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class MH extends Hr{constructor(e){super(e)}load(e,t,n,i){const s=this,a=this.path===""?Fc.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new Or(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},n,i)}async loadAsync(e,t){const n=this,i=this.path===""?Fc.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Or(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(o)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){t!==void 0&&t(c)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,s,l,o,n),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),t!==void 0){let d=!1;for(const f in a)if(a[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,o,a,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const s=new wh().fromJSON(e[n]);t[s.uuid]=s}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new Eg().fromJSON(e[s],i);n[o.uuid]=o}return n}parseGeometries(e,t){const n={};if(e!==void 0){const i=new mk;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in W2?o=W2[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),n[l.uuid]=o}}return n}parseMaterials(e,t){const n={},i={};if(e!==void 0){const s=new Iy;s.setTextures(t);for(let a=0,o=e.length;a<o;a++){const l=e[a];n[l.uuid]===void 0&&(n[l.uuid]=s.parse(l)),i[l.uuid]=n[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const i=e[n],s=Ff.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const n=this,i={};let s;function a(l){return n.manager.itemStart(l),s.load(l,function(){n.manager.itemEnd(l)},void 0,function(){n.manager.itemError(l),n.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:n.resourcePath+c;return a(u)}else return l.data?{data:mf(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Ry(t);s=new ig(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const m=[];for(let v=0,y=f.length;v<y;v++){const w=f[v],b=o(w);b!==null&&(b instanceof HTMLImageElement?m.push(b):m.push(new co(b.data,b.width,b.height)))}i[d.uuid]=new uh(m)}else{const m=o(d.url);i[d.uuid]=new uh(m)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await i.loadAsync(l)}else return a.data?{data:mf(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new ig(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const m=c[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?u.push(v):u.push(new co(v.data,v.width,v.height)))}n[l.uuid]=new uh(u)}else{const u=await s(l.url);n[l.uuid]=new uh(u)}}}return n}parseTextures(e,t){function n(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=t[o.image],c=l.data;let u;Array.isArray(c)?(u=new _g,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new co:u=new qn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=n(o.mapping,CH)),o.channel!==void 0&&(u.channel=o.channel),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=n(o.wrap[0],J2),u.wrapT=n(o.wrap[1],J2)),o.format!==void 0&&(u.format=o.format),o.internalFormat!==void 0&&(u.internalFormat=o.internalFormat),o.type!==void 0&&(u.type=o.type),o.colorSpace!==void 0&&(u.colorSpace=o.colorSpace),o.minFilter!==void 0&&(u.minFilter=n(o.minFilter,K2)),o.magFilter!==void 0&&(u.magFilter=n(o.magFilter,K2)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.generateMipmaps!==void 0&&(u.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(u.compareFunction=o.compareFunction),o.userData!==void 0&&(u.userData=o.userData),i[o.uuid]=u}return i}parseObject(e,t,n,i,s){let a;function o(f){return t[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),t[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const m=[];for(let v=0,y=f.length;v<y;v++){const w=f[v];n[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),m.push(n[w])}return m}return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),n[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let u,d;switch(e.type){case"Scene":a=new Mg,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new gt(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new hy(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new uy(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new ur(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Oh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new uk(e.color,e.intensity);break;case"DirectionalLight":a=new jS(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new YS(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new hk(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new XS(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new ck(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new fk().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),d=l(e.material),a=new ES(u,d),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),d=l(e.material),a=new yi(u,d);break;case"InstancedMesh":u=o(e.geometry),d=l(e.material);const f=e.count,m=e.instanceMatrix,v=e.instanceColor;a=new TS(u,d,f),a.instanceMatrix=new Th(new Float32Array(m.array),16),v!==void 0&&(a.instanceColor=new Th(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":u=o(e.geometry),d=l(e.material),a=new FP(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),a.geometry=u,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(y=>{const w=new _r;w.min.fromArray(y.boxMin),w.max.fromArray(y.boxMax);const b=new Mr;return b.radius=y.sphereRadius,b.center.fromArray(y.sphereCenter),{boxInitialized:y.boxInitialized,box:w,sphereInitialized:y.sphereInitialized,sphere:b}}),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":a=new DP;break;case"Line":a=new Ol(o(e.geometry),l(e.material));break;case"LineLoop":a=new RS(o(e.geometry),l(e.material));break;case"LineSegments":a=new ho(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new IS(o(e.geometry),l(e.material));break;case"Sprite":a=new BP(l(e.material));break;case"Group":a=new kl;break;case"Bone":a=new dy;break;default:a=new Bn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let m=0;m<f.length;m++)a.add(this.parseObject(f[m],t,n,i,s))}if(e.animations!==void 0){const f=e.animations;for(let m=0;m<f.length;m++){const v=f[m];a.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const f=e.levels;for(let m=0;m<f.length;m++){const v=f[m],y=a.getObjectByProperty("uuid",v.object);y!==void 0&&a.addLevel(y,v.distance,v.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const i=t[n.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(i,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,i=e.getObjectByProperty("uuid",n);i!==void 0?t.target=i:t.target=new Bn}})}}const CH={UVMapping:Hc,CubeReflectionMapping:Uo,CubeRefractionMapping:Gc,EquirectangularReflectionMapping:Rf,EquirectangularRefractionMapping:jm,CubeUVReflectionMapping:Yf},J2={RepeatWrapping:Vc,ClampToEdgeWrapping:Gi,MirroredRepeatWrapping:If},K2={NearestFilter:Qi,NearestMipmapNearestFilter:ey,NearestMipmapLinearFilter:oh,LinearFilter:jn,LinearMipmapNearestFilter:yf,LinearMipmapLinearFilter:Ca};class gk extends Hr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Ll.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Ll.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),Ll.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Ll.add(e,l),s.manager.itemStart(e)}}let g0;class JS{static getContext(){return g0===void 0&&(g0=new(window.AudioContext||window.webkitAudioContext)),g0}static setContext(e){g0=e}}class EH extends Hr{constructor(e){super(e)}load(e,t,n,i){const s=this,a=new Or(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);JS.getContext().decodeAudioData(c,function(d){t(d)}).catch(o)}catch(c){o(c)}},n,i);function o(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const Z2=new Kt,q2=new Kt,Hu=new Kt;class TH{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ur,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ur,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Hu.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,a=t.near*Math.tan(yh*t.fov*.5)/t.zoom;let o,l;q2.elements[12]=-i,Z2.elements[12]=i,o=-a*t.aspect+s,l=a*t.aspect+s,Hu.elements[0]=2*t.near/(l-o),Hu.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(Hu),o=-a*t.aspect-s,l=a*t.aspect-s,Hu.elements[0]=2*t.near/(l-o),Hu.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(Hu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(q2),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Z2)}}class xk extends ur{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class KS{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Q2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Q2();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Q2(){return performance.now()}const Gu=new $,$2=new fr,RH=new $,Vu=new $;class IH extends Bn{constructor(){super(),this.type="AudioListener",this.context=JS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new KS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Gu,$2,RH),Vu.set(0,0,-1).applyQuaternion($2),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Gu.x,i),t.positionY.linearRampToValueAtTime(Gu.y,i),t.positionZ.linearRampToValueAtTime(Gu.z,i),t.forwardX.linearRampToValueAtTime(Vu.x,i),t.forwardY.linearRampToValueAtTime(Vu.y,i),t.forwardZ.linearRampToValueAtTime(Vu.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(Gu.x,Gu.y,Gu.z),t.setOrientation(Vu.x,Vu.y,Vu.z,n.x,n.y,n.z)}}class vk extends Bn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Wu=new $,eE=new fr,PH=new $,Xu=new $;class kH extends vk{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Wu,eE,PH),Xu.set(0,0,1).applyQuaternion(eE);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Wu.x,n),t.positionY.linearRampToValueAtTime(Wu.y,n),t.positionZ.linearRampToValueAtTime(Wu.z,n),t.orientationX.linearRampToValueAtTime(Xu.x,n),t.orientationY.linearRampToValueAtTime(Xu.y,n),t.orientationZ.linearRampToValueAtTime(Xu.z,n)}else t.setPosition(Wu.x,Wu.y,Wu.z),t.setOrientation(Xu.x,Xu.y,Xu.z)}}class LH{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class yk{constructor(e,t,n){this.binding=e,this.valueSize=n;let i,s,a;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==i;++o)n[s+o]=n[o];a=t}else{a+=t;const o=t/a;this._mixBufferRegion(n,s,0,o,i)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(n,i,l,1-s,t)}a>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(n[l]!==n[l+t]){o.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let s=n,a=i;s!==a;++s)t[s]=t[i+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[t+a]=e[n+a]}_slerp(e,t,n,i){fr.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,s){const a=this._workIndex*s;fr.multiplyQuaternionsFlat(e,a,e,t,e,n),fr.slerpFlat(e,t,e,t,e,a,i)}_lerp(e,t,n,i,s){const a=1-i;for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]*a+e[n+o]*i}}_lerpAdditive(e,t,n,i,s){for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]+e[n+a]*i}}}const ZS="\\[\\]\\.:\\/",BH=new RegExp("["+ZS+"]","g"),qS="[^"+ZS+"]",DH="[^"+ZS.replace("\\.","")+"]",FH=/((?:WC+[\/:])*)/.source.replace("WC",qS),NH=/(WCOD+)?/.source.replace("WCOD",DH),OH=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",qS),UH=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",qS),zH=new RegExp("^"+FH+NH+OH+UH+"$"),HH=["material","materials","bones","map"];class GH{constructor(e,t,n){const i=n||Nn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=n.length;i!==s;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Nn{constructor(e,t,n){this.path=t,this.parsedPath=n||Nn.parseTrackName(t),this.node=Nn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Nn.Composite(e,t,n):new Nn(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(BH,"")}static parseTrackName(e){const t=zH.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=n.nodeName.substring(i+1);HH.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===t||o.uuid===t)return o;const l=n(o.children);if(l)return l}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Nn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let c=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Nn.Composite=GH;Nn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Nn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Nn.prototype.GetterByBindingType=[Nn.prototype._getValue_direct,Nn.prototype._getValue_array,Nn.prototype._getValue_arrayElement,Nn.prototype._getValue_toArray];Nn.prototype.SetterByBindingTypeAndVersioning=[[Nn.prototype._setValue_direct,Nn.prototype._setValue_direct_setNeedsUpdate,Nn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nn.prototype._setValue_array,Nn.prototype._setValue_array_setNeedsUpdate,Nn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nn.prototype._setValue_arrayElement,Nn.prototype._setValue_arrayElement_setNeedsUpdate,Nn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nn.prototype._setValue_fromArray,Nn.prototype._setValue_fromArray_setNeedsUpdate,Nn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class VH{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ta(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],m=f.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(f);for(let y=0,w=a;y!==w;++y)s[y].push(new Nn(f,n[y],i[y]))}else if(v<c){o=e[v];const y=--c,w=e[y];t[w.uuid]=v,e[v]=w,t[m]=y,e[y]=f;for(let b=0,S=a;b!==S;++b){const M=s[b],E=M[y];let T=M[v];M[v]=E,T===void 0&&(T=new Nn(f,n[b],i[b])),M[y]=T}}else e[v]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const d=s++,f=e[d];t[f.uuid]=u,e[u]=f,t[c]=d,e[d]=l;for(let m=0,v=i;m!==v;++m){const y=n[m],w=y[d],b=y[u];y[u]=w,y[d]=b}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,d=t[u];if(d!==void 0)if(delete t[u],d<s){const f=--s,m=e[f],v=--a,y=e[v];t[m.uuid]=d,e[d]=m,t[y.uuid]=f,e[f]=y,e.pop();for(let w=0,b=i;w!==b;++w){const S=n[w],M=S[f],E=S[v];S[d]=M,S[f]=E,S.pop()}}else{const f=--a,m=e[f];f>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let v=0,y=i;v!==y;++v){const w=n[v];w[d]=w[f],w.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=s.length,n[e]=i,a.push(e),o.push(t),s.push(d);for(let f=u,m=l.length;f!==m;++f){const v=l[f];d[f]=new Nn(v,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],c=e[o];t[c]=n,a[n]=l,a.pop(),s[n]=s[o],s.pop(),i[n]=i[o],i.pop()}}}class bk{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const s=t.tracks,a=s.length,o=new Array(a),l={endingStart:lh,endingEnd:lh};for(let c=0;c!==a;++c){const u=s[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=pP,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const i=this._clip.duration,s=e._clip.duration,a=s/i,o=i/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,s=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,l[1]=s+n,c[0]=e/a,c[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*n;l<0||n===0?t=0:(this._startTime=null,t=n*l)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case vS:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulateAdditive(o);break;case oy:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulate(i,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,s=this._loopCount;const a=n===mP;if(e===0)return s===-1?i:a&&(s&1)===1?t-i:i;if(n===fP){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=t||i<0){const o=Math.floor(i/t);i-=t*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&(s&1)===1)return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=ch,i.endingEnd=ch):(e?i.endingStart=this.zeroSlopeAtStart?ch:lh:i.endingStart=Jm,t?i.endingEnd=this.zeroSlopeAtEnd?ch:lh:i.endingEnd=Jm)}_scheduleFading(e,t,n){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=t,o[1]=s+e,l[1]=n,this}}const WH=new Float32Array(1);class XH extends Go{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,o=e._interpolants,l=n.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const f=i[d],m=f.name;let v=u[m];if(v!==void 0)++v.referenceCount,a[d]=v;else{if(v=a[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const y=t&&t._propertyBindings[d].binding.parsedPath;v=new yk(Nn.create(n,m,y),f.ValueTypeName,f.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),a[d]=v}o[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=o.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[t];a===void 0&&(a={},i[t]=a),a[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,s=n.path,a=this._bindingsByRootAndName,o=a[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new HS(new Float32Array(2),new Float32Array(2),1,WH),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const i=t||this._root,s=i.uuid;let a=typeof e=="string"?Ff.findByName(i,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let c=null;if(n===void 0&&(a!==null?n=a.blendMode:n=oy),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===n)return d;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new bk(this,a,t,n);return this._bindAction(u,c),this._addInactiveAction(u,o,s),u}existingAction(e,t){const n=t||this._root,i=n.uuid,s=typeof e=="string"?Ff.findByName(n,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==n;++c)t[c]._update(i,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,s=i[n];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const a in n){const o=n[a].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class YH extends ly{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=n,this.texture=new cy(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class jH extends ly{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isRenderTargetArray=!0,this.depth=n,this.texture=new Ag(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class QS{constructor(e){this.value=e}clone(){return new QS(this.value.clone===void 0?this.value:this.value.clone())}}let JH=0;class KH extends Go{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:JH++}),this.name="",this.usage=Zm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,i=t.length;n<i;n++){const s=Array.isArray(t[n])?t[n]:[t[n]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class ZH extends Cg{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class qH{constructor(e,t,n,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const tE=new Kt;class $S{constructor(e,t,n=0,i=1/0){this.ray=new jf(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new bh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return tE.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(tE),this}intersectObject(e,t=!0,n=[]){return nA(e,this,n,t),n.sort(nE),n}intersectObjects(e,t=!0,n=[]){for(let i=0,s=e.length;i<s;i++)nA(e[i],this,n,t);return n.sort(nE),n}}function nE(r,e){return r.distance-e.distance}function nA(r,e,t,n){let i=!0;if(r.layers.test(e.layers)&&r.raycast(e,t)===!1&&(i=!1),i===!0&&n===!0){const s=r.children;for(let a=0,o=s.length;a<o;a++)nA(s[a],e,t,!0)}}class QH{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=xn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(xn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class $H{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class e_{constructor(e,t,n,i){e_.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,i){const s=this.elements;return s[0]=e,s[2]=t,s[1]=n,s[3]=i,this}}const iE=new Ke;class e5{constructor(e=new Ke(1/0,1/0),t=new Ke(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=iE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,iE).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const rE=new $,x0=new $;class t5{constructor(e=new $,t=new $){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){rE.subVectors(e,this.start),x0.subVectors(this.end,this.start);const n=x0.dot(x0);let s=x0.dot(rE)/n;return t&&(s=xn(s,0,1)),s}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const sE=new $;class n5 extends Bn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new wn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,u=o/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}n.setAttribute("position",new Vt(i,3));const s=new ns({fog:!1,toneMapped:!1});this.cone=new ho(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),sE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(sE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _c=new $,v0=new Kt,I1=new Kt;class i5 extends ho{constructor(e){const t=wk(e),n=new wn,i=[],s=[],a=new gt(0,0,1),o=new gt(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}n.setAttribute("position",new Vt(i,3)),n.setAttribute("color",new Vt(s,3));const l=new ns({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");I1.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const o=t[s];o.parent&&o.parent.isBone&&(v0.multiplyMatrices(I1,o.matrixWorld),_c.setFromMatrixPosition(v0),i.setXYZ(a,_c.x,_c.y,_c.z),v0.multiplyMatrices(I1,o.parent.matrixWorld),_c.setFromMatrixPosition(v0),i.setXYZ(a+1,_c.x,_c.y,_c.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function wk(r){const e=[];r.isBone===!0&&e.push(r);for(let t=0;t<r.children.length;t++)e.push.apply(e,wk(r.children[t]));return e}class r5 extends yi{constructor(e,t,n){const i=new kg(t,4,2),s=new Us({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const s5=new $,aE=new gt,oE=new gt;class a5 extends Bn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new Pg(t);i.rotateY(Math.PI*.5),this.material=new Us({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new Vn(a,3)),this.add(new yi(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");aE.copy(this.light.color),oE.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const s=n<i/2?aE:oE;t.setXYZ(n,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(s5.setFromMatrixPosition(this.light.matrixWorld).negate())}}class o5 extends ho{constructor(e=10,t=10,n=4473924,i=8947848){n=new gt(n),i=new gt(i);const s=t/2,a=e/t,o=e/2,l=[],c=[];for(let f=0,m=0,v=-o;f<=t;f++,v+=a){l.push(-o,0,v,o,0,v),l.push(v,0,-o,v,0,o);const y=f===s?n:i;y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3}const u=new wn;u.setAttribute("position",new Vt(l,3)),u.setAttribute("color",new Vt(c,3));const d=new ns({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class l5 extends ho{constructor(e=10,t=16,n=8,i=64,s=4473924,a=8947848){s=new gt(s),a=new gt(a);const o=[],l=[];if(t>1)for(let d=0;d<t;d++){const f=d/t*(Math.PI*2),m=Math.sin(f)*e,v=Math.cos(f)*e;o.push(0,0,0),o.push(m,0,v);const y=d&1?s:a;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let d=0;d<n;d++){const f=d&1?s:a,m=e-e/n*d;for(let v=0;v<i;v++){let y=v/i*(Math.PI*2),w=Math.sin(y)*m,b=Math.cos(y)*m;o.push(w,0,b),l.push(f.r,f.g,f.b),y=(v+1)/i*(Math.PI*2),w=Math.sin(y)*m,b=Math.cos(y)*m,o.push(w,0,b),l.push(f.r,f.g,f.b)}}const c=new wn;c.setAttribute("position",new Vt(o,3)),c.setAttribute("color",new Vt(l,3));const u=new ns({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const lE=new $,y0=new $,cE=new $;class c5 extends Bn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new wn;i.setAttribute("position",new Vt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new ns({fog:!1,toneMapped:!1});this.lightPlane=new Ol(i,s),this.add(this.lightPlane),i=new wn,i.setAttribute("position",new Vt([0,0,0,0,0,1],3)),this.targetLine=new Ol(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),lE.setFromMatrixPosition(this.light.matrixWorld),y0.setFromMatrixPosition(this.light.target.matrixWorld),cE.subVectors(y0,lE),this.lightPlane.lookAt(y0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(y0),this.targetLine.scale.z=cE.length()}}const b0=new $,Li=new Sg;class u5 extends ho{constructor(e){const t=new wn,n=new ns({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(v,y){l(v),l(y)}function l(v){i.push(0,0,0),s.push(0,0,0),a[v]===void 0&&(a[v]=[]),a[v].push(i.length/3-1)}t.setAttribute("position",new Vt(i,3)),t.setAttribute("color",new Vt(s,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new gt(16755200),u=new gt(16711680),d=new gt(43775),f=new gt(16777215),m=new gt(3355443);this.setColors(c,u,d,f,m)}setColors(e,t,n,i,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,i=1;Li.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===oo?-1:0;zi("c",t,e,Li,0,0,s),zi("t",t,e,Li,0,0,1),zi("n1",t,e,Li,-1,-1,s),zi("n2",t,e,Li,n,-1,s),zi("n3",t,e,Li,-1,i,s),zi("n4",t,e,Li,n,i,s),zi("f1",t,e,Li,-1,-1,1),zi("f2",t,e,Li,n,-1,1),zi("f3",t,e,Li,-1,i,1),zi("f4",t,e,Li,n,i,1),zi("u1",t,e,Li,n*.7,i*1.1,s),zi("u2",t,e,Li,-1*.7,i*1.1,s),zi("u3",t,e,Li,0,i*2,s),zi("cf1",t,e,Li,-1,0,1),zi("cf2",t,e,Li,n,0,1),zi("cf3",t,e,Li,0,-1,1),zi("cf4",t,e,Li,0,i,1),zi("cn1",t,e,Li,-1,0,s),zi("cn2",t,e,Li,n,0,s),zi("cn3",t,e,Li,0,-1,s),zi("cn4",t,e,Li,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function zi(r,e,t,n,i,s,a){b0.set(i,s,a).unproject(n);const o=e[r];if(o!==void 0){const l=t.getAttribute("position");for(let c=0,u=o.length;c<u;c++)l.setXYZ(o[c],b0.x,b0.y,b0.z)}}const w0=new _r;class h5 extends ho{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new wn;s.setIndex(new Vn(n,1)),s.setAttribute("position",new Vn(i,3)),super(s,new ns({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&w0.setFromObject(this.object),w0.isEmpty())return;const t=w0.min,n=w0.max,i=this.geometry.attributes.position,s=i.array;s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=t.x,s[4]=n.y,s[5]=n.z,s[6]=t.x,s[7]=t.y,s[8]=n.z,s[9]=n.x,s[10]=t.y,s[11]=n.z,s[12]=n.x,s[13]=n.y,s[14]=t.z,s[15]=t.x,s[16]=n.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=n.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class d5 extends ho{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new wn;s.setIndex(new Vn(n,1)),s.setAttribute("position",new Vt(i,3)),super(s,new ns({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class f5 extends Ol{constructor(e,t=1,n=16776960){const i=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new wn;a.setAttribute("position",new Vt(s,3)),a.computeBoundingSphere(),super(a,new ns({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new wn;l.setAttribute("position",new Vt(o,3)),l.computeBoundingSphere(),this.add(new yi(l,new Us({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const uE=new $;let A0,P1;class p5 extends Bn{constructor(e=new $(0,0,1),t=new $(0,0,0),n=1,i=16776960,s=n*.2,a=s*.2){super(),this.type="ArrowHelper",A0===void 0&&(A0=new wn,A0.setAttribute("position",new Vt([0,0,0,0,1,0],3)),P1=new Jf(0,.5,1,5,1),P1.translate(0,-.5,0)),this.position.copy(t),this.line=new Ol(A0,new ns({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new yi(P1,new Us({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{uE.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(uE,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class m5 extends ho{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new wn;i.setAttribute("position",new Vt(t,3)),i.setAttribute("color",new Vt(n,3));const s=new ns({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,n){const i=new gt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(n),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class g5{constructor(){this.type="ShapePath",this.color=new gt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new $m,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,s,a){return this.currentPath.bezierCurveTo(e,t,n,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const S=[];for(let M=0,E=b.length;M<E;M++){const T=b[M],R=new wh;R.curves=T.curves,S.push(R)}return S}function n(b,S){const M=S.length;let E=!1;for(let T=M-1,R=0;R<M;T=R++){let P=S[T],k=S[R],B=k.x-P.x,D=k.y-P.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(P=S[R],B=-B,k=S[T],D=-D),b.y<P.y||b.y>k.y)continue;if(b.y===P.y){if(b.x===P.x)return!0}else{const O=D*(b.x-P.x)-B*(b.y-P.y);if(O===0)return!0;if(O<0)continue;E=!E}}else{if(b.y!==P.y)continue;if(k.x<=b.x&&b.x<=P.x||P.x<=b.x&&b.x<=k.x)return!0}}return E}const i=Fo.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const c=[];if(s.length===1)return o=s[0],l=new wh,l.curves=o.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const d=[],f=[];let m=[],v=0,y;f[v]=void 0,m[v]=[];for(let b=0,S=s.length;b<S;b++)o=s[b],y=o.getPoints(),a=i(y),a=e?!a:a,a?(!u&&f[v]&&v++,f[v]={s:new wh,p:y},f[v].s.curves=o.curves,u&&v++,m[v]=[]):m[v].push({h:o,p:y[0]});if(!f[0])return t(s);if(f.length>1){let b=!1,S=0;for(let M=0,E=f.length;M<E;M++)d[M]=[];for(let M=0,E=f.length;M<E;M++){const T=m[M];for(let R=0;R<T.length;R++){const P=T[R];let k=!0;for(let B=0;B<f.length;B++)n(P.p,f[B].p)&&(M!==B&&S++,k?(k=!1,d[B].push(P)):b=!0);k&&d[M].push(P)}}S>0&&b===!1&&(m=d)}let w;for(let b=0,S=f.length;b<S;b++){l=f[b].s,c.push(l),w=m[b];for(let M=0,E=w.length;M<E;M++)l.holes.push(w[M].h)}return c}}class x5 extends Go{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function v5(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2):(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0),r}function y5(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0):(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2),r}function b5(r){return r.repeat.x=1,r.repeat.y=1,r.offset.x=0,r.offset.y=0,r}function iA(r,e,t,n){const i=w5(n);switch(t){case dS:return r*e;case pS:return r*e;case mS:return r*e*2;case bg:return r*e/i.components*i.byteLength;case wg:return r*e/i.components*i.byteLength;case gS:return r*e*2/i.components*i.byteLength;case sy:return r*e*2/i.components*i.byteLength;case fS:return r*e*3/i.components*i.byteLength;case Vi:return r*e*4/i.components*i.byteLength;case ay:return r*e*4/i.components*i.byteLength;case Tm:case Rm:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case Im:case Pm:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case mv:case xv:return Math.max(r,16)*Math.max(e,8)/4;case pv:case gv:return Math.max(r,8)*Math.max(e,8)/2;case vv:case yv:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case bv:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case wv:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case Av:return Math.floor((r+4)/5)*Math.floor((e+3)/4)*16;case Sv:return Math.floor((r+4)/5)*Math.floor((e+4)/5)*16;case _v:return Math.floor((r+5)/6)*Math.floor((e+4)/5)*16;case Mv:return Math.floor((r+5)/6)*Math.floor((e+5)/6)*16;case Cv:return Math.floor((r+7)/8)*Math.floor((e+4)/5)*16;case Ev:return Math.floor((r+7)/8)*Math.floor((e+5)/6)*16;case Tv:return Math.floor((r+7)/8)*Math.floor((e+7)/8)*16;case Rv:return Math.floor((r+9)/10)*Math.floor((e+4)/5)*16;case Iv:return Math.floor((r+9)/10)*Math.floor((e+5)/6)*16;case Pv:return Math.floor((r+9)/10)*Math.floor((e+7)/8)*16;case kv:return Math.floor((r+9)/10)*Math.floor((e+9)/10)*16;case Lv:return Math.floor((r+11)/12)*Math.floor((e+9)/10)*16;case Bv:return Math.floor((r+11)/12)*Math.floor((e+11)/12)*16;case km:case Dv:case Fv:return Math.ceil(r/4)*Math.ceil(e/4)*16;case xS:case Nv:return Math.ceil(r/4)*Math.ceil(e/4)*8;case Ov:case Uv:return Math.ceil(r/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function w5(r){switch(r){case zs:case ty:return{byteLength:1,components:1};case Pf:case ny:case dr:return{byteLength:2,components:1};case iy:case ry:return{byteLength:2,components:4};case zo:case yg:case Ri:return{byteLength:4,components:1};case hS:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${r}.`)}const A5={contain:v5,cover:y5,fill:b5,getByteLength:iA};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Xf}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Xf);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Ak(){let r=null,e=!1,t=null,n=null;function i(s,a){t(s,a),n=r.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=r.requestAnimationFrame(i),e=!0)},stop:function(){r.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){r=s}}}function S5(r){const e=new WeakMap;function t(o,l){const c=o.array,u=o.usage,d=c.byteLength,f=r.createBuffer();r.bindBuffer(l,f),r.bufferData(l,c,u),o.onUploadCallback();let m;if(c instanceof Float32Array)m=r.FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?m=r.HALF_FLOAT:m=r.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=r.SHORT;else if(c instanceof Uint32Array)m=r.UNSIGNED_INT;else if(c instanceof Int32Array)m=r.INT;else if(c instanceof Int8Array)m=r.BYTE;else if(c instanceof Uint8Array)m=r.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=r.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:d}}function n(o,l,c){const u=l.array,d=l.updateRanges;if(r.bindBuffer(c,o),d.length===0)r.bufferSubData(c,0,u);else{d.sort((m,v)=>m.start-v.start);let f=0;for(let m=1;m<d.length;m++){const v=d[f],y=d[m];y.start<=v.start+v.count+1?v.count=Math.max(v.count,y.start+y.count-v.start):(++f,d[f]=y)}d.length=f+1;for(let m=0,v=d.length;m<v;m++){const y=d[m];r.bufferSubData(c,y.start*u.BYTES_PER_ELEMENT,u,y.start,y.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(r.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const u=e.get(o);(!u||u.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,t(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(c.buffer,o,l),c.version=o.version}}return{get:i,remove:s,update:a}}var _5=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,M5=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,C5=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,E5=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,T5=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,R5=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,I5=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,P5=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,k5=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,L5=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,B5=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,D5=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,F5=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,N5=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,O5=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,U5=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,z5=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,H5=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,G5=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,V5=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,W5=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,X5=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Y5=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,j5=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,J5=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,K5=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Z5=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,q5=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Q5=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,$5=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,e6="gl_FragColor = linearToOutputTexel( gl_FragColor );",t6=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,n6=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,i6=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,r6=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,s6=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,a6=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,o6=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,l6=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,c6=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,u6=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,h6=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,d6=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,f6=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,p6=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,m6=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,g6=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,x6=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,v6=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,y6=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,b6=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,w6=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,A6=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,S6=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,_6=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,M6=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,C6=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,E6=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,T6=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,R6=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,I6=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,P6=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,k6=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,L6=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,B6=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,D6=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,F6=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,N6=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,O6=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,U6=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,z6=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,H6=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,G6=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,V6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,W6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,X6=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Y6=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,j6=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,J6=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,K6=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Z6=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,q6=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Q6=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,$6=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,e8=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,t8=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,n8=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,i8=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,r8=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,s8=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,a8=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,o8=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,l8=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,c8=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,u8=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,h8=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,d8=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,f8=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,p8=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,m8=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,g8=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,x8=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,v8=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,y8=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,b8=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,w8=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,A8=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const S8=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,_8=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,M8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,C8=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,E8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,T8=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,R8=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,I8=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,P8=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,k8=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,L8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,B8=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,D8=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,F8=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,N8=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,O8=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,U8=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,z8=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,H8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,G8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,V8=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,W8=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,X8=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Y8=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,j8=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,J8=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,K8=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Z8=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,q8=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Q8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,$8=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,eG=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,tG=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,nG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Cn={alphahash_fragment:_5,alphahash_pars_fragment:M5,alphamap_fragment:C5,alphamap_pars_fragment:E5,alphatest_fragment:T5,alphatest_pars_fragment:R5,aomap_fragment:I5,aomap_pars_fragment:P5,batching_pars_vertex:k5,batching_vertex:L5,begin_vertex:B5,beginnormal_vertex:D5,bsdfs:F5,iridescence_fragment:N5,bumpmap_pars_fragment:O5,clipping_planes_fragment:U5,clipping_planes_pars_fragment:z5,clipping_planes_pars_vertex:H5,clipping_planes_vertex:G5,color_fragment:V5,color_pars_fragment:W5,color_pars_vertex:X5,color_vertex:Y5,common:j5,cube_uv_reflection_fragment:J5,defaultnormal_vertex:K5,displacementmap_pars_vertex:Z5,displacementmap_vertex:q5,emissivemap_fragment:Q5,emissivemap_pars_fragment:$5,colorspace_fragment:e6,colorspace_pars_fragment:t6,envmap_fragment:n6,envmap_common_pars_fragment:i6,envmap_pars_fragment:r6,envmap_pars_vertex:s6,envmap_physical_pars_fragment:g6,envmap_vertex:a6,fog_vertex:o6,fog_pars_vertex:l6,fog_fragment:c6,fog_pars_fragment:u6,gradientmap_pars_fragment:h6,lightmap_pars_fragment:d6,lights_lambert_fragment:f6,lights_lambert_pars_fragment:p6,lights_pars_begin:m6,lights_toon_fragment:x6,lights_toon_pars_fragment:v6,lights_phong_fragment:y6,lights_phong_pars_fragment:b6,lights_physical_fragment:w6,lights_physical_pars_fragment:A6,lights_fragment_begin:S6,lights_fragment_maps:_6,lights_fragment_end:M6,logdepthbuf_fragment:C6,logdepthbuf_pars_fragment:E6,logdepthbuf_pars_vertex:T6,logdepthbuf_vertex:R6,map_fragment:I6,map_pars_fragment:P6,map_particle_fragment:k6,map_particle_pars_fragment:L6,metalnessmap_fragment:B6,metalnessmap_pars_fragment:D6,morphinstance_vertex:F6,morphcolor_vertex:N6,morphnormal_vertex:O6,morphtarget_pars_vertex:U6,morphtarget_vertex:z6,normal_fragment_begin:H6,normal_fragment_maps:G6,normal_pars_fragment:V6,normal_pars_vertex:W6,normal_vertex:X6,normalmap_pars_fragment:Y6,clearcoat_normal_fragment_begin:j6,clearcoat_normal_fragment_maps:J6,clearcoat_pars_fragment:K6,iridescence_pars_fragment:Z6,opaque_fragment:q6,packing:Q6,premultiplied_alpha_fragment:$6,project_vertex:e8,dithering_fragment:t8,dithering_pars_fragment:n8,roughnessmap_fragment:i8,roughnessmap_pars_fragment:r8,shadowmap_pars_fragment:s8,shadowmap_pars_vertex:a8,shadowmap_vertex:o8,shadowmask_pars_fragment:l8,skinbase_vertex:c8,skinning_pars_vertex:u8,skinning_vertex:h8,skinnormal_vertex:d8,specularmap_fragment:f8,specularmap_pars_fragment:p8,tonemapping_fragment:m8,tonemapping_pars_fragment:g8,transmission_fragment:x8,transmission_pars_fragment:v8,uv_pars_fragment:y8,uv_pars_vertex:b8,uv_vertex:w8,worldpos_vertex:A8,background_vert:S8,background_frag:_8,backgroundCube_vert:M8,backgroundCube_frag:C8,cube_vert:E8,cube_frag:T8,depth_vert:R8,depth_frag:I8,distanceRGBA_vert:P8,distanceRGBA_frag:k8,equirect_vert:L8,equirect_frag:B8,linedashed_vert:D8,linedashed_frag:F8,meshbasic_vert:N8,meshbasic_frag:O8,meshlambert_vert:U8,meshlambert_frag:z8,meshmatcap_vert:H8,meshmatcap_frag:G8,meshnormal_vert:V8,meshnormal_frag:W8,meshphong_vert:X8,meshphong_frag:Y8,meshphysical_vert:j8,meshphysical_frag:J8,meshtoon_vert:K8,meshtoon_frag:Z8,points_vert:q8,points_frag:Q8,shadow_vert:$8,shadow_frag:eG,sprite_vert:tG,sprite_frag:nG},St={common:{diffuse:{value:new gt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new bn},alphaMap:{value:null},alphaMapTransform:{value:new bn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new bn}},envmap:{envMap:{value:null},envMapRotation:{value:new bn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new bn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new bn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new bn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new bn},normalScale:{value:new Ke(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new bn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new bn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new bn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new bn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new gt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new gt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new bn},alphaTest:{value:0},uvTransform:{value:new bn}},sprite:{diffuse:{value:new gt(16777215)},opacity:{value:1},center:{value:new Ke(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new bn},alphaMap:{value:null},alphaMapTransform:{value:new bn},alphaTest:{value:0}}},ro={basic:{uniforms:gs([St.common,St.specularmap,St.envmap,St.aomap,St.lightmap,St.fog]),vertexShader:Cn.meshbasic_vert,fragmentShader:Cn.meshbasic_frag},lambert:{uniforms:gs([St.common,St.specularmap,St.envmap,St.aomap,St.lightmap,St.emissivemap,St.bumpmap,St.normalmap,St.displacementmap,St.fog,St.lights,{emissive:{value:new gt(0)}}]),vertexShader:Cn.meshlambert_vert,fragmentShader:Cn.meshlambert_frag},phong:{uniforms:gs([St.common,St.specularmap,St.envmap,St.aomap,St.lightmap,St.emissivemap,St.bumpmap,St.normalmap,St.displacementmap,St.fog,St.lights,{emissive:{value:new gt(0)},specular:{value:new gt(1118481)},shininess:{value:30}}]),vertexShader:Cn.meshphong_vert,fragmentShader:Cn.meshphong_frag},standard:{uniforms:gs([St.common,St.envmap,St.aomap,St.lightmap,St.emissivemap,St.bumpmap,St.normalmap,St.displacementmap,St.roughnessmap,St.metalnessmap,St.fog,St.lights,{emissive:{value:new gt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Cn.meshphysical_vert,fragmentShader:Cn.meshphysical_frag},toon:{uniforms:gs([St.common,St.aomap,St.lightmap,St.emissivemap,St.bumpmap,St.normalmap,St.displacementmap,St.gradientmap,St.fog,St.lights,{emissive:{value:new gt(0)}}]),vertexShader:Cn.meshtoon_vert,fragmentShader:Cn.meshtoon_frag},matcap:{uniforms:gs([St.common,St.bumpmap,St.normalmap,St.displacementmap,St.fog,{matcap:{value:null}}]),vertexShader:Cn.meshmatcap_vert,fragmentShader:Cn.meshmatcap_frag},points:{uniforms:gs([St.points,St.fog]),vertexShader:Cn.points_vert,fragmentShader:Cn.points_frag},dashed:{uniforms:gs([St.common,St.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Cn.linedashed_vert,fragmentShader:Cn.linedashed_frag},depth:{uniforms:gs([St.common,St.displacementmap]),vertexShader:Cn.depth_vert,fragmentShader:Cn.depth_frag},normal:{uniforms:gs([St.common,St.bumpmap,St.normalmap,St.displacementmap,{opacity:{value:1}}]),vertexShader:Cn.meshnormal_vert,fragmentShader:Cn.meshnormal_frag},sprite:{uniforms:gs([St.sprite,St.fog]),vertexShader:Cn.sprite_vert,fragmentShader:Cn.sprite_frag},background:{uniforms:{uvTransform:{value:new bn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Cn.background_vert,fragmentShader:Cn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new bn}},vertexShader:Cn.backgroundCube_vert,fragmentShader:Cn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Cn.cube_vert,fragmentShader:Cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Cn.equirect_vert,fragmentShader:Cn.equirect_frag},distanceRGBA:{uniforms:gs([St.common,St.displacementmap,{referencePosition:{value:new $},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Cn.distanceRGBA_vert,fragmentShader:Cn.distanceRGBA_frag},shadow:{uniforms:gs([St.lights,St.fog,{color:{value:new gt(0)},opacity:{value:1}}]),vertexShader:Cn.shadow_vert,fragmentShader:Cn.shadow_frag}};ro.physical={uniforms:gs([ro.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new bn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new bn},clearcoatNormalScale:{value:new Ke(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new bn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new bn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new bn},sheen:{value:0},sheenColor:{value:new gt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new bn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new bn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new bn},transmissionSamplerSize:{value:new Ke},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new bn},attenuationDistance:{value:0},attenuationColor:{value:new gt(0)},specularColor:{value:new gt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new bn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new bn},anisotropyVector:{value:new Ke},anisotropyMap:{value:null},anisotropyMapTransform:{value:new bn}}]),vertexShader:Cn.meshphysical_vert,fragmentShader:Cn.meshphysical_frag};const S0={r:0,b:0,g:0},Yu=new ia,iG=new Kt;function rG(r,e,t,n,i,s,a){const o=new gt(0);let l=s===!0?0:1,c,u,d=null,f=0,m=null;function v(M){let E=M.isScene===!0?M.background:null;return E&&E.isTexture&&(E=(M.backgroundBlurriness>0?t:e).get(E)),E}function y(M){let E=!1;const T=v(M);T===null?b(o,l):T&&T.isColor&&(b(T,1),E=!0);const R=r.xr.getEnvironmentBlendMode();R==="additive"?n.buffers.color.setClear(0,0,0,1,a):R==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,a),(r.autoClear||E)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil))}function w(M,E){const T=v(E);T&&(T.isCubeTexture||T.mapping===Yf)?(u===void 0&&(u=new yi(new Dh(1,1,1),new zr({name:"BackgroundCubeMaterial",uniforms:Df(ro.backgroundCube.uniforms),vertexShader:ro.backgroundCube.vertexShader,fragmentShader:ro.backgroundCube.fragmentShader,side:ws,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(R,P,k){this.matrixWorld.copyPosition(k.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),Yu.copy(E.backgroundRotation),Yu.x*=-1,Yu.y*=-1,Yu.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(Yu.y*=-1,Yu.z*=-1),u.material.uniforms.envMap.value=T,u.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=E.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(iG.makeRotationFromEuler(Yu)),u.material.toneMapped=On.getTransfer(T.colorSpace)!==ti,(d!==T||f!==T.version||m!==r.toneMapping)&&(u.material.needsUpdate=!0,d=T,f=T.version,m=r.toneMapping),u.layers.enableAll(),M.unshift(u,u.geometry,u.material,0,0,null)):T&&T.isTexture&&(c===void 0&&(c=new yi(new Hl(2,2),new zr({name:"BackgroundMaterial",uniforms:Df(ro.background.uniforms),vertexShader:ro.background.vertexShader,fragmentShader:ro.background.fragmentShader,side:Oo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=T,c.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,c.material.toneMapped=On.getTransfer(T.colorSpace)!==ti,T.matrixAutoUpdate===!0&&T.updateMatrix(),c.material.uniforms.uvTransform.value.copy(T.matrix),(d!==T||f!==T.version||m!==r.toneMapping)&&(c.material.needsUpdate=!0,d=T,f=T.version,m=r.toneMapping),c.layers.enableAll(),M.unshift(c,c.geometry,c.material,0,0,null))}function b(M,E){M.getRGB(S0,PP(r)),n.buffers.color.setClear(S0.r,S0.g,S0.b,E,a)}function S(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(M,E=1){o.set(M),l=E,b(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(M){l=M,b(o,l)},render:y,addToRenderList:w,dispose:S}}function sG(r,e){const t=r.getParameter(r.MAX_VERTEX_ATTRIBS),n={},i=f(null);let s=i,a=!1;function o(D,O,V,X,K){let ie=!1;const ee=d(X,V,O);s!==ee&&(s=ee,c(s.object)),ie=m(D,X,V,K),ie&&v(D,X,V,K),K!==null&&e.update(K,r.ELEMENT_ARRAY_BUFFER),(ie||a)&&(a=!1,E(D,O,V,X),K!==null&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.get(K).buffer))}function l(){return r.createVertexArray()}function c(D){return r.bindVertexArray(D)}function u(D){return r.deleteVertexArray(D)}function d(D,O,V){const X=V.wireframe===!0;let K=n[D.id];K===void 0&&(K={},n[D.id]=K);let ie=K[O.id];ie===void 0&&(ie={},K[O.id]=ie);let ee=ie[X];return ee===void 0&&(ee=f(l()),ie[X]=ee),ee}function f(D){const O=[],V=[],X=[];for(let K=0;K<t;K++)O[K]=0,V[K]=0,X[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:V,attributeDivisors:X,object:D,attributes:{},index:null}}function m(D,O,V,X){const K=s.attributes,ie=O.attributes;let ee=0;const ae=V.getAttributes();for(const z in ae)if(ae[z].location>=0){const Z=K[z];let Y=ie[z];if(Y===void 0&&(z==="instanceMatrix"&&D.instanceMatrix&&(Y=D.instanceMatrix),z==="instanceColor"&&D.instanceColor&&(Y=D.instanceColor)),Z===void 0||Z.attribute!==Y||Y&&Z.data!==Y.data)return!0;ee++}return s.attributesNum!==ee||s.index!==X}function v(D,O,V,X){const K={},ie=O.attributes;let ee=0;const ae=V.getAttributes();for(const z in ae)if(ae[z].location>=0){let Z=ie[z];Z===void 0&&(z==="instanceMatrix"&&D.instanceMatrix&&(Z=D.instanceMatrix),z==="instanceColor"&&D.instanceColor&&(Z=D.instanceColor));const Y={};Y.attribute=Z,Z&&Z.data&&(Y.data=Z.data),K[z]=Y,ee++}s.attributes=K,s.attributesNum=ee,s.index=X}function y(){const D=s.newAttributes;for(let O=0,V=D.length;O<V;O++)D[O]=0}function w(D){b(D,0)}function b(D,O){const V=s.newAttributes,X=s.enabledAttributes,K=s.attributeDivisors;V[D]=1,X[D]===0&&(r.enableVertexAttribArray(D),X[D]=1),K[D]!==O&&(r.vertexAttribDivisor(D,O),K[D]=O)}function S(){const D=s.newAttributes,O=s.enabledAttributes;for(let V=0,X=O.length;V<X;V++)O[V]!==D[V]&&(r.disableVertexAttribArray(V),O[V]=0)}function M(D,O,V,X,K,ie,ee){ee===!0?r.vertexAttribIPointer(D,O,V,K,ie):r.vertexAttribPointer(D,O,V,X,K,ie)}function E(D,O,V,X){y();const K=X.attributes,ie=V.getAttributes(),ee=O.defaultAttributeValues;for(const ae in ie){const z=ie[ae];if(z.location>=0){let Q=K[ae];if(Q===void 0&&(ae==="instanceMatrix"&&D.instanceMatrix&&(Q=D.instanceMatrix),ae==="instanceColor"&&D.instanceColor&&(Q=D.instanceColor)),Q!==void 0){const Z=Q.normalized,Y=Q.itemSize,oe=e.get(Q);if(oe===void 0)continue;const Pe=oe.buffer,fe=oe.type,Ce=oe.bytesPerElement,Ae=fe===r.INT||fe===r.UNSIGNED_INT||Q.gpuType===yg;if(Q.isInterleavedBufferAttribute){const Se=Q.data,He=Se.stride,ut=Q.offset;if(Se.isInstancedInterleavedBuffer){for(let tt=0;tt<z.locationSize;tt++)b(z.location+tt,Se.meshPerAttribute);D.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=Se.meshPerAttribute*Se.count)}else for(let tt=0;tt<z.locationSize;tt++)w(z.location+tt);r.bindBuffer(r.ARRAY_BUFFER,Pe);for(let tt=0;tt<z.locationSize;tt++)M(z.location+tt,Y/z.locationSize,fe,Z,He*Ce,(ut+Y/z.locationSize*tt)*Ce,Ae)}else{if(Q.isInstancedBufferAttribute){for(let Se=0;Se<z.locationSize;Se++)b(z.location+Se,Q.meshPerAttribute);D.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=Q.meshPerAttribute*Q.count)}else for(let Se=0;Se<z.locationSize;Se++)w(z.location+Se);r.bindBuffer(r.ARRAY_BUFFER,Pe);for(let Se=0;Se<z.locationSize;Se++)M(z.location+Se,Y/z.locationSize,fe,Z,Y*Ce,Y/z.locationSize*Se*Ce,Ae)}}else if(ee!==void 0){const Z=ee[ae];if(Z!==void 0)switch(Z.length){case 2:r.vertexAttrib2fv(z.location,Z);break;case 3:r.vertexAttrib3fv(z.location,Z);break;case 4:r.vertexAttrib4fv(z.location,Z);break;default:r.vertexAttrib1fv(z.location,Z)}}}}S()}function T(){k();for(const D in n){const O=n[D];for(const V in O){const X=O[V];for(const K in X)u(X[K].object),delete X[K];delete O[V]}delete n[D]}}function R(D){if(n[D.id]===void 0)return;const O=n[D.id];for(const V in O){const X=O[V];for(const K in X)u(X[K].object),delete X[K];delete O[V]}delete n[D.id]}function P(D){for(const O in n){const V=n[O];if(V[D.id]===void 0)continue;const X=V[D.id];for(const K in X)u(X[K].object),delete X[K];delete V[D.id]}}function k(){B(),a=!0,s!==i&&(s=i,c(s.object))}function B(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:k,resetDefaultState:B,dispose:T,releaseStatesOfGeometry:R,releaseStatesOfProgram:P,initAttributes:y,enableAttribute:w,disableUnusedAttributes:S}}function aG(r,e,t){let n;function i(c){n=c}function s(c,u){r.drawArrays(n,c,u),t.update(u,n,1)}function a(c,u,d){d!==0&&(r.drawArraysInstanced(n,c,u,d),t.update(u,n,d))}function o(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,c,0,u,0,d);let m=0;for(let v=0;v<d;v++)m+=u[v];t.update(m,n,1)}function l(c,u,d,f){if(d===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<c.length;v++)a(c[v],u[v],f[v]);else{m.multiDrawArraysInstancedWEBGL(n,c,0,u,0,f,0,d);let v=0;for(let y=0;y<d;y++)v+=u[y]*f[y];t.update(v,n,1)}}this.setMode=i,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function oG(r,e,t,n){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");i=r.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(P){return!(P!==Vi&&n.convert(P)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(P){const k=P===dr&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==zs&&n.convert(P)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==Ri&&!k)}function l(P){if(P==="highp"){if(r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=t.logarithmicDepthBuffer===!0,f=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),m=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),v=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=r.getParameter(r.MAX_TEXTURE_SIZE),w=r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),b=r.getParameter(r.MAX_VERTEX_ATTRIBS),S=r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),M=r.getParameter(r.MAX_VARYING_VECTORS),E=r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),T=v>0,R=r.getParameter(r.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:f,maxTextures:m,maxVertexTextures:v,maxTextureSize:y,maxCubemapSize:w,maxAttributes:b,maxVertexUniforms:S,maxVaryings:M,maxFragmentUniforms:E,vertexTextures:T,maxSamples:R}}function lG(r){const e=this;let t=null,n=0,i=!1,s=!1;const a=new Ic,o=new bn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const m=d.length!==0||f||n!==0||i;return i=f,n=d.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){t=u(d,f,0)},this.setState=function(d,f,m){const v=d.clippingPlanes,y=d.clipIntersection,w=d.clipShadows,b=r.get(d);if(!i||v===null||v.length===0||s&&!w)s?u(null):c();else{const S=s?0:n,M=S*4;let E=b.clippingState||null;l.value=E,E=u(v,f,M,m);for(let T=0;T!==M;++T)E[T]=t[T];b.clippingState=E,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=S}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(d,f,m,v){const y=d!==null?d.length:0;let w=null;if(y!==0){if(w=l.value,v!==!0||w===null){const b=m+y*4,S=f.matrixWorldInverse;o.getNormalMatrix(S),(w===null||w.length<b)&&(w=new Float32Array(b));for(let M=0,E=m;M!==y;++M,E+=4)a.copy(d[M]).applyMatrix4(S,o),a.normal.toArray(w,E),w[E+3]=a.constant}l.value=w,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,w}}function cG(r){let e=new WeakMap;function t(a,o){return o===Rf?a.mapping=Uo:o===jm&&(a.mapping=Gc),a}function n(a){if(a&&a.isTexture){const o=a.mapping;if(o===Rf||o===jm)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new MS(l.height);return c.fromEquirectangularTexture(r,a),e.set(a,c),a.addEventListener("dispose",i),t(c.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}const xf=4,hE=[.125,.215,.35,.446,.526,.582],nh=20,k1=new Oh,dE=new gt;let L1=null,B1=0,D1=0,F1=!1;const eh=(1+Math.sqrt(5))/2,nf=1/eh,fE=[new $(-eh,nf,0),new $(eh,nf,0),new $(-nf,0,eh),new $(nf,0,eh),new $(0,eh,-nf),new $(0,eh,nf),new $(-1,1,-1),new $(1,1,-1),new $(-1,1,1),new $(1,1,1)];class rA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){L1=this._renderer.getRenderTarget(),B1=this._renderer.getActiveCubeFace(),D1=this._renderer.getActiveMipmapLevel(),F1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=gE(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=mE(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(L1,B1,D1),this._renderer.xr.enabled=F1,e.scissorTest=!1,_0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Uo||e.mapping===Gc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),L1=this._renderer.getRenderTarget(),B1=this._renderer.getActiveCubeFace(),D1=this._renderer.getActiveMipmapLevel(),F1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:jn,minFilter:jn,generateMipmaps:!1,type:dr,format:Vi,colorSpace:Ho,depthBuffer:!1},i=pE(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=pE(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=uG(s)),this._blurMaterial=hG(s,e,t)}return i}_compileMaterial(e){const t=new yi(this._lodPlanes[0],e);this._renderer.compile(t,k1)}_sceneToCubeUV(e,t,n,i){const o=new ur(90,1,t,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(dE),u.toneMapping=Do,u.autoClear=!1;const m=new Us({name:"PMREM.Background",side:ws,depthWrite:!1,depthTest:!1}),v=new yi(new Dh,m);let y=!1;const w=e.background;w?w.isColor&&(m.color.copy(w),e.background=null,y=!0):(m.color.copy(dE),y=!0);for(let b=0;b<6;b++){const S=b%3;S===0?(o.up.set(0,l[b],0),o.lookAt(c[b],0,0)):S===1?(o.up.set(0,0,l[b]),o.lookAt(0,c[b],0)):(o.up.set(0,l[b],0),o.lookAt(0,0,c[b]));const M=this._cubeSize;_0(i,S*M,b>2?M:0,M,M),u.setRenderTarget(i),y&&u.render(v,o),u.render(e,o)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=w}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===Uo||e.mapping===Gc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=gE()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=mE());const s=i?this._cubemapMaterial:this._equirectMaterial,a=new yi(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;_0(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(a,k1)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=fE[(i-s-1)%fE.length];this._blur(e,s-1,s,a,o)}t.autoClear=n}_blur(e,t,n,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,i,"latitudinal",s),this._halfBlur(a,e,n,n,i,"longitudinal",s)}_halfBlur(e,t,n,i,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new yi(this._lodPlanes[i],c),f=c.uniforms,m=this._sizeLods[n]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*nh-1),y=s/v,w=isFinite(s)?1+Math.floor(u*y):nh;w>nh&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${nh}`);const b=[];let S=0;for(let P=0;P<nh;++P){const k=P/y,B=Math.exp(-k*k/2);b.push(B),P===0?S+=B:P<w&&(S+=2*B)}for(let P=0;P<b.length;P++)b[P]=b[P]/S;f.envMap.value=e.texture,f.samples.value=w,f.weights.value=b,f.latitudinal.value=a==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:M}=this;f.dTheta.value=v,f.mipInt.value=M-n;const E=this._sizeLods[i],T=3*E*(i>M-xf?i-M+xf:0),R=4*(this._cubeSize-E);_0(t,T,R,3*E,2*E),l.setRenderTarget(t),l.render(d,k1)}}function uG(r){const e=[],t=[],n=[];let i=r;const s=r-xf+1+hE.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);t.push(o);let l=1/o;a>r-xf?l=hE[a-r+xf-1]:a===0&&(l=0),n.push(l);const c=1/(o-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,v=6,y=3,w=2,b=1,S=new Float32Array(y*v*m),M=new Float32Array(w*v*m),E=new Float32Array(b*v*m);for(let R=0;R<m;R++){const P=R%3*2/3-1,k=R>2?0:-1,B=[P,k,0,P+2/3,k,0,P+2/3,k+1,0,P,k,0,P+2/3,k+1,0,P,k+1,0];S.set(B,y*v*R),M.set(f,w*v*R);const D=[R,R,R,R,R,R];E.set(D,b*v*R)}const T=new wn;T.setAttribute("position",new Vn(S,y)),T.setAttribute("uv",new Vn(M,w)),T.setAttribute("faceIndex",new Vn(E,b)),e.push(T),i>xf&&i--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function pE(r,e,t){const n=new ts(r,e,t);return n.texture.mapping=Yf,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function _0(r,e,t,n,i){r.viewport.set(e,t,n,i),r.scissor.set(e,t,n,i)}function hG(r,e,t){const n=new Float32Array(nh),i=new $(0,1,0);return new zr({name:"SphericalGaussianBlur",defines:{n:nh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:t_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Bo,depthTest:!1,depthWrite:!1})}function mE(){return new zr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:t_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Bo,depthTest:!1,depthWrite:!1})}function gE(){return new zr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:t_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Bo,depthTest:!1,depthWrite:!1})}function t_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function dG(r){let e=new WeakMap,t=null;function n(o){if(o&&o.isTexture){const l=o.mapping,c=l===Rf||l===jm,u=l===Uo||l===Gc;if(c||u){let d=e.get(o);const f=d!==void 0?d.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==f)return t===null&&(t=new rA(r)),d=c?t.fromEquirectangular(o,d):t.fromCubemap(o,d),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),d.texture;if(d!==void 0)return d.texture;{const m=o.image;return c&&m&&m.height>0||u&&m&&i(m)?(t===null&&(t=new rA(r)),d=c?t.fromEquirectangular(o):t.fromCubemap(o),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),o.addEventListener("dispose",s),d.texture):null}}}return o}function i(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:a}}function fG(r){const e={};function t(n){if(e[n]!==void 0)return e[n];let i;switch(n){case"WEBGL_depth_texture":i=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=r.getExtension(n)}return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const i=t(n);return i===null&&af("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function pG(r,e,t,n){const i={},s=new WeakMap;function a(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const v in f.attributes)e.remove(f.attributes[v]);f.removeEventListener("dispose",a),delete i[f.id];const m=s.get(f);m&&(e.remove(m),s.delete(f)),n.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function o(d,f){return i[f.id]===!0||(f.addEventListener("dispose",a),i[f.id]=!0,t.memory.geometries++),f}function l(d){const f=d.attributes;for(const m in f)e.update(f[m],r.ARRAY_BUFFER)}function c(d){const f=[],m=d.index,v=d.attributes.position;let y=0;if(m!==null){const S=m.array;y=m.version;for(let M=0,E=S.length;M<E;M+=3){const T=S[M+0],R=S[M+1],P=S[M+2];f.push(T,R,R,P,P,T)}}else if(v!==void 0){const S=v.array;y=v.version;for(let M=0,E=S.length/3-1;M<E;M+=3){const T=M+0,R=M+1,P=M+2;f.push(T,R,R,P,P,T)}}else return;const w=new(EP(f)?SS:AS)(f,1);w.version=y;const b=s.get(d);b&&e.remove(b),s.set(d,w)}function u(d){const f=s.get(d);if(f){const m=d.index;m!==null&&f.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:o,update:l,getWireframeAttribute:u}}function mG(r,e,t){let n;function i(f){n=f}let s,a;function o(f){s=f.type,a=f.bytesPerElement}function l(f,m){r.drawElements(n,m,s,f*a),t.update(m,n,1)}function c(f,m,v){v!==0&&(r.drawElementsInstanced(n,m,s,f*a,v),t.update(m,n,v))}function u(f,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,m,0,s,f,0,v);let w=0;for(let b=0;b<v;b++)w+=m[b];t.update(w,n,1)}function d(f,m,v,y){if(v===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let b=0;b<f.length;b++)c(f[b]/a,m[b],y[b]);else{w.multiDrawElementsInstancedWEBGL(n,m,0,s,f,0,y,0,v);let b=0;for(let S=0;S<v;S++)b+=m[S]*y[S];t.update(b,n,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function gG(r){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,a,o){switch(t.calls++,a){case r.TRIANGLES:t.triangles+=o*(s/3);break;case r.LINES:t.lines+=o*(s/2);break;case r.LINE_STRIP:t.lines+=o*(s-1);break;case r.LINE_LOOP:t.lines+=o*s;break;case r.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function xG(r,e,t){const n=new WeakMap,i=new Gn;function s(a,o,l){const c=a.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=u!==void 0?u.length:0;let f=n.get(o);if(f===void 0||f.count!==d){let D=function(){k.dispose(),n.delete(o),o.removeEventListener("dispose",D)};var m=D;f!==void 0&&f.texture.dispose();const v=o.morphAttributes.position!==void 0,y=o.morphAttributes.normal!==void 0,w=o.morphAttributes.color!==void 0,b=o.morphAttributes.position||[],S=o.morphAttributes.normal||[],M=o.morphAttributes.color||[];let E=0;v===!0&&(E=1),y===!0&&(E=2),w===!0&&(E=3);let T=o.attributes.position.count*E,R=1;T>e.maxTextureSize&&(R=Math.ceil(T/e.maxTextureSize),T=e.maxTextureSize);const P=new Float32Array(T*R*4*d),k=new Ag(P,T,R,d);k.type=Ri,k.needsUpdate=!0;const B=E*4;for(let O=0;O<d;O++){const V=b[O],X=S[O],K=M[O],ie=T*R*4*O;for(let ee=0;ee<V.count;ee++){const ae=ee*B;v===!0&&(i.fromBufferAttribute(V,ee),P[ie+ae+0]=i.x,P[ie+ae+1]=i.y,P[ie+ae+2]=i.z,P[ie+ae+3]=0),y===!0&&(i.fromBufferAttribute(X,ee),P[ie+ae+4]=i.x,P[ie+ae+5]=i.y,P[ie+ae+6]=i.z,P[ie+ae+7]=0),w===!0&&(i.fromBufferAttribute(K,ee),P[ie+ae+8]=i.x,P[ie+ae+9]=i.y,P[ie+ae+10]=i.z,P[ie+ae+11]=K.itemSize===4?i.w:1)}}f={count:d,texture:k,size:new Ke(T,R)},n.set(o,f),o.addEventListener("dispose",D)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(r,"morphTexture",a.morphTexture,t);else{let v=0;for(let w=0;w<c.length;w++)v+=c[w];const y=o.morphTargetsRelative?1:1-v;l.getUniforms().setValue(r,"morphTargetBaseInfluence",y),l.getUniforms().setValue(r,"morphTargetInfluences",c)}l.getUniforms().setValue(r,"morphTargetsTexture",f.texture,t),l.getUniforms().setValue(r,"morphTargetsTextureSize",f.size)}return{update:s}}function vG(r,e,t,n){let i=new WeakMap;function s(l){const c=n.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==c&&(t.update(l.instanceMatrix,r.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,r.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function a(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:a}}const Sk=new qn,xE=new PS(1,1),_k=new Ag,Mk=new cy,Ck=new _g,vE=[],yE=[],bE=new Float32Array(16),wE=new Float32Array(9),AE=new Float32Array(4);function Zf(r,e,t){const n=r[0];if(n<=0||n>0)return r;const i=e*t;let s=vE[i];if(s===void 0&&(s=new Float32Array(i),vE[i]=s),e!==0){n.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,r[a].toArray(s,o)}return s}function mr(r,e){if(r.length!==e.length)return!1;for(let t=0,n=r.length;t<n;t++)if(r[t]!==e[t])return!1;return!0}function gr(r,e){for(let t=0,n=e.length;t<n;t++)r[t]=e[t]}function Py(r,e){let t=yE[e];t===void 0&&(t=new Int32Array(e),yE[e]=t);for(let n=0;n!==e;++n)t[n]=r.allocateTextureUnit();return t}function yG(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function bG(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(mr(t,e))return;r.uniform2fv(this.addr,e),gr(t,e)}}function wG(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(mr(t,e))return;r.uniform3fv(this.addr,e),gr(t,e)}}function AG(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(mr(t,e))return;r.uniform4fv(this.addr,e),gr(t,e)}}function SG(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(mr(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),gr(t,e)}else{if(mr(t,n))return;AE.set(n),r.uniformMatrix2fv(this.addr,!1,AE),gr(t,n)}}function _G(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(mr(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),gr(t,e)}else{if(mr(t,n))return;wE.set(n),r.uniformMatrix3fv(this.addr,!1,wE),gr(t,n)}}function MG(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(mr(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),gr(t,e)}else{if(mr(t,n))return;bE.set(n),r.uniformMatrix4fv(this.addr,!1,bE),gr(t,n)}}function CG(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function EG(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(mr(t,e))return;r.uniform2iv(this.addr,e),gr(t,e)}}function TG(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(mr(t,e))return;r.uniform3iv(this.addr,e),gr(t,e)}}function RG(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(mr(t,e))return;r.uniform4iv(this.addr,e),gr(t,e)}}function IG(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function PG(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(mr(t,e))return;r.uniform2uiv(this.addr,e),gr(t,e)}}function kG(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(mr(t,e))return;r.uniform3uiv(this.addr,e),gr(t,e)}}function LG(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(mr(t,e))return;r.uniform4uiv(this.addr,e),gr(t,e)}}function BG(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i);let s;this.type===r.SAMPLER_2D_SHADOW?(xE.compareFunction=bS,s=xE):s=Sk,t.setTexture2D(e||s,i)}function DG(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||Mk,i)}function FG(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||Ck,i)}function NG(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||_k,i)}function OG(r){switch(r){case 5126:return yG;case 35664:return bG;case 35665:return wG;case 35666:return AG;case 35674:return SG;case 35675:return _G;case 35676:return MG;case 5124:case 35670:return CG;case 35667:case 35671:return EG;case 35668:case 35672:return TG;case 35669:case 35673:return RG;case 5125:return IG;case 36294:return PG;case 36295:return kG;case 36296:return LG;case 35678:case 36198:case 36298:case 36306:case 35682:return BG;case 35679:case 36299:case 36307:return DG;case 35680:case 36300:case 36308:case 36293:return FG;case 36289:case 36303:case 36311:case 36292:return NG}}function UG(r,e){r.uniform1fv(this.addr,e)}function zG(r,e){const t=Zf(e,this.size,2);r.uniform2fv(this.addr,t)}function HG(r,e){const t=Zf(e,this.size,3);r.uniform3fv(this.addr,t)}function GG(r,e){const t=Zf(e,this.size,4);r.uniform4fv(this.addr,t)}function VG(r,e){const t=Zf(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function WG(r,e){const t=Zf(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function XG(r,e){const t=Zf(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function YG(r,e){r.uniform1iv(this.addr,e)}function jG(r,e){r.uniform2iv(this.addr,e)}function JG(r,e){r.uniform3iv(this.addr,e)}function KG(r,e){r.uniform4iv(this.addr,e)}function ZG(r,e){r.uniform1uiv(this.addr,e)}function qG(r,e){r.uniform2uiv(this.addr,e)}function QG(r,e){r.uniform3uiv(this.addr,e)}function $G(r,e){r.uniform4uiv(this.addr,e)}function e9(r,e,t){const n=this.cache,i=e.length,s=Py(t,i);mr(n,s)||(r.uniform1iv(this.addr,s),gr(n,s));for(let a=0;a!==i;++a)t.setTexture2D(e[a]||Sk,s[a])}function t9(r,e,t){const n=this.cache,i=e.length,s=Py(t,i);mr(n,s)||(r.uniform1iv(this.addr,s),gr(n,s));for(let a=0;a!==i;++a)t.setTexture3D(e[a]||Mk,s[a])}function n9(r,e,t){const n=this.cache,i=e.length,s=Py(t,i);mr(n,s)||(r.uniform1iv(this.addr,s),gr(n,s));for(let a=0;a!==i;++a)t.setTextureCube(e[a]||Ck,s[a])}function i9(r,e,t){const n=this.cache,i=e.length,s=Py(t,i);mr(n,s)||(r.uniform1iv(this.addr,s),gr(n,s));for(let a=0;a!==i;++a)t.setTexture2DArray(e[a]||_k,s[a])}function r9(r){switch(r){case 5126:return UG;case 35664:return zG;case 35665:return HG;case 35666:return GG;case 35674:return VG;case 35675:return WG;case 35676:return XG;case 5124:case 35670:return YG;case 35667:case 35671:return jG;case 35668:case 35672:return JG;case 35669:case 35673:return KG;case 5125:return ZG;case 36294:return qG;case 36295:return QG;case 36296:return $G;case 35678:case 36198:case 36298:case 36306:case 35682:return e9;case 35679:case 36299:case 36307:return t9;case 35680:case 36300:case 36308:case 36293:return n9;case 36289:case 36303:case 36311:case 36292:return i9}}class s9{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=OG(t.type)}}class a9{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=r9(t.type)}}class o9{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,t[o.id],n)}}}const N1=/(\w+)(\])?(\[|\.)?/g;function SE(r,e){r.seq.push(e),r.map[e.id]=e}function l9(r,e,t){const n=r.name,i=n.length;for(N1.lastIndex=0;;){const s=N1.exec(n),a=N1.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===i){SE(t,c===void 0?new s9(o,r,e):new a9(o,r,e));break}else{let d=t.map[o];d===void 0&&(d=new o9(o),SE(t,d)),t=d}}}class W0{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const s=e.getActiveUniform(t,i),a=e.getUniformLocation(t,s.name);l9(s,a,this)}}setValue(e,t,n,i){const s=this.map[t];s!==void 0&&s.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=n[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in t&&n.push(a)}return n}}function _E(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}const c9=37297;let u9=0;function h9(r,e){const t=r.split(`
`),n=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=i;a<s;a++){const o=a+1;n.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return n.join(`
`)}const ME=new bn;function d9(r){On._getMatrix(ME,On.workingColorSpace,r);const e=`mat3( ${ME.elements.map(t=>t.toFixed(4))} )`;switch(On.getTransfer(r)){case Km:return[e,"LinearTransferOETF"];case ti:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",r),[e,"LinearTransferOETF"]}}function CE(r,e,t){const n=r.getShaderParameter(e,r.COMPILE_STATUS),i=r.getShaderInfoLog(e).trim();if(n&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+h9(r.getShaderSource(e),a)}else return i}function f9(r,e){const t=d9(e);return[`vec4 ${r}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function p9(r,e){let t;switch(e){case aP:t="Linear";break;case oP:t="Reinhard";break;case lP:t="Cineon";break;case uS:t="ACESFilmic";break;case uP:t="AgX";break;case hP:t="Neutral";break;case cP:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const M0=new $;function m9(){On.getLuminanceCoefficients(M0);const r=M0.x.toFixed(4),e=M0.y.toFixed(4),t=M0.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${r}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function g9(r){return[r.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",r.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(vm).join(`
`)}function x9(r){const e=[];for(const t in r){const n=r[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function v9(r,e){const t={},n=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=r.getActiveAttrib(e,i),a=s.name;let o=1;s.type===r.FLOAT_MAT2&&(o=2),s.type===r.FLOAT_MAT3&&(o=3),s.type===r.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:r.getAttribLocation(e,a),locationSize:o}}return t}function vm(r){return r!==""}function EE(r,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function TE(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const y9=/^[ \t]*#include +<([\w\d./]+)>/gm;function sA(r){return r.replace(y9,w9)}const b9=new Map;function w9(r,e){let t=Cn[e];if(t===void 0){const n=b9.get(e);if(n!==void 0)t=Cn[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return sA(t)}const A9=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function RE(r){return r.replace(A9,S9)}function S9(r,e,t,n){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function IE(r){let e=`precision ${r.precision} float;
	precision ${r.precision} int;
	precision ${r.precision} sampler2D;
	precision ${r.precision} samplerCube;
	precision ${r.precision} sampler3D;
	precision ${r.precision} sampler2DArray;
	precision ${r.precision} sampler2DShadow;
	precision ${r.precision} samplerCubeShadow;
	precision ${r.precision} sampler2DArrayShadow;
	precision ${r.precision} isampler2D;
	precision ${r.precision} isampler3D;
	precision ${r.precision} isamplerCube;
	precision ${r.precision} isampler2DArray;
	precision ${r.precision} usampler2D;
	precision ${r.precision} usampler3D;
	precision ${r.precision} usamplerCube;
	precision ${r.precision} usampler2DArray;
	`;return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function _9(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===$v?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===Em?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===io&&(e="SHADOWMAP_TYPE_VSM"),e}function M9(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case Uo:case Gc:e="ENVMAP_TYPE_CUBE";break;case Yf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function C9(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case Gc:e="ENVMAP_MODE_REFRACTION";break}return e}function E9(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case vg:e="ENVMAP_BLENDING_MULTIPLY";break;case rP:e="ENVMAP_BLENDING_MIX";break;case sP:e="ENVMAP_BLENDING_ADD";break}return e}function T9(r){const e=r.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function R9(r,e,t,n){const i=r.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=_9(t),c=M9(t),u=C9(t),d=E9(t),f=T9(t),m=g9(t),v=x9(s),y=i.createProgram();let w,b,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(vm).join(`
`),w.length>0&&(w+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(vm).join(`
`),b.length>0&&(b+=`
`)):(w=[IE(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(vm).join(`
`),b=[IE(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Do?"#define TONE_MAPPING":"",t.toneMapping!==Do?Cn.tonemapping_pars_fragment:"",t.toneMapping!==Do?p9("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Cn.colorspace_pars_fragment,f9("linearToOutputTexel",t.outputColorSpace),m9(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(vm).join(`
`)),a=sA(a),a=EE(a,t),a=TE(a,t),o=sA(o),o=EE(o,t),o=TE(o,t),a=RE(a),o=RE(o),t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,w=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,b=["#define varying in",t.glslVersion===qw?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===qw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const M=S+w+a,E=S+b+o,T=_E(i,i.VERTEX_SHADER,M),R=_E(i,i.FRAGMENT_SHADER,E);i.attachShader(y,T),i.attachShader(y,R),t.index0AttributeName!==void 0?i.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function P(O){if(r.debug.checkShaderErrors){const V=i.getProgramInfoLog(y).trim(),X=i.getShaderInfoLog(T).trim(),K=i.getShaderInfoLog(R).trim();let ie=!0,ee=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(ie=!1,typeof r.debug.onShaderError=="function")r.debug.onShaderError(i,y,T,R);else{const ae=CE(i,T,"vertex"),z=CE(i,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+V+`
`+ae+`
`+z)}else V!==""?console.warn("THREE.WebGLProgram: Program Info Log:",V):(X===""||K==="")&&(ee=!1);ee&&(O.diagnostics={runnable:ie,programLog:V,vertexShader:{log:X,prefix:w},fragmentShader:{log:K,prefix:b}})}i.deleteShader(T),i.deleteShader(R),k=new W0(i,y),B=v9(i,y)}let k;this.getUniforms=function(){return k===void 0&&P(this),k};let B;this.getAttributes=function(){return B===void 0&&P(this),B};let D=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return D===!1&&(D=i.getProgramParameter(y,c9)),D},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=u9++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=T,this.fragmentShader=R,this}let I9=0;class P9{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new k9(e),t.set(e,n)),n}}class k9{constructor(e){this.id=I9++,this.code=e,this.usedTimes=0}}function L9(r,e,t,n,i,s,a){const o=new bh,l=new P9,c=new Set,u=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(B){return c.add(B),B===0?"uv":`uv${B}`}function w(B,D,O,V,X){const K=V.fog,ie=X.geometry,ee=B.isMeshStandardMaterial?V.environment:null,ae=(B.isMeshStandardMaterial?t:e).get(B.envMap||ee),z=ae&&ae.mapping===Yf?ae.image.height:null,Q=v[B.type];B.precision!==null&&(m=i.getMaxPrecision(B.precision),m!==B.precision&&console.warn("THREE.WebGLProgram.getParameters:",B.precision,"not supported, using",m,"instead."));const Z=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,Y=Z!==void 0?Z.length:0;let oe=0;ie.morphAttributes.position!==void 0&&(oe=1),ie.morphAttributes.normal!==void 0&&(oe=2),ie.morphAttributes.color!==void 0&&(oe=3);let Pe,fe,Ce,Ae;if(Q){const Tn=ro[Q];Pe=Tn.vertexShader,fe=Tn.fragmentShader}else Pe=B.vertexShader,fe=B.fragmentShader,l.update(B),Ce=l.getVertexShaderID(B),Ae=l.getFragmentShaderID(B);const Se=r.getRenderTarget(),He=r.state.buffers.depth.getReversed(),ut=X.isInstancedMesh===!0,tt=X.isBatchedMesh===!0,kt=!!B.map,je=!!B.matcap,Fe=!!ae,ne=!!B.aoMap,Bt=!!B.lightMap,nt=!!B.bumpMap,Ct=!!B.normalMap,ot=!!B.displacementMap,Jt=!!B.emissiveMap,dt=!!B.metalnessMap,te=!!B.roughnessMap,J=B.anisotropy>0,Me=B.clearcoat>0,Ge=B.dispersion>0,Je=B.iridescence>0,Ve=B.sheen>0,Dt=B.transmission>0,pt=J&&!!B.anisotropyMap,bt=Me&&!!B.clearcoatMap,un=Me&&!!B.clearcoatNormalMap,it=Me&&!!B.clearcoatRoughnessMap,Pt=Je&&!!B.iridescenceMap,Wt=Je&&!!B.iridescenceThicknessMap,Nt=Ve&&!!B.sheenColorMap,Rt=Ve&&!!B.sheenRoughnessMap,on=!!B.specularMap,Xt=!!B.specularColorMap,sn=!!B.specularIntensityMap,ye=Dt&&!!B.transmissionMap,Le=Dt&&!!B.thicknessMap,Be=!!B.gradientMap,We=!!B.alphaMap,wt=B.alphaTest>0,xt=!!B.alphaHash,an=!!B.extensions;let Qn=Do;B.toneMapped&&(Se===null||Se.isXRRenderTarget===!0)&&(Qn=r.toneMapping);const bi={shaderID:Q,shaderType:B.type,shaderName:B.name,vertexShader:Pe,fragmentShader:fe,defines:B.defines,customVertexShaderID:Ce,customFragmentShaderID:Ae,isRawShaderMaterial:B.isRawShaderMaterial===!0,glslVersion:B.glslVersion,precision:m,batching:tt,batchingColor:tt&&X._colorsTexture!==null,instancing:ut,instancingColor:ut&&X.instanceColor!==null,instancingMorph:ut&&X.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:Se===null?r.outputColorSpace:Se.isXRRenderTarget===!0?Se.texture.colorSpace:Ho,alphaToCoverage:!!B.alphaToCoverage,map:kt,matcap:je,envMap:Fe,envMapMode:Fe&&ae.mapping,envMapCubeUVHeight:z,aoMap:ne,lightMap:Bt,bumpMap:nt,normalMap:Ct,displacementMap:f&&ot,emissiveMap:Jt,normalMapObjectSpace:Ct&&B.normalMapType===yP,normalMapTangentSpace:Ct&&B.normalMapType===Yc,metalnessMap:dt,roughnessMap:te,anisotropy:J,anisotropyMap:pt,clearcoat:Me,clearcoatMap:bt,clearcoatNormalMap:un,clearcoatRoughnessMap:it,dispersion:Ge,iridescence:Je,iridescenceMap:Pt,iridescenceThicknessMap:Wt,sheen:Ve,sheenColorMap:Nt,sheenRoughnessMap:Rt,specularMap:on,specularColorMap:Xt,specularIntensityMap:sn,transmission:Dt,transmissionMap:ye,thicknessMap:Le,gradientMap:Be,opaque:B.transparent===!1&&B.blending===xh&&B.alphaToCoverage===!1,alphaMap:We,alphaTest:wt,alphaHash:xt,combine:B.combine,mapUv:kt&&y(B.map.channel),aoMapUv:ne&&y(B.aoMap.channel),lightMapUv:Bt&&y(B.lightMap.channel),bumpMapUv:nt&&y(B.bumpMap.channel),normalMapUv:Ct&&y(B.normalMap.channel),displacementMapUv:ot&&y(B.displacementMap.channel),emissiveMapUv:Jt&&y(B.emissiveMap.channel),metalnessMapUv:dt&&y(B.metalnessMap.channel),roughnessMapUv:te&&y(B.roughnessMap.channel),anisotropyMapUv:pt&&y(B.anisotropyMap.channel),clearcoatMapUv:bt&&y(B.clearcoatMap.channel),clearcoatNormalMapUv:un&&y(B.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:it&&y(B.clearcoatRoughnessMap.channel),iridescenceMapUv:Pt&&y(B.iridescenceMap.channel),iridescenceThicknessMapUv:Wt&&y(B.iridescenceThicknessMap.channel),sheenColorMapUv:Nt&&y(B.sheenColorMap.channel),sheenRoughnessMapUv:Rt&&y(B.sheenRoughnessMap.channel),specularMapUv:on&&y(B.specularMap.channel),specularColorMapUv:Xt&&y(B.specularColorMap.channel),specularIntensityMapUv:sn&&y(B.specularIntensityMap.channel),transmissionMapUv:ye&&y(B.transmissionMap.channel),thicknessMapUv:Le&&y(B.thicknessMap.channel),alphaMapUv:We&&y(B.alphaMap.channel),vertexTangents:!!ie.attributes.tangent&&(Ct||J),vertexColors:B.vertexColors,vertexAlphas:B.vertexColors===!0&&!!ie.attributes.color&&ie.attributes.color.itemSize===4,pointsUvs:X.isPoints===!0&&!!ie.attributes.uv&&(kt||We),fog:!!K,useFog:B.fog===!0,fogExp2:!!K&&K.isFogExp2,flatShading:B.flatShading===!0,sizeAttenuation:B.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:He,skinning:X.isSkinnedMesh===!0,morphTargets:ie.morphAttributes.position!==void 0,morphNormals:ie.morphAttributes.normal!==void 0,morphColors:ie.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:oe,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numSpotLightMaps:D.spotLightMap.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numSpotLightShadowsWithMaps:D.numSpotLightShadowsWithMaps,numLightProbes:D.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:B.dithering,shadowMapEnabled:r.shadowMap.enabled&&O.length>0,shadowMapType:r.shadowMap.type,toneMapping:Qn,decodeVideoTexture:kt&&B.map.isVideoTexture===!0&&On.getTransfer(B.map.colorSpace)===ti,decodeVideoTextureEmissive:Jt&&B.emissiveMap.isVideoTexture===!0&&On.getTransfer(B.emissiveMap.colorSpace)===ti,premultipliedAlpha:B.premultipliedAlpha,doubleSided:B.side===Sa,flipSided:B.side===ws,useDepthPacking:B.depthPacking>=0,depthPacking:B.depthPacking||0,index0AttributeName:B.index0AttributeName,extensionClipCullDistance:an&&B.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(an&&B.extensions.multiDraw===!0||tt)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:B.customProgramCacheKey()};return bi.vertexUv1s=c.has(1),bi.vertexUv2s=c.has(2),bi.vertexUv3s=c.has(3),c.clear(),bi}function b(B){const D=[];if(B.shaderID?D.push(B.shaderID):(D.push(B.customVertexShaderID),D.push(B.customFragmentShaderID)),B.defines!==void 0)for(const O in B.defines)D.push(O),D.push(B.defines[O]);return B.isRawShaderMaterial===!1&&(S(D,B),M(D,B),D.push(r.outputColorSpace)),D.push(B.customProgramCacheKey),D.join()}function S(B,D){B.push(D.precision),B.push(D.outputColorSpace),B.push(D.envMapMode),B.push(D.envMapCubeUVHeight),B.push(D.mapUv),B.push(D.alphaMapUv),B.push(D.lightMapUv),B.push(D.aoMapUv),B.push(D.bumpMapUv),B.push(D.normalMapUv),B.push(D.displacementMapUv),B.push(D.emissiveMapUv),B.push(D.metalnessMapUv),B.push(D.roughnessMapUv),B.push(D.anisotropyMapUv),B.push(D.clearcoatMapUv),B.push(D.clearcoatNormalMapUv),B.push(D.clearcoatRoughnessMapUv),B.push(D.iridescenceMapUv),B.push(D.iridescenceThicknessMapUv),B.push(D.sheenColorMapUv),B.push(D.sheenRoughnessMapUv),B.push(D.specularMapUv),B.push(D.specularColorMapUv),B.push(D.specularIntensityMapUv),B.push(D.transmissionMapUv),B.push(D.thicknessMapUv),B.push(D.combine),B.push(D.fogExp2),B.push(D.sizeAttenuation),B.push(D.morphTargetsCount),B.push(D.morphAttributeCount),B.push(D.numDirLights),B.push(D.numPointLights),B.push(D.numSpotLights),B.push(D.numSpotLightMaps),B.push(D.numHemiLights),B.push(D.numRectAreaLights),B.push(D.numDirLightShadows),B.push(D.numPointLightShadows),B.push(D.numSpotLightShadows),B.push(D.numSpotLightShadowsWithMaps),B.push(D.numLightProbes),B.push(D.shadowMapType),B.push(D.toneMapping),B.push(D.numClippingPlanes),B.push(D.numClipIntersection),B.push(D.depthPacking)}function M(B,D){o.disableAll(),D.supportsVertexTextures&&o.enable(0),D.instancing&&o.enable(1),D.instancingColor&&o.enable(2),D.instancingMorph&&o.enable(3),D.matcap&&o.enable(4),D.envMap&&o.enable(5),D.normalMapObjectSpace&&o.enable(6),D.normalMapTangentSpace&&o.enable(7),D.clearcoat&&o.enable(8),D.iridescence&&o.enable(9),D.alphaTest&&o.enable(10),D.vertexColors&&o.enable(11),D.vertexAlphas&&o.enable(12),D.vertexUv1s&&o.enable(13),D.vertexUv2s&&o.enable(14),D.vertexUv3s&&o.enable(15),D.vertexTangents&&o.enable(16),D.anisotropy&&o.enable(17),D.alphaHash&&o.enable(18),D.batching&&o.enable(19),D.dispersion&&o.enable(20),D.batchingColor&&o.enable(21),B.push(o.mask),o.disableAll(),D.fog&&o.enable(0),D.useFog&&o.enable(1),D.flatShading&&o.enable(2),D.logarithmicDepthBuffer&&o.enable(3),D.reverseDepthBuffer&&o.enable(4),D.skinning&&o.enable(5),D.morphTargets&&o.enable(6),D.morphNormals&&o.enable(7),D.morphColors&&o.enable(8),D.premultipliedAlpha&&o.enable(9),D.shadowMapEnabled&&o.enable(10),D.doubleSided&&o.enable(11),D.flipSided&&o.enable(12),D.useDepthPacking&&o.enable(13),D.dithering&&o.enable(14),D.transmission&&o.enable(15),D.sheen&&o.enable(16),D.opaque&&o.enable(17),D.pointsUvs&&o.enable(18),D.decodeVideoTexture&&o.enable(19),D.decodeVideoTextureEmissive&&o.enable(20),D.alphaToCoverage&&o.enable(21),B.push(o.mask)}function E(B){const D=v[B.type];let O;if(D){const V=ro[D];O=_S.clone(V.uniforms)}else O=B.uniforms;return O}function T(B,D){let O;for(let V=0,X=u.length;V<X;V++){const K=u[V];if(K.cacheKey===D){O=K,++O.usedTimes;break}}return O===void 0&&(O=new R9(r,D,B,s),u.push(O)),O}function R(B){if(--B.usedTimes===0){const D=u.indexOf(B);u[D]=u[u.length-1],u.pop(),B.destroy()}}function P(B){l.remove(B)}function k(){l.dispose()}return{getParameters:w,getProgramCacheKey:b,getUniforms:E,acquireProgram:T,releaseProgram:R,releaseShaderCache:P,programs:u,dispose:k}}function B9(){let r=new WeakMap;function e(a){return r.has(a)}function t(a){let o=r.get(a);return o===void 0&&(o={},r.set(a,o)),o}function n(a){r.delete(a)}function i(a,o,l){r.get(a)[o]=l}function s(){r=new WeakMap}return{has:e,get:t,remove:n,update:i,dispose:s}}function D9(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function PE(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function kE(){const r=[];let e=0;const t=[],n=[],i=[];function s(){e=0,t.length=0,n.length=0,i.length=0}function a(d,f,m,v,y,w){let b=r[e];return b===void 0?(b={id:d.id,object:d,geometry:f,material:m,groupOrder:v,renderOrder:d.renderOrder,z:y,group:w},r[e]=b):(b.id=d.id,b.object=d,b.geometry=f,b.material=m,b.groupOrder=v,b.renderOrder=d.renderOrder,b.z=y,b.group=w),e++,b}function o(d,f,m,v,y,w){const b=a(d,f,m,v,y,w);m.transmission>0?n.push(b):m.transparent===!0?i.push(b):t.push(b)}function l(d,f,m,v,y,w){const b=a(d,f,m,v,y,w);m.transmission>0?n.unshift(b):m.transparent===!0?i.unshift(b):t.unshift(b)}function c(d,f){t.length>1&&t.sort(d||D9),n.length>1&&n.sort(f||PE),i.length>1&&i.sort(f||PE)}function u(){for(let d=e,f=r.length;d<f;d++){const m=r[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:n,transparent:i,init:s,push:o,unshift:l,finish:u,sort:c}}function F9(){let r=new WeakMap;function e(n,i){const s=r.get(n);let a;return s===void 0?(a=new kE,r.set(n,[a])):i>=s.length?(a=new kE,s.push(a)):a=s[i],a}function t(){r=new WeakMap}return{get:e,dispose:t}}function N9(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new $,color:new gt};break;case"SpotLight":t={position:new $,direction:new $,color:new gt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new $,color:new gt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new $,skyColor:new gt,groundColor:new gt};break;case"RectAreaLight":t={color:new gt,position:new $,halfWidth:new $,halfHeight:new $};break}return r[e.id]=t,t}}}function O9(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ke};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ke};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ke,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}let U9=0;function z9(r,e){return(e.castShadow?2:0)-(r.castShadow?2:0)+(e.map?1:0)-(r.map?1:0)}function H9(r){const e=new N9,t=O9(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)n.probe.push(new $);const i=new $,s=new Kt,a=new Kt;function o(c){let u=0,d=0,f=0;for(let B=0;B<9;B++)n.probe[B].set(0,0,0);let m=0,v=0,y=0,w=0,b=0,S=0,M=0,E=0,T=0,R=0,P=0;c.sort(z9);for(let B=0,D=c.length;B<D;B++){const O=c[B],V=O.color,X=O.intensity,K=O.distance,ie=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)u+=V.r*X,d+=V.g*X,f+=V.b*X;else if(O.isLightProbe){for(let ee=0;ee<9;ee++)n.probe[ee].addScaledVector(O.sh.coefficients[ee],X);P++}else if(O.isDirectionalLight){const ee=e.get(O);if(ee.color.copy(O.color).multiplyScalar(O.intensity),O.castShadow){const ae=O.shadow,z=t.get(O);z.shadowIntensity=ae.intensity,z.shadowBias=ae.bias,z.shadowNormalBias=ae.normalBias,z.shadowRadius=ae.radius,z.shadowMapSize=ae.mapSize,n.directionalShadow[m]=z,n.directionalShadowMap[m]=ie,n.directionalShadowMatrix[m]=O.shadow.matrix,S++}n.directional[m]=ee,m++}else if(O.isSpotLight){const ee=e.get(O);ee.position.setFromMatrixPosition(O.matrixWorld),ee.color.copy(V).multiplyScalar(X),ee.distance=K,ee.coneCos=Math.cos(O.angle),ee.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),ee.decay=O.decay,n.spot[y]=ee;const ae=O.shadow;if(O.map&&(n.spotLightMap[T]=O.map,T++,ae.updateMatrices(O),O.castShadow&&R++),n.spotLightMatrix[y]=ae.matrix,O.castShadow){const z=t.get(O);z.shadowIntensity=ae.intensity,z.shadowBias=ae.bias,z.shadowNormalBias=ae.normalBias,z.shadowRadius=ae.radius,z.shadowMapSize=ae.mapSize,n.spotShadow[y]=z,n.spotShadowMap[y]=ie,E++}y++}else if(O.isRectAreaLight){const ee=e.get(O);ee.color.copy(V).multiplyScalar(X),ee.halfWidth.set(O.width*.5,0,0),ee.halfHeight.set(0,O.height*.5,0),n.rectArea[w]=ee,w++}else if(O.isPointLight){const ee=e.get(O);if(ee.color.copy(O.color).multiplyScalar(O.intensity),ee.distance=O.distance,ee.decay=O.decay,O.castShadow){const ae=O.shadow,z=t.get(O);z.shadowIntensity=ae.intensity,z.shadowBias=ae.bias,z.shadowNormalBias=ae.normalBias,z.shadowRadius=ae.radius,z.shadowMapSize=ae.mapSize,z.shadowCameraNear=ae.camera.near,z.shadowCameraFar=ae.camera.far,n.pointShadow[v]=z,n.pointShadowMap[v]=ie,n.pointShadowMatrix[v]=O.shadow.matrix,M++}n.point[v]=ee,v++}else if(O.isHemisphereLight){const ee=e.get(O);ee.skyColor.copy(O.color).multiplyScalar(X),ee.groundColor.copy(O.groundColor).multiplyScalar(X),n.hemi[b]=ee,b++}}w>0&&(r.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=St.LTC_FLOAT_1,n.rectAreaLTC2=St.LTC_FLOAT_2):(n.rectAreaLTC1=St.LTC_HALF_1,n.rectAreaLTC2=St.LTC_HALF_2)),n.ambient[0]=u,n.ambient[1]=d,n.ambient[2]=f;const k=n.hash;(k.directionalLength!==m||k.pointLength!==v||k.spotLength!==y||k.rectAreaLength!==w||k.hemiLength!==b||k.numDirectionalShadows!==S||k.numPointShadows!==M||k.numSpotShadows!==E||k.numSpotMaps!==T||k.numLightProbes!==P)&&(n.directional.length=m,n.spot.length=y,n.rectArea.length=w,n.point.length=v,n.hemi.length=b,n.directionalShadow.length=S,n.directionalShadowMap.length=S,n.pointShadow.length=M,n.pointShadowMap.length=M,n.spotShadow.length=E,n.spotShadowMap.length=E,n.directionalShadowMatrix.length=S,n.pointShadowMatrix.length=M,n.spotLightMatrix.length=E+T-R,n.spotLightMap.length=T,n.numSpotLightShadowsWithMaps=R,n.numLightProbes=P,k.directionalLength=m,k.pointLength=v,k.spotLength=y,k.rectAreaLength=w,k.hemiLength=b,k.numDirectionalShadows=S,k.numPointShadows=M,k.numSpotShadows=E,k.numSpotMaps=T,k.numLightProbes=P,n.version=U9++)}function l(c,u){let d=0,f=0,m=0,v=0,y=0;const w=u.matrixWorldInverse;for(let b=0,S=c.length;b<S;b++){const M=c[b];if(M.isDirectionalLight){const E=n.directional[d];E.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(w),d++}else if(M.isSpotLight){const E=n.spot[m];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(w),E.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(w),m++}else if(M.isRectAreaLight){const E=n.rectArea[v];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(w),a.identity(),s.copy(M.matrixWorld),s.premultiply(w),a.extractRotation(s),E.halfWidth.set(M.width*.5,0,0),E.halfHeight.set(0,M.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),v++}else if(M.isPointLight){const E=n.point[f];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(w),f++}else if(M.isHemisphereLight){const E=n.hemi[y];E.direction.setFromMatrixPosition(M.matrixWorld),E.direction.transformDirection(w),y++}}}return{setup:o,setupView:l,state:n}}function LE(r){const e=new H9(r),t=[],n=[];function i(u){c.camera=u,t.length=0,n.length=0}function s(u){t.push(u)}function a(u){n.push(u)}function o(){e.setup(t)}function l(u){e.setupView(t,u)}const c={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function G9(r){let e=new WeakMap;function t(i,s=0){const a=e.get(i);let o;return a===void 0?(o=new LE(r),e.set(i,[o])):s>=a.length?(o=new LE(r),a.push(o)):o=a[s],o}function n(){e=new WeakMap}return{get:t,dispose:n}}const V9=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,W9=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function X9(r,e,t){let n=new Tg;const i=new Ke,s=new Ke,a=new Gn,o=new Ty({depthPacking:vP}),l=new US,c={},u=t.maxTextureSize,d={[Oo]:ws,[ws]:Oo,[Sa]:Sa},f=new zr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ke},radius:{value:4}},vertexShader:V9,fragmentShader:W9}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const v=new wn;v.setAttribute("position",new Vn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new yi(v,f),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=$v;let b=this.type;this.render=function(R,P,k){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||R.length===0)return;const B=r.getRenderTarget(),D=r.getActiveCubeFace(),O=r.getActiveMipmapLevel(),V=r.state;V.setBlending(Bo),V.buffers.color.setClear(1,1,1,1),V.buffers.depth.setTest(!0),V.setScissorTest(!1);const X=b!==io&&this.type===io,K=b===io&&this.type!==io;for(let ie=0,ee=R.length;ie<ee;ie++){const ae=R[ie],z=ae.shadow;if(z===void 0){console.warn("THREE.WebGLShadowMap:",ae,"has no shadow.");continue}if(z.autoUpdate===!1&&z.needsUpdate===!1)continue;i.copy(z.mapSize);const Q=z.getFrameExtents();if(i.multiply(Q),s.copy(z.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/Q.x),i.x=s.x*Q.x,z.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/Q.y),i.y=s.y*Q.y,z.mapSize.y=s.y)),z.map===null||X===!0||K===!0){const Y=this.type!==io?{minFilter:Qi,magFilter:Qi}:{};z.map!==null&&z.map.dispose(),z.map=new ts(i.x,i.y,Y),z.map.texture.name=ae.name+".shadowMap",z.camera.updateProjectionMatrix()}r.setRenderTarget(z.map),r.clear();const Z=z.getViewportCount();for(let Y=0;Y<Z;Y++){const oe=z.getViewport(Y);a.set(s.x*oe.x,s.y*oe.y,s.x*oe.z,s.y*oe.w),V.viewport(a),z.updateMatrices(ae,Y),n=z.getFrustum(),E(P,k,z.camera,ae,this.type)}z.isPointLightShadow!==!0&&this.type===io&&S(z,k),z.needsUpdate=!1}b=this.type,w.needsUpdate=!1,r.setRenderTarget(B,D,O)};function S(R,P){const k=e.update(y);f.defines.VSM_SAMPLES!==R.blurSamples&&(f.defines.VSM_SAMPLES=R.blurSamples,m.defines.VSM_SAMPLES=R.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new ts(i.x,i.y)),f.uniforms.shadow_pass.value=R.map.texture,f.uniforms.resolution.value=R.mapSize,f.uniforms.radius.value=R.radius,r.setRenderTarget(R.mapPass),r.clear(),r.renderBufferDirect(P,null,k,f,y,null),m.uniforms.shadow_pass.value=R.mapPass.texture,m.uniforms.resolution.value=R.mapSize,m.uniforms.radius.value=R.radius,r.setRenderTarget(R.map),r.clear(),r.renderBufferDirect(P,null,k,m,y,null)}function M(R,P,k,B){let D=null;const O=k.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(O!==void 0)D=O;else if(D=k.isPointLight===!0?l:o,r.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const V=D.uuid,X=P.uuid;let K=c[V];K===void 0&&(K={},c[V]=K);let ie=K[X];ie===void 0&&(ie=D.clone(),K[X]=ie,P.addEventListener("dispose",T)),D=ie}if(D.visible=P.visible,D.wireframe=P.wireframe,B===io?D.side=P.shadowSide!==null?P.shadowSide:P.side:D.side=P.shadowSide!==null?P.shadowSide:d[P.side],D.alphaMap=P.alphaMap,D.alphaTest=P.alphaTest,D.map=P.map,D.clipShadows=P.clipShadows,D.clippingPlanes=P.clippingPlanes,D.clipIntersection=P.clipIntersection,D.displacementMap=P.displacementMap,D.displacementScale=P.displacementScale,D.displacementBias=P.displacementBias,D.wireframeLinewidth=P.wireframeLinewidth,D.linewidth=P.linewidth,k.isPointLight===!0&&D.isMeshDistanceMaterial===!0){const V=r.properties.get(D);V.light=k}return D}function E(R,P,k,B,D){if(R.visible===!1)return;if(R.layers.test(P.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&D===io)&&(!R.frustumCulled||n.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,R.matrixWorld);const X=e.update(R),K=R.material;if(Array.isArray(K)){const ie=X.groups;for(let ee=0,ae=ie.length;ee<ae;ee++){const z=ie[ee],Q=K[z.materialIndex];if(Q&&Q.visible){const Z=M(R,Q,B,D);R.onBeforeShadow(r,R,P,k,X,Z,z),r.renderBufferDirect(k,null,X,Z,R,z),R.onAfterShadow(r,R,P,k,X,Z,z)}}}else if(K.visible){const ie=M(R,K,B,D);R.onBeforeShadow(r,R,P,k,X,ie,null),r.renderBufferDirect(k,null,X,ie,R,null),R.onAfterShadow(r,R,P,k,X,ie,null)}}const V=R.children;for(let X=0,K=V.length;X<K;X++)E(V[X],P,k,B,D)}function T(R){R.target.removeEventListener("dispose",T);for(const k in c){const B=c[k],D=R.target.uuid;D in B&&(B[D].dispose(),delete B[D])}}}const Y9={[ov]:lv,[cv]:dv,[uv]:fv,[Mh]:hv,[lv]:ov,[dv]:cv,[fv]:uv,[hv]:Mh};function j9(r,e){function t(){let ye=!1;const Le=new Gn;let Be=null;const We=new Gn(0,0,0,0);return{setMask:function(wt){Be!==wt&&!ye&&(r.colorMask(wt,wt,wt,wt),Be=wt)},setLocked:function(wt){ye=wt},setClear:function(wt,xt,an,Qn,bi){bi===!0&&(wt*=Qn,xt*=Qn,an*=Qn),Le.set(wt,xt,an,Qn),We.equals(Le)===!1&&(r.clearColor(wt,xt,an,Qn),We.copy(Le))},reset:function(){ye=!1,Be=null,We.set(-1,0,0,0)}}}function n(){let ye=!1,Le=!1,Be=null,We=null,wt=null;return{setReversed:function(xt){if(Le!==xt){const an=e.get("EXT_clip_control");Le?an.clipControlEXT(an.LOWER_LEFT_EXT,an.ZERO_TO_ONE_EXT):an.clipControlEXT(an.LOWER_LEFT_EXT,an.NEGATIVE_ONE_TO_ONE_EXT);const Qn=wt;wt=null,this.setClear(Qn)}Le=xt},getReversed:function(){return Le},setTest:function(xt){xt?Se(r.DEPTH_TEST):He(r.DEPTH_TEST)},setMask:function(xt){Be!==xt&&!ye&&(r.depthMask(xt),Be=xt)},setFunc:function(xt){if(Le&&(xt=Y9[xt]),We!==xt){switch(xt){case ov:r.depthFunc(r.NEVER);break;case lv:r.depthFunc(r.ALWAYS);break;case cv:r.depthFunc(r.LESS);break;case Mh:r.depthFunc(r.LEQUAL);break;case uv:r.depthFunc(r.EQUAL);break;case hv:r.depthFunc(r.GEQUAL);break;case dv:r.depthFunc(r.GREATER);break;case fv:r.depthFunc(r.NOTEQUAL);break;default:r.depthFunc(r.LEQUAL)}We=xt}},setLocked:function(xt){ye=xt},setClear:function(xt){wt!==xt&&(Le&&(xt=1-xt),r.clearDepth(xt),wt=xt)},reset:function(){ye=!1,Be=null,We=null,wt=null,Le=!1}}}function i(){let ye=!1,Le=null,Be=null,We=null,wt=null,xt=null,an=null,Qn=null,bi=null;return{setTest:function(Tn){ye||(Tn?Se(r.STENCIL_TEST):He(r.STENCIL_TEST))},setMask:function(Tn){Le!==Tn&&!ye&&(r.stencilMask(Tn),Le=Tn)},setFunc:function(Tn,$i,er){(Be!==Tn||We!==$i||wt!==er)&&(r.stencilFunc(Tn,$i,er),Be=Tn,We=$i,wt=er)},setOp:function(Tn,$i,er){(xt!==Tn||an!==$i||Qn!==er)&&(r.stencilOp(Tn,$i,er),xt=Tn,an=$i,Qn=er)},setLocked:function(Tn){ye=Tn},setClear:function(Tn){bi!==Tn&&(r.clearStencil(Tn),bi=Tn)},reset:function(){ye=!1,Le=null,Be=null,We=null,wt=null,xt=null,an=null,Qn=null,bi=null}}}const s=new t,a=new n,o=new i,l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,m=[],v=null,y=!1,w=null,b=null,S=null,M=null,E=null,T=null,R=null,P=new gt(0,0,0),k=0,B=!1,D=null,O=null,V=null,X=null,K=null;const ie=r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ee=!1,ae=0;const z=r.getParameter(r.VERSION);z.indexOf("WebGL")!==-1?(ae=parseFloat(/^WebGL (\d)/.exec(z)[1]),ee=ae>=1):z.indexOf("OpenGL ES")!==-1&&(ae=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),ee=ae>=2);let Q=null,Z={};const Y=r.getParameter(r.SCISSOR_BOX),oe=r.getParameter(r.VIEWPORT),Pe=new Gn().fromArray(Y),fe=new Gn().fromArray(oe);function Ce(ye,Le,Be,We){const wt=new Uint8Array(4),xt=r.createTexture();r.bindTexture(ye,xt),r.texParameteri(ye,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(ye,r.TEXTURE_MAG_FILTER,r.NEAREST);for(let an=0;an<Be;an++)ye===r.TEXTURE_3D||ye===r.TEXTURE_2D_ARRAY?r.texImage3D(Le,0,r.RGBA,1,1,We,0,r.RGBA,r.UNSIGNED_BYTE,wt):r.texImage2D(Le+an,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,wt);return xt}const Ae={};Ae[r.TEXTURE_2D]=Ce(r.TEXTURE_2D,r.TEXTURE_2D,1),Ae[r.TEXTURE_CUBE_MAP]=Ce(r.TEXTURE_CUBE_MAP,r.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ae[r.TEXTURE_2D_ARRAY]=Ce(r.TEXTURE_2D_ARRAY,r.TEXTURE_2D_ARRAY,1,1),Ae[r.TEXTURE_3D]=Ce(r.TEXTURE_3D,r.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),Se(r.DEPTH_TEST),a.setFunc(Mh),nt(!1),Ct(Ww),Se(r.CULL_FACE),ne(Bo);function Se(ye){u[ye]!==!0&&(r.enable(ye),u[ye]=!0)}function He(ye){u[ye]!==!1&&(r.disable(ye),u[ye]=!1)}function ut(ye,Le){return d[ye]!==Le?(r.bindFramebuffer(ye,Le),d[ye]=Le,ye===r.DRAW_FRAMEBUFFER&&(d[r.FRAMEBUFFER]=Le),ye===r.FRAMEBUFFER&&(d[r.DRAW_FRAMEBUFFER]=Le),!0):!1}function tt(ye,Le){let Be=m,We=!1;if(ye){Be=f.get(Le),Be===void 0&&(Be=[],f.set(Le,Be));const wt=ye.textures;if(Be.length!==wt.length||Be[0]!==r.COLOR_ATTACHMENT0){for(let xt=0,an=wt.length;xt<an;xt++)Be[xt]=r.COLOR_ATTACHMENT0+xt;Be.length=wt.length,We=!0}}else Be[0]!==r.BACK&&(Be[0]=r.BACK,We=!0);We&&r.drawBuffers(Be)}function kt(ye){return v!==ye?(r.useProgram(ye),v=ye,!0):!1}const je={[Lc]:r.FUNC_ADD,[HI]:r.FUNC_SUBTRACT,[GI]:r.FUNC_REVERSE_SUBTRACT};je[VI]=r.MIN,je[WI]=r.MAX;const Fe={[XI]:r.ZERO,[YI]:r.ONE,[jI]:r.SRC_COLOR,[sv]:r.SRC_ALPHA,[$I]:r.SRC_ALPHA_SATURATE,[qI]:r.DST_COLOR,[KI]:r.DST_ALPHA,[JI]:r.ONE_MINUS_SRC_COLOR,[av]:r.ONE_MINUS_SRC_ALPHA,[QI]:r.ONE_MINUS_DST_COLOR,[ZI]:r.ONE_MINUS_DST_ALPHA,[eP]:r.CONSTANT_COLOR,[tP]:r.ONE_MINUS_CONSTANT_COLOR,[nP]:r.CONSTANT_ALPHA,[iP]:r.ONE_MINUS_CONSTANT_ALPHA};function ne(ye,Le,Be,We,wt,xt,an,Qn,bi,Tn){if(ye===Bo){y===!0&&(He(r.BLEND),y=!1);return}if(y===!1&&(Se(r.BLEND),y=!0),ye!==zI){if(ye!==w||Tn!==B){if((b!==Lc||E!==Lc)&&(r.blendEquation(r.FUNC_ADD),b=Lc,E=Lc),Tn)switch(ye){case xh:r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case Xw:r.blendFunc(r.ONE,r.ONE);break;case Yw:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case jw:r.blendFuncSeparate(r.ZERO,r.SRC_COLOR,r.ZERO,r.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ye);break}else switch(ye){case xh:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case Xw:r.blendFunc(r.SRC_ALPHA,r.ONE);break;case Yw:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case jw:r.blendFunc(r.ZERO,r.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ye);break}S=null,M=null,T=null,R=null,P.set(0,0,0),k=0,w=ye,B=Tn}return}wt=wt||Le,xt=xt||Be,an=an||We,(Le!==b||wt!==E)&&(r.blendEquationSeparate(je[Le],je[wt]),b=Le,E=wt),(Be!==S||We!==M||xt!==T||an!==R)&&(r.blendFuncSeparate(Fe[Be],Fe[We],Fe[xt],Fe[an]),S=Be,M=We,T=xt,R=an),(Qn.equals(P)===!1||bi!==k)&&(r.blendColor(Qn.r,Qn.g,Qn.b,bi),P.copy(Qn),k=bi),w=ye,B=!1}function Bt(ye,Le){ye.side===Sa?He(r.CULL_FACE):Se(r.CULL_FACE);let Be=ye.side===ws;Le&&(Be=!Be),nt(Be),ye.blending===xh&&ye.transparent===!1?ne(Bo):ne(ye.blending,ye.blendEquation,ye.blendSrc,ye.blendDst,ye.blendEquationAlpha,ye.blendSrcAlpha,ye.blendDstAlpha,ye.blendColor,ye.blendAlpha,ye.premultipliedAlpha),a.setFunc(ye.depthFunc),a.setTest(ye.depthTest),a.setMask(ye.depthWrite),s.setMask(ye.colorWrite);const We=ye.stencilWrite;o.setTest(We),We&&(o.setMask(ye.stencilWriteMask),o.setFunc(ye.stencilFunc,ye.stencilRef,ye.stencilFuncMask),o.setOp(ye.stencilFail,ye.stencilZFail,ye.stencilZPass)),Jt(ye.polygonOffset,ye.polygonOffsetFactor,ye.polygonOffsetUnits),ye.alphaToCoverage===!0?Se(r.SAMPLE_ALPHA_TO_COVERAGE):He(r.SAMPLE_ALPHA_TO_COVERAGE)}function nt(ye){D!==ye&&(ye?r.frontFace(r.CW):r.frontFace(r.CCW),D=ye)}function Ct(ye){ye!==NI?(Se(r.CULL_FACE),ye!==O&&(ye===Ww?r.cullFace(r.BACK):ye===OI?r.cullFace(r.FRONT):r.cullFace(r.FRONT_AND_BACK))):He(r.CULL_FACE),O=ye}function ot(ye){ye!==V&&(ee&&r.lineWidth(ye),V=ye)}function Jt(ye,Le,Be){ye?(Se(r.POLYGON_OFFSET_FILL),(X!==Le||K!==Be)&&(r.polygonOffset(Le,Be),X=Le,K=Be)):He(r.POLYGON_OFFSET_FILL)}function dt(ye){ye?Se(r.SCISSOR_TEST):He(r.SCISSOR_TEST)}function te(ye){ye===void 0&&(ye=r.TEXTURE0+ie-1),Q!==ye&&(r.activeTexture(ye),Q=ye)}function J(ye,Le,Be){Be===void 0&&(Q===null?Be=r.TEXTURE0+ie-1:Be=Q);let We=Z[Be];We===void 0&&(We={type:void 0,texture:void 0},Z[Be]=We),(We.type!==ye||We.texture!==Le)&&(Q!==Be&&(r.activeTexture(Be),Q=Be),r.bindTexture(ye,Le||Ae[ye]),We.type=ye,We.texture=Le)}function Me(){const ye=Z[Q];ye!==void 0&&ye.type!==void 0&&(r.bindTexture(ye.type,null),ye.type=void 0,ye.texture=void 0)}function Ge(){try{r.compressedTexImage2D.apply(r,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function Je(){try{r.compressedTexImage3D.apply(r,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function Ve(){try{r.texSubImage2D.apply(r,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function Dt(){try{r.texSubImage3D.apply(r,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function pt(){try{r.compressedTexSubImage2D.apply(r,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function bt(){try{r.compressedTexSubImage3D.apply(r,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function un(){try{r.texStorage2D.apply(r,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function it(){try{r.texStorage3D.apply(r,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function Pt(){try{r.texImage2D.apply(r,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function Wt(){try{r.texImage3D.apply(r,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function Nt(ye){Pe.equals(ye)===!1&&(r.scissor(ye.x,ye.y,ye.z,ye.w),Pe.copy(ye))}function Rt(ye){fe.equals(ye)===!1&&(r.viewport(ye.x,ye.y,ye.z,ye.w),fe.copy(ye))}function on(ye,Le){let Be=c.get(Le);Be===void 0&&(Be=new WeakMap,c.set(Le,Be));let We=Be.get(ye);We===void 0&&(We=r.getUniformBlockIndex(Le,ye.name),Be.set(ye,We))}function Xt(ye,Le){const We=c.get(Le).get(ye);l.get(Le)!==We&&(r.uniformBlockBinding(Le,We,ye.__bindingPointIndex),l.set(Le,We))}function sn(){r.disable(r.BLEND),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SCISSOR_TEST),r.disable(r.STENCIL_TEST),r.disable(r.SAMPLE_ALPHA_TO_COVERAGE),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO),r.blendFuncSeparate(r.ONE,r.ZERO,r.ONE,r.ZERO),r.blendColor(0,0,0,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(r.LESS),a.setReversed(!1),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(r.ALWAYS,0,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.clearStencil(0),r.cullFace(r.BACK),r.frontFace(r.CCW),r.polygonOffset(0,0),r.activeTexture(r.TEXTURE0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),u={},Q=null,Z={},d={},f=new WeakMap,m=[],v=null,y=!1,w=null,b=null,S=null,M=null,E=null,T=null,R=null,P=new gt(0,0,0),k=0,B=!1,D=null,O=null,V=null,X=null,K=null,Pe.set(0,0,r.canvas.width,r.canvas.height),fe.set(0,0,r.canvas.width,r.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:Se,disable:He,bindFramebuffer:ut,drawBuffers:tt,useProgram:kt,setBlending:ne,setMaterial:Bt,setFlipSided:nt,setCullFace:Ct,setLineWidth:ot,setPolygonOffset:Jt,setScissorTest:dt,activeTexture:te,bindTexture:J,unbindTexture:Me,compressedTexImage2D:Ge,compressedTexImage3D:Je,texImage2D:Pt,texImage3D:Wt,updateUBOMapping:on,uniformBlockBinding:Xt,texStorage2D:un,texStorage3D:it,texSubImage2D:Ve,texSubImage3D:Dt,compressedTexSubImage2D:pt,compressedTexSubImage3D:bt,scissor:Nt,viewport:Rt,reset:sn}}function J9(r,e,t,n,i,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Ke,u=new WeakMap;let d;const f=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(te,J){return m?new OffscreenCanvas(te,J):Qm("canvas")}function y(te,J,Me){let Ge=1;const Je=dt(te);if((Je.width>Me||Je.height>Me)&&(Ge=Me/Math.max(Je.width,Je.height)),Ge<1)if(typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&te instanceof ImageBitmap||typeof VideoFrame<"u"&&te instanceof VideoFrame){const Ve=Math.floor(Ge*Je.width),Dt=Math.floor(Ge*Je.height);d===void 0&&(d=v(Ve,Dt));const pt=J?v(Ve,Dt):d;return pt.width=Ve,pt.height=Dt,pt.getContext("2d").drawImage(te,0,0,Ve,Dt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Je.width+"x"+Je.height+") to ("+Ve+"x"+Dt+")."),pt}else return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Je.width+"x"+Je.height+")."),te;return te}function w(te){return te.generateMipmaps}function b(te){r.generateMipmap(te)}function S(te){return te.isWebGLCubeRenderTarget?r.TEXTURE_CUBE_MAP:te.isWebGL3DRenderTarget?r.TEXTURE_3D:te.isWebGLArrayRenderTarget||te.isCompressedArrayTexture?r.TEXTURE_2D_ARRAY:r.TEXTURE_2D}function M(te,J,Me,Ge,Je=!1){if(te!==null){if(r[te]!==void 0)return r[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let Ve=J;if(J===r.RED&&(Me===r.FLOAT&&(Ve=r.R32F),Me===r.HALF_FLOAT&&(Ve=r.R16F),Me===r.UNSIGNED_BYTE&&(Ve=r.R8)),J===r.RED_INTEGER&&(Me===r.UNSIGNED_BYTE&&(Ve=r.R8UI),Me===r.UNSIGNED_SHORT&&(Ve=r.R16UI),Me===r.UNSIGNED_INT&&(Ve=r.R32UI),Me===r.BYTE&&(Ve=r.R8I),Me===r.SHORT&&(Ve=r.R16I),Me===r.INT&&(Ve=r.R32I)),J===r.RG&&(Me===r.FLOAT&&(Ve=r.RG32F),Me===r.HALF_FLOAT&&(Ve=r.RG16F),Me===r.UNSIGNED_BYTE&&(Ve=r.RG8)),J===r.RG_INTEGER&&(Me===r.UNSIGNED_BYTE&&(Ve=r.RG8UI),Me===r.UNSIGNED_SHORT&&(Ve=r.RG16UI),Me===r.UNSIGNED_INT&&(Ve=r.RG32UI),Me===r.BYTE&&(Ve=r.RG8I),Me===r.SHORT&&(Ve=r.RG16I),Me===r.INT&&(Ve=r.RG32I)),J===r.RGB_INTEGER&&(Me===r.UNSIGNED_BYTE&&(Ve=r.RGB8UI),Me===r.UNSIGNED_SHORT&&(Ve=r.RGB16UI),Me===r.UNSIGNED_INT&&(Ve=r.RGB32UI),Me===r.BYTE&&(Ve=r.RGB8I),Me===r.SHORT&&(Ve=r.RGB16I),Me===r.INT&&(Ve=r.RGB32I)),J===r.RGBA_INTEGER&&(Me===r.UNSIGNED_BYTE&&(Ve=r.RGBA8UI),Me===r.UNSIGNED_SHORT&&(Ve=r.RGBA16UI),Me===r.UNSIGNED_INT&&(Ve=r.RGBA32UI),Me===r.BYTE&&(Ve=r.RGBA8I),Me===r.SHORT&&(Ve=r.RGBA16I),Me===r.INT&&(Ve=r.RGBA32I)),J===r.RGB&&Me===r.UNSIGNED_INT_5_9_9_9_REV&&(Ve=r.RGB9_E5),J===r.RGBA){const Dt=Je?Km:On.getTransfer(Ge);Me===r.FLOAT&&(Ve=r.RGBA32F),Me===r.HALF_FLOAT&&(Ve=r.RGBA16F),Me===r.UNSIGNED_BYTE&&(Ve=Dt===ti?r.SRGB8_ALPHA8:r.RGBA8),Me===r.UNSIGNED_SHORT_4_4_4_4&&(Ve=r.RGBA4),Me===r.UNSIGNED_SHORT_5_5_5_1&&(Ve=r.RGB5_A1)}return(Ve===r.R16F||Ve===r.R32F||Ve===r.RG16F||Ve===r.RG32F||Ve===r.RGBA16F||Ve===r.RGBA32F)&&e.get("EXT_color_buffer_float"),Ve}function E(te,J){let Me;return te?J===null||J===zo||J===Ch?Me=r.DEPTH24_STENCIL8:J===Ri?Me=r.DEPTH32F_STENCIL8:J===Pf&&(Me=r.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):J===null||J===zo||J===Ch?Me=r.DEPTH_COMPONENT24:J===Ri?Me=r.DEPTH_COMPONENT32F:J===Pf&&(Me=r.DEPTH_COMPONENT16),Me}function T(te,J){return w(te)===!0||te.isFramebufferTexture&&te.minFilter!==Qi&&te.minFilter!==jn?Math.log2(Math.max(J.width,J.height))+1:te.mipmaps!==void 0&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?J.mipmaps.length:1}function R(te){const J=te.target;J.removeEventListener("dispose",R),k(J),J.isVideoTexture&&u.delete(J)}function P(te){const J=te.target;J.removeEventListener("dispose",P),D(J)}function k(te){const J=n.get(te);if(J.__webglInit===void 0)return;const Me=te.source,Ge=f.get(Me);if(Ge){const Je=Ge[J.__cacheKey];Je.usedTimes--,Je.usedTimes===0&&B(te),Object.keys(Ge).length===0&&f.delete(Me)}n.remove(te)}function B(te){const J=n.get(te);r.deleteTexture(J.__webglTexture);const Me=te.source,Ge=f.get(Me);delete Ge[J.__cacheKey],a.memory.textures--}function D(te){const J=n.get(te);if(te.depthTexture&&(te.depthTexture.dispose(),n.remove(te.depthTexture)),te.isWebGLCubeRenderTarget)for(let Ge=0;Ge<6;Ge++){if(Array.isArray(J.__webglFramebuffer[Ge]))for(let Je=0;Je<J.__webglFramebuffer[Ge].length;Je++)r.deleteFramebuffer(J.__webglFramebuffer[Ge][Je]);else r.deleteFramebuffer(J.__webglFramebuffer[Ge]);J.__webglDepthbuffer&&r.deleteRenderbuffer(J.__webglDepthbuffer[Ge])}else{if(Array.isArray(J.__webglFramebuffer))for(let Ge=0;Ge<J.__webglFramebuffer.length;Ge++)r.deleteFramebuffer(J.__webglFramebuffer[Ge]);else r.deleteFramebuffer(J.__webglFramebuffer);if(J.__webglDepthbuffer&&r.deleteRenderbuffer(J.__webglDepthbuffer),J.__webglMultisampledFramebuffer&&r.deleteFramebuffer(J.__webglMultisampledFramebuffer),J.__webglColorRenderbuffer)for(let Ge=0;Ge<J.__webglColorRenderbuffer.length;Ge++)J.__webglColorRenderbuffer[Ge]&&r.deleteRenderbuffer(J.__webglColorRenderbuffer[Ge]);J.__webglDepthRenderbuffer&&r.deleteRenderbuffer(J.__webglDepthRenderbuffer)}const Me=te.textures;for(let Ge=0,Je=Me.length;Ge<Je;Ge++){const Ve=n.get(Me[Ge]);Ve.__webglTexture&&(r.deleteTexture(Ve.__webglTexture),a.memory.textures--),n.remove(Me[Ge])}n.remove(te)}let O=0;function V(){O=0}function X(){const te=O;return te>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+i.maxTextures),O+=1,te}function K(te){const J=[];return J.push(te.wrapS),J.push(te.wrapT),J.push(te.wrapR||0),J.push(te.magFilter),J.push(te.minFilter),J.push(te.anisotropy),J.push(te.internalFormat),J.push(te.format),J.push(te.type),J.push(te.generateMipmaps),J.push(te.premultiplyAlpha),J.push(te.flipY),J.push(te.unpackAlignment),J.push(te.colorSpace),J.join()}function ie(te,J){const Me=n.get(te);if(te.isVideoTexture&&ot(te),te.isRenderTargetTexture===!1&&te.version>0&&Me.__version!==te.version){const Ge=te.image;if(Ge===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ge.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{fe(Me,te,J);return}}t.bindTexture(r.TEXTURE_2D,Me.__webglTexture,r.TEXTURE0+J)}function ee(te,J){const Me=n.get(te);if(te.version>0&&Me.__version!==te.version){fe(Me,te,J);return}t.bindTexture(r.TEXTURE_2D_ARRAY,Me.__webglTexture,r.TEXTURE0+J)}function ae(te,J){const Me=n.get(te);if(te.version>0&&Me.__version!==te.version){fe(Me,te,J);return}t.bindTexture(r.TEXTURE_3D,Me.__webglTexture,r.TEXTURE0+J)}function z(te,J){const Me=n.get(te);if(te.version>0&&Me.__version!==te.version){Ce(Me,te,J);return}t.bindTexture(r.TEXTURE_CUBE_MAP,Me.__webglTexture,r.TEXTURE0+J)}const Q={[Vc]:r.REPEAT,[Gi]:r.CLAMP_TO_EDGE,[If]:r.MIRRORED_REPEAT},Z={[Qi]:r.NEAREST,[ey]:r.NEAREST_MIPMAP_NEAREST,[oh]:r.NEAREST_MIPMAP_LINEAR,[jn]:r.LINEAR,[yf]:r.LINEAR_MIPMAP_NEAREST,[Ca]:r.LINEAR_MIPMAP_LINEAR},Y={[bP]:r.NEVER,[CP]:r.ALWAYS,[wP]:r.LESS,[bS]:r.LEQUAL,[AP]:r.EQUAL,[MP]:r.GEQUAL,[SP]:r.GREATER,[_P]:r.NOTEQUAL};function oe(te,J){if(J.type===Ri&&e.has("OES_texture_float_linear")===!1&&(J.magFilter===jn||J.magFilter===yf||J.magFilter===oh||J.magFilter===Ca||J.minFilter===jn||J.minFilter===yf||J.minFilter===oh||J.minFilter===Ca)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),r.texParameteri(te,r.TEXTURE_WRAP_S,Q[J.wrapS]),r.texParameteri(te,r.TEXTURE_WRAP_T,Q[J.wrapT]),(te===r.TEXTURE_3D||te===r.TEXTURE_2D_ARRAY)&&r.texParameteri(te,r.TEXTURE_WRAP_R,Q[J.wrapR]),r.texParameteri(te,r.TEXTURE_MAG_FILTER,Z[J.magFilter]),r.texParameteri(te,r.TEXTURE_MIN_FILTER,Z[J.minFilter]),J.compareFunction&&(r.texParameteri(te,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(te,r.TEXTURE_COMPARE_FUNC,Y[J.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(J.magFilter===Qi||J.minFilter!==oh&&J.minFilter!==Ca||J.type===Ri&&e.has("OES_texture_float_linear")===!1)return;if(J.anisotropy>1||n.get(J).__currentAnisotropy){const Me=e.get("EXT_texture_filter_anisotropic");r.texParameterf(te,Me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(J.anisotropy,i.getMaxAnisotropy())),n.get(J).__currentAnisotropy=J.anisotropy}}}function Pe(te,J){let Me=!1;te.__webglInit===void 0&&(te.__webglInit=!0,J.addEventListener("dispose",R));const Ge=J.source;let Je=f.get(Ge);Je===void 0&&(Je={},f.set(Ge,Je));const Ve=K(J);if(Ve!==te.__cacheKey){Je[Ve]===void 0&&(Je[Ve]={texture:r.createTexture(),usedTimes:0},a.memory.textures++,Me=!0),Je[Ve].usedTimes++;const Dt=Je[te.__cacheKey];Dt!==void 0&&(Je[te.__cacheKey].usedTimes--,Dt.usedTimes===0&&B(J)),te.__cacheKey=Ve,te.__webglTexture=Je[Ve].texture}return Me}function fe(te,J,Me){let Ge=r.TEXTURE_2D;(J.isDataArrayTexture||J.isCompressedArrayTexture)&&(Ge=r.TEXTURE_2D_ARRAY),J.isData3DTexture&&(Ge=r.TEXTURE_3D);const Je=Pe(te,J),Ve=J.source;t.bindTexture(Ge,te.__webglTexture,r.TEXTURE0+Me);const Dt=n.get(Ve);if(Ve.version!==Dt.__version||Je===!0){t.activeTexture(r.TEXTURE0+Me);const pt=On.getPrimaries(On.workingColorSpace),bt=J.colorSpace===Rl?null:On.getPrimaries(J.colorSpace),un=J.colorSpace===Rl||pt===bt?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,J.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,J.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,un);let it=y(J.image,!1,i.maxTextureSize);it=Jt(J,it);const Pt=s.convert(J.format,J.colorSpace),Wt=s.convert(J.type);let Nt=M(J.internalFormat,Pt,Wt,J.colorSpace,J.isVideoTexture);oe(Ge,J);let Rt;const on=J.mipmaps,Xt=J.isVideoTexture!==!0,sn=Dt.__version===void 0||Je===!0,ye=Ve.dataReady,Le=T(J,it);if(J.isDepthTexture)Nt=E(J.format===Eh,J.type),sn&&(Xt?t.texStorage2D(r.TEXTURE_2D,1,Nt,it.width,it.height):t.texImage2D(r.TEXTURE_2D,0,Nt,it.width,it.height,0,Pt,Wt,null));else if(J.isDataTexture)if(on.length>0){Xt&&sn&&t.texStorage2D(r.TEXTURE_2D,Le,Nt,on[0].width,on[0].height);for(let Be=0,We=on.length;Be<We;Be++)Rt=on[Be],Xt?ye&&t.texSubImage2D(r.TEXTURE_2D,Be,0,0,Rt.width,Rt.height,Pt,Wt,Rt.data):t.texImage2D(r.TEXTURE_2D,Be,Nt,Rt.width,Rt.height,0,Pt,Wt,Rt.data);J.generateMipmaps=!1}else Xt?(sn&&t.texStorage2D(r.TEXTURE_2D,Le,Nt,it.width,it.height),ye&&t.texSubImage2D(r.TEXTURE_2D,0,0,0,it.width,it.height,Pt,Wt,it.data)):t.texImage2D(r.TEXTURE_2D,0,Nt,it.width,it.height,0,Pt,Wt,it.data);else if(J.isCompressedTexture)if(J.isCompressedArrayTexture){Xt&&sn&&t.texStorage3D(r.TEXTURE_2D_ARRAY,Le,Nt,on[0].width,on[0].height,it.depth);for(let Be=0,We=on.length;Be<We;Be++)if(Rt=on[Be],J.format!==Vi)if(Pt!==null)if(Xt){if(ye)if(J.layerUpdates.size>0){const wt=iA(Rt.width,Rt.height,J.format,J.type);for(const xt of J.layerUpdates){const an=Rt.data.subarray(xt*wt/Rt.data.BYTES_PER_ELEMENT,(xt+1)*wt/Rt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,Be,0,0,xt,Rt.width,Rt.height,1,Pt,an)}J.clearLayerUpdates()}else t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,Be,0,0,0,Rt.width,Rt.height,it.depth,Pt,Rt.data)}else t.compressedTexImage3D(r.TEXTURE_2D_ARRAY,Be,Nt,Rt.width,Rt.height,it.depth,0,Rt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Xt?ye&&t.texSubImage3D(r.TEXTURE_2D_ARRAY,Be,0,0,0,Rt.width,Rt.height,it.depth,Pt,Wt,Rt.data):t.texImage3D(r.TEXTURE_2D_ARRAY,Be,Nt,Rt.width,Rt.height,it.depth,0,Pt,Wt,Rt.data)}else{Xt&&sn&&t.texStorage2D(r.TEXTURE_2D,Le,Nt,on[0].width,on[0].height);for(let Be=0,We=on.length;Be<We;Be++)Rt=on[Be],J.format!==Vi?Pt!==null?Xt?ye&&t.compressedTexSubImage2D(r.TEXTURE_2D,Be,0,0,Rt.width,Rt.height,Pt,Rt.data):t.compressedTexImage2D(r.TEXTURE_2D,Be,Nt,Rt.width,Rt.height,0,Rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Xt?ye&&t.texSubImage2D(r.TEXTURE_2D,Be,0,0,Rt.width,Rt.height,Pt,Wt,Rt.data):t.texImage2D(r.TEXTURE_2D,Be,Nt,Rt.width,Rt.height,0,Pt,Wt,Rt.data)}else if(J.isDataArrayTexture)if(Xt){if(sn&&t.texStorage3D(r.TEXTURE_2D_ARRAY,Le,Nt,it.width,it.height,it.depth),ye)if(J.layerUpdates.size>0){const Be=iA(it.width,it.height,J.format,J.type);for(const We of J.layerUpdates){const wt=it.data.subarray(We*Be/it.data.BYTES_PER_ELEMENT,(We+1)*Be/it.data.BYTES_PER_ELEMENT);t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,We,it.width,it.height,1,Pt,Wt,wt)}J.clearLayerUpdates()}else t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,it.width,it.height,it.depth,Pt,Wt,it.data)}else t.texImage3D(r.TEXTURE_2D_ARRAY,0,Nt,it.width,it.height,it.depth,0,Pt,Wt,it.data);else if(J.isData3DTexture)Xt?(sn&&t.texStorage3D(r.TEXTURE_3D,Le,Nt,it.width,it.height,it.depth),ye&&t.texSubImage3D(r.TEXTURE_3D,0,0,0,0,it.width,it.height,it.depth,Pt,Wt,it.data)):t.texImage3D(r.TEXTURE_3D,0,Nt,it.width,it.height,it.depth,0,Pt,Wt,it.data);else if(J.isFramebufferTexture){if(sn)if(Xt)t.texStorage2D(r.TEXTURE_2D,Le,Nt,it.width,it.height);else{let Be=it.width,We=it.height;for(let wt=0;wt<Le;wt++)t.texImage2D(r.TEXTURE_2D,wt,Nt,Be,We,0,Pt,Wt,null),Be>>=1,We>>=1}}else if(on.length>0){if(Xt&&sn){const Be=dt(on[0]);t.texStorage2D(r.TEXTURE_2D,Le,Nt,Be.width,Be.height)}for(let Be=0,We=on.length;Be<We;Be++)Rt=on[Be],Xt?ye&&t.texSubImage2D(r.TEXTURE_2D,Be,0,0,Pt,Wt,Rt):t.texImage2D(r.TEXTURE_2D,Be,Nt,Pt,Wt,Rt);J.generateMipmaps=!1}else if(Xt){if(sn){const Be=dt(it);t.texStorage2D(r.TEXTURE_2D,Le,Nt,Be.width,Be.height)}ye&&t.texSubImage2D(r.TEXTURE_2D,0,0,0,Pt,Wt,it)}else t.texImage2D(r.TEXTURE_2D,0,Nt,Pt,Wt,it);w(J)&&b(Ge),Dt.__version=Ve.version,J.onUpdate&&J.onUpdate(J)}te.__version=J.version}function Ce(te,J,Me){if(J.image.length!==6)return;const Ge=Pe(te,J),Je=J.source;t.bindTexture(r.TEXTURE_CUBE_MAP,te.__webglTexture,r.TEXTURE0+Me);const Ve=n.get(Je);if(Je.version!==Ve.__version||Ge===!0){t.activeTexture(r.TEXTURE0+Me);const Dt=On.getPrimaries(On.workingColorSpace),pt=J.colorSpace===Rl?null:On.getPrimaries(J.colorSpace),bt=J.colorSpace===Rl||Dt===pt?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,J.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,J.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,bt);const un=J.isCompressedTexture||J.image[0].isCompressedTexture,it=J.image[0]&&J.image[0].isDataTexture,Pt=[];for(let We=0;We<6;We++)!un&&!it?Pt[We]=y(J.image[We],!0,i.maxCubemapSize):Pt[We]=it?J.image[We].image:J.image[We],Pt[We]=Jt(J,Pt[We]);const Wt=Pt[0],Nt=s.convert(J.format,J.colorSpace),Rt=s.convert(J.type),on=M(J.internalFormat,Nt,Rt,J.colorSpace),Xt=J.isVideoTexture!==!0,sn=Ve.__version===void 0||Ge===!0,ye=Je.dataReady;let Le=T(J,Wt);oe(r.TEXTURE_CUBE_MAP,J);let Be;if(un){Xt&&sn&&t.texStorage2D(r.TEXTURE_CUBE_MAP,Le,on,Wt.width,Wt.height);for(let We=0;We<6;We++){Be=Pt[We].mipmaps;for(let wt=0;wt<Be.length;wt++){const xt=Be[wt];J.format!==Vi?Nt!==null?Xt?ye&&t.compressedTexSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+We,wt,0,0,xt.width,xt.height,Nt,xt.data):t.compressedTexImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+We,wt,on,xt.width,xt.height,0,xt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Xt?ye&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+We,wt,0,0,xt.width,xt.height,Nt,Rt,xt.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+We,wt,on,xt.width,xt.height,0,Nt,Rt,xt.data)}}}else{if(Be=J.mipmaps,Xt&&sn){Be.length>0&&Le++;const We=dt(Pt[0]);t.texStorage2D(r.TEXTURE_CUBE_MAP,Le,on,We.width,We.height)}for(let We=0;We<6;We++)if(it){Xt?ye&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,0,0,Pt[We].width,Pt[We].height,Nt,Rt,Pt[We].data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,on,Pt[We].width,Pt[We].height,0,Nt,Rt,Pt[We].data);for(let wt=0;wt<Be.length;wt++){const an=Be[wt].image[We].image;Xt?ye&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+We,wt+1,0,0,an.width,an.height,Nt,Rt,an.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+We,wt+1,on,an.width,an.height,0,Nt,Rt,an.data)}}else{Xt?ye&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,0,0,Nt,Rt,Pt[We]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,on,Nt,Rt,Pt[We]);for(let wt=0;wt<Be.length;wt++){const xt=Be[wt];Xt?ye&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+We,wt+1,0,0,Nt,Rt,xt.image[We]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+We,wt+1,on,Nt,Rt,xt.image[We])}}}w(J)&&b(r.TEXTURE_CUBE_MAP),Ve.__version=Je.version,J.onUpdate&&J.onUpdate(J)}te.__version=J.version}function Ae(te,J,Me,Ge,Je,Ve){const Dt=s.convert(Me.format,Me.colorSpace),pt=s.convert(Me.type),bt=M(Me.internalFormat,Dt,pt,Me.colorSpace),un=n.get(J),it=n.get(Me);if(it.__renderTarget=J,!un.__hasExternalTextures){const Pt=Math.max(1,J.width>>Ve),Wt=Math.max(1,J.height>>Ve);Je===r.TEXTURE_3D||Je===r.TEXTURE_2D_ARRAY?t.texImage3D(Je,Ve,bt,Pt,Wt,J.depth,0,Dt,pt,null):t.texImage2D(Je,Ve,bt,Pt,Wt,0,Dt,pt,null)}t.bindFramebuffer(r.FRAMEBUFFER,te),Ct(J)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,Ge,Je,it.__webglTexture,0,nt(J)):(Je===r.TEXTURE_2D||Je>=r.TEXTURE_CUBE_MAP_POSITIVE_X&&Je<=r.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&r.framebufferTexture2D(r.FRAMEBUFFER,Ge,Je,it.__webglTexture,Ve),t.bindFramebuffer(r.FRAMEBUFFER,null)}function Se(te,J,Me){if(r.bindRenderbuffer(r.RENDERBUFFER,te),J.depthBuffer){const Ge=J.depthTexture,Je=Ge&&Ge.isDepthTexture?Ge.type:null,Ve=E(J.stencilBuffer,Je),Dt=J.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,pt=nt(J);Ct(J)?o.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,pt,Ve,J.width,J.height):Me?r.renderbufferStorageMultisample(r.RENDERBUFFER,pt,Ve,J.width,J.height):r.renderbufferStorage(r.RENDERBUFFER,Ve,J.width,J.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,Dt,r.RENDERBUFFER,te)}else{const Ge=J.textures;for(let Je=0;Je<Ge.length;Je++){const Ve=Ge[Je],Dt=s.convert(Ve.format,Ve.colorSpace),pt=s.convert(Ve.type),bt=M(Ve.internalFormat,Dt,pt,Ve.colorSpace),un=nt(J);Me&&Ct(J)===!1?r.renderbufferStorageMultisample(r.RENDERBUFFER,un,bt,J.width,J.height):Ct(J)?o.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,un,bt,J.width,J.height):r.renderbufferStorage(r.RENDERBUFFER,bt,J.width,J.height)}}r.bindRenderbuffer(r.RENDERBUFFER,null)}function He(te,J){if(J&&J.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(r.FRAMEBUFFER,te),!(J.depthTexture&&J.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ge=n.get(J.depthTexture);Ge.__renderTarget=J,(!Ge.__webglTexture||J.depthTexture.image.width!==J.width||J.depthTexture.image.height!==J.height)&&(J.depthTexture.image.width=J.width,J.depthTexture.image.height=J.height,J.depthTexture.needsUpdate=!0),ie(J.depthTexture,0);const Je=Ge.__webglTexture,Ve=nt(J);if(J.depthTexture.format===vh)Ct(J)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Je,0,Ve):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Je,0);else if(J.depthTexture.format===Eh)Ct(J)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Je,0,Ve):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Je,0);else throw new Error("Unknown depthTexture format")}function ut(te){const J=n.get(te),Me=te.isWebGLCubeRenderTarget===!0;if(J.__boundDepthTexture!==te.depthTexture){const Ge=te.depthTexture;if(J.__depthDisposeCallback&&J.__depthDisposeCallback(),Ge){const Je=()=>{delete J.__boundDepthTexture,delete J.__depthDisposeCallback,Ge.removeEventListener("dispose",Je)};Ge.addEventListener("dispose",Je),J.__depthDisposeCallback=Je}J.__boundDepthTexture=Ge}if(te.depthTexture&&!J.__autoAllocateDepthBuffer){if(Me)throw new Error("target.depthTexture not supported in Cube render targets");He(J.__webglFramebuffer,te)}else if(Me){J.__webglDepthbuffer=[];for(let Ge=0;Ge<6;Ge++)if(t.bindFramebuffer(r.FRAMEBUFFER,J.__webglFramebuffer[Ge]),J.__webglDepthbuffer[Ge]===void 0)J.__webglDepthbuffer[Ge]=r.createRenderbuffer(),Se(J.__webglDepthbuffer[Ge],te,!1);else{const Je=te.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Ve=J.__webglDepthbuffer[Ge];r.bindRenderbuffer(r.RENDERBUFFER,Ve),r.framebufferRenderbuffer(r.FRAMEBUFFER,Je,r.RENDERBUFFER,Ve)}}else if(t.bindFramebuffer(r.FRAMEBUFFER,J.__webglFramebuffer),J.__webglDepthbuffer===void 0)J.__webglDepthbuffer=r.createRenderbuffer(),Se(J.__webglDepthbuffer,te,!1);else{const Ge=te.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Je=J.__webglDepthbuffer;r.bindRenderbuffer(r.RENDERBUFFER,Je),r.framebufferRenderbuffer(r.FRAMEBUFFER,Ge,r.RENDERBUFFER,Je)}t.bindFramebuffer(r.FRAMEBUFFER,null)}function tt(te,J,Me){const Ge=n.get(te);J!==void 0&&Ae(Ge.__webglFramebuffer,te,te.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,0),Me!==void 0&&ut(te)}function kt(te){const J=te.texture,Me=n.get(te),Ge=n.get(J);te.addEventListener("dispose",P);const Je=te.textures,Ve=te.isWebGLCubeRenderTarget===!0,Dt=Je.length>1;if(Dt||(Ge.__webglTexture===void 0&&(Ge.__webglTexture=r.createTexture()),Ge.__version=J.version,a.memory.textures++),Ve){Me.__webglFramebuffer=[];for(let pt=0;pt<6;pt++)if(J.mipmaps&&J.mipmaps.length>0){Me.__webglFramebuffer[pt]=[];for(let bt=0;bt<J.mipmaps.length;bt++)Me.__webglFramebuffer[pt][bt]=r.createFramebuffer()}else Me.__webglFramebuffer[pt]=r.createFramebuffer()}else{if(J.mipmaps&&J.mipmaps.length>0){Me.__webglFramebuffer=[];for(let pt=0;pt<J.mipmaps.length;pt++)Me.__webglFramebuffer[pt]=r.createFramebuffer()}else Me.__webglFramebuffer=r.createFramebuffer();if(Dt)for(let pt=0,bt=Je.length;pt<bt;pt++){const un=n.get(Je[pt]);un.__webglTexture===void 0&&(un.__webglTexture=r.createTexture(),a.memory.textures++)}if(te.samples>0&&Ct(te)===!1){Me.__webglMultisampledFramebuffer=r.createFramebuffer(),Me.__webglColorRenderbuffer=[],t.bindFramebuffer(r.FRAMEBUFFER,Me.__webglMultisampledFramebuffer);for(let pt=0;pt<Je.length;pt++){const bt=Je[pt];Me.__webglColorRenderbuffer[pt]=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,Me.__webglColorRenderbuffer[pt]);const un=s.convert(bt.format,bt.colorSpace),it=s.convert(bt.type),Pt=M(bt.internalFormat,un,it,bt.colorSpace,te.isXRRenderTarget===!0),Wt=nt(te);r.renderbufferStorageMultisample(r.RENDERBUFFER,Wt,Pt,te.width,te.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+pt,r.RENDERBUFFER,Me.__webglColorRenderbuffer[pt])}r.bindRenderbuffer(r.RENDERBUFFER,null),te.depthBuffer&&(Me.__webglDepthRenderbuffer=r.createRenderbuffer(),Se(Me.__webglDepthRenderbuffer,te,!0)),t.bindFramebuffer(r.FRAMEBUFFER,null)}}if(Ve){t.bindTexture(r.TEXTURE_CUBE_MAP,Ge.__webglTexture),oe(r.TEXTURE_CUBE_MAP,J);for(let pt=0;pt<6;pt++)if(J.mipmaps&&J.mipmaps.length>0)for(let bt=0;bt<J.mipmaps.length;bt++)Ae(Me.__webglFramebuffer[pt][bt],te,J,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+pt,bt);else Ae(Me.__webglFramebuffer[pt],te,J,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0);w(J)&&b(r.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Dt){for(let pt=0,bt=Je.length;pt<bt;pt++){const un=Je[pt],it=n.get(un);t.bindTexture(r.TEXTURE_2D,it.__webglTexture),oe(r.TEXTURE_2D,un),Ae(Me.__webglFramebuffer,te,un,r.COLOR_ATTACHMENT0+pt,r.TEXTURE_2D,0),w(un)&&b(r.TEXTURE_2D)}t.unbindTexture()}else{let pt=r.TEXTURE_2D;if((te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(pt=te.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),t.bindTexture(pt,Ge.__webglTexture),oe(pt,J),J.mipmaps&&J.mipmaps.length>0)for(let bt=0;bt<J.mipmaps.length;bt++)Ae(Me.__webglFramebuffer[bt],te,J,r.COLOR_ATTACHMENT0,pt,bt);else Ae(Me.__webglFramebuffer,te,J,r.COLOR_ATTACHMENT0,pt,0);w(J)&&b(pt),t.unbindTexture()}te.depthBuffer&&ut(te)}function je(te){const J=te.textures;for(let Me=0,Ge=J.length;Me<Ge;Me++){const Je=J[Me];if(w(Je)){const Ve=S(te),Dt=n.get(Je).__webglTexture;t.bindTexture(Ve,Dt),b(Ve),t.unbindTexture()}}}const Fe=[],ne=[];function Bt(te){if(te.samples>0){if(Ct(te)===!1){const J=te.textures,Me=te.width,Ge=te.height;let Je=r.COLOR_BUFFER_BIT;const Ve=te.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Dt=n.get(te),pt=J.length>1;if(pt)for(let bt=0;bt<J.length;bt++)t.bindFramebuffer(r.FRAMEBUFFER,Dt.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+bt,r.RENDERBUFFER,null),t.bindFramebuffer(r.FRAMEBUFFER,Dt.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+bt,r.TEXTURE_2D,null,0);t.bindFramebuffer(r.READ_FRAMEBUFFER,Dt.__webglMultisampledFramebuffer),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Dt.__webglFramebuffer);for(let bt=0;bt<J.length;bt++){if(te.resolveDepthBuffer&&(te.depthBuffer&&(Je|=r.DEPTH_BUFFER_BIT),te.stencilBuffer&&te.resolveStencilBuffer&&(Je|=r.STENCIL_BUFFER_BIT)),pt){r.framebufferRenderbuffer(r.READ_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,Dt.__webglColorRenderbuffer[bt]);const un=n.get(J[bt]).__webglTexture;r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,un,0)}r.blitFramebuffer(0,0,Me,Ge,0,0,Me,Ge,Je,r.NEAREST),l===!0&&(Fe.length=0,ne.length=0,Fe.push(r.COLOR_ATTACHMENT0+bt),te.depthBuffer&&te.resolveDepthBuffer===!1&&(Fe.push(Ve),ne.push(Ve),r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,ne)),r.invalidateFramebuffer(r.READ_FRAMEBUFFER,Fe))}if(t.bindFramebuffer(r.READ_FRAMEBUFFER,null),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),pt)for(let bt=0;bt<J.length;bt++){t.bindFramebuffer(r.FRAMEBUFFER,Dt.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+bt,r.RENDERBUFFER,Dt.__webglColorRenderbuffer[bt]);const un=n.get(J[bt]).__webglTexture;t.bindFramebuffer(r.FRAMEBUFFER,Dt.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+bt,r.TEXTURE_2D,un,0)}t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Dt.__webglMultisampledFramebuffer)}else if(te.depthBuffer&&te.resolveDepthBuffer===!1&&l){const J=te.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT;r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,[J])}}}function nt(te){return Math.min(i.maxSamples,te.samples)}function Ct(te){const J=n.get(te);return te.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&J.__useRenderToTexture!==!1}function ot(te){const J=a.render.frame;u.get(te)!==J&&(u.set(te,J),te.update())}function Jt(te,J){const Me=te.colorSpace,Ge=te.format,Je=te.type;return te.isCompressedTexture===!0||te.isVideoTexture===!0||Me!==Ho&&Me!==Rl&&(On.getTransfer(Me)===ti?(Ge!==Vi||Je!==zs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Me)),J}function dt(te){return typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement?(c.width=te.naturalWidth||te.width,c.height=te.naturalHeight||te.height):typeof VideoFrame<"u"&&te instanceof VideoFrame?(c.width=te.displayWidth,c.height=te.displayHeight):(c.width=te.width,c.height=te.height),c}this.allocateTextureUnit=X,this.resetTextureUnits=V,this.setTexture2D=ie,this.setTexture2DArray=ee,this.setTexture3D=ae,this.setTextureCube=z,this.rebindTextures=tt,this.setupRenderTarget=kt,this.updateRenderTargetMipmap=je,this.updateMultisampleRenderTarget=Bt,this.setupDepthRenderbuffer=ut,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=Ct}function Ek(r,e){function t(n,i=Rl){let s;const a=On.getTransfer(i);if(n===zs)return r.UNSIGNED_BYTE;if(n===iy)return r.UNSIGNED_SHORT_4_4_4_4;if(n===ry)return r.UNSIGNED_SHORT_5_5_5_1;if(n===hS)return r.UNSIGNED_INT_5_9_9_9_REV;if(n===ty)return r.BYTE;if(n===ny)return r.SHORT;if(n===Pf)return r.UNSIGNED_SHORT;if(n===yg)return r.INT;if(n===zo)return r.UNSIGNED_INT;if(n===Ri)return r.FLOAT;if(n===dr)return r.HALF_FLOAT;if(n===dS)return r.ALPHA;if(n===fS)return r.RGB;if(n===Vi)return r.RGBA;if(n===pS)return r.LUMINANCE;if(n===mS)return r.LUMINANCE_ALPHA;if(n===vh)return r.DEPTH_COMPONENT;if(n===Eh)return r.DEPTH_STENCIL;if(n===bg)return r.RED;if(n===wg)return r.RED_INTEGER;if(n===gS)return r.RG;if(n===sy)return r.RG_INTEGER;if(n===ay)return r.RGBA_INTEGER;if(n===Tm||n===Rm||n===Im||n===Pm)if(a===ti)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(n===Tm)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Rm)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Im)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Pm)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(n===Tm)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Rm)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Im)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Pm)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===pv||n===mv||n===gv||n===xv)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(n===pv)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===mv)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===gv)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===xv)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===vv||n===yv||n===bv)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(n===vv||n===yv)return a===ti?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(n===bv)return a===ti?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===wv||n===Av||n===Sv||n===_v||n===Mv||n===Cv||n===Ev||n===Tv||n===Rv||n===Iv||n===Pv||n===kv||n===Lv||n===Bv)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(n===wv)return a===ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Av)return a===ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Sv)return a===ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===_v)return a===ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Mv)return a===ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Cv)return a===ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Ev)return a===ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Tv)return a===ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Rv)return a===ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Iv)return a===ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Pv)return a===ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===kv)return a===ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Lv)return a===ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Bv)return a===ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===km||n===Dv||n===Fv)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(n===km)return a===ti?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Dv)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Fv)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===xS||n===Nv||n===Ov||n===Uv)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(n===km)return s.COMPRESSED_RED_RGTC1_EXT;if(n===Nv)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Ov)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Uv)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Ch?r.UNSIGNED_INT_24_8:r[n]!==void 0?r[n]:null}return{convert:t}}const K9=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Z9=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class q9{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(this.texture===null){const i=new qn,s=e.properties.get(i);s.__webglTexture=t.texture,(t.depthNear!==n.depthNear||t.depthFar!==n.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new zr({vertexShader:K9,fragmentShader:Z9,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new yi(new Hl(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Q9 extends Go{constructor(e,t){super();const n=this;let i=null,s=1,a=null,o="local-floor",l=1,c=null,u=null,d=null,f=null,m=null,v=null;const y=new q9,w=t.getContextAttributes();let b=null,S=null;const M=[],E=[],T=new Ke;let R=null;const P=new ur;P.viewport=new Gn;const k=new ur;k.viewport=new Gn;const B=[P,k],D=new xk;let O=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(fe){let Ce=M[fe];return Ce===void 0&&(Ce=new V0,M[fe]=Ce),Ce.getTargetRaySpace()},this.getControllerGrip=function(fe){let Ce=M[fe];return Ce===void 0&&(Ce=new V0,M[fe]=Ce),Ce.getGripSpace()},this.getHand=function(fe){let Ce=M[fe];return Ce===void 0&&(Ce=new V0,M[fe]=Ce),Ce.getHandSpace()};function X(fe){const Ce=E.indexOf(fe.inputSource);if(Ce===-1)return;const Ae=M[Ce];Ae!==void 0&&(Ae.update(fe.inputSource,fe.frame,c||a),Ae.dispatchEvent({type:fe.type,data:fe.inputSource}))}function K(){i.removeEventListener("select",X),i.removeEventListener("selectstart",X),i.removeEventListener("selectend",X),i.removeEventListener("squeeze",X),i.removeEventListener("squeezestart",X),i.removeEventListener("squeezeend",X),i.removeEventListener("end",K),i.removeEventListener("inputsourceschange",ie);for(let fe=0;fe<M.length;fe++){const Ce=E[fe];Ce!==null&&(E[fe]=null,M[fe].disconnect(Ce))}O=null,V=null,y.reset(),e.setRenderTarget(b),m=null,f=null,d=null,i=null,S=null,Pe.stop(),n.isPresenting=!1,e.setPixelRatio(R),e.setSize(T.width,T.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(fe){s=fe,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(fe){o=fe,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(fe){c=fe},this.getBaseLayer=function(){return f!==null?f:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(fe){if(i=fe,i!==null){if(b=e.getRenderTarget(),i.addEventListener("select",X),i.addEventListener("selectstart",X),i.addEventListener("selectend",X),i.addEventListener("squeeze",X),i.addEventListener("squeezestart",X),i.addEventListener("squeezeend",X),i.addEventListener("end",K),i.addEventListener("inputsourceschange",ie),w.xrCompatible!==!0&&await t.makeXRCompatible(),R=e.getPixelRatio(),e.getSize(T),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ae=null,Se=null,He=null;w.depth&&(He=w.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ae=w.stencil?Eh:vh,Se=w.stencil?Ch:zo);const ut={colorFormat:t.RGBA8,depthFormat:He,scaleFactor:s};d=new XRWebGLBinding(i,t),f=d.createProjectionLayer(ut),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),S=new ts(f.textureWidth,f.textureHeight,{format:Vi,type:zs,depthTexture:new PS(f.textureWidth,f.textureHeight,Se,void 0,void 0,void 0,void 0,void 0,void 0,Ae),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}else{const Ae={antialias:w.antialias,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,Ae),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),S=new ts(m.framebufferWidth,m.framebufferHeight,{format:Vi,type:zs,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil})}S.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(o),Pe.setContext(i),Pe.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function ie(fe){for(let Ce=0;Ce<fe.removed.length;Ce++){const Ae=fe.removed[Ce],Se=E.indexOf(Ae);Se>=0&&(E[Se]=null,M[Se].disconnect(Ae))}for(let Ce=0;Ce<fe.added.length;Ce++){const Ae=fe.added[Ce];let Se=E.indexOf(Ae);if(Se===-1){for(let ut=0;ut<M.length;ut++)if(ut>=E.length){E.push(Ae),Se=ut;break}else if(E[ut]===null){E[ut]=Ae,Se=ut;break}if(Se===-1)break}const He=M[Se];He&&He.connect(Ae)}}const ee=new $,ae=new $;function z(fe,Ce,Ae){ee.setFromMatrixPosition(Ce.matrixWorld),ae.setFromMatrixPosition(Ae.matrixWorld);const Se=ee.distanceTo(ae),He=Ce.projectionMatrix.elements,ut=Ae.projectionMatrix.elements,tt=He[14]/(He[10]-1),kt=He[14]/(He[10]+1),je=(He[9]+1)/He[5],Fe=(He[9]-1)/He[5],ne=(He[8]-1)/He[0],Bt=(ut[8]+1)/ut[0],nt=tt*ne,Ct=tt*Bt,ot=Se/(-ne+Bt),Jt=ot*-ne;if(Ce.matrixWorld.decompose(fe.position,fe.quaternion,fe.scale),fe.translateX(Jt),fe.translateZ(ot),fe.matrixWorld.compose(fe.position,fe.quaternion,fe.scale),fe.matrixWorldInverse.copy(fe.matrixWorld).invert(),He[10]===-1)fe.projectionMatrix.copy(Ce.projectionMatrix),fe.projectionMatrixInverse.copy(Ce.projectionMatrixInverse);else{const dt=tt+ot,te=kt+ot,J=nt-Jt,Me=Ct+(Se-Jt),Ge=je*kt/te*dt,Je=Fe*kt/te*dt;fe.projectionMatrix.makePerspective(J,Me,Ge,Je,dt,te),fe.projectionMatrixInverse.copy(fe.projectionMatrix).invert()}}function Q(fe,Ce){Ce===null?fe.matrixWorld.copy(fe.matrix):fe.matrixWorld.multiplyMatrices(Ce.matrixWorld,fe.matrix),fe.matrixWorldInverse.copy(fe.matrixWorld).invert()}this.updateCamera=function(fe){if(i===null)return;let Ce=fe.near,Ae=fe.far;y.texture!==null&&(y.depthNear>0&&(Ce=y.depthNear),y.depthFar>0&&(Ae=y.depthFar)),D.near=k.near=P.near=Ce,D.far=k.far=P.far=Ae,(O!==D.near||V!==D.far)&&(i.updateRenderState({depthNear:D.near,depthFar:D.far}),O=D.near,V=D.far),P.layers.mask=fe.layers.mask|2,k.layers.mask=fe.layers.mask|4,D.layers.mask=P.layers.mask|k.layers.mask;const Se=fe.parent,He=D.cameras;Q(D,Se);for(let ut=0;ut<He.length;ut++)Q(He[ut],Se);He.length===2?z(D,P,k):D.projectionMatrix.copy(P.projectionMatrix),Z(fe,D,Se)};function Z(fe,Ce,Ae){Ae===null?fe.matrix.copy(Ce.matrixWorld):(fe.matrix.copy(Ae.matrixWorld),fe.matrix.invert(),fe.matrix.multiply(Ce.matrixWorld)),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale),fe.updateMatrixWorld(!0),fe.projectionMatrix.copy(Ce.projectionMatrix),fe.projectionMatrixInverse.copy(Ce.projectionMatrixInverse),fe.isPerspectiveCamera&&(fe.fov=Bf*2*Math.atan(1/fe.projectionMatrix.elements[5]),fe.zoom=1)}this.getCamera=function(){return D},this.getFoveation=function(){if(!(f===null&&m===null))return l},this.setFoveation=function(fe){l=fe,f!==null&&(f.fixedFoveation=fe),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=fe)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(D)};let Y=null;function oe(fe,Ce){if(u=Ce.getViewerPose(c||a),v=Ce,u!==null){const Ae=u.views;m!==null&&(e.setRenderTargetFramebuffer(S,m.framebuffer),e.setRenderTarget(S));let Se=!1;Ae.length!==D.cameras.length&&(D.cameras.length=0,Se=!0);for(let tt=0;tt<Ae.length;tt++){const kt=Ae[tt];let je=null;if(m!==null)je=m.getViewport(kt);else{const ne=d.getViewSubImage(f,kt);je=ne.viewport,tt===0&&(e.setRenderTargetTextures(S,ne.colorTexture,f.ignoreDepthValues?void 0:ne.depthStencilTexture),e.setRenderTarget(S))}let Fe=B[tt];Fe===void 0&&(Fe=new ur,Fe.layers.enable(tt),Fe.viewport=new Gn,B[tt]=Fe),Fe.matrix.fromArray(kt.transform.matrix),Fe.matrix.decompose(Fe.position,Fe.quaternion,Fe.scale),Fe.projectionMatrix.fromArray(kt.projectionMatrix),Fe.projectionMatrixInverse.copy(Fe.projectionMatrix).invert(),Fe.viewport.set(je.x,je.y,je.width,je.height),tt===0&&(D.matrix.copy(Fe.matrix),D.matrix.decompose(D.position,D.quaternion,D.scale)),Se===!0&&D.cameras.push(Fe)}const He=i.enabledFeatures;if(He&&He.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&d){const tt=d.getDepthInformation(Ae[0]);tt&&tt.isValid&&tt.texture&&y.init(e,tt,i.renderState)}}for(let Ae=0;Ae<M.length;Ae++){const Se=E[Ae],He=M[Ae];Se!==null&&He!==void 0&&He.update(Se,Ce,c||a)}Y&&Y(fe,Ce),Ce.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:Ce}),v=null}const Pe=new Ak;Pe.setAnimationLoop(oe),this.setAnimationLoop=function(fe){Y=fe},this.dispose=function(){}}}const ju=new ia,$9=new Kt;function eV(r,e){function t(w,b){w.matrixAutoUpdate===!0&&w.updateMatrix(),b.value.copy(w.matrix)}function n(w,b){b.color.getRGB(w.fogColor.value,PP(r)),b.isFog?(w.fogNear.value=b.near,w.fogFar.value=b.far):b.isFogExp2&&(w.fogDensity.value=b.density)}function i(w,b,S,M,E){b.isMeshBasicMaterial||b.isMeshLambertMaterial?s(w,b):b.isMeshToonMaterial?(s(w,b),d(w,b)):b.isMeshPhongMaterial?(s(w,b),u(w,b)):b.isMeshStandardMaterial?(s(w,b),f(w,b),b.isMeshPhysicalMaterial&&m(w,b,E)):b.isMeshMatcapMaterial?(s(w,b),v(w,b)):b.isMeshDepthMaterial?s(w,b):b.isMeshDistanceMaterial?(s(w,b),y(w,b)):b.isMeshNormalMaterial?s(w,b):b.isLineBasicMaterial?(a(w,b),b.isLineDashedMaterial&&o(w,b)):b.isPointsMaterial?l(w,b,S,M):b.isSpriteMaterial?c(w,b):b.isShadowMaterial?(w.color.value.copy(b.color),w.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function s(w,b){w.opacity.value=b.opacity,b.color&&w.diffuse.value.copy(b.color),b.emissive&&w.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(w.map.value=b.map,t(b.map,w.mapTransform)),b.alphaMap&&(w.alphaMap.value=b.alphaMap,t(b.alphaMap,w.alphaMapTransform)),b.bumpMap&&(w.bumpMap.value=b.bumpMap,t(b.bumpMap,w.bumpMapTransform),w.bumpScale.value=b.bumpScale,b.side===ws&&(w.bumpScale.value*=-1)),b.normalMap&&(w.normalMap.value=b.normalMap,t(b.normalMap,w.normalMapTransform),w.normalScale.value.copy(b.normalScale),b.side===ws&&w.normalScale.value.negate()),b.displacementMap&&(w.displacementMap.value=b.displacementMap,t(b.displacementMap,w.displacementMapTransform),w.displacementScale.value=b.displacementScale,w.displacementBias.value=b.displacementBias),b.emissiveMap&&(w.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,w.emissiveMapTransform)),b.specularMap&&(w.specularMap.value=b.specularMap,t(b.specularMap,w.specularMapTransform)),b.alphaTest>0&&(w.alphaTest.value=b.alphaTest);const S=e.get(b),M=S.envMap,E=S.envMapRotation;M&&(w.envMap.value=M,ju.copy(E),ju.x*=-1,ju.y*=-1,ju.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(ju.y*=-1,ju.z*=-1),w.envMapRotation.value.setFromMatrix4($9.makeRotationFromEuler(ju)),w.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=b.reflectivity,w.ior.value=b.ior,w.refractionRatio.value=b.refractionRatio),b.lightMap&&(w.lightMap.value=b.lightMap,w.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,w.lightMapTransform)),b.aoMap&&(w.aoMap.value=b.aoMap,w.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,w.aoMapTransform))}function a(w,b){w.diffuse.value.copy(b.color),w.opacity.value=b.opacity,b.map&&(w.map.value=b.map,t(b.map,w.mapTransform))}function o(w,b){w.dashSize.value=b.dashSize,w.totalSize.value=b.dashSize+b.gapSize,w.scale.value=b.scale}function l(w,b,S,M){w.diffuse.value.copy(b.color),w.opacity.value=b.opacity,w.size.value=b.size*S,w.scale.value=M*.5,b.map&&(w.map.value=b.map,t(b.map,w.uvTransform)),b.alphaMap&&(w.alphaMap.value=b.alphaMap,t(b.alphaMap,w.alphaMapTransform)),b.alphaTest>0&&(w.alphaTest.value=b.alphaTest)}function c(w,b){w.diffuse.value.copy(b.color),w.opacity.value=b.opacity,w.rotation.value=b.rotation,b.map&&(w.map.value=b.map,t(b.map,w.mapTransform)),b.alphaMap&&(w.alphaMap.value=b.alphaMap,t(b.alphaMap,w.alphaMapTransform)),b.alphaTest>0&&(w.alphaTest.value=b.alphaTest)}function u(w,b){w.specular.value.copy(b.specular),w.shininess.value=Math.max(b.shininess,1e-4)}function d(w,b){b.gradientMap&&(w.gradientMap.value=b.gradientMap)}function f(w,b){w.metalness.value=b.metalness,b.metalnessMap&&(w.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,w.metalnessMapTransform)),w.roughness.value=b.roughness,b.roughnessMap&&(w.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,w.roughnessMapTransform)),b.envMap&&(w.envMapIntensity.value=b.envMapIntensity)}function m(w,b,S){w.ior.value=b.ior,b.sheen>0&&(w.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),w.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(w.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,w.sheenColorMapTransform)),b.sheenRoughnessMap&&(w.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,w.sheenRoughnessMapTransform))),b.clearcoat>0&&(w.clearcoat.value=b.clearcoat,w.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(w.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,w.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(w.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===ws&&w.clearcoatNormalScale.value.negate())),b.dispersion>0&&(w.dispersion.value=b.dispersion),b.iridescence>0&&(w.iridescence.value=b.iridescence,w.iridescenceIOR.value=b.iridescenceIOR,w.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(w.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,w.iridescenceMapTransform)),b.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),b.transmission>0&&(w.transmission.value=b.transmission,w.transmissionSamplerMap.value=S.texture,w.transmissionSamplerSize.value.set(S.width,S.height),b.transmissionMap&&(w.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,w.transmissionMapTransform)),w.thickness.value=b.thickness,b.thicknessMap&&(w.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=b.attenuationDistance,w.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(w.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(w.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=b.specularIntensity,w.specularColor.value.copy(b.specularColor),b.specularColorMap&&(w.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,w.specularColorMapTransform)),b.specularIntensityMap&&(w.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,w.specularIntensityMapTransform))}function v(w,b){b.matcap&&(w.matcap.value=b.matcap)}function y(w,b){const S=e.get(b).light;w.referencePosition.value.setFromMatrixPosition(S.matrixWorld),w.nearDistance.value=S.shadow.camera.near,w.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function tV(r,e,t,n){let i={},s={},a=[];const o=r.getParameter(r.MAX_UNIFORM_BUFFER_BINDINGS);function l(S,M){const E=M.program;n.uniformBlockBinding(S,E)}function c(S,M){let E=i[S.id];E===void 0&&(v(S),E=u(S),i[S.id]=E,S.addEventListener("dispose",w));const T=M.program;n.updateUBOMapping(S,T);const R=e.render.frame;s[S.id]!==R&&(f(S),s[S.id]=R)}function u(S){const M=d();S.__bindingPointIndex=M;const E=r.createBuffer(),T=S.__size,R=S.usage;return r.bindBuffer(r.UNIFORM_BUFFER,E),r.bufferData(r.UNIFORM_BUFFER,T,R),r.bindBuffer(r.UNIFORM_BUFFER,null),r.bindBufferBase(r.UNIFORM_BUFFER,M,E),E}function d(){for(let S=0;S<o;S++)if(a.indexOf(S)===-1)return a.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(S){const M=i[S.id],E=S.uniforms,T=S.__cache;r.bindBuffer(r.UNIFORM_BUFFER,M);for(let R=0,P=E.length;R<P;R++){const k=Array.isArray(E[R])?E[R]:[E[R]];for(let B=0,D=k.length;B<D;B++){const O=k[B];if(m(O,R,B,T)===!0){const V=O.__offset,X=Array.isArray(O.value)?O.value:[O.value];let K=0;for(let ie=0;ie<X.length;ie++){const ee=X[ie],ae=y(ee);typeof ee=="number"||typeof ee=="boolean"?(O.__data[0]=ee,r.bufferSubData(r.UNIFORM_BUFFER,V+K,O.__data)):ee.isMatrix3?(O.__data[0]=ee.elements[0],O.__data[1]=ee.elements[1],O.__data[2]=ee.elements[2],O.__data[3]=0,O.__data[4]=ee.elements[3],O.__data[5]=ee.elements[4],O.__data[6]=ee.elements[5],O.__data[7]=0,O.__data[8]=ee.elements[6],O.__data[9]=ee.elements[7],O.__data[10]=ee.elements[8],O.__data[11]=0):(ee.toArray(O.__data,K),K+=ae.storage/Float32Array.BYTES_PER_ELEMENT)}r.bufferSubData(r.UNIFORM_BUFFER,V,O.__data)}}}r.bindBuffer(r.UNIFORM_BUFFER,null)}function m(S,M,E,T){const R=S.value,P=M+"_"+E;if(T[P]===void 0)return typeof R=="number"||typeof R=="boolean"?T[P]=R:T[P]=R.clone(),!0;{const k=T[P];if(typeof R=="number"||typeof R=="boolean"){if(k!==R)return T[P]=R,!0}else if(k.equals(R)===!1)return k.copy(R),!0}return!1}function v(S){const M=S.uniforms;let E=0;const T=16;for(let P=0,k=M.length;P<k;P++){const B=Array.isArray(M[P])?M[P]:[M[P]];for(let D=0,O=B.length;D<O;D++){const V=B[D],X=Array.isArray(V.value)?V.value:[V.value];for(let K=0,ie=X.length;K<ie;K++){const ee=X[K],ae=y(ee),z=E%T,Q=z%ae.boundary,Z=z+Q;E+=Q,Z!==0&&T-Z<ae.storage&&(E+=T-Z),V.__data=new Float32Array(ae.storage/Float32Array.BYTES_PER_ELEMENT),V.__offset=E,E+=ae.storage}}}const R=E%T;return R>0&&(E+=T-R),S.__size=E,S.__cache={},this}function y(S){const M={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(M.boundary=4,M.storage=4):S.isVector2?(M.boundary=8,M.storage=8):S.isVector3||S.isColor?(M.boundary=16,M.storage=12):S.isVector4?(M.boundary=16,M.storage=16):S.isMatrix3?(M.boundary=48,M.storage=48):S.isMatrix4?(M.boundary=64,M.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),M}function w(S){const M=S.target;M.removeEventListener("dispose",w);const E=a.indexOf(M.__bindingPointIndex);a.splice(E,1),r.deleteBuffer(i[M.id]),delete i[M.id],delete s[M.id]}function b(){for(const S in i)r.deleteBuffer(i[S]);a=[],i={},s={}}return{bind:l,update:c,dispose:b}}class n_{constructor(e={}){const{canvas:t=TP(),context:n=null,depth:i=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let m;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=n.getContextAttributes().alpha}else m=a;const v=new Uint32Array(4),y=new Int32Array(4);let w=null,b=null;const S=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=xs,this.toneMapping=Do,this.toneMappingExposure=1;const E=this;let T=!1,R=0,P=0,k=null,B=-1,D=null;const O=new Gn,V=new Gn;let X=null;const K=new gt(0);let ie=0,ee=t.width,ae=t.height,z=1,Q=null,Z=null;const Y=new Gn(0,0,ee,ae),oe=new Gn(0,0,ee,ae);let Pe=!1;const fe=new Tg;let Ce=!1,Ae=!1;this.transmissionResolutionScale=1;const Se=new Kt,He=new Kt,ut=new $,tt=new Gn,kt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let je=!1;function Fe(){return k===null?z:1}let ne=n;function Bt(G,se){return t.getContext(G,se)}try{const G={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Xf}`),t.addEventListener("webglcontextlost",We,!1),t.addEventListener("webglcontextrestored",wt,!1),t.addEventListener("webglcontextcreationerror",xt,!1),ne===null){const se="webgl2";if(ne=Bt(se,G),ne===null)throw Bt(se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(G){throw console.error("THREE.WebGLRenderer: "+G.message),G}let nt,Ct,ot,Jt,dt,te,J,Me,Ge,Je,Ve,Dt,pt,bt,un,it,Pt,Wt,Nt,Rt,on,Xt,sn,ye;function Le(){nt=new fG(ne),nt.init(),Xt=new Ek(ne,nt),Ct=new oG(ne,nt,e,Xt),ot=new j9(ne,nt),Ct.reverseDepthBuffer&&f&&ot.buffers.depth.setReversed(!0),Jt=new gG(ne),dt=new B9,te=new J9(ne,nt,ot,dt,Ct,Xt,Jt),J=new cG(E),Me=new dG(E),Ge=new S5(ne),sn=new sG(ne,Ge),Je=new pG(ne,Ge,Jt,sn),Ve=new vG(ne,Je,Ge,Jt),Nt=new xG(ne,Ct,te),it=new lG(dt),Dt=new L9(E,J,Me,nt,Ct,sn,it),pt=new eV(E,dt),bt=new F9,un=new G9(nt),Wt=new rG(E,J,Me,ot,Ve,m,l),Pt=new X9(E,Ve,Ct),ye=new tV(ne,Jt,Ct,ot),Rt=new aG(ne,nt,Jt),on=new mG(ne,nt,Jt),Jt.programs=Dt.programs,E.capabilities=Ct,E.extensions=nt,E.properties=dt,E.renderLists=bt,E.shadowMap=Pt,E.state=ot,E.info=Jt}Le();const Be=new Q9(E,ne);this.xr=Be,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const G=nt.get("WEBGL_lose_context");G&&G.loseContext()},this.forceContextRestore=function(){const G=nt.get("WEBGL_lose_context");G&&G.restoreContext()},this.getPixelRatio=function(){return z},this.setPixelRatio=function(G){G!==void 0&&(z=G,this.setSize(ee,ae,!1))},this.getSize=function(G){return G.set(ee,ae)},this.setSize=function(G,se,he=!0){if(Be.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ee=G,ae=se,t.width=Math.floor(G*z),t.height=Math.floor(se*z),he===!0&&(t.style.width=G+"px",t.style.height=se+"px"),this.setViewport(0,0,G,se)},this.getDrawingBufferSize=function(G){return G.set(ee*z,ae*z).floor()},this.setDrawingBufferSize=function(G,se,he){ee=G,ae=se,z=he,t.width=Math.floor(G*he),t.height=Math.floor(se*he),this.setViewport(0,0,G,se)},this.getCurrentViewport=function(G){return G.copy(O)},this.getViewport=function(G){return G.copy(Y)},this.setViewport=function(G,se,he,le){G.isVector4?Y.set(G.x,G.y,G.z,G.w):Y.set(G,se,he,le),ot.viewport(O.copy(Y).multiplyScalar(z).round())},this.getScissor=function(G){return G.copy(oe)},this.setScissor=function(G,se,he,le){G.isVector4?oe.set(G.x,G.y,G.z,G.w):oe.set(G,se,he,le),ot.scissor(V.copy(oe).multiplyScalar(z).round())},this.getScissorTest=function(){return Pe},this.setScissorTest=function(G){ot.setScissorTest(Pe=G)},this.setOpaqueSort=function(G){Q=G},this.setTransparentSort=function(G){Z=G},this.getClearColor=function(G){return G.copy(Wt.getClearColor())},this.setClearColor=function(){Wt.setClearColor.apply(Wt,arguments)},this.getClearAlpha=function(){return Wt.getClearAlpha()},this.setClearAlpha=function(){Wt.setClearAlpha.apply(Wt,arguments)},this.clear=function(G=!0,se=!0,he=!0){let le=0;if(G){let ge=!1;if(k!==null){const Ee=k.texture.format;ge=Ee===ay||Ee===sy||Ee===wg}if(ge){const Ee=k.texture.type,Ue=Ee===zs||Ee===zo||Ee===Pf||Ee===Ch||Ee===iy||Ee===ry,Xe=Wt.getClearColor(),qe=Wt.getClearAlpha(),mt=Xe.r,ht=Xe.g,Ze=Xe.b;Ue?(v[0]=mt,v[1]=ht,v[2]=Ze,v[3]=qe,ne.clearBufferuiv(ne.COLOR,0,v)):(y[0]=mt,y[1]=ht,y[2]=Ze,y[3]=qe,ne.clearBufferiv(ne.COLOR,0,y))}else le|=ne.COLOR_BUFFER_BIT}se&&(le|=ne.DEPTH_BUFFER_BIT),he&&(le|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",We,!1),t.removeEventListener("webglcontextrestored",wt,!1),t.removeEventListener("webglcontextcreationerror",xt,!1),Wt.dispose(),bt.dispose(),un.dispose(),dt.dispose(),J.dispose(),Me.dispose(),Ve.dispose(),sn.dispose(),ye.dispose(),Dt.dispose(),Be.dispose(),Be.removeEventListener("sessionstart",mo),Be.removeEventListener("sessionend",sa),Cr.stop()};function We(G){G.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function wt(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const G=Jt.autoReset,se=Pt.enabled,he=Pt.autoUpdate,le=Pt.needsUpdate,ge=Pt.type;Le(),Jt.autoReset=G,Pt.enabled=se,Pt.autoUpdate=he,Pt.needsUpdate=le,Pt.type=ge}function xt(G){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",G.statusMessage)}function an(G){const se=G.target;se.removeEventListener("dispose",an),Qn(se)}function Qn(G){bi(G),dt.remove(G)}function bi(G){const se=dt.get(G).programs;se!==void 0&&(se.forEach(function(he){Dt.releaseProgram(he)}),G.isShaderMaterial&&Dt.releaseShaderCache(G))}this.renderBufferDirect=function(G,se,he,le,ge,Ee){se===null&&(se=kt);const Ue=ge.isMesh&&ge.matrixWorld.determinant()<0,Xe=pe(G,se,he,le,ge);ot.setMaterial(le,Ue);let qe=he.index,mt=1;if(le.wireframe===!0){if(qe=Je.getWireframeAttribute(he),qe===void 0)return;mt=2}const ht=he.drawRange,Ze=he.attributes.position;let vt=ht.start*mt,yt=(ht.start+ht.count)*mt;Ee!==null&&(vt=Math.max(vt,Ee.start*mt),yt=Math.min(yt,(Ee.start+Ee.count)*mt)),qe!==null?(vt=Math.max(vt,0),yt=Math.min(yt,qe.count)):Ze!=null&&(vt=Math.max(vt,0),yt=Math.min(yt,Ze.count));const nn=yt-vt;if(nn<0||nn===1/0)return;sn.setup(ge,le,Xe,he,qe);let Ot,Ht=Rt;if(qe!==null&&(Ot=Ge.get(qe),Ht=on,Ht.setIndex(Ot)),ge.isMesh)le.wireframe===!0?(ot.setLineWidth(le.wireframeLinewidth*Fe()),Ht.setMode(ne.LINES)):Ht.setMode(ne.TRIANGLES);else if(ge.isLine){let Et=le.linewidth;Et===void 0&&(Et=1),ot.setLineWidth(Et*Fe()),ge.isLineSegments?Ht.setMode(ne.LINES):ge.isLineLoop?Ht.setMode(ne.LINE_LOOP):Ht.setMode(ne.LINE_STRIP)}else ge.isPoints?Ht.setMode(ne.POINTS):ge.isSprite&&Ht.setMode(ne.TRIANGLES);if(ge.isBatchedMesh)if(ge._multiDrawInstances!==null)Ht.renderMultiDrawInstances(ge._multiDrawStarts,ge._multiDrawCounts,ge._multiDrawCount,ge._multiDrawInstances);else if(nt.get("WEBGL_multi_draw"))Ht.renderMultiDraw(ge._multiDrawStarts,ge._multiDrawCounts,ge._multiDrawCount);else{const Et=ge._multiDrawStarts,vn=ge._multiDrawCounts,Zt=ge._multiDrawCount,ln=qe?Ge.get(qe).bytesPerElement:1,ni=dt.get(le).currentProgram.getUniforms();for(let pn=0;pn<Zt;pn++)ni.setValue(ne,"_gl_DrawID",pn),Ht.render(Et[pn]/ln,vn[pn])}else if(ge.isInstancedMesh)Ht.renderInstances(vt,nn,ge.count);else if(he.isInstancedBufferGeometry){const Et=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,vn=Math.min(he.instanceCount,Et);Ht.renderInstances(vt,nn,vn)}else Ht.render(vt,nn)};function Tn(G,se,he){G.transparent===!0&&G.side===Sa&&G.forceSinglePass===!1?(G.side=ws,G.needsUpdate=!0,go(G,se,he),G.side=Oo,G.needsUpdate=!0,go(G,se,he),G.side=Sa):go(G,se,he)}this.compile=function(G,se,he=null){he===null&&(he=G),b=un.get(he),b.init(se),M.push(b),he.traverseVisible(function(ge){ge.isLight&&ge.layers.test(se.layers)&&(b.pushLight(ge),ge.castShadow&&b.pushShadow(ge))}),G!==he&&G.traverseVisible(function(ge){ge.isLight&&ge.layers.test(se.layers)&&(b.pushLight(ge),ge.castShadow&&b.pushShadow(ge))}),b.setupLights();const le=new Set;return G.traverse(function(ge){if(!(ge.isMesh||ge.isPoints||ge.isLine||ge.isSprite))return;const Ee=ge.material;if(Ee)if(Array.isArray(Ee))for(let Ue=0;Ue<Ee.length;Ue++){const Xe=Ee[Ue];Tn(Xe,he,ge),le.add(Xe)}else Tn(Ee,he,ge),le.add(Ee)}),M.pop(),b=null,le},this.compileAsync=function(G,se,he=null){const le=this.compile(G,se,he);return new Promise(ge=>{function Ee(){if(le.forEach(function(Ue){dt.get(Ue).currentProgram.isReady()&&le.delete(Ue)}),le.size===0){ge(G);return}setTimeout(Ee,10)}nt.get("KHR_parallel_shader_compile")!==null?Ee():setTimeout(Ee,10)})};let $i=null;function er(G){$i&&$i(G)}function mo(){Cr.stop()}function sa(){Cr.start()}const Cr=new Ak;Cr.setAnimationLoop(er),typeof self<"u"&&Cr.setContext(self),this.setAnimationLoop=function(G){$i=G,Be.setAnimationLoop(G),G===null?Cr.stop():Cr.start()},Be.addEventListener("sessionstart",mo),Be.addEventListener("sessionend",sa),this.render=function(G,se){if(se!==void 0&&se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;if(G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),se.parent===null&&se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),Be.enabled===!0&&Be.isPresenting===!0&&(Be.cameraAutoUpdate===!0&&Be.updateCamera(se),se=Be.getCamera()),G.isScene===!0&&G.onBeforeRender(E,G,se,k),b=un.get(G,M.length),b.init(se),M.push(b),He.multiplyMatrices(se.projectionMatrix,se.matrixWorldInverse),fe.setFromProjectionMatrix(He),Ae=this.localClippingEnabled,Ce=it.init(this.clippingPlanes,Ae),w=bt.get(G,S.length),w.init(),S.push(w),Be.enabled===!0&&Be.isPresenting===!0){const Ee=E.xr.getDepthSensingMesh();Ee!==null&&is(Ee,se,-1/0,E.sortObjects)}is(G,se,0,E.sortObjects),w.finish(),E.sortObjects===!0&&w.sort(Q,Z),je=Be.enabled===!1||Be.isPresenting===!1||Be.hasDepthSensing()===!1,je&&Wt.addToRenderList(w,G),this.info.render.frame++,Ce===!0&&it.beginShadows();const he=b.state.shadowsArray;Pt.render(he,G,se),Ce===!0&&it.endShadows(),this.info.autoReset===!0&&this.info.reset();const le=w.opaque,ge=w.transmissive;if(b.setupLights(),se.isArrayCamera){const Ee=se.cameras;if(ge.length>0)for(let Ue=0,Xe=Ee.length;Ue<Xe;Ue++){const qe=Ee[Ue];tr(le,ge,G,qe)}je&&Wt.render(G);for(let Ue=0,Xe=Ee.length;Ue<Xe;Ue++){const qe=Ee[Ue];rs(w,G,qe,qe.viewport)}}else ge.length>0&&tr(le,ge,G,se),je&&Wt.render(G),rs(w,G,se);k!==null&&P===0&&(te.updateMultisampleRenderTarget(k),te.updateRenderTargetMipmap(k)),G.isScene===!0&&G.onAfterRender(E,G,se),sn.resetDefaultState(),B=-1,D=null,M.pop(),M.length>0?(b=M[M.length-1],Ce===!0&&it.setGlobalState(E.clippingPlanes,b.state.camera)):b=null,S.pop(),S.length>0?w=S[S.length-1]:w=null};function is(G,se,he,le){if(G.visible===!1)return;if(G.layers.test(se.layers)){if(G.isGroup)he=G.renderOrder;else if(G.isLOD)G.autoUpdate===!0&&G.update(se);else if(G.isLight)b.pushLight(G),G.castShadow&&b.pushShadow(G);else if(G.isSprite){if(!G.frustumCulled||fe.intersectsSprite(G)){le&&tt.setFromMatrixPosition(G.matrixWorld).applyMatrix4(He);const Ue=Ve.update(G),Xe=G.material;Xe.visible&&w.push(G,Ue,Xe,he,tt.z,null)}}else if((G.isMesh||G.isLine||G.isPoints)&&(!G.frustumCulled||fe.intersectsObject(G))){const Ue=Ve.update(G),Xe=G.material;if(le&&(G.boundingSphere!==void 0?(G.boundingSphere===null&&G.computeBoundingSphere(),tt.copy(G.boundingSphere.center)):(Ue.boundingSphere===null&&Ue.computeBoundingSphere(),tt.copy(Ue.boundingSphere.center)),tt.applyMatrix4(G.matrixWorld).applyMatrix4(He)),Array.isArray(Xe)){const qe=Ue.groups;for(let mt=0,ht=qe.length;mt<ht;mt++){const Ze=qe[mt],vt=Xe[Ze.materialIndex];vt&&vt.visible&&w.push(G,Ue,vt,he,tt.z,Ze)}}else Xe.visible&&w.push(G,Ue,Xe,he,tt.z,null)}}const Ee=G.children;for(let Ue=0,Xe=Ee.length;Ue<Xe;Ue++)is(Ee[Ue],se,he,le)}function rs(G,se,he,le){const ge=G.opaque,Ee=G.transmissive,Ue=G.transparent;b.setupLightsView(he),Ce===!0&&it.setGlobalState(E.clippingPlanes,he),le&&ot.viewport(O.copy(le)),ge.length>0&&hn(ge,se,he),Ee.length>0&&hn(Ee,se,he),Ue.length>0&&hn(Ue,se,he),ot.buffers.depth.setTest(!0),ot.buffers.depth.setMask(!0),ot.buffers.color.setMask(!0),ot.setPolygonOffset(!1)}function tr(G,se,he,le){if((he.isScene===!0?he.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[le.id]===void 0&&(b.state.transmissionRenderTarget[le.id]=new ts(1,1,{generateMipmaps:!0,type:nt.has("EXT_color_buffer_half_float")||nt.has("EXT_color_buffer_float")?dr:zs,minFilter:Ca,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:On.workingColorSpace}));const Ee=b.state.transmissionRenderTarget[le.id],Ue=le.viewport||O;Ee.setSize(Ue.z*E.transmissionResolutionScale,Ue.w*E.transmissionResolutionScale);const Xe=E.getRenderTarget();E.setRenderTarget(Ee),E.getClearColor(K),ie=E.getClearAlpha(),ie<1&&E.setClearColor(16777215,.5),E.clear(),je&&Wt.render(he);const qe=E.toneMapping;E.toneMapping=Do;const mt=le.viewport;if(le.viewport!==void 0&&(le.viewport=void 0),b.setupLightsView(le),Ce===!0&&it.setGlobalState(E.clippingPlanes,le),hn(G,he,le),te.updateMultisampleRenderTarget(Ee),te.updateRenderTargetMipmap(Ee),nt.has("WEBGL_multisampled_render_to_texture")===!1){let ht=!1;for(let Ze=0,vt=se.length;Ze<vt;Ze++){const yt=se[Ze],nn=yt.object,Ot=yt.geometry,Ht=yt.material,Et=yt.group;if(Ht.side===Sa&&nn.layers.test(le.layers)){const vn=Ht.side;Ht.side=ws,Ht.needsUpdate=!0,Vo(nn,he,le,Ot,Ht,Et),Ht.side=vn,Ht.needsUpdate=!0,ht=!0}}ht===!0&&(te.updateMultisampleRenderTarget(Ee),te.updateRenderTargetMipmap(Ee))}E.setRenderTarget(Xe),E.setClearColor(K,ie),mt!==void 0&&(le.viewport=mt),E.toneMapping=qe}function hn(G,se,he){const le=se.isScene===!0?se.overrideMaterial:null;for(let ge=0,Ee=G.length;ge<Ee;ge++){const Ue=G[ge],Xe=Ue.object,qe=Ue.geometry,mt=le===null?Ue.material:le,ht=Ue.group;Xe.layers.test(he.layers)&&Vo(Xe,se,he,qe,mt,ht)}}function Vo(G,se,he,le,ge,Ee){G.onBeforeRender(E,se,he,le,ge,Ee),G.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,G.matrixWorld),G.normalMatrix.getNormalMatrix(G.modelViewMatrix),ge.onBeforeRender(E,se,he,le,G,Ee),ge.transparent===!0&&ge.side===Sa&&ge.forceSinglePass===!1?(ge.side=ws,ge.needsUpdate=!0,E.renderBufferDirect(he,se,le,ge,G,Ee),ge.side=Oo,ge.needsUpdate=!0,E.renderBufferDirect(he,se,le,ge,G,Ee),ge.side=Sa):E.renderBufferDirect(he,se,le,ge,G,Ee),G.onAfterRender(E,se,he,le,ge,Ee)}function go(G,se,he){se.isScene!==!0&&(se=kt);const le=dt.get(G),ge=b.state.lights,Ee=b.state.shadowsArray,Ue=ge.state.version,Xe=Dt.getParameters(G,ge.state,Ee,se,he),qe=Dt.getProgramCacheKey(Xe);let mt=le.programs;le.environment=G.isMeshStandardMaterial?se.environment:null,le.fog=se.fog,le.envMap=(G.isMeshStandardMaterial?Me:J).get(G.envMap||le.environment),le.envMapRotation=le.environment!==null&&G.envMap===null?se.environmentRotation:G.envMapRotation,mt===void 0&&(G.addEventListener("dispose",an),mt=new Map,le.programs=mt);let ht=mt.get(qe);if(ht!==void 0){if(le.currentProgram===ht&&le.lightsStateVersion===Ue)return q(G,Xe),ht}else Xe.uniforms=Dt.getUniforms(G),G.onBeforeCompile(Xe,E),ht=Dt.acquireProgram(Xe,qe),mt.set(qe,ht),le.uniforms=Xe.uniforms;const Ze=le.uniforms;return(!G.isShaderMaterial&&!G.isRawShaderMaterial||G.clipping===!0)&&(Ze.clippingPlanes=it.uniform),q(G,Xe),le.needsLights=Ne(G),le.lightsStateVersion=Ue,le.needsLights&&(Ze.ambientLightColor.value=ge.state.ambient,Ze.lightProbe.value=ge.state.probe,Ze.directionalLights.value=ge.state.directional,Ze.directionalLightShadows.value=ge.state.directionalShadow,Ze.spotLights.value=ge.state.spot,Ze.spotLightShadows.value=ge.state.spotShadow,Ze.rectAreaLights.value=ge.state.rectArea,Ze.ltc_1.value=ge.state.rectAreaLTC1,Ze.ltc_2.value=ge.state.rectAreaLTC2,Ze.pointLights.value=ge.state.point,Ze.pointLightShadows.value=ge.state.pointShadow,Ze.hemisphereLights.value=ge.state.hemi,Ze.directionalShadowMap.value=ge.state.directionalShadowMap,Ze.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,Ze.spotShadowMap.value=ge.state.spotShadowMap,Ze.spotLightMatrix.value=ge.state.spotLightMatrix,Ze.spotLightMap.value=ge.state.spotLightMap,Ze.pointShadowMap.value=ge.state.pointShadowMap,Ze.pointShadowMatrix.value=ge.state.pointShadowMatrix),le.currentProgram=ht,le.uniformsList=null,ht}function H(G){if(G.uniformsList===null){const se=G.currentProgram.getUniforms();G.uniformsList=W0.seqWithValue(se.seq,G.uniforms)}return G.uniformsList}function q(G,se){const he=dt.get(G);he.outputColorSpace=se.outputColorSpace,he.batching=se.batching,he.batchingColor=se.batchingColor,he.instancing=se.instancing,he.instancingColor=se.instancingColor,he.instancingMorph=se.instancingMorph,he.skinning=se.skinning,he.morphTargets=se.morphTargets,he.morphNormals=se.morphNormals,he.morphColors=se.morphColors,he.morphTargetsCount=se.morphTargetsCount,he.numClippingPlanes=se.numClippingPlanes,he.numIntersection=se.numClipIntersection,he.vertexAlphas=se.vertexAlphas,he.vertexTangents=se.vertexTangents,he.toneMapping=se.toneMapping}function pe(G,se,he,le,ge){se.isScene!==!0&&(se=kt),te.resetTextureUnits();const Ee=se.fog,Ue=le.isMeshStandardMaterial?se.environment:null,Xe=k===null?E.outputColorSpace:k.isXRRenderTarget===!0?k.texture.colorSpace:Ho,qe=(le.isMeshStandardMaterial?Me:J).get(le.envMap||Ue),mt=le.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,ht=!!he.attributes.tangent&&(!!le.normalMap||le.anisotropy>0),Ze=!!he.morphAttributes.position,vt=!!he.morphAttributes.normal,yt=!!he.morphAttributes.color;let nn=Do;le.toneMapped&&(k===null||k.isXRRenderTarget===!0)&&(nn=E.toneMapping);const Ot=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,Ht=Ot!==void 0?Ot.length:0,Et=dt.get(le),vn=b.state.lights;if(Ce===!0&&(Ae===!0||G!==D)){const ii=G===D&&le.id===B;it.setState(le,G,ii)}let Zt=!1;le.version===Et.__version?(Et.needsLights&&Et.lightsStateVersion!==vn.state.version||Et.outputColorSpace!==Xe||ge.isBatchedMesh&&Et.batching===!1||!ge.isBatchedMesh&&Et.batching===!0||ge.isBatchedMesh&&Et.batchingColor===!0&&ge.colorTexture===null||ge.isBatchedMesh&&Et.batchingColor===!1&&ge.colorTexture!==null||ge.isInstancedMesh&&Et.instancing===!1||!ge.isInstancedMesh&&Et.instancing===!0||ge.isSkinnedMesh&&Et.skinning===!1||!ge.isSkinnedMesh&&Et.skinning===!0||ge.isInstancedMesh&&Et.instancingColor===!0&&ge.instanceColor===null||ge.isInstancedMesh&&Et.instancingColor===!1&&ge.instanceColor!==null||ge.isInstancedMesh&&Et.instancingMorph===!0&&ge.morphTexture===null||ge.isInstancedMesh&&Et.instancingMorph===!1&&ge.morphTexture!==null||Et.envMap!==qe||le.fog===!0&&Et.fog!==Ee||Et.numClippingPlanes!==void 0&&(Et.numClippingPlanes!==it.numPlanes||Et.numIntersection!==it.numIntersection)||Et.vertexAlphas!==mt||Et.vertexTangents!==ht||Et.morphTargets!==Ze||Et.morphNormals!==vt||Et.morphColors!==yt||Et.toneMapping!==nn||Et.morphTargetsCount!==Ht)&&(Zt=!0):(Zt=!0,Et.__version=le.version);let ln=Et.currentProgram;Zt===!0&&(ln=go(le,se,ge));let ni=!1,pn=!1,An=!1;const Qt=ln.getUniforms(),hi=Et.uniforms;if(ot.useProgram(ln.program)&&(ni=!0,pn=!0,An=!0),le.id!==B&&(B=le.id,pn=!0),ni||D!==G){ot.buffers.depth.getReversed()?(Se.copy(G.projectionMatrix),Z4(Se),q4(Se),Qt.setValue(ne,"projectionMatrix",Se)):Qt.setValue(ne,"projectionMatrix",G.projectionMatrix),Qt.setValue(ne,"viewMatrix",G.matrixWorldInverse);const _i=Qt.map.cameraPosition;_i!==void 0&&_i.setValue(ne,ut.setFromMatrixPosition(G.matrixWorld)),Ct.logarithmicDepthBuffer&&Qt.setValue(ne,"logDepthBufFC",2/(Math.log(G.far+1)/Math.LN2)),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&Qt.setValue(ne,"isOrthographic",G.isOrthographicCamera===!0),D!==G&&(D=G,pn=!0,An=!0)}if(ge.isSkinnedMesh){Qt.setOptional(ne,ge,"bindMatrix"),Qt.setOptional(ne,ge,"bindMatrixInverse");const ii=ge.skeleton;ii&&(ii.boneTexture===null&&ii.computeBoneTexture(),Qt.setValue(ne,"boneTexture",ii.boneTexture,te))}ge.isBatchedMesh&&(Qt.setOptional(ne,ge,"batchingTexture"),Qt.setValue(ne,"batchingTexture",ge._matricesTexture,te),Qt.setOptional(ne,ge,"batchingIdTexture"),Qt.setValue(ne,"batchingIdTexture",ge._indirectTexture,te),Qt.setOptional(ne,ge,"batchingColorTexture"),ge._colorsTexture!==null&&Qt.setValue(ne,"batchingColorTexture",ge._colorsTexture,te));const Dn=he.morphAttributes;if((Dn.position!==void 0||Dn.normal!==void 0||Dn.color!==void 0)&&Nt.update(ge,he,ln),(pn||Et.receiveShadow!==ge.receiveShadow)&&(Et.receiveShadow=ge.receiveShadow,Qt.setValue(ne,"receiveShadow",ge.receiveShadow)),le.isMeshGouraudMaterial&&le.envMap!==null&&(hi.envMap.value=qe,hi.flipEnvMap.value=qe.isCubeTexture&&qe.isRenderTargetTexture===!1?-1:1),le.isMeshStandardMaterial&&le.envMap===null&&se.environment!==null&&(hi.envMapIntensity.value=se.environmentIntensity),pn&&(Qt.setValue(ne,"toneMappingExposure",E.toneMappingExposure),Et.needsLights&&Ie(hi,An),Ee&&le.fog===!0&&pt.refreshFogUniforms(hi,Ee),pt.refreshMaterialUniforms(hi,le,z,ae,b.state.transmissionRenderTarget[G.id]),W0.upload(ne,H(Et),hi,te)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(W0.upload(ne,H(Et),hi,te),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&Qt.setValue(ne,"center",ge.center),Qt.setValue(ne,"modelViewMatrix",ge.modelViewMatrix),Qt.setValue(ne,"normalMatrix",ge.normalMatrix),Qt.setValue(ne,"modelMatrix",ge.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const ii=le.uniformsGroups;for(let _i=0,Rn=ii.length;_i<Rn;_i++){const Gr=ii[_i];ye.update(Gr,ln),ye.bind(Gr,ln)}}return ln}function Ie(G,se){G.ambientLightColor.needsUpdate=se,G.lightProbe.needsUpdate=se,G.directionalLights.needsUpdate=se,G.directionalLightShadows.needsUpdate=se,G.pointLights.needsUpdate=se,G.pointLightShadows.needsUpdate=se,G.spotLights.needsUpdate=se,G.spotLightShadows.needsUpdate=se,G.rectAreaLights.needsUpdate=se,G.hemisphereLights.needsUpdate=se}function Ne(G){return G.isMeshLambertMaterial||G.isMeshToonMaterial||G.isMeshPhongMaterial||G.isMeshStandardMaterial||G.isShadowMaterial||G.isShaderMaterial&&G.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return k},this.setRenderTargetTextures=function(G,se,he){dt.get(G.texture).__webglTexture=se,dt.get(G.depthTexture).__webglTexture=he;const le=dt.get(G);le.__hasExternalTextures=!0,le.__autoAllocateDepthBuffer=he===void 0,le.__autoAllocateDepthBuffer||nt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),le.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(G,se){const he=dt.get(G);he.__webglFramebuffer=se,he.__useDefaultFramebuffer=se===void 0};const Oe=ne.createFramebuffer();this.setRenderTarget=function(G,se=0,he=0){k=G,R=se,P=he;let le=!0,ge=null,Ee=!1,Ue=!1;if(G){const qe=dt.get(G);if(qe.__useDefaultFramebuffer!==void 0)ot.bindFramebuffer(ne.FRAMEBUFFER,null),le=!1;else if(qe.__webglFramebuffer===void 0)te.setupRenderTarget(G);else if(qe.__hasExternalTextures)te.rebindTextures(G,dt.get(G.texture).__webglTexture,dt.get(G.depthTexture).__webglTexture);else if(G.depthBuffer){const Ze=G.depthTexture;if(qe.__boundDepthTexture!==Ze){if(Ze!==null&&dt.has(Ze)&&(G.width!==Ze.image.width||G.height!==Ze.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");te.setupDepthRenderbuffer(G)}}const mt=G.texture;(mt.isData3DTexture||mt.isDataArrayTexture||mt.isCompressedArrayTexture)&&(Ue=!0);const ht=dt.get(G).__webglFramebuffer;G.isWebGLCubeRenderTarget?(Array.isArray(ht[se])?ge=ht[se][he]:ge=ht[se],Ee=!0):G.samples>0&&te.useMultisampledRTT(G)===!1?ge=dt.get(G).__webglMultisampledFramebuffer:Array.isArray(ht)?ge=ht[he]:ge=ht,O.copy(G.viewport),V.copy(G.scissor),X=G.scissorTest}else O.copy(Y).multiplyScalar(z).floor(),V.copy(oe).multiplyScalar(z).floor(),X=Pe;if(he!==0&&(ge=Oe),ot.bindFramebuffer(ne.FRAMEBUFFER,ge)&&le&&ot.drawBuffers(G,ge),ot.viewport(O),ot.scissor(V),ot.setScissorTest(X),Ee){const qe=dt.get(G.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+se,qe.__webglTexture,he)}else if(Ue){const qe=dt.get(G.texture),mt=se;ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,qe.__webglTexture,he,mt)}else if(G!==null&&he!==0){const qe=dt.get(G.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,qe.__webglTexture,he)}B=-1},this.readRenderTargetPixels=function(G,se,he,le,ge,Ee,Ue){if(!(G&&G.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Xe=dt.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&Ue!==void 0&&(Xe=Xe[Ue]),Xe){ot.bindFramebuffer(ne.FRAMEBUFFER,Xe);try{const qe=G.texture,mt=qe.format,ht=qe.type;if(!Ct.textureFormatReadable(mt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ct.textureTypeReadable(ht)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}se>=0&&se<=G.width-le&&he>=0&&he<=G.height-ge&&ne.readPixels(se,he,le,ge,Xt.convert(mt),Xt.convert(ht),Ee)}finally{const qe=k!==null?dt.get(k).__webglFramebuffer:null;ot.bindFramebuffer(ne.FRAMEBUFFER,qe)}}},this.readRenderTargetPixelsAsync=async function(G,se,he,le,ge,Ee,Ue){if(!(G&&G.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Xe=dt.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&Ue!==void 0&&(Xe=Xe[Ue]),Xe){const qe=G.texture,mt=qe.format,ht=qe.type;if(!Ct.textureFormatReadable(mt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ct.textureTypeReadable(ht))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(se>=0&&se<=G.width-le&&he>=0&&he<=G.height-ge){ot.bindFramebuffer(ne.FRAMEBUFFER,Xe);const Ze=ne.createBuffer();ne.bindBuffer(ne.PIXEL_PACK_BUFFER,Ze),ne.bufferData(ne.PIXEL_PACK_BUFFER,Ee.byteLength,ne.STREAM_READ),ne.readPixels(se,he,le,ge,Xt.convert(mt),Xt.convert(ht),0);const vt=k!==null?dt.get(k).__webglFramebuffer:null;ot.bindFramebuffer(ne.FRAMEBUFFER,vt);const yt=ne.fenceSync(ne.SYNC_GPU_COMMANDS_COMPLETE,0);return ne.flush(),await K4(ne,yt,4),ne.bindBuffer(ne.PIXEL_PACK_BUFFER,Ze),ne.getBufferSubData(ne.PIXEL_PACK_BUFFER,0,Ee),ne.deleteBuffer(Ze),ne.deleteSync(yt),Ee}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(G,se=null,he=0){G.isTexture!==!0&&(af("WebGLRenderer: copyFramebufferToTexture function signature has changed."),se=arguments[0]||null,G=arguments[1]);const le=Math.pow(2,-he),ge=Math.floor(G.image.width*le),Ee=Math.floor(G.image.height*le),Ue=se!==null?se.x:0,Xe=se!==null?se.y:0;te.setTexture2D(G,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,he,0,0,Ue,Xe,ge,Ee),ot.unbindTexture()};const st=ne.createFramebuffer(),$e=ne.createFramebuffer();this.copyTextureToTexture=function(G,se,he=null,le=null,ge=0,Ee=null){G.isTexture!==!0&&(af("WebGLRenderer: copyTextureToTexture function signature has changed."),le=arguments[0]||null,G=arguments[1],se=arguments[2],Ee=arguments[3]||0,he=null),Ee===null&&(ge!==0?(af("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ee=ge,ge=0):Ee=0);let Ue,Xe,qe,mt,ht,Ze,vt,yt,nn;const Ot=G.isCompressedTexture?G.mipmaps[Ee]:G.image;if(he!==null)Ue=he.max.x-he.min.x,Xe=he.max.y-he.min.y,qe=he.isBox3?he.max.z-he.min.z:1,mt=he.min.x,ht=he.min.y,Ze=he.isBox3?he.min.z:0;else{const Dn=Math.pow(2,-ge);Ue=Math.floor(Ot.width*Dn),Xe=Math.floor(Ot.height*Dn),G.isDataArrayTexture?qe=Ot.depth:G.isData3DTexture?qe=Math.floor(Ot.depth*Dn):qe=1,mt=0,ht=0,Ze=0}le!==null?(vt=le.x,yt=le.y,nn=le.z):(vt=0,yt=0,nn=0);const Ht=Xt.convert(se.format),Et=Xt.convert(se.type);let vn;se.isData3DTexture?(te.setTexture3D(se,0),vn=ne.TEXTURE_3D):se.isDataArrayTexture||se.isCompressedArrayTexture?(te.setTexture2DArray(se,0),vn=ne.TEXTURE_2D_ARRAY):(te.setTexture2D(se,0),vn=ne.TEXTURE_2D),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,se.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,se.unpackAlignment);const Zt=ne.getParameter(ne.UNPACK_ROW_LENGTH),ln=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),ni=ne.getParameter(ne.UNPACK_SKIP_PIXELS),pn=ne.getParameter(ne.UNPACK_SKIP_ROWS),An=ne.getParameter(ne.UNPACK_SKIP_IMAGES);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Ot.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Ot.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,mt),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,ht),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Ze);const Qt=G.isDataArrayTexture||G.isData3DTexture,hi=se.isDataArrayTexture||se.isData3DTexture;if(G.isDepthTexture){const Dn=dt.get(G),ii=dt.get(se),_i=dt.get(Dn.__renderTarget),Rn=dt.get(ii.__renderTarget);ot.bindFramebuffer(ne.READ_FRAMEBUFFER,_i.__webglFramebuffer),ot.bindFramebuffer(ne.DRAW_FRAMEBUFFER,Rn.__webglFramebuffer);for(let Gr=0;Gr<qe;Gr++)Qt&&(ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,dt.get(G).__webglTexture,ge,Ze+Gr),ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,dt.get(se).__webglTexture,Ee,nn+Gr)),ne.blitFramebuffer(mt,ht,Ue,Xe,vt,yt,Ue,Xe,ne.DEPTH_BUFFER_BIT,ne.NEAREST);ot.bindFramebuffer(ne.READ_FRAMEBUFFER,null),ot.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else if(ge!==0||G.isRenderTargetTexture||dt.has(G)){const Dn=dt.get(G),ii=dt.get(se);ot.bindFramebuffer(ne.READ_FRAMEBUFFER,st),ot.bindFramebuffer(ne.DRAW_FRAMEBUFFER,$e);for(let _i=0;_i<qe;_i++)Qt?ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Dn.__webglTexture,ge,Ze+_i):ne.framebufferTexture2D(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,Dn.__webglTexture,ge),hi?ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ii.__webglTexture,Ee,nn+_i):ne.framebufferTexture2D(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,ii.__webglTexture,Ee),ge!==0?ne.blitFramebuffer(mt,ht,Ue,Xe,vt,yt,Ue,Xe,ne.COLOR_BUFFER_BIT,ne.NEAREST):hi?ne.copyTexSubImage3D(vn,Ee,vt,yt,nn+_i,mt,ht,Ue,Xe):ne.copyTexSubImage2D(vn,Ee,vt,yt,mt,ht,Ue,Xe);ot.bindFramebuffer(ne.READ_FRAMEBUFFER,null),ot.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else hi?G.isDataTexture||G.isData3DTexture?ne.texSubImage3D(vn,Ee,vt,yt,nn,Ue,Xe,qe,Ht,Et,Ot.data):se.isCompressedArrayTexture?ne.compressedTexSubImage3D(vn,Ee,vt,yt,nn,Ue,Xe,qe,Ht,Ot.data):ne.texSubImage3D(vn,Ee,vt,yt,nn,Ue,Xe,qe,Ht,Et,Ot):G.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,Ee,vt,yt,Ue,Xe,Ht,Et,Ot.data):G.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,Ee,vt,yt,Ot.width,Ot.height,Ht,Ot.data):ne.texSubImage2D(ne.TEXTURE_2D,Ee,vt,yt,Ue,Xe,Ht,Et,Ot);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Zt),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,ln),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,ni),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,pn),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,An),Ee===0&&se.generateMipmaps&&ne.generateMipmap(vn),ot.unbindTexture()},this.copyTextureToTexture3D=function(G,se,he=null,le=null,ge=0){return G.isTexture!==!0&&(af("WebGLRenderer: copyTextureToTexture3D function signature has changed."),he=arguments[0]||null,le=arguments[1]||null,G=arguments[2],se=arguments[3],ge=arguments[4]||0),af('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(G,se,he,le,ge)},this.initRenderTarget=function(G){dt.get(G).__webglFramebuffer===void 0&&te.setupRenderTarget(G)},this.initTexture=function(G){G.isCubeTexture?te.setTextureCube(G,0):G.isData3DTexture?te.setTexture3D(G,0):G.isDataArrayTexture||G.isCompressedArrayTexture?te.setTexture2DArray(G,0):te.setTexture2D(G,0),ot.unbindTexture()},this.resetState=function(){R=0,P=0,k=null,ot.reset(),sn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return oo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=On._getDrawingBufferColorSpace(e),t.unpackColorSpace=On._getUnpackColorSpace()}}const nV=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:uS,AddEquation:Lc,AddOperation:sP,AdditiveAnimationBlendMode:vS,AdditiveBlending:Xw,AgXToneMapping:uP,AlphaFormat:dS,AlwaysCompare:CP,AlwaysDepth:lv,AlwaysStencilFunc:Zw,AmbientLight:uk,AnimationAction:bk,AnimationClip:Ff,AnimationLoader:bH,AnimationMixer:XH,AnimationObjectGroup:VH,AnimationUtils:gH,ArcCurve:OP,ArrayCamera:xk,ArrowHelper:p5,AttachedBindMode:Jw,Audio:vk,AudioAnalyser:LH,AudioContext:JS,AudioListener:IH,AudioLoader:EH,AxesHelper:m5,BackSide:ws,BasicDepthPacking:xP,BasicShadowMap:UI,BatchedMesh:FP,Bone:dy,BooleanKeyframeTrack:Fh,Box2:e5,Box3:_r,Box3Helper:d5,BoxGeometry:Dh,BoxHelper:h5,BufferAttribute:Vn,BufferGeometry:wn,BufferGeometryLoader:mk,ByteType:ty,Cache:Ll,Camera:Sg,CameraHelper:u5,CanvasTexture:zz,CapsuleGeometry:gy,CatmullRomCurve3:UP,CineonToneMapping:lP,CircleGeometry:xy,ClampToEdgeWrapping:Gi,Clock:KS,Color:gt,ColorKeyframeTrack:GS,ColorManagement:On,CompressedArrayTexture:Oz,CompressedCubeTexture:Uz,CompressedTexture:py,CompressedTextureLoader:wH,ConeGeometry:vy,ConstantAlphaFactor:nP,ConstantColorFactor:eP,Controls:x5,CubeCamera:kP,CubeReflectionMapping:Uo,CubeRefractionMapping:Gc,CubeTexture:_g,CubeTextureLoader:ok,CubeUVReflectionMapping:Yf,CubicBezierCurve:LS,CubicBezierCurve3:zP,CubicInterpolant:ik,CullFaceBack:Ww,CullFaceFront:OI,CullFaceFrontBack:t4,CullFaceNone:NI,Curve:fo,CurvePath:GP,CustomBlending:zI,CustomToneMapping:cP,CylinderGeometry:Jf,Cylindrical:$H,Data3DTexture:cy,DataArrayTexture:Ag,DataTexture:co,DataTextureLoader:VS,DataUtils:hh,DecrementStencilOp:h4,DecrementWrapStencilOp:f4,DefaultLoadingManager:ak,DepthFormat:vh,DepthStencilFormat:Eh,DepthTexture:PS,DetachedBindMode:dP,DirectionalLight:jS,DirectionalLightHelper:c5,DiscreteInterpolant:rk,DodecahedronGeometry:yy,DoubleSide:Sa,DstAlphaFactor:KI,DstColorFactor:qI,DynamicCopyUsage:T4,DynamicDrawUsage:A4,DynamicReadUsage:M4,EdgesGeometry:VP,EllipseCurve:my,EqualCompare:AP,EqualDepth:uv,EqualStencilFunc:x4,EquirectangularReflectionMapping:Rf,EquirectangularRefractionMapping:jm,Euler:ia,EventDispatcher:Go,ExtrudeGeometry:wy,FileLoader:Or,Float16BufferAttribute:vz,Float32BufferAttribute:Vt,FloatType:Ri,Fog:hy,FogExp2:uy,FramebufferTexture:Nz,FrontSide:Oo,Frustum:Tg,GLBufferAttribute:qH,GLSL1:I4,GLSL3:qw,GreaterCompare:SP,GreaterDepth:dv,GreaterEqualCompare:MP,GreaterEqualDepth:hv,GreaterEqualStencilFunc:w4,GreaterStencilFunc:y4,GridHelper:o5,Group:kl,HalfFloatType:dr,HemisphereLight:ck,HemisphereLightHelper:a5,IcosahedronGeometry:Ig,ImageBitmapLoader:gk,ImageLoader:ig,ImageUtils:RP,IncrementStencilOp:u4,IncrementWrapStencilOp:d4,InstancedBufferAttribute:Th,InstancedBufferGeometry:pk,InstancedInterleavedBuffer:ZH,InstancedMesh:TS,Int16BufferAttribute:gz,Int32BufferAttribute:xz,Int8BufferAttribute:fz,IntType:yg,InterleavedBuffer:Cg,InterleavedBufferAttribute:Wc,Interpolant:Kf,InterpolateDiscrete:kf,InterpolateLinear:Lf,InterpolateSmooth:G0,InvertStencilOp:p4,KeepStencilOp:$u,KeyframeTrack:po,LOD:DP,LatheGeometry:Rg,Layers:bh,LessCompare:wP,LessDepth:cv,LessEqualCompare:bS,LessEqualDepth:Mh,LessEqualStencilFunc:v4,LessStencilFunc:g4,Light:Jc,LightProbe:fk,Line:Ol,Line3:t5,LineBasicMaterial:ns,LineCurve:BS,LineCurve3:HP,LineDashedMaterial:ek,LineLoop:RS,LineSegments:ho,LinearFilter:jn,LinearInterpolant:HS,LinearMipMapLinearFilter:Kw,LinearMipMapNearestFilter:r4,LinearMipmapLinearFilter:Ca,LinearMipmapNearestFilter:yf,LinearSRGBColorSpace:Ho,LinearToneMapping:aP,LinearTransfer:Km,Loader:Hr,LoaderUtils:Fc,LoadingManager:Ry,LoopOnce:fP,LoopPingPong:mP,LoopRepeat:pP,LuminanceAlphaFormat:mS,LuminanceFormat:pS,MOUSE:$U,Material:pr,MaterialLoader:Iy,MathUtils:bf,Matrix2:e_,Matrix3:bn,Matrix4:Kt,MaxEquation:WI,Mesh:yi,MeshBasicMaterial:Us,MeshDepthMaterial:Ty,MeshDistanceMaterial:US,MeshLambertMaterial:OS,MeshMatcapMaterial:$P,MeshNormalMaterial:QP,MeshPhongMaterial:ZP,MeshPhysicalMaterial:Ta,MeshStandardMaterial:Lg,MeshToonMaterial:qP,MinEquation:VI,MirroredRepeatWrapping:If,MixOperation:rP,MultiplyBlending:jw,MultiplyOperation:vg,NearestFilter:Qi,NearestMipMapLinearFilter:i4,NearestMipMapNearestFilter:n4,NearestMipmapLinearFilter:oh,NearestMipmapNearestFilter:ey,NeutralToneMapping:hP,NeverCompare:bP,NeverDepth:ov,NeverStencilFunc:m4,NoBlending:Bo,NoColorSpace:Rl,NoToneMapping:Do,NormalAnimationBlendMode:oy,NormalBlending:xh,NotEqualCompare:_P,NotEqualDepth:fv,NotEqualStencilFunc:b4,NumberKeyframeTrack:Ih,Object3D:Bn,ObjectLoader:MH,ObjectSpaceNormalMap:yP,OctahedronGeometry:Pg,OneFactor:YI,OneMinusConstantAlphaFactor:iP,OneMinusConstantColorFactor:tP,OneMinusDstAlphaFactor:ZI,OneMinusDstColorFactor:QI,OneMinusSrcAlphaFactor:av,OneMinusSrcColorFactor:JI,OrthographicCamera:Oh,PCFShadowMap:$v,PCFSoftShadowMap:Em,PMREMGenerator:rA,Path:$m,PerspectiveCamera:ur,Plane:Ic,PlaneGeometry:Hl,PlaneHelper:f5,PointLight:YS,PointLightHelper:r5,Points:IS,PointsMaterial:fy,PolarGridHelper:l5,PolyhedronGeometry:jc,PositionalAudio:kH,PropertyBinding:Nn,PropertyMixer:yk,QuadraticBezierCurve:DS,QuadraticBezierCurve3:FS,Quaternion:fr,QuaternionKeyframeTrack:Ph,QuaternionLinearInterpolant:sk,RED_GREEN_RGTC2_Format:Ov,RED_RGTC1_Format:xS,REVISION:Xf,RGBADepthPacking:vP,RGBAFormat:Vi,RGBAIntegerFormat:ay,RGBA_ASTC_10x10_Format:kv,RGBA_ASTC_10x5_Format:Rv,RGBA_ASTC_10x6_Format:Iv,RGBA_ASTC_10x8_Format:Pv,RGBA_ASTC_12x10_Format:Lv,RGBA_ASTC_12x12_Format:Bv,RGBA_ASTC_4x4_Format:wv,RGBA_ASTC_5x4_Format:Av,RGBA_ASTC_5x5_Format:Sv,RGBA_ASTC_6x5_Format:_v,RGBA_ASTC_6x6_Format:Mv,RGBA_ASTC_8x5_Format:Cv,RGBA_ASTC_8x6_Format:Ev,RGBA_ASTC_8x8_Format:Tv,RGBA_BPTC_Format:km,RGBA_ETC2_EAC_Format:bv,RGBA_PVRTC_2BPPV1_Format:xv,RGBA_PVRTC_4BPPV1_Format:gv,RGBA_S3TC_DXT1_Format:Rm,RGBA_S3TC_DXT3_Format:Im,RGBA_S3TC_DXT5_Format:Pm,RGBDepthPacking:a4,RGBFormat:fS,RGBIntegerFormat:s4,RGB_BPTC_SIGNED_Format:Dv,RGB_BPTC_UNSIGNED_Format:Fv,RGB_ETC1_Format:vv,RGB_ETC2_Format:yv,RGB_PVRTC_2BPPV1_Format:mv,RGB_PVRTC_4BPPV1_Format:pv,RGB_S3TC_DXT1_Format:Tm,RGDepthPacking:o4,RGFormat:gS,RGIntegerFormat:sy,RawShaderMaterial:KP,Ray:jf,Raycaster:$S,RectAreaLight:hk,RedFormat:bg,RedIntegerFormat:wg,ReinhardToneMapping:oP,RenderTarget:ly,RenderTarget3D:YH,RenderTargetArray:jH,RepeatWrapping:Vc,ReplaceStencilOp:c4,ReverseSubtractEquation:GI,RingGeometry:Ay,SIGNED_RED_GREEN_RGTC2_Format:Uv,SIGNED_RED_RGTC1_Format:Nv,SRGBColorSpace:xs,SRGBTransfer:ti,Scene:Mg,ShaderChunk:Cn,ShaderLib:ro,ShaderMaterial:zr,ShadowMaterial:JP,Shape:wh,ShapeGeometry:Sy,ShapePath:g5,ShapeUtils:Fo,ShortType:ny,Skeleton:Eg,SkeletonHelper:i5,SkinnedMesh:ES,Source:uh,Sphere:Mr,SphereGeometry:kg,Spherical:QH,SphericalHarmonics3:dk,SplineCurve:NS,SpotLight:XS,SpotLightHelper:n5,Sprite:BP,SpriteMaterial:CS,SrcAlphaFactor:sv,SrcAlphaSaturateFactor:$I,SrcColorFactor:jI,StaticCopyUsage:E4,StaticDrawUsage:Zm,StaticReadUsage:_4,StereoCamera:TH,StreamCopyUsage:R4,StreamDrawUsage:S4,StreamReadUsage:C4,StringKeyframeTrack:Nh,SubtractEquation:HI,SubtractiveBlending:Yw,TOUCH:e4,TangentSpaceNormalMap:Yc,TetrahedronGeometry:_y,Texture:qn,TextureLoader:lk,TextureUtils:A5,TimestampQuery:P4,TorusGeometry:My,TorusKnotGeometry:Cy,Triangle:Os,TriangleFanDrawMode:zv,TriangleStripDrawMode:yS,TrianglesDrawMode:gP,TubeGeometry:Ey,UVMapping:Hc,Uint16BufferAttribute:AS,Uint32BufferAttribute:SS,Uint8BufferAttribute:pz,Uint8ClampedBufferAttribute:mz,Uniform:QS,UniformsGroup:KH,UniformsLib:St,UniformsUtils:_S,UnsignedByteType:zs,UnsignedInt248Type:Ch,UnsignedInt5999Type:hS,UnsignedIntType:zo,UnsignedShort4444Type:iy,UnsignedShort5551Type:ry,UnsignedShortType:Pf,VSMShadowMap:io,Vector2:Ke,Vector3:$,Vector4:Gn,VectorKeyframeTrack:kh,VideoFrameTexture:Fz,VideoTexture:NP,WebGL3DRenderTarget:nz,WebGLArrayRenderTarget:tz,WebGLCoordinateSystem:oo,WebGLCubeRenderTarget:MS,WebGLRenderTarget:ts,WebGLRenderer:n_,WebGLUtils:Ek,WebGPUCoordinateSystem:qm,WebXRController:V0,WireframeGeometry:jP,WrapAroundEnding:Jm,ZeroCurvatureEnding:lh,ZeroFactor:XI,ZeroSlopeEnding:ch,ZeroStencilOp:l4,createCanvasElement:TP},Symbol.toStringTag,{value:"Module"}));var O1={exports:{}},Mc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function iV(){return BE||(BE=1,Mc.ConcurrentRoot=1,Mc.ContinuousEventPriority=4,Mc.DefaultEventPriority=16,Mc.DiscreteEventPriority=1,Mc.IdleEventPriority=536870912,Mc.LegacyRoot=0),Mc}var DE;function rV(){return DE||(DE=1,O1.exports=iV()),O1.exports}var ym=rV();function sV(r){let e;const t=new Set,n=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const f=e;e=u?d:Object.assign({},e,d),t.forEach(m=>m(e,f))}},i=()=>e,s=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(e);function m(){const v=u(e);if(!d(f,v)){const y=f;c(f=v,y)}}return t.add(m),()=>t.delete(m)},l={setState:n,getState:i,subscribe:(c,u,d)=>u||d?s(c,u,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=r(n,i,l),l}const aV=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),FE=aV?de.useEffect:de.useLayoutEffect;function Tk(r){const e=typeof r=="function"?sV(r):r,t=(n=e.getState,i=Object.is)=>{const[,s]=de.useReducer(w=>w+1,0),a=e.getState(),o=de.useRef(a),l=de.useRef(n),c=de.useRef(i),u=de.useRef(!1),d=de.useRef();d.current===void 0&&(d.current=n(a));let f,m=!1;(o.current!==a||l.current!==n||c.current!==i||u.current)&&(f=n(a),m=!i(d.current,f)),FE(()=>{m&&(d.current=f),o.current=a,l.current=n,c.current=i,u.current=!1});const v=de.useRef(a);FE(()=>{const w=()=>{try{const S=e.getState(),M=l.current(S);c.current(d.current,M)||(o.current=S,d.current=M,s())}catch{u.current=!0,s()}},b=e.subscribe(w);return e.getState()!==v.current&&w(),b},[]);const y=m?f:d.current;return de.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const n=[t,e];return{next(){const i=n.length<=0;return{value:n.shift(),done:i}}}},t}const oV=r=>typeof r=="object"&&typeof r.then=="function",fh=[];function Rk(r,e,t=(n,i)=>n===i){if(r===e)return!0;if(!r||!e)return!1;const n=r.length;if(e.length!==n)return!1;for(let i=0;i<n;i++)if(!t(r[i],e[i]))return!1;return!0}function Ik(r,e=null,t=!1,n={}){e===null&&(e=[r]);for(const s of fh)if(Rk(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return n.lifespan&&n.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,n.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:n.equal,remove:()=>{const s=fh.indexOf(i);s!==-1&&fh.splice(s,1)},promise:(oV(r)?r:r(...e)).then(s=>{i.response=s,n.lifespan&&n.lifespan>0&&(i.timeout=setTimeout(i.remove,n.lifespan))}).catch(s=>i.error=s)};if(fh.push(i),!t)throw i.promise}const lV=(r,e,t)=>Ik(r,e,!1,t),cV=(r,e,t)=>void Ik(r,e,!0,t),uV=r=>{if(r===void 0||r.length===0)fh.splice(0,fh.length);else{const e=fh.find(t=>Rk(r,t.keys,t.equal));e&&e.remove()}};var U1={exports:{}},z1={exports:{}},H1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function hV(){return NE||(NE=1,function(r){function e(z,Q){var Z=z.length;z.push(Q);e:for(;0<Z;){var Y=Z-1>>>1,oe=z[Y];if(0<i(oe,Q))z[Y]=Q,z[Z]=oe,Z=Y;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var Q=z[0],Z=z.pop();if(Z!==Q){z[0]=Z;e:for(var Y=0,oe=z.length,Pe=oe>>>1;Y<Pe;){var fe=2*(Y+1)-1,Ce=z[fe],Ae=fe+1,Se=z[Ae];if(0>i(Ce,Z))Ae<oe&&0>i(Se,Ce)?(z[Y]=Se,z[Ae]=Z,Y=Ae):(z[Y]=Ce,z[fe]=Z,Y=fe);else if(Ae<oe&&0>i(Se,Z))z[Y]=Se,z[Ae]=Z,Y=Ae;else break e}}return Q}function i(z,Q){var Z=z.sortIndex-Q.sortIndex;return Z!==0?Z:z.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();r.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,f=3,m=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(z){for(var Q=t(c);Q!==null;){if(Q.callback===null)n(c);else if(Q.startTime<=z)n(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=t(c)}}function E(z){if(y=!1,M(z),!v)if(t(l)!==null)v=!0,ee(T);else{var Q=t(c);Q!==null&&ae(E,Q.startTime-z)}}function T(z,Q){v=!1,y&&(y=!1,b(k),k=-1),m=!0;var Z=f;try{for(M(Q),d=t(l);d!==null&&(!(d.expirationTime>Q)||z&&!O());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var oe=Y(d.expirationTime<=Q);Q=r.unstable_now(),typeof oe=="function"?d.callback=oe:d===t(l)&&n(l),M(Q)}else n(l);d=t(l)}if(d!==null)var Pe=!0;else{var fe=t(c);fe!==null&&ae(E,fe.startTime-Q),Pe=!1}return Pe}finally{d=null,f=Z,m=!1}}var R=!1,P=null,k=-1,B=5,D=-1;function O(){return!(r.unstable_now()-D<B)}function V(){if(P!==null){var z=r.unstable_now();D=z;var Q=!0;try{Q=P(!0,z)}finally{Q?X():(R=!1,P=null)}}else R=!1}var X;if(typeof S=="function")X=function(){S(V)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ie=K.port2;K.port1.onmessage=V,X=function(){ie.postMessage(null)}}else X=function(){w(V,0)};function ee(z){P=z,R||(R=!0,X())}function ae(z,Q){k=w(function(){z(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_continueExecution=function(){v||m||(v=!0,ee(T))},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(z){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var Z=f;f=Q;try{return z()}finally{f=Z}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=f;f=z;try{return Q()}finally{f=Z}},r.unstable_scheduleCallback=function(z,Q,Z){var Y=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Y+Z:Y):Z=Y,z){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Z+oe,z={id:u++,callback:Q,priorityLevel:z,startTime:Z,expirationTime:oe,sortIndex:-1},Z>Y?(z.sortIndex=Z,e(c,z),t(l)===null&&z===t(c)&&(y?(b(k),k=-1):y=!0,ae(E,Z-Y))):(z.sortIndex=oe,e(l,z),v||m||(v=!0,ee(T))),z},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(z){var Q=f;return function(){var Z=f;f=Q;try{return z.apply(this,arguments)}finally{f=Z}}}}(H1)),H1}var OE;function dV(){return OE||(OE=1,z1.exports=hV()),z1.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1,UE;function fV(){return UE||(UE=1,G1=function(e){var t={},n=ag(),i=dV(),s=Object.assign;function a(g){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+g,_=1;_<arguments.length;_++)x+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),T=Symbol.iterator;function R(g){return g===null||typeof g!="object"?null:(g=T&&g[T]||g["@@iterator"],typeof g=="function"?g:null)}function P(g){if(g==null)return null;if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case w:return"Suspense";case b:return"SuspenseList"}if(typeof g=="object")switch(g.$$typeof){case v:return(g.displayName||"Context")+".Consumer";case m:return(g._context.displayName||"Context")+".Provider";case y:var x=g.render;return g=g.displayName,g||(g=x.displayName||x.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case S:return x=g.displayName||null,x!==null?x:P(g.type)||"Memo";case M:x=g._payload,g=g._init;try{return P(g(x))}catch{}}return null}function k(g){var x=g.type;switch(g.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return g=x.render,g=g.displayName||g.name||"",x.displayName||(g!==""?"ForwardRef("+g+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(x);case 8:return x===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function B(g){var x=g,_=g;if(g.alternate)for(;x.return;)x=x.return;else{g=x;do x=g,x.flags&4098&&(_=x.return),g=x.return;while(g)}return x.tag===3?_:null}function D(g){if(B(g)!==g)throw Error(a(188))}function O(g){var x=g.alternate;if(!x){if(x=B(g),x===null)throw Error(a(188));return x!==g?null:g}for(var _=g,I=x;;){var F=_.return;if(F===null)break;var U=F.alternate;if(U===null){if(I=F.return,I!==null){_=I;continue}break}if(F.child===U.child){for(U=F.child;U;){if(U===_)return D(F),g;if(U===I)return D(F),x;U=U.sibling}throw Error(a(188))}if(_.return!==I.return)_=F,I=U;else{for(var re=!1,be=F.child;be;){if(be===_){re=!0,_=F,I=U;break}if(be===I){re=!0,I=F,_=U;break}be=be.sibling}if(!re){for(be=U.child;be;){if(be===_){re=!0,_=U,I=F;break}if(be===I){re=!0,I=U,_=F;break}be=be.sibling}if(!re)throw Error(a(189))}}if(_.alternate!==I)throw Error(a(190))}if(_.tag!==3)throw Error(a(188));return _.stateNode.current===_?g:x}function V(g){return g=O(g),g!==null?X(g):null}function X(g){if(g.tag===5||g.tag===6)return g;for(g=g.child;g!==null;){var x=X(g);if(x!==null)return x;g=g.sibling}return null}function K(g){if(g.tag===5||g.tag===6)return g;for(g=g.child;g!==null;){if(g.tag!==4){var x=K(g);if(x!==null)return x}g=g.sibling}return null}var ie=Array.isArray,ee=e.getPublicInstance,ae=e.getRootHostContext,z=e.getChildHostContext,Q=e.prepareForCommit,Z=e.resetAfterCommit,Y=e.createInstance,oe=e.appendInitialChild,Pe=e.finalizeInitialChildren,fe=e.prepareUpdate,Ce=e.shouldSetTextContent,Ae=e.createTextInstance,Se=e.scheduleTimeout,He=e.cancelTimeout,ut=e.noTimeout,tt=e.isPrimaryRenderer,kt=e.supportsMutation,je=e.supportsPersistence,Fe=e.supportsHydration,ne=e.getInstanceFromNode,Bt=e.preparePortalMount,nt=e.getCurrentEventPriority,Ct=e.detachDeletedInstance,ot=e.supportsMicrotasks,Jt=e.scheduleMicrotask,dt=e.supportsTestSelectors,te=e.findFiberRoot,J=e.getBoundingRect,Me=e.getTextContent,Ge=e.isHiddenSubtree,Je=e.matchAccessibilityRole,Ve=e.setFocusIfFocusable,Dt=e.setupIntersectionObserver,pt=e.appendChild,bt=e.appendChildToContainer,un=e.commitTextUpdate,it=e.commitMount,Pt=e.commitUpdate,Wt=e.insertBefore,Nt=e.insertInContainerBefore,Rt=e.removeChild,on=e.removeChildFromContainer,Xt=e.resetTextContent,sn=e.hideInstance,ye=e.hideTextInstance,Le=e.unhideInstance,Be=e.unhideTextInstance,We=e.clearContainer,wt=e.cloneInstance,xt=e.createContainerChildSet,an=e.appendChildToContainerChildSet,Qn=e.finalizeContainerChildren,bi=e.replaceContainerChildren,Tn=e.cloneHiddenInstance,$i=e.cloneHiddenTextInstance,er=e.canHydrateInstance,mo=e.canHydrateTextInstance,sa=e.canHydrateSuspenseInstance,Cr=e.isSuspenseInstancePending,is=e.isSuspenseInstanceFallback,rs=e.registerSuspenseInstanceRetry,tr=e.getNextHydratableSibling,hn=e.getFirstHydratableChild,Vo=e.getFirstHydratableChildWithinContainer,go=e.getFirstHydratableChildWithinSuspenseInstance,H=e.hydrateInstance,q=e.hydrateTextInstance,pe=e.hydrateSuspenseInstance,Ie=e.getNextHydratableInstanceAfterSuspenseInstance,Ne=e.commitHydratedContainer,Oe=e.commitHydratedSuspenseInstance,st=e.clearSuspenseBoundary,$e=e.clearSuspenseBoundaryFromContainer,G=e.shouldDeleteUnhydratedTailInstances,se=e.didNotMatchHydratedContainerTextInstance,he=e.didNotMatchHydratedTextInstance,le;function ge(g){if(le===void 0)try{throw Error()}catch(_){var x=_.stack.trim().match(/\n( *(at )?)/);le=x&&x[1]||""}return`
`+le+g}var Ee=!1;function Ue(g,x){if(!g||Ee)return"";Ee=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(at){var I=at}Reflect.construct(g,[],x)}else{try{x.call()}catch(at){I=at}g.call(x.prototype)}else{try{throw Error()}catch(at){I=at}g()}}catch(at){if(at&&I&&typeof at.stack=="string"){for(var F=at.stack.split(`
`),U=I.stack.split(`
`),re=F.length-1,be=U.length-1;1<=re&&0<=be&&F[re]!==U[be];)be--;for(;1<=re&&0<=be;re--,be--)if(F[re]!==U[be]){if(re!==1||be!==1)do if(re--,be--,0>be||F[re]!==U[be]){var ze=`
`+F[re].replace(" at new "," at ");return g.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",g.displayName)),ze}while(1<=re&&0<=be);break}}}finally{Ee=!1,Error.prepareStackTrace=_}return(g=g?g.displayName||g.name:"")?ge(g):""}var Xe=Object.prototype.hasOwnProperty,qe=[],mt=-1;function ht(g){return{current:g}}function Ze(g){0>mt||(g.current=qe[mt],qe[mt]=null,mt--)}function vt(g,x){mt++,qe[mt]=g.current,g.current=x}var yt={},nn=ht(yt),Ot=ht(!1),Ht=yt;function Et(g,x){var _=g.type.contextTypes;if(!_)return yt;var I=g.stateNode;if(I&&I.__reactInternalMemoizedUnmaskedChildContext===x)return I.__reactInternalMemoizedMaskedChildContext;var F={},U;for(U in _)F[U]=x[U];return I&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=x,g.__reactInternalMemoizedMaskedChildContext=F),F}function vn(g){return g=g.childContextTypes,g!=null}function Zt(){Ze(Ot),Ze(nn)}function ln(g,x,_){if(nn.current!==yt)throw Error(a(168));vt(nn,x),vt(Ot,_)}function ni(g,x,_){var I=g.stateNode;if(x=x.childContextTypes,typeof I.getChildContext!="function")return _;I=I.getChildContext();for(var F in I)if(!(F in x))throw Error(a(108,k(g)||"Unknown",F));return s({},_,I)}function pn(g){return g=(g=g.stateNode)&&g.__reactInternalMemoizedMergedChildContext||yt,Ht=nn.current,vt(nn,g),vt(Ot,Ot.current),!0}function An(g,x,_){var I=g.stateNode;if(!I)throw Error(a(169));_?(g=ni(g,x,Ht),I.__reactInternalMemoizedMergedChildContext=g,Ze(Ot),Ze(nn),vt(nn,g)):Ze(Ot),vt(Ot,_)}var Qt=Math.clz32?Math.clz32:ii,hi=Math.log,Dn=Math.LN2;function ii(g){return g>>>=0,g===0?32:31-(hi(g)/Dn|0)|0}var _i=64,Rn=4194304;function Gr(g){switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return g&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return g}}function Kc(g,x){var _=g.pendingLanes;if(_===0)return 0;var I=0,F=g.suspendedLanes,U=g.pingedLanes,re=_&268435455;if(re!==0){var be=re&~F;be!==0?I=Gr(be):(U&=re,U!==0&&(I=Gr(U)))}else re=_&~F,re!==0?I=Gr(re):U!==0&&(I=Gr(U));if(I===0)return 0;if(x!==0&&x!==I&&!(x&F)&&(F=I&-I,U=x&-x,F>=U||F===16&&(U&4194240)!==0))return x;if(I&4&&(I|=_&16),x=g.entangledLanes,x!==0)for(g=g.entanglements,x&=I;0<x;)_=31-Qt(x),F=1<<_,I|=g[_],x&=~F;return I}function Qf(g,x){switch(g){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fg(g,x){for(var _=g.suspendedLanes,I=g.pingedLanes,F=g.expirationTimes,U=g.pendingLanes;0<U;){var re=31-Qt(U),be=1<<re,ze=F[re];ze===-1?(!(be&_)||be&I)&&(F[re]=Qf(be,x)):ze<=x&&(g.expiredLanes|=be),U&=~be}}function Uh(g){return g=g.pendingLanes&-1073741825,g!==0?g:g&1073741824?1073741824:0}function zh(g){for(var x=[],_=0;31>_;_++)x.push(g);return x}function Wo(g,x,_){g.pendingLanes|=x,x!==536870912&&(g.suspendedLanes=0,g.pingedLanes=0),g=g.eventTimes,x=31-Qt(x),g[x]=_}function Hh(g,x){var _=g.pendingLanes&~x;g.pendingLanes=x,g.suspendedLanes=0,g.pingedLanes=0,g.expiredLanes&=x,g.mutableReadLanes&=x,g.entangledLanes&=x,x=g.entanglements;var I=g.eventTimes;for(g=g.expirationTimes;0<_;){var F=31-Qt(_),U=1<<F;x[F]=0,I[F]=-1,g[F]=-1,_&=~U}}function aa(g,x){var _=g.entangledLanes|=x;for(g=g.entanglements;_;){var I=31-Qt(_),F=1<<I;F&x|g[I]&x&&(g[I]|=x),_&=~F}}var Mn=0;function Ra(g){return g&=-g,1<g?4<g?g&268435455?16:536870912:4:1}var Xo=i.unstable_scheduleCallback,Gl=i.unstable_cancelCallback,xo=i.unstable_shouldYield,By=i.unstable_requestPaint,Ni=i.unstable_now,Yo=i.unstable_ImmediatePriority,Dy=i.unstable_UserBlockingPriority,Gh=i.unstable_NormalPriority,Vh=i.unstable_IdlePriority,Zc=null,oa=null;function qc(g){if(oa&&typeof oa.onCommitFiberRoot=="function")try{oa.onCommitFiberRoot(Zc,g,void 0,(g.current.flags&128)===128)}catch{}}function Qc(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var Er=typeof Object.is=="function"?Object.is:Qc,Ss=null,Wh=!1,$f=!1;function Xh(g){Ss===null?Ss=[g]:Ss.push(g)}function Yh(g){Wh=!0,Xh(g)}function _s(){if(!$f&&Ss!==null){$f=!0;var g=0,x=Mn;try{var _=Ss;for(Mn=1;g<_.length;g++){var I=_[g];do I=I(!0);while(I!==null)}Ss=null,Wh=!1}catch(F){throw Ss!==null&&(Ss=Ss.slice(g+1)),Xo(Yo,_s),F}finally{Mn=x,$f=!1}}return null}var Ng=o.ReactCurrentBatchConfig;function Hs(g,x){if(Er(g,x))return!0;if(typeof g!="object"||g===null||typeof x!="object"||x===null)return!1;var _=Object.keys(g),I=Object.keys(x);if(_.length!==I.length)return!1;for(I=0;I<_.length;I++){var F=_[I];if(!Xe.call(x,F)||!Er(g[F],x[F]))return!1}return!0}function ep(g){switch(g.tag){case 5:return ge(g.type);case 16:return ge("Lazy");case 13:return ge("Suspense");case 19:return ge("SuspenseList");case 0:case 2:case 15:return g=Ue(g.type,!1),g;case 11:return g=Ue(g.type.render,!1),g;case 1:return g=Ue(g.type,!0),g;default:return""}}function Vr(g,x){if(g&&g.defaultProps){x=s({},x),g=g.defaultProps;for(var _ in g)x[_]===void 0&&(x[_]=g[_]);return x}return x}var $c=ht(null),jo=null,Ia=null,jh=null;function Tr(){jh=Ia=jo=null}function Jo(g,x,_){tt?(vt($c,x._currentValue),x._currentValue=_):(vt($c,x._currentValue2),x._currentValue2=_)}function eu(g){var x=$c.current;Ze($c),tt?g._currentValue=x:g._currentValue2=x}function Ko(g,x,_){for(;g!==null;){var I=g.alternate;if((g.childLanes&x)!==x?(g.childLanes|=x,I!==null&&(I.childLanes|=x)):I!==null&&(I.childLanes&x)!==x&&(I.childLanes|=x),g===_)break;g=g.return}}function Vl(g,x){jo=g,jh=Ia=null,g=g.dependencies,g!==null&&g.firstContext!==null&&(g.lanes&x&&(ji=!0),g.firstContext=null)}function Wr(g){var x=tt?g._currentValue:g._currentValue2;if(jh!==g)if(g={context:g,memoizedValue:x,next:null},Ia===null){if(jo===null)throw Error(a(308));Ia=g,jo.dependencies={lanes:0,firstContext:g}}else Ia=Ia.next=g;return x}var Ms=null,Cs=!1;function Wl(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tp(g,x){g=g.updateQueue,x.updateQueue===g&&(x.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,effects:g.effects})}function Pa(g,x){return{eventTime:g,lane:x,tag:0,payload:null,callback:null,next:null}}function vo(g,x){var _=g.updateQueue;_!==null&&(_=_.shared,Ci!==null&&g.mode&1&&!(yn&2)?(g=_.interleaved,g===null?(x.next=x,Ms===null?Ms=[_]:Ms.push(_)):(x.next=g.next,g.next=x),_.interleaved=x):(g=_.pending,g===null?x.next=x:(x.next=g.next,g.next=x),_.pending=x))}function Jh(g,x,_){if(x=x.updateQueue,x!==null&&(x=x.shared,(_&4194240)!==0)){var I=x.lanes;I&=g.pendingLanes,_|=I,x.lanes=_,aa(g,_)}}function Kh(g,x){var _=g.updateQueue,I=g.alternate;if(I!==null&&(I=I.updateQueue,_===I)){var F=null,U=null;if(_=_.firstBaseUpdate,_!==null){do{var re={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};U===null?F=U=re:U=U.next=re,_=_.next}while(_!==null);U===null?F=U=x:U=U.next=x}else F=U=x;_={baseState:I.baseState,firstBaseUpdate:F,lastBaseUpdate:U,shared:I.shared,effects:I.effects},g.updateQueue=_;return}g=_.lastBaseUpdate,g===null?_.firstBaseUpdate=x:g.next=x,_.lastBaseUpdate=x}function Zh(g,x,_,I){var F=g.updateQueue;Cs=!1;var U=F.firstBaseUpdate,re=F.lastBaseUpdate,be=F.shared.pending;if(be!==null){F.shared.pending=null;var ze=be,at=ze.next;ze.next=null,re===null?U=at:re.next=at,re=ze;var Lt=g.alternate;Lt!==null&&(Lt=Lt.updateQueue,be=Lt.lastBaseUpdate,be!==re&&(be===null?Lt.firstBaseUpdate=at:be.next=at,Lt.lastBaseUpdate=ze))}if(U!==null){var dn=F.baseState;re=0,Lt=at=ze=null,be=U;do{var qt=be.lane,Sn=be.eventTime;if((I&qt)===qt){Lt!==null&&(Lt=Lt.next={eventTime:Sn,lane:0,tag:be.tag,payload:be.payload,callback:be.callback,next:null});e:{var Tt=g,or=be;switch(qt=x,Sn=_,or.tag){case 1:if(Tt=or.payload,typeof Tt=="function"){dn=Tt.call(Sn,dn,qt);break e}dn=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=or.payload,qt=typeof Tt=="function"?Tt.call(Sn,dn,qt):Tt,qt==null)break e;dn=s({},dn,qt);break e;case 2:Cs=!0}}be.callback!==null&&be.lane!==0&&(g.flags|=64,qt=F.effects,qt===null?F.effects=[be]:qt.push(be))}else Sn={eventTime:Sn,lane:qt,tag:be.tag,payload:be.payload,callback:be.callback,next:null},Lt===null?(at=Lt=Sn,ze=dn):Lt=Lt.next=Sn,re|=qt;if(be=be.next,be===null){if(be=F.shared.pending,be===null)break;qt=be,be=qt.next,qt.next=null,F.lastBaseUpdate=qt,F.shared.pending=null}}while(!0);if(Lt===null&&(ze=dn),F.baseState=ze,F.firstBaseUpdate=at,F.lastBaseUpdate=Lt,x=F.shared.interleaved,x!==null){F=x;do re|=F.lane,F=F.next;while(F!==x)}else U===null&&(F.shared.lanes=0);ha|=re,g.lanes=re,g.memoizedState=dn}}function Og(g,x,_){if(g=x.effects,x.effects=null,g!==null)for(x=0;x<g.length;x++){var I=g[x],F=I.callback;if(F!==null){if(I.callback=null,I=_,typeof F!="function")throw Error(a(191,F));F.call(I)}}}var Ug=new n.Component().refs;function np(g,x,_,I){x=g.memoizedState,_=_(I,x),_=_==null?x:s({},x,_),g.memoizedState=_,g.lanes===0&&(g.updateQueue.baseState=_)}var qh={isMounted:function(g){return(g=g._reactInternals)?B(g)===g:!1},enqueueSetState:function(g,x,_){g=g._reactInternals;var I=Fn(),F=Js(g),U=Pa(I,F);U.payload=x,_!=null&&(U.callback=_),vo(g,U),x=yr(g,F,I),x!==null&&Jh(x,g,F)},enqueueReplaceState:function(g,x,_){g=g._reactInternals;var I=Fn(),F=Js(g),U=Pa(I,F);U.tag=1,U.payload=x,_!=null&&(U.callback=_),vo(g,U),x=yr(g,F,I),x!==null&&Jh(x,g,F)},enqueueForceUpdate:function(g,x){g=g._reactInternals;var _=Fn(),I=Js(g),F=Pa(_,I);F.tag=2,x!=null&&(F.callback=x),vo(g,F),x=yr(g,I,_),x!==null&&Jh(x,g,I)}};function ip(g,x,_,I,F,U,re){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(I,U,re):x.prototype&&x.prototype.isPureReactComponent?!Hs(_,I)||!Hs(F,U):!0}function zg(g,x,_){var I=!1,F=yt,U=x.contextType;return typeof U=="object"&&U!==null?U=Wr(U):(F=vn(x)?Ht:nn.current,I=x.contextTypes,U=(I=I!=null)?Et(g,F):yt),x=new x(_,U),g.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=qh,g.stateNode=x,x._reactInternals=g,I&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=F,g.__reactInternalMemoizedMaskedChildContext=U),x}function Hg(g,x,_,I){g=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(_,I),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(_,I),x.state!==g&&qh.enqueueReplaceState(x,x.state,null)}function rp(g,x,_,I){var F=g.stateNode;F.props=_,F.state=g.memoizedState,F.refs=Ug,Wl(g);var U=x.contextType;typeof U=="object"&&U!==null?F.context=Wr(U):(U=vn(x)?Ht:nn.current,F.context=Et(g,U)),F.state=g.memoizedState,U=x.getDerivedStateFromProps,typeof U=="function"&&(np(g,x,U,_),F.state=g.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(x=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),x!==F.state&&qh.enqueueReplaceState(F,F.state,null),Zh(g,_,F,I),F.state=g.memoizedState),typeof F.componentDidMount=="function"&&(g.flags|=4194308)}var Xl=[],yo=0,Qh=null,$h=0,Es=[],ss=0,Zo=null,ka=1,La="";function qo(g,x){Xl[yo++]=$h,Xl[yo++]=Qh,Qh=g,$h=x}function Gg(g,x,_){Es[ss++]=ka,Es[ss++]=La,Es[ss++]=Zo,Zo=g;var I=ka;g=La;var F=32-Qt(I)-1;I&=~(1<<F),_+=1;var U=32-Qt(x)+F;if(30<U){var re=F-F%5;U=(I&(1<<re)-1).toString(32),I>>=re,F-=re,ka=1<<32-Qt(x)+F|_<<F|I,La=U+g}else ka=1<<U|_<<F|I,La=g}function sp(g){g.return!==null&&(qo(g,1),Gg(g,1,0))}function ap(g){for(;g===Qh;)Qh=Xl[--yo],Xl[yo]=null,$h=Xl[--yo],Xl[yo]=null;for(;g===Zo;)Zo=Es[--ss],Es[ss]=null,La=Es[--ss],Es[ss]=null,ka=Es[--ss],Es[ss]=null}var Rr=null,nr=null,di=!1,Yl=!1,Ts=null;function op(g,x){var _=ds(5,null,null,0);_.elementType="DELETED",_.stateNode=x,_.return=g,x=g.deletions,x===null?(g.deletions=[_],g.flags|=16):x.push(_)}function lp(g,x){switch(g.tag){case 5:return x=er(x,g.type,g.pendingProps),x!==null?(g.stateNode=x,Rr=g,nr=hn(x),!0):!1;case 6:return x=mo(x,g.pendingProps),x!==null?(g.stateNode=x,Rr=g,nr=null,!0):!1;case 13:if(x=sa(x),x!==null){var _=Zo!==null?{id:ka,overflow:La}:null;return g.memoizedState={dehydrated:x,treeContext:_,retryLane:1073741824},_=ds(18,null,null,0),_.stateNode=x,_.return=g,g.child=_,Rr=g,nr=null,!0}return!1;default:return!1}}function ed(g){return(g.mode&1)!==0&&(g.flags&128)===0}function bo(g){if(di){var x=nr;if(x){var _=x;if(!lp(g,x)){if(ed(g))throw Error(a(418));x=tr(_);var I=Rr;x&&lp(g,x)?op(I,_):(g.flags=g.flags&-4097|2,di=!1,Rr=g)}}else{if(ed(g))throw Error(a(418));g.flags=g.flags&-4097|2,di=!1,Rr=g}}}function Vg(g){for(g=g.return;g!==null&&g.tag!==5&&g.tag!==3&&g.tag!==13;)g=g.return;Rr=g}function tu(g){if(!Fe||g!==Rr)return!1;if(!di)return Vg(g),di=!0,!1;if(g.tag!==3&&(g.tag!==5||G(g.type)&&!Ce(g.type,g.memoizedProps))){var x=nr;if(x){if(ed(g)){for(g=nr;g;)g=tr(g);throw Error(a(418))}for(;x;)op(g,x),x=tr(x)}}if(Vg(g),g.tag===13){if(!Fe)throw Error(a(316));if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));nr=Ie(g)}else nr=Rr?tr(g.stateNode):null;return!0}function jl(){Fe&&(nr=Rr=null,Yl=di=!1)}function td(g){Ts===null?Ts=[g]:Ts.push(g)}function Jl(g,x,_){if(g=_.ref,g!==null&&typeof g!="function"&&typeof g!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(a(309));var I=_.stateNode}if(!I)throw Error(a(147,g));var F=I,U=""+g;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===U?x.ref:(x=function(re){var be=F.refs;be===Ug&&(be=F.refs={}),re===null?delete be[U]:be[U]=re},x._stringRef=U,x)}if(typeof g!="string")throw Error(a(284));if(!_._owner)throw Error(a(290,g))}return g}function wo(g,x){throw g=Object.prototype.toString.call(x),Error(a(31,g==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":g))}function Kl(g){var x=g._init;return x(g._payload)}function Wg(g){function x(Re,we){if(g){var De=Re.deletions;De===null?(Re.deletions=[we],Re.flags|=16):De.push(we)}}function _(Re,we){if(!g)return null;for(;we!==null;)x(Re,we),we=we.sibling;return null}function I(Re,we){for(Re=new Map;we!==null;)we.key!==null?Re.set(we.key,we):Re.set(we.index,we),we=we.sibling;return Re}function F(Re,we){return Re=ja(Re,we),Re.index=0,Re.sibling=null,Re}function U(Re,we,De){return Re.index=De,g?(De=Re.alternate,De!==null?(De=De.index,De<we?(Re.flags|=2,we):De):(Re.flags|=2,we)):(Re.flags|=1048576,we)}function re(Re){return g&&Re.alternate===null&&(Re.flags|=2),Re}function be(Re,we,De,At){return we===null||we.tag!==6?(we=Td(De,Re.mode,At),we.return=Re,we):(we=F(we,De),we.return=Re,we)}function ze(Re,we,De,At){var Gt=De.type;return Gt===u?Lt(Re,we,De.props.children,At,De.key):we!==null&&(we.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===M&&Kl(Gt)===we.type)?(At=F(we,De.props),At.ref=Jl(Re,we,De),At.return=Re,At):(At=Ed(De.type,De.key,De.props,null,Re.mode,At),At.ref=Jl(Re,we,De),At.return=Re,At)}function at(Re,we,De,At){return we===null||we.tag!==4||we.stateNode.containerInfo!==De.containerInfo||we.stateNode.implementation!==De.implementation?(we=Rd(De,Re.mode,At),we.return=Re,we):(we=F(we,De.children||[]),we.return=Re,we)}function Lt(Re,we,De,At,Gt){return we===null||we.tag!==7?(we=yl(De,Re.mode,At,Gt),we.return=Re,we):(we=F(we,De),we.return=Re,we)}function dn(Re,we,De){if(typeof we=="string"&&we!==""||typeof we=="number")return we=Td(""+we,Re.mode,De),we.return=Re,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case l:return De=Ed(we.type,we.key,we.props,null,Re.mode,De),De.ref=Jl(Re,null,we),De.return=Re,De;case c:return we=Rd(we,Re.mode,De),we.return=Re,we;case M:var At=we._init;return dn(Re,At(we._payload),De)}if(ie(we)||R(we))return we=yl(we,Re.mode,De,null),we.return=Re,we;wo(Re,we)}return null}function qt(Re,we,De,At){var Gt=we!==null?we.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return Gt!==null?null:be(Re,we,""+De,At);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case l:return De.key===Gt?ze(Re,we,De,At):null;case c:return De.key===Gt?at(Re,we,De,At):null;case M:return Gt=De._init,qt(Re,we,Gt(De._payload),At)}if(ie(De)||R(De))return Gt!==null?null:Lt(Re,we,De,At,null);wo(Re,De)}return null}function Sn(Re,we,De,At,Gt){if(typeof At=="string"&&At!==""||typeof At=="number")return Re=Re.get(De)||null,be(we,Re,""+At,Gt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case l:return Re=Re.get(At.key===null?De:At.key)||null,ze(we,Re,At,Gt);case c:return Re=Re.get(At.key===null?De:At.key)||null,at(we,Re,At,Gt);case M:var mn=At._init;return Sn(Re,we,De,mn(At._payload),Gt)}if(ie(At)||R(At))return Re=Re.get(De)||null,Lt(we,Re,At,Gt,null);wo(we,At)}return null}function Tt(Re,we,De,At){for(var Gt=null,mn=null,fn=we,Ln=we=0,Pi=null;fn!==null&&Ln<De.length;Ln++){fn.index>Ln?(Pi=fn,fn=null):Pi=fn.sibling;var kn=qt(Re,fn,De[Ln],At);if(kn===null){fn===null&&(fn=Pi);break}g&&fn&&kn.alternate===null&&x(Re,fn),we=U(kn,we,Ln),mn===null?Gt=kn:mn.sibling=kn,mn=kn,fn=Pi}if(Ln===De.length)return _(Re,fn),di&&qo(Re,Ln),Gt;if(fn===null){for(;Ln<De.length;Ln++)fn=dn(Re,De[Ln],At),fn!==null&&(we=U(fn,we,Ln),mn===null?Gt=fn:mn.sibling=fn,mn=fn);return di&&qo(Re,Ln),Gt}for(fn=I(Re,fn);Ln<De.length;Ln++)Pi=Sn(fn,Re,Ln,De[Ln],At),Pi!==null&&(g&&Pi.alternate!==null&&fn.delete(Pi.key===null?Ln:Pi.key),we=U(Pi,we,Ln),mn===null?Gt=Pi:mn.sibling=Pi,mn=Pi);return g&&fn.forEach(function(Ja){return x(Re,Ja)}),di&&qo(Re,Ln),Gt}function or(Re,we,De,At){var Gt=R(De);if(typeof Gt!="function")throw Error(a(150));if(De=Gt.call(De),De==null)throw Error(a(151));for(var mn=Gt=null,fn=we,Ln=we=0,Pi=null,kn=De.next();fn!==null&&!kn.done;Ln++,kn=De.next()){fn.index>Ln?(Pi=fn,fn=null):Pi=fn.sibling;var Ja=qt(Re,fn,kn.value,At);if(Ja===null){fn===null&&(fn=Pi);break}g&&fn&&Ja.alternate===null&&x(Re,fn),we=U(Ja,we,Ln),mn===null?Gt=Ja:mn.sibling=Ja,mn=Ja,fn=Pi}if(kn.done)return _(Re,fn),di&&qo(Re,Ln),Gt;if(fn===null){for(;!kn.done;Ln++,kn=De.next())kn=dn(Re,kn.value,At),kn!==null&&(we=U(kn,we,Ln),mn===null?Gt=kn:mn.sibling=kn,mn=kn);return di&&qo(Re,Ln),Gt}for(fn=I(Re,fn);!kn.done;Ln++,kn=De.next())kn=Sn(fn,Re,Ln,kn.value,At),kn!==null&&(g&&kn.alternate!==null&&fn.delete(kn.key===null?Ln:kn.key),we=U(kn,we,Ln),mn===null?Gt=kn:mn.sibling=kn,mn=kn);return g&&fn.forEach(function(Up){return x(Re,Up)}),di&&qo(Re,Ln),Gt}function fs(Re,we,De,At){if(typeof De=="object"&&De!==null&&De.type===u&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case l:e:{for(var Gt=De.key,mn=we;mn!==null;){if(mn.key===Gt){if(Gt=De.type,Gt===u){if(mn.tag===7){_(Re,mn.sibling),we=F(mn,De.props.children),we.return=Re,Re=we;break e}}else if(mn.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===M&&Kl(Gt)===mn.type){_(Re,mn.sibling),we=F(mn,De.props),we.ref=Jl(Re,mn,De),we.return=Re,Re=we;break e}_(Re,mn);break}else x(Re,mn);mn=mn.sibling}De.type===u?(we=yl(De.props.children,Re.mode,At,De.key),we.return=Re,Re=we):(At=Ed(De.type,De.key,De.props,null,Re.mode,At),At.ref=Jl(Re,we,De),At.return=Re,Re=At)}return re(Re);case c:e:{for(mn=De.key;we!==null;){if(we.key===mn)if(we.tag===4&&we.stateNode.containerInfo===De.containerInfo&&we.stateNode.implementation===De.implementation){_(Re,we.sibling),we=F(we,De.children||[]),we.return=Re,Re=we;break e}else{_(Re,we);break}else x(Re,we);we=we.sibling}we=Rd(De,Re.mode,At),we.return=Re,Re=we}return re(Re);case M:return mn=De._init,fs(Re,we,mn(De._payload),At)}if(ie(De))return Tt(Re,we,De,At);if(R(De))return or(Re,we,De,At);wo(Re,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,we!==null&&we.tag===6?(_(Re,we.sibling),we=F(we,De),we.return=Re,Re=we):(_(Re,we),we=Td(De,Re.mode,At),we.return=Re,Re=we),re(Re)):_(Re,we)}return fs}var Ba=Wg(!0),Xg=Wg(!1),Zl={},Xr=ht(Zl),Qo=ht(Zl),$o=ht(Zl);function Gs(g){if(g===Zl)throw Error(a(174));return g}function nd(g,x){vt($o,x),vt(Qo,g),vt(Xr,Zl),g=ae(x),Ze(Xr),vt(Xr,g)}function ql(){Ze(Xr),Ze(Qo),Ze($o)}function Yg(g){var x=Gs($o.current),_=Gs(Xr.current);x=z(_,g.type,x),_!==x&&(vt(Qo,g),vt(Xr,x))}function cp(g){Qo.current===g&&(Ze(Xr),Ze(Qo))}var gi=ht(0);function id(g){for(var x=g;x!==null;){if(x.tag===13){var _=x.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||Cr(_)||is(_)))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if(x.flags&128)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===g)break;for(;x.sibling===null;){if(x.return===null||x.return===g)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var as=[];function el(){for(var g=0;g<as.length;g++){var x=as[g];tt?x._workInProgressVersionPrimary=null:x._workInProgressVersionSecondary=null}as.length=0}var nu=o.ReactCurrentDispatcher,os=o.ReactCurrentBatchConfig,tl=0,xi=null,Wi=null,Xi=null,rd=!1,la=!1,nl=0,iu=0;function Yi(){throw Error(a(321))}function sd(g,x){if(x===null)return!1;for(var _=0;_<x.length&&_<g.length;_++)if(!Er(g[_],x[_]))return!1;return!0}function Ql(g,x,_,I,F,U){if(tl=U,xi=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,nu.current=g===null||g.memoizedState===null?mp:gp,g=_(I,F),la){U=0;do{if(la=!1,nl=0,25<=U)throw Error(a(301));U+=1,Xi=Wi=null,x.updateQueue=null,nu.current=xp,g=_(I,F)}while(la)}if(nu.current=nc,x=Wi!==null&&Wi.next!==null,tl=0,Xi=Wi=xi=null,rd=!1,x)throw Error(a(300));return g}function Ao(){var g=nl!==0;return nl=0,g}function Vs(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xi===null?xi.memoizedState=Xi=g:Xi=Xi.next=g,Xi}function Ws(){if(Wi===null){var g=xi.alternate;g=g!==null?g.memoizedState:null}else g=Wi.next;var x=Xi===null?xi.memoizedState:Xi.next;if(x!==null)Xi=x,Wi=g;else{if(g===null)throw Error(a(310));Wi=g,g={memoizedState:Wi.memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},Xi===null?xi.memoizedState=Xi=g:Xi=Xi.next=g}return Xi}function ca(g,x){return typeof x=="function"?x(g):x}function ru(g){var x=Ws(),_=x.queue;if(_===null)throw Error(a(311));_.lastRenderedReducer=g;var I=Wi,F=I.baseQueue,U=_.pending;if(U!==null){if(F!==null){var re=F.next;F.next=U.next,U.next=re}I.baseQueue=F=U,_.pending=null}if(F!==null){U=F.next,I=I.baseState;var be=re=null,ze=null,at=U;do{var Lt=at.lane;if((tl&Lt)===Lt)ze!==null&&(ze=ze.next={lane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),I=at.hasEagerState?at.eagerState:g(I,at.action);else{var dn={lane:Lt,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null};ze===null?(be=ze=dn,re=I):ze=ze.next=dn,xi.lanes|=Lt,ha|=Lt}at=at.next}while(at!==null&&at!==U);ze===null?re=I:ze.next=be,Er(I,x.memoizedState)||(ji=!0),x.memoizedState=I,x.baseState=re,x.baseQueue=ze,_.lastRenderedState=I}if(g=_.interleaved,g!==null){F=g;do U=F.lane,xi.lanes|=U,ha|=U,F=F.next;while(F!==g)}else F===null&&(_.lanes=0);return[x.memoizedState,_.dispatch]}function su(g){var x=Ws(),_=x.queue;if(_===null)throw Error(a(311));_.lastRenderedReducer=g;var I=_.dispatch,F=_.pending,U=x.memoizedState;if(F!==null){_.pending=null;var re=F=F.next;do U=g(U,re.action),re=re.next;while(re!==F);Er(U,x.memoizedState)||(ji=!0),x.memoizedState=U,x.baseQueue===null&&(x.baseState=U),_.lastRenderedState=U}return[U,I]}function up(){}function hp(g,x){var _=xi,I=Ws(),F=x(),U=!Er(I.memoizedState,F);if(U&&(I.memoizedState=F,ji=!0),I=I.queue,$l(Da.bind(null,_,I,g),[g]),I.getSnapshot!==x||U||Xi!==null&&Xi.memoizedState.tag&1){if(_.flags|=2048,ou(9,fp.bind(null,_,I,F,x),void 0,null),Ci===null)throw Error(a(349));tl&30||dp(_,x,F)}return F}function dp(g,x,_){g.flags|=16384,g={getSnapshot:x,value:_},x=xi.updateQueue,x===null?(x={lastEffect:null,stores:null},xi.updateQueue=x,x.stores=[g]):(_=x.stores,_===null?x.stores=[g]:_.push(g))}function fp(g,x,_,I){x.value=_,x.getSnapshot=I,ad(x)&&yr(g,1,-1)}function Da(g,x,_){return _(function(){ad(x)&&yr(g,1,-1)})}function ad(g){var x=g.getSnapshot;g=g.value;try{var _=x();return!Er(g,_)}catch{return!0}}function au(g){var x=Vs();return typeof g=="function"&&(g=g()),x.memoizedState=x.baseState=g,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:g},x.queue=g,g=g.dispatch=Fy.bind(null,xi,g),[x.memoizedState,g]}function ou(g,x,_,I){return g={tag:g,create:x,destroy:_,deps:I,next:null},x=xi.updateQueue,x===null?(x={lastEffect:null,stores:null},xi.updateQueue=x,x.lastEffect=g.next=g):(_=x.lastEffect,_===null?x.lastEffect=g.next=g:(I=_.next,_.next=g,g.next=I,x.lastEffect=g)),g}function jg(){return Ws().memoizedState}function So(g,x,_,I){var F=Vs();xi.flags|=g,F.memoizedState=ou(1|x,_,void 0,I===void 0?null:I)}function od(g,x,_,I){var F=Ws();I=I===void 0?null:I;var U=void 0;if(Wi!==null){var re=Wi.memoizedState;if(U=re.destroy,I!==null&&sd(I,re.deps)){F.memoizedState=ou(x,_,U,I);return}}xi.flags|=g,F.memoizedState=ou(1|x,_,U,I)}function ld(g,x){return So(8390656,8,g,x)}function $l(g,x){return od(2048,8,g,x)}function ri(g,x){return od(4,2,g,x)}function cd(g,x){return od(4,4,g,x)}function lu(g,x){if(typeof x=="function")return g=g(),x(g),function(){x(null)};if(x!=null)return g=g(),x.current=g,function(){x.current=null}}function ec(g,x,_){return _=_!=null?_.concat([g]):null,od(4,4,lu.bind(null,x,g),_)}function ud(){}function hd(g,x){var _=Ws();x=x===void 0?null:x;var I=_.memoizedState;return I!==null&&x!==null&&sd(x,I[1])?I[0]:(_.memoizedState=[g,x],g)}function tc(g,x){var _=Ws();x=x===void 0?null:x;var I=_.memoizedState;return I!==null&&x!==null&&sd(x,I[1])?I[0]:(g=g(),_.memoizedState=[g,x],g)}function dd(g,x){var _=Mn;Mn=_!==0&&4>_?_:4,g(!0);var I=os.transition;os.transition={};try{g(!1),x()}finally{Mn=_,os.transition=I}}function il(){return Ws().memoizedState}function Jg(g,x,_){var I=Js(g);_={lane:I,action:_,hasEagerState:!1,eagerState:null,next:null},Kg(g)?pp(x,_):(cu(g,x,_),_=Fn(),g=yr(g,I,_),g!==null&&uu(g,x,I))}function Fy(g,x,_){var I=Js(g),F={lane:I,action:_,hasEagerState:!1,eagerState:null,next:null};if(Kg(g))pp(x,F);else{cu(g,x,F);var U=g.alternate;if(g.lanes===0&&(U===null||U.lanes===0)&&(U=x.lastRenderedReducer,U!==null))try{var re=x.lastRenderedState,be=U(re,_);if(F.hasEagerState=!0,F.eagerState=be,Er(be,re))return}catch{}finally{}_=Fn(),g=yr(g,I,_),g!==null&&uu(g,x,I)}}function Kg(g){var x=g.alternate;return g===xi||x!==null&&x===xi}function pp(g,x){la=rd=!0;var _=g.pending;_===null?x.next=x:(x.next=_.next,_.next=x),g.pending=x}function cu(g,x,_){Ci!==null&&g.mode&1&&!(yn&2)?(g=x.interleaved,g===null?(_.next=_,Ms===null?Ms=[x]:Ms.push(x)):(_.next=g.next,g.next=_),x.interleaved=_):(g=x.pending,g===null?_.next=_:(_.next=g.next,g.next=_),x.pending=_)}function uu(g,x,_){if(_&4194240){var I=x.lanes;I&=g.pendingLanes,_|=I,x.lanes=_,aa(g,_)}}var nc={readContext:Wr,useCallback:Yi,useContext:Yi,useEffect:Yi,useImperativeHandle:Yi,useInsertionEffect:Yi,useLayoutEffect:Yi,useMemo:Yi,useReducer:Yi,useRef:Yi,useState:Yi,useDebugValue:Yi,useDeferredValue:Yi,useTransition:Yi,useMutableSource:Yi,useSyncExternalStore:Yi,useId:Yi,unstable_isNewReconciler:!1},mp={readContext:Wr,useCallback:function(g,x){return Vs().memoizedState=[g,x===void 0?null:x],g},useContext:Wr,useEffect:ld,useImperativeHandle:function(g,x,_){return _=_!=null?_.concat([g]):null,So(4194308,4,lu.bind(null,x,g),_)},useLayoutEffect:function(g,x){return So(4194308,4,g,x)},useInsertionEffect:function(g,x){return So(4,2,g,x)},useMemo:function(g,x){var _=Vs();return x=x===void 0?null:x,g=g(),_.memoizedState=[g,x],g},useReducer:function(g,x,_){var I=Vs();return x=_!==void 0?_(x):x,I.memoizedState=I.baseState=x,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:x},I.queue=g,g=g.dispatch=Jg.bind(null,xi,g),[I.memoizedState,g]},useRef:function(g){var x=Vs();return g={current:g},x.memoizedState=g},useState:au,useDebugValue:ud,useDeferredValue:function(g){var x=au(g),_=x[0],I=x[1];return ld(function(){var F=os.transition;os.transition={};try{I(g)}finally{os.transition=F}},[g]),_},useTransition:function(){var g=au(!1),x=g[0];return g=dd.bind(null,g[1]),Vs().memoizedState=g,[x,g]},useMutableSource:function(){},useSyncExternalStore:function(g,x,_){var I=xi,F=Vs();if(di){if(_===void 0)throw Error(a(407));_=_()}else{if(_=x(),Ci===null)throw Error(a(349));tl&30||dp(I,x,_)}F.memoizedState=_;var U={value:_,getSnapshot:x};return F.queue=U,ld(Da.bind(null,I,U,g),[g]),I.flags|=2048,ou(9,fp.bind(null,I,U,_,x),void 0,null),_},useId:function(){var g=Vs(),x=Ci.identifierPrefix;if(di){var _=La,I=ka;_=(I&~(1<<32-Qt(I)-1)).toString(32)+_,x=":"+x+"R"+_,_=nl++,0<_&&(x+="H"+_.toString(32)),x+=":"}else _=iu++,x=":"+x+"r"+_.toString(32)+":";return g.memoizedState=x},unstable_isNewReconciler:!1},gp={readContext:Wr,useCallback:hd,useContext:Wr,useEffect:$l,useImperativeHandle:ec,useInsertionEffect:ri,useLayoutEffect:cd,useMemo:tc,useReducer:ru,useRef:jg,useState:function(){return ru(ca)},useDebugValue:ud,useDeferredValue:function(g){var x=ru(ca),_=x[0],I=x[1];return $l(function(){var F=os.transition;os.transition={};try{I(g)}finally{os.transition=F}},[g]),_},useTransition:function(){var g=ru(ca)[0],x=Ws().memoizedState;return[g,x]},useMutableSource:up,useSyncExternalStore:hp,useId:il,unstable_isNewReconciler:!1},xp={readContext:Wr,useCallback:hd,useContext:Wr,useEffect:$l,useImperativeHandle:ec,useInsertionEffect:ri,useLayoutEffect:cd,useMemo:tc,useReducer:su,useRef:jg,useState:function(){return su(ca)},useDebugValue:ud,useDeferredValue:function(g){var x=su(ca),_=x[0],I=x[1];return $l(function(){var F=os.transition;os.transition={};try{I(g)}finally{os.transition=F}},[g]),_},useTransition:function(){var g=su(ca)[0],x=Ws().memoizedState;return[g,x]},useMutableSource:up,useSyncExternalStore:hp,useId:il,unstable_isNewReconciler:!1};function vp(g,x){try{var _="",I=x;do _+=ep(I),I=I.return;while(I);var F=_}catch(U){F=`
Error generating stack: `+U.message+`
`+U.stack}return{value:g,source:x,stack:F}}function fd(g,x){try{console.error(x.value)}catch(_){setTimeout(function(){throw _})}}var Ny=typeof WeakMap=="function"?WeakMap:Map;function Zg(g,x,_){_=Pa(-1,_),_.tag=3,_.payload={element:null};var I=x.value;return _.callback=function(){lc||(lc=!0,ui=I),fd(g,x)},_}function pd(g,x,_){_=Pa(-1,_),_.tag=3;var I=g.type.getDerivedStateFromError;if(typeof I=="function"){var F=x.value;_.payload=function(){return I(F)},_.callback=function(){fd(g,x)}}var U=g.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(_.callback=function(){fd(g,x),typeof I!="function"&&(js===null?js=new Set([this]):js.add(this));var re=x.stack;this.componentDidCatch(x.value,{componentStack:re!==null?re:""})}),_}function Fa(g,x,_){var I=g.pingCache;if(I===null){I=g.pingCache=new Ny;var F=new Set;I.set(x,F)}else F=I.get(x),F===void 0&&(F=new Set,I.set(x,F));F.has(_)||(F.add(_),g=Fp.bind(null,g,x,_),x.then(g,g))}function yp(g){do{var x;if((x=g.tag===13)&&(x=g.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return g;g=g.return}while(g!==null);return null}function rl(g,x,_,I,F){return g.mode&1?(g.flags|=65536,g.lanes=F,g):(g===x?g.flags|=65536:(g.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(x=Pa(-1,1),x.tag=2,vo(_,x))),_.lanes|=1),g)}function Oi(g){g.flags|=4}function ic(g,x){if(g!==null&&g.child===x.child)return!0;if(x.flags&16)return!1;for(g=x.child;g!==null;){if(g.flags&12854||g.subtreeFlags&12854)return!1;g=g.sibling}return!0}var ls,sl,md,gd;if(kt)ls=function(g,x){for(var _=x.child;_!==null;){if(_.tag===5||_.tag===6)oe(g,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===x)break;for(;_.sibling===null;){if(_.return===null||_.return===x)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},sl=function(){},md=function(g,x,_,I,F){if(g=g.memoizedProps,g!==I){var U=x.stateNode,re=Gs(Xr.current);_=fe(U,_,g,I,F,re),(x.updateQueue=_)&&Oi(x)}},gd=function(g,x,_,I){_!==I&&Oi(x)};else if(je){ls=function(g,x,_,I){for(var F=x.child;F!==null;){if(F.tag===5){var U=F.stateNode;_&&I&&(U=Tn(U,F.type,F.memoizedProps,F)),oe(g,U)}else if(F.tag===6)U=F.stateNode,_&&I&&(U=$i(U,F.memoizedProps,F)),oe(g,U);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)U=F.child,U!==null&&(U.return=F),ls(g,F,!0,!0);else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===x)break;for(;F.sibling===null;){if(F.return===null||F.return===x)return;F=F.return}F.sibling.return=F.return,F=F.sibling}};var _o=function(g,x,_,I){for(var F=x.child;F!==null;){if(F.tag===5){var U=F.stateNode;_&&I&&(U=Tn(U,F.type,F.memoizedProps,F)),an(g,U)}else if(F.tag===6)U=F.stateNode,_&&I&&(U=$i(U,F.memoizedProps,F)),an(g,U);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)U=F.child,U!==null&&(U.return=F),_o(g,F,!0,!0);else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===x)break;for(;F.sibling===null;){if(F.return===null||F.return===x)return;F=F.return}F.sibling.return=F.return,F=F.sibling}};sl=function(g,x){var _=x.stateNode;if(!ic(g,x)){g=_.containerInfo;var I=xt(g);_o(I,x,!1,!1),_.pendingChildren=I,Oi(x),Qn(g,I)}},md=function(g,x,_,I,F){var U=g.stateNode,re=g.memoizedProps;if((g=ic(g,x))&&re===I)x.stateNode=U;else{var be=x.stateNode,ze=Gs(Xr.current),at=null;re!==I&&(at=fe(be,_,re,I,F,ze)),g&&at===null?x.stateNode=U:(U=wt(U,at,_,re,I,x,g,be),Pe(U,_,I,F,ze)&&Oi(x),x.stateNode=U,g?Oi(x):ls(U,x,!1,!1))}},gd=function(g,x,_,I){_!==I?(g=Gs($o.current),_=Gs(Xr.current),x.stateNode=Ae(I,g,_,x),Oi(x)):x.stateNode=g.stateNode}}else sl=function(){},md=function(){},gd=function(){};function Na(g,x){if(!di)switch(g.tailMode){case"hidden":x=g.tail;for(var _=null;x!==null;)x.alternate!==null&&(_=x),x=x.sibling;_===null?g.tail=null:_.sibling=null;break;case"collapsed":_=g.tail;for(var I=null;_!==null;)_.alternate!==null&&(I=_),_=_.sibling;I===null?x||g.tail===null?g.tail=null:g.tail.sibling=null:I.sibling=null}}function Mi(g){var x=g.alternate!==null&&g.alternate.child===g.child,_=0,I=0;if(x)for(var F=g.child;F!==null;)_|=F.lanes|F.childLanes,I|=F.subtreeFlags&14680064,I|=F.flags&14680064,F.return=g,F=F.sibling;else for(F=g.child;F!==null;)_|=F.lanes|F.childLanes,I|=F.subtreeFlags,I|=F.flags,F.return=g,F=F.sibling;return g.subtreeFlags|=I,g.childLanes=_,x}function xd(g,x,_){var I=x.pendingProps;switch(ap(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(x),null;case 1:return vn(x.type)&&Zt(),Mi(x),null;case 3:return I=x.stateNode,ql(),Ze(Ot),Ze(nn),el(),I.pendingContext&&(I.context=I.pendingContext,I.pendingContext=null),(g===null||g.child===null)&&(tu(x)?Oi(x):g===null||g.memoizedState.isDehydrated&&!(x.flags&256)||(x.flags|=1024,Ts!==null&&(Su(Ts),Ts=null))),sl(g,x),Mi(x),null;case 5:cp(x),_=Gs($o.current);var F=x.type;if(g!==null&&x.stateNode!=null)md(g,x,F,I,_),g.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!I){if(x.stateNode===null)throw Error(a(166));return Mi(x),null}if(g=Gs(Xr.current),tu(x)){if(!Fe)throw Error(a(175));g=H(x.stateNode,x.type,x.memoizedProps,_,g,x,!Yl),x.updateQueue=g,g!==null&&Oi(x)}else{var U=Y(F,I,_,g,x);ls(U,x,!1,!1),x.stateNode=U,Pe(U,F,I,_,g)&&Oi(x)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return Mi(x),null;case 6:if(g&&x.stateNode!=null)gd(g,x,g.memoizedProps,I);else{if(typeof I!="string"&&x.stateNode===null)throw Error(a(166));if(g=Gs($o.current),_=Gs(Xr.current),tu(x)){if(!Fe)throw Error(a(176));if(g=x.stateNode,I=x.memoizedProps,(_=q(g,I,x,!Yl))&&(F=Rr,F!==null))switch(U=(F.mode&1)!==0,F.tag){case 3:se(F.stateNode.containerInfo,g,I,U);break;case 5:he(F.type,F.memoizedProps,F.stateNode,g,I,U)}_&&Oi(x)}else x.stateNode=Ae(I,g,_,x)}return Mi(x),null;case 13:if(Ze(gi),I=x.memoizedState,di&&nr!==null&&x.mode&1&&!(x.flags&128)){for(g=nr;g;)g=tr(g);return jl(),x.flags|=98560,x}if(I!==null&&I.dehydrated!==null){if(I=tu(x),g===null){if(!I)throw Error(a(318));if(!Fe)throw Error(a(344));if(g=x.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));pe(g,x)}else jl(),!(x.flags&128)&&(x.memoizedState=null),x.flags|=4;return Mi(x),null}return Ts!==null&&(Su(Ts),Ts=null),x.flags&128?(x.lanes=_,x):(I=I!==null,_=!1,g===null?tu(x):_=g.memoizedState!==null,I&&!_&&(x.child.flags|=8192,x.mode&1&&(g===null||gi.current&1?Ai===0&&(Ai=3):_d())),x.updateQueue!==null&&(x.flags|=4),Mi(x),null);case 4:return ql(),sl(g,x),g===null&&Bt(x.stateNode.containerInfo),Mi(x),null;case 10:return eu(x.type._context),Mi(x),null;case 17:return vn(x.type)&&Zt(),Mi(x),null;case 19:if(Ze(gi),F=x.memoizedState,F===null)return Mi(x),null;if(I=(x.flags&128)!==0,U=F.rendering,U===null)if(I)Na(F,!1);else{if(Ai!==0||g!==null&&g.flags&128)for(g=x.child;g!==null;){if(U=id(g),U!==null){for(x.flags|=128,Na(F,!1),g=U.updateQueue,g!==null&&(x.updateQueue=g,x.flags|=4),x.subtreeFlags=0,g=_,I=x.child;I!==null;)_=I,F=g,_.flags&=14680066,U=_.alternate,U===null?(_.childLanes=0,_.lanes=F,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=U.childLanes,_.lanes=U.lanes,_.child=U.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=U.memoizedProps,_.memoizedState=U.memoizedState,_.updateQueue=U.updateQueue,_.type=U.type,F=U.dependencies,_.dependencies=F===null?null:{lanes:F.lanes,firstContext:F.firstContext}),I=I.sibling;return vt(gi,gi.current&1|2),x.child}g=g.sibling}F.tail!==null&&Ni()>Eo&&(x.flags|=128,I=!0,Na(F,!1),x.lanes=4194304)}else{if(!I)if(g=id(U),g!==null){if(x.flags|=128,I=!0,g=g.updateQueue,g!==null&&(x.updateQueue=g,x.flags|=4),Na(F,!0),F.tail===null&&F.tailMode==="hidden"&&!U.alternate&&!di)return Mi(x),null}else 2*Ni()-F.renderingStartTime>Eo&&_!==1073741824&&(x.flags|=128,I=!0,Na(F,!1),x.lanes=4194304);F.isBackwards?(U.sibling=x.child,x.child=U):(g=F.last,g!==null?g.sibling=U:x.child=U,F.last=U)}return F.tail!==null?(x=F.tail,F.rendering=x,F.tail=x.sibling,F.renderingStartTime=Ni(),x.sibling=null,g=gi.current,vt(gi,I?g&1|2:g&1),x):(Mi(x),null);case 22:case 23:return _u(),I=x.memoizedState!==null,g!==null&&g.memoizedState!==null!==I&&(x.flags|=8192),I&&x.mode&1?vr&1073741824&&(Mi(x),kt&&x.subtreeFlags&6&&(x.flags|=8192)):Mi(x),null;case 24:return null;case 25:return null}throw Error(a(156,x.tag))}var bp=o.ReactCurrentOwner,ji=!1;function wi(g,x,_,I){x.child=g===null?Xg(x,null,_,I):Ba(x,g.child,_,I)}function si(g,x,_,I,F){_=_.render;var U=x.ref;return Vl(x,F),I=Ql(g,x,_,I,U,F),_=Ao(),g!==null&&!ji?(x.updateQueue=g.updateQueue,x.flags&=-2053,g.lanes&=~F,Yr(g,x,F)):(di&&_&&sp(x),x.flags|=1,wi(g,x,I,F),x.child)}function $n(g,x,_,I,F){if(g===null){var U=_.type;return typeof U=="function"&&!Cd(U)&&U.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(x.tag=15,x.type=U,Oa(g,x,U,I,F)):(g=Ed(_.type,null,I,x,x.mode,F),g.ref=x.ref,g.return=x,x.child=g)}if(U=g.child,!(g.lanes&F)){var re=U.memoizedProps;if(_=_.compare,_=_!==null?_:Hs,_(re,I)&&g.ref===x.ref)return Yr(g,x,F)}return x.flags|=1,g=ja(U,I),g.ref=x.ref,g.return=x,x.child=g}function Oa(g,x,_,I,F){if(g!==null&&Hs(g.memoizedProps,I)&&g.ref===x.ref)if(ji=!1,(g.lanes&F)!==0)g.flags&131072&&(ji=!0);else return x.lanes=g.lanes,Yr(g,x,F);return Ua(g,x,_,I,F)}function ir(g,x,_){var I=x.pendingProps,F=I.children,U=g!==null?g.memoizedState:null;if(I.mode==="hidden")if(!(x.mode&1))x.memoizedState={baseLanes:0,cachePool:null},vt(pl,vr),vr|=_;else if(_&1073741824)x.memoizedState={baseLanes:0,cachePool:null},I=U!==null?U.baseLanes:_,vt(pl,vr),vr|=I;else return g=U!==null?U.baseLanes|_:_,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:g,cachePool:null},x.updateQueue=null,vt(pl,vr),vr|=g,null;else U!==null?(I=U.baseLanes|_,x.memoizedState=null):I=_,vt(pl,vr),vr|=I;return wi(g,x,F,_),x.child}function Ir(g,x){var _=x.ref;(g===null&&_!==null||g!==null&&g.ref!==_)&&(x.flags|=512,x.flags|=2097152)}function Ua(g,x,_,I,F){var U=vn(_)?Ht:nn.current;return U=Et(x,U),Vl(x,F),_=Ql(g,x,_,I,U,F),I=Ao(),g!==null&&!ji?(x.updateQueue=g.updateQueue,x.flags&=-2053,g.lanes&=~F,Yr(g,x,F)):(di&&I&&sp(x),x.flags|=1,wi(g,x,_,F),x.child)}function al(g,x,_,I,F){if(vn(_)){var U=!0;pn(x)}else U=!1;if(Vl(x,F),x.stateNode===null)g!==null&&(g.alternate=null,x.alternate=null,x.flags|=2),zg(x,_,I),rp(x,_,I,F),I=!0;else if(g===null){var re=x.stateNode,be=x.memoizedProps;re.props=be;var ze=re.context,at=_.contextType;typeof at=="object"&&at!==null?at=Wr(at):(at=vn(_)?Ht:nn.current,at=Et(x,at));var Lt=_.getDerivedStateFromProps,dn=typeof Lt=="function"||typeof re.getSnapshotBeforeUpdate=="function";dn||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(be!==I||ze!==at)&&Hg(x,re,I,at),Cs=!1;var qt=x.memoizedState;re.state=qt,Zh(x,I,re,F),ze=x.memoizedState,be!==I||qt!==ze||Ot.current||Cs?(typeof Lt=="function"&&(np(x,_,Lt,I),ze=x.memoizedState),(be=Cs||ip(x,_,be,I,qt,ze,at))?(dn||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(x.flags|=4194308)):(typeof re.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=I,x.memoizedState=ze),re.props=I,re.state=ze,re.context=at,I=be):(typeof re.componentDidMount=="function"&&(x.flags|=4194308),I=!1)}else{re=x.stateNode,tp(g,x),be=x.memoizedProps,at=x.type===x.elementType?be:Vr(x.type,be),re.props=at,dn=x.pendingProps,qt=re.context,ze=_.contextType,typeof ze=="object"&&ze!==null?ze=Wr(ze):(ze=vn(_)?Ht:nn.current,ze=Et(x,ze));var Sn=_.getDerivedStateFromProps;(Lt=typeof Sn=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(be!==dn||qt!==ze)&&Hg(x,re,I,ze),Cs=!1,qt=x.memoizedState,re.state=qt,Zh(x,I,re,F);var Tt=x.memoizedState;be!==dn||qt!==Tt||Ot.current||Cs?(typeof Sn=="function"&&(np(x,_,Sn,I),Tt=x.memoizedState),(at=Cs||ip(x,_,at,I,qt,Tt,ze)||!1)?(Lt||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(I,Tt,ze),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(I,Tt,ze)),typeof re.componentDidUpdate=="function"&&(x.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof re.componentDidUpdate!="function"||be===g.memoizedProps&&qt===g.memoizedState||(x.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||be===g.memoizedProps&&qt===g.memoizedState||(x.flags|=1024),x.memoizedProps=I,x.memoizedState=Tt),re.props=I,re.state=Tt,re.context=ze,I=at):(typeof re.componentDidUpdate!="function"||be===g.memoizedProps&&qt===g.memoizedState||(x.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||be===g.memoizedProps&&qt===g.memoizedState||(x.flags|=1024),I=!1)}return xr(g,x,_,I,U,F)}function xr(g,x,_,I,F,U){Ir(g,x);var re=(x.flags&128)!==0;if(!I&&!re)return F&&An(x,_,!1),Yr(g,x,U);I=x.stateNode,bp.current=x;var be=re&&typeof _.getDerivedStateFromError!="function"?null:I.render();return x.flags|=1,g!==null&&re?(x.child=Ba(x,g.child,null,U),x.child=Ba(x,null,be,U)):wi(g,x,be,U),x.memoizedState=I.state,F&&An(x,_,!0),x.child}function hu(g){var x=g.stateNode;x.pendingContext?ln(g,x.pendingContext,x.pendingContext!==x.context):x.context&&ln(g,x.context,!1),nd(g,x.containerInfo)}function wp(g,x,_,I,F){return jl(),td(F),x.flags|=256,wi(g,x,_,I),x.child}var du={dehydrated:null,treeContext:null,retryLane:0};function ol(g){return{baseLanes:g,cachePool:null}}function Ap(g,x,_){var I=x.pendingProps,F=gi.current,U=!1,re=(x.flags&128)!==0,be;if((be=re)||(be=g!==null&&g.memoizedState===null?!1:(F&2)!==0),be?(U=!0,x.flags&=-129):(g===null||g.memoizedState!==null)&&(F|=1),vt(gi,F&1),g===null)return bo(x),g=x.memoizedState,g!==null&&(g=g.dehydrated,g!==null)?(x.mode&1?is(g)?x.lanes=8:x.lanes=1073741824:x.lanes=1,null):(F=I.children,g=I.fallback,U?(I=x.mode,U=x.child,F={mode:"hidden",children:F},!(I&1)&&U!==null?(U.childLanes=0,U.pendingProps=F):U=Eu(F,I,0,null),g=yl(g,I,_,null),U.return=x,g.return=x,U.sibling=g,x.child=U,x.child.memoizedState=ol(_),x.memoizedState=du,g):Xs(x,F));if(F=g.memoizedState,F!==null){if(be=F.dehydrated,be!==null){if(re)return x.flags&256?(x.flags&=-257,pu(g,x,_,Error(a(422)))):x.memoizedState!==null?(x.child=g.child,x.flags|=128,null):(U=I.fallback,F=x.mode,I=Eu({mode:"visible",children:I.children},F,0,null),U=yl(U,F,_,null),U.flags|=2,I.return=x,U.return=x,I.sibling=U,x.child=I,x.mode&1&&Ba(x,g.child,null,_),x.child.memoizedState=ol(_),x.memoizedState=du,U);if(!(x.mode&1))x=pu(g,x,_,null);else if(is(be))x=pu(g,x,_,Error(a(419)));else if(I=(_&g.childLanes)!==0,ji||I){if(I=Ci,I!==null){switch(_&-_){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}I=U&(I.suspendedLanes|_)?0:U,I!==0&&I!==F.retryLane&&(F.retryLane=I,yr(g,I,-1))}_d(),x=pu(g,x,_,Error(a(421)))}else Cr(be)?(x.flags|=128,x.child=g.child,x=tx.bind(null,g),rs(be,x),x=null):(_=F.treeContext,Fe&&(nr=go(be),Rr=x,di=!0,Ts=null,Yl=!1,_!==null&&(Es[ss++]=ka,Es[ss++]=La,Es[ss++]=Zo,ka=_.id,La=_.overflow,Zo=x)),x=Xs(x,x.pendingProps.children),x.flags|=4096);return x}return U?(I=vd(g,x,I.children,I.fallback,_),U=x.child,F=g.child.memoizedState,U.memoizedState=F===null?ol(_):{baseLanes:F.baseLanes|_,cachePool:null},U.childLanes=g.childLanes&~_,x.memoizedState=du,I):(_=fu(g,x,I.children,_),x.memoizedState=null,_)}return U?(I=vd(g,x,I.children,I.fallback,_),U=x.child,F=g.child.memoizedState,U.memoizedState=F===null?ol(_):{baseLanes:F.baseLanes|_,cachePool:null},U.childLanes=g.childLanes&~_,x.memoizedState=du,I):(_=fu(g,x,I.children,_),x.memoizedState=null,_)}function Xs(g,x){return x=Eu({mode:"visible",children:x},g.mode,0,null),x.return=g,g.child=x}function fu(g,x,_,I){var F=g.child;return g=F.sibling,_=ja(F,{mode:"visible",children:_}),!(x.mode&1)&&(_.lanes=I),_.return=x,_.sibling=null,g!==null&&(I=x.deletions,I===null?(x.deletions=[g],x.flags|=16):I.push(g)),x.child=_}function vd(g,x,_,I,F){var U=x.mode;g=g.child;var re=g.sibling,be={mode:"hidden",children:_};return!(U&1)&&x.child!==g?(_=x.child,_.childLanes=0,_.pendingProps=be,x.deletions=null):(_=ja(g,be),_.subtreeFlags=g.subtreeFlags&14680064),re!==null?I=ja(re,I):(I=yl(I,U,F,null),I.flags|=2),I.return=x,_.return=x,_.sibling=I,x.child=_,I}function pu(g,x,_,I){return I!==null&&td(I),Ba(x,g.child,null,_),g=Xs(x,x.pendingProps.children),g.flags|=2,x.memoizedState=null,g}function qg(g,x,_){g.lanes|=x;var I=g.alternate;I!==null&&(I.lanes|=x),Ko(g.return,x,_)}function ua(g,x,_,I,F){var U=g.memoizedState;U===null?g.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:I,tail:_,tailMode:F}:(U.isBackwards=x,U.rendering=null,U.renderingStartTime=0,U.last=I,U.tail=_,U.tailMode=F)}function ll(g,x,_){var I=x.pendingProps,F=I.revealOrder,U=I.tail;if(wi(g,x,I.children,_),I=gi.current,I&2)I=I&1|2,x.flags|=128;else{if(g!==null&&g.flags&128)e:for(g=x.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&qg(g,_,x);else if(g.tag===19)qg(g,_,x);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===x)break e;for(;g.sibling===null;){if(g.return===null||g.return===x)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}I&=1}if(vt(gi,I),!(x.mode&1))x.memoizedState=null;else switch(F){case"forwards":for(_=x.child,F=null;_!==null;)g=_.alternate,g!==null&&id(g)===null&&(F=_),_=_.sibling;_=F,_===null?(F=x.child,x.child=null):(F=_.sibling,_.sibling=null),ua(x,!1,F,_,U);break;case"backwards":for(_=null,F=x.child,x.child=null;F!==null;){if(g=F.alternate,g!==null&&id(g)===null){x.child=F;break}g=F.sibling,F.sibling=_,_=F,F=g}ua(x,!0,_,null,U);break;case"together":ua(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function Yr(g,x,_){if(g!==null&&(x.dependencies=g.dependencies),ha|=x.lanes,!(_&x.childLanes))return null;if(g!==null&&x.child!==g.child)throw Error(a(153));if(x.child!==null){for(g=x.child,_=ja(g,g.pendingProps),x.child=_,_.return=x;g.sibling!==null;)g=g.sibling,_=_.sibling=ja(g,g.pendingProps),_.return=x;_.sibling=null}return x.child}function yd(g,x,_){switch(x.tag){case 3:hu(x),jl();break;case 5:Yg(x);break;case 1:vn(x.type)&&pn(x);break;case 4:nd(x,x.stateNode.containerInfo);break;case 10:Jo(x,x.type._context,x.memoizedProps.value);break;case 13:var I=x.memoizedState;if(I!==null)return I.dehydrated!==null?(vt(gi,gi.current&1),x.flags|=128,null):_&x.child.childLanes?Ap(g,x,_):(vt(gi,gi.current&1),g=Yr(g,x,_),g!==null?g.sibling:null);vt(gi,gi.current&1);break;case 19:if(I=(_&x.childLanes)!==0,g.flags&128){if(I)return ll(g,x,_);x.flags|=128}var F=x.memoizedState;if(F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),vt(gi,gi.current),I)break;return null;case 22:case 23:return x.lanes=0,ir(g,x,_)}return Yr(g,x,_)}function bd(g,x){switch(ap(x),x.tag){case 1:return vn(x.type)&&Zt(),g=x.flags,g&65536?(x.flags=g&-65537|128,x):null;case 3:return ql(),Ze(Ot),Ze(nn),el(),g=x.flags,g&65536&&!(g&128)?(x.flags=g&-65537|128,x):null;case 5:return cp(x),null;case 13:if(Ze(gi),g=x.memoizedState,g!==null&&g.dehydrated!==null){if(x.alternate===null)throw Error(a(340));jl()}return g=x.flags,g&65536?(x.flags=g&-65537|128,x):null;case 19:return Ze(gi),null;case 4:return ql(),null;case 10:return eu(x.type._context),null;case 22:case 23:return _u(),null;case 24:return null;default:return null}}var Pr=!1,Ji=!1,cl=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Rs(g,x){var _=g.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(I){Lr(g,x,I)}else _.current=null}function za(g,x,_){try{_()}catch(I){Lr(g,x,I)}}var Sp=!1;function _p(g,x){for(Q(g.containerInfo),ft=x;ft!==null;)if(g=ft,x=g.child,(g.subtreeFlags&1028)!==0&&x!==null)x.return=g,ft=x;else for(;ft!==null;){g=ft;try{var _=g.alternate;if(g.flags&1024)switch(g.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var I=_.memoizedProps,F=_.memoizedState,U=g.stateNode,re=U.getSnapshotBeforeUpdate(g.elementType===g.type?I:Vr(g.type,I),F);U.__reactInternalSnapshotBeforeUpdate=re}break;case 3:kt&&We(g.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(be){Lr(g,g.return,be)}if(x=g.sibling,x!==null){x.return=g.return,ft=x;break}ft=g.return}return _=Sp,Sp=!1,_}function Ha(g,x,_){var I=x.updateQueue;if(I=I!==null?I.lastEffect:null,I!==null){var F=I=I.next;do{if((F.tag&g)===g){var U=F.destroy;F.destroy=void 0,U!==void 0&&za(x,_,U)}F=F.next}while(F!==I)}}function rr(g,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var _=x=x.next;do{if((_.tag&g)===g){var I=_.create;_.destroy=I()}_=_.next}while(_!==x)}}function kr(g){var x=g.ref;if(x!==null){var _=g.stateNode;switch(g.tag){case 5:g=ee(_);break;default:g=_}typeof x=="function"?x(g):x.current=g}}function ci(g,x,_){if(oa&&typeof oa.onCommitFiberUnmount=="function")try{oa.onCommitFiberUnmount(Zc,x)}catch{}switch(x.tag){case 0:case 11:case 14:case 15:if(g=x.updateQueue,g!==null&&(g=g.lastEffect,g!==null)){var I=g=g.next;do{var F=I,U=F.destroy;F=F.tag,U!==void 0&&(F&2||F&4)&&za(x,_,U),I=I.next}while(I!==g)}break;case 1:if(Rs(x,_),g=x.stateNode,typeof g.componentWillUnmount=="function")try{g.props=x.memoizedProps,g.state=x.memoizedState,g.componentWillUnmount()}catch(re){Lr(x,_,re)}break;case 5:Rs(x,_);break;case 4:kt?Ep(g,x,_):je&&je&&(x=x.stateNode.containerInfo,_=xt(x),bi(x,_))}}function Is(g,x,_){for(var I=x;;)if(ci(g,I,_),I.child===null||kt&&I.tag===4){if(I===x)break;for(;I.sibling===null;){if(I.return===null||I.return===x)return;I=I.return}I.sibling.return=I.return,I=I.sibling}else I.child.return=I,I=I.child}function Mp(g){var x=g.alternate;x!==null&&(g.alternate=null,Mp(x)),g.child=null,g.deletions=null,g.sibling=null,g.tag===5&&(x=g.stateNode,x!==null&&Ct(x)),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}function Cp(g){return g.tag===5||g.tag===3||g.tag===4}function wd(g){e:for(;;){for(;g.sibling===null;){if(g.return===null||Cp(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&g.tag!==18;){if(g.flags&2||g.child===null||g.tag===4)continue e;g.child.return=g,g=g.child}if(!(g.flags&2))return g.stateNode}}function Ad(g){if(kt){e:{for(var x=g.return;x!==null;){if(Cp(x))break e;x=x.return}throw Error(a(160))}var _=x;switch(_.tag){case 5:x=_.stateNode,_.flags&32&&(Xt(x),_.flags&=-33),_=wd(g),rc(g,_,x);break;case 3:case 4:x=_.stateNode.containerInfo,_=wd(g),Sd(g,_,x);break;default:throw Error(a(161))}}}function Sd(g,x,_){var I=g.tag;if(I===5||I===6)g=g.stateNode,x?Nt(_,g,x):bt(_,g);else if(I!==4&&(g=g.child,g!==null))for(Sd(g,x,_),g=g.sibling;g!==null;)Sd(g,x,_),g=g.sibling}function rc(g,x,_){var I=g.tag;if(I===5||I===6)g=g.stateNode,x?Wt(_,g,x):pt(_,g);else if(I!==4&&(g=g.child,g!==null))for(rc(g,x,_),g=g.sibling;g!==null;)rc(g,x,_),g=g.sibling}function Ep(g,x,_){for(var I=x,F=!1,U,re;;){if(!F){F=I.return;e:for(;;){if(F===null)throw Error(a(160));switch(U=F.stateNode,F.tag){case 5:re=!1;break e;case 3:U=U.containerInfo,re=!0;break e;case 4:U=U.containerInfo,re=!0;break e}F=F.return}F=!0}if(I.tag===5||I.tag===6)Is(g,I,_),re?on(U,I.stateNode):Rt(U,I.stateNode);else if(I.tag===18)re?$e(U,I.stateNode):st(U,I.stateNode);else if(I.tag===4){if(I.child!==null){U=I.stateNode.containerInfo,re=!0,I.child.return=I,I=I.child;continue}}else if(ci(g,I,_),I.child!==null){I.child.return=I,I=I.child;continue}if(I===x)break;for(;I.sibling===null;){if(I.return===null||I.return===x)return;I=I.return,I.tag===4&&(F=!1)}I.sibling.return=I.return,I=I.sibling}}function Mo(g,x){if(kt){switch(x.tag){case 0:case 11:case 14:case 15:Ha(3,x,x.return),rr(3,x),Ha(5,x,x.return);return;case 1:return;case 5:var _=x.stateNode;if(_!=null){var I=x.memoizedProps;g=g!==null?g.memoizedProps:I;var F=x.type,U=x.updateQueue;x.updateQueue=null,U!==null&&Pt(_,U,F,g,I,x)}return;case 6:if(x.stateNode===null)throw Error(a(162));_=x.memoizedProps,un(x.stateNode,g!==null?g.memoizedProps:_,_);return;case 3:Fe&&g!==null&&g.memoizedState.isDehydrated&&Ne(x.stateNode.containerInfo);return;case 12:return;case 13:sc(x);return;case 19:sc(x);return;case 17:return}throw Error(a(163))}switch(x.tag){case 0:case 11:case 14:case 15:Ha(3,x,x.return),rr(3,x),Ha(5,x,x.return);return;case 12:return;case 13:sc(x);return;case 19:sc(x);return;case 3:Fe&&g!==null&&g.memoizedState.isDehydrated&&Ne(x.stateNode.containerInfo);break;case 22:case 23:return}e:if(je){switch(x.tag){case 1:case 5:case 6:break e;case 3:case 4:x=x.stateNode,bi(x.containerInfo,x.pendingChildren);break e}throw Error(a(163))}}function sc(g){var x=g.updateQueue;if(x!==null){g.updateQueue=null;var _=g.stateNode;_===null&&(_=g.stateNode=new cl),x.forEach(function(I){var F=nx.bind(null,g,I);_.has(I)||(_.add(I),I.then(F,F))})}}function Oy(g,x){for(ft=x;ft!==null;){x=ft;var _=x.deletions;if(_!==null)for(var I=0;I<_.length;I++){var F=_[I];try{var U=g;kt?Ep(U,F,x):Is(U,F,x);var re=F.alternate;re!==null&&(re.return=null),F.return=null}catch(Gt){Lr(F,x,Gt)}}if(_=x.child,x.subtreeFlags&12854&&_!==null)_.return=x,ft=_;else for(;ft!==null;){x=ft;try{var be=x.flags;if(be&32&&kt&&Xt(x.stateNode),be&512){var ze=x.alternate;if(ze!==null){var at=ze.ref;at!==null&&(typeof at=="function"?at(null):at.current=null)}}if(be&8192)switch(x.tag){case 13:if(x.memoizedState!==null){var Lt=x.alternate;(Lt===null||Lt.memoizedState===null)&&(wu=Ni())}break;case 22:var dn=x.memoizedState!==null,qt=x.alternate,Sn=qt!==null&&qt.memoizedState!==null;if(_=x,kt){e:if(I=_,F=dn,U=null,kt)for(var Tt=I;;){if(Tt.tag===5){if(U===null){U=Tt;var or=Tt.stateNode;F?sn(or):Le(Tt.stateNode,Tt.memoizedProps)}}else if(Tt.tag===6){if(U===null){var fs=Tt.stateNode;F?ye(fs):Be(fs,Tt.memoizedProps)}}else if((Tt.tag!==22&&Tt.tag!==23||Tt.memoizedState===null||Tt===I)&&Tt.child!==null){Tt.child.return=Tt,Tt=Tt.child;continue}if(Tt===I)break;for(;Tt.sibling===null;){if(Tt.return===null||Tt.return===I)break e;U===Tt&&(U=null),Tt=Tt.return}U===Tt&&(U=null),Tt.sibling.return=Tt.return,Tt=Tt.sibling}}if(dn&&!Sn&&_.mode&1){ft=_;for(var Re=_.child;Re!==null;){for(_=ft=Re;ft!==null;){I=ft;var we=I.child;switch(I.tag){case 0:case 11:case 14:case 15:Ha(4,I,I.return);break;case 1:Rs(I,I.return);var De=I.stateNode;if(typeof De.componentWillUnmount=="function"){var At=I.return;try{De.props=I.memoizedProps,De.state=I.memoizedState,De.componentWillUnmount()}catch(Gt){Lr(I,At,Gt)}}break;case 5:Rs(I,I.return);break;case 22:if(I.memoizedState!==null){Rp(_);continue}}we!==null?(we.return=I,ft=we):Rp(_)}Re=Re.sibling}}}switch(be&4102){case 2:Ad(x),x.flags&=-3;break;case 6:Ad(x),x.flags&=-3,Mo(x.alternate,x);break;case 4096:x.flags&=-4097;break;case 4100:x.flags&=-4097,Mo(x.alternate,x);break;case 4:Mo(x.alternate,x)}}catch(Gt){Lr(x,x.return,Gt)}if(_=x.sibling,_!==null){_.return=x.return,ft=_;break}ft=x.return}}}function mu(g,x,_){ft=g,gu(g)}function gu(g,x,_){for(var I=(g.mode&1)!==0;ft!==null;){var F=ft,U=F.child;if(F.tag===22&&I){var re=F.memoizedState!==null||Pr;if(!re){var be=F.alternate,ze=be!==null&&be.memoizedState!==null||Ji;be=Pr;var at=Ji;if(Pr=re,(Ji=ze)&&!at)for(ft=F;ft!==null;)re=ft,ze=re.child,re.tag===22&&re.memoizedState!==null?ul(F):ze!==null?(ze.return=re,ft=ze):ul(F);for(;U!==null;)ft=U,gu(U),U=U.sibling;ft=F,Pr=be,Ji=at}Tp(g)}else F.subtreeFlags&8772&&U!==null?(U.return=F,ft=U):Tp(g)}}function Tp(g){for(;ft!==null;){var x=ft;if(x.flags&8772){var _=x.alternate;try{if(x.flags&8772)switch(x.tag){case 0:case 11:case 15:Ji||rr(5,x);break;case 1:var I=x.stateNode;if(x.flags&4&&!Ji)if(_===null)I.componentDidMount();else{var F=x.elementType===x.type?_.memoizedProps:Vr(x.type,_.memoizedProps);I.componentDidUpdate(F,_.memoizedState,I.__reactInternalSnapshotBeforeUpdate)}var U=x.updateQueue;U!==null&&Og(x,U,I);break;case 3:var re=x.updateQueue;if(re!==null){if(_=null,x.child!==null)switch(x.child.tag){case 5:_=ee(x.child.stateNode);break;case 1:_=x.child.stateNode}Og(x,re,_)}break;case 5:var be=x.stateNode;_===null&&x.flags&4&&it(be,x.type,x.memoizedProps,x);break;case 6:break;case 4:break;case 12:break;case 13:if(Fe&&x.memoizedState===null){var ze=x.alternate;if(ze!==null){var at=ze.memoizedState;if(at!==null){var Lt=at.dehydrated;Lt!==null&&Oe(Lt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}Ji||x.flags&512&&kr(x)}catch(dn){Lr(x,x.return,dn)}}if(x===g){ft=null;break}if(_=x.sibling,_!==null){_.return=x.return,ft=_;break}ft=x.return}}function Rp(g){for(;ft!==null;){var x=ft;if(x===g){ft=null;break}var _=x.sibling;if(_!==null){_.return=x.return,ft=_;break}ft=x.return}}function ul(g){for(;ft!==null;){var x=ft;try{switch(x.tag){case 0:case 11:case 15:var _=x.return;try{rr(4,x)}catch(ze){Lr(x,_,ze)}break;case 1:var I=x.stateNode;if(typeof I.componentDidMount=="function"){var F=x.return;try{I.componentDidMount()}catch(ze){Lr(x,F,ze)}}var U=x.return;try{kr(x)}catch(ze){Lr(x,U,ze)}break;case 5:var re=x.return;try{kr(x)}catch(ze){Lr(x,re,ze)}}}catch(ze){Lr(x,x.return,ze)}if(x===g){ft=null;break}var be=x.sibling;if(be!==null){be.return=x.return,ft=be;break}ft=x.return}}var xu=0,hl=1,dl=2,Ga=3,ac=4;if(typeof Symbol=="function"&&Symbol.for){var fl=Symbol.for;xu=fl("selector.component"),hl=fl("selector.has_pseudo_class"),dl=fl("selector.role"),Ga=fl("selector.test_id"),ac=fl("selector.text")}function vu(g){var x=ne(g);if(x!=null){if(typeof x.memoizedProps["data-testname"]!="string")throw Error(a(364));return x}if(g=te(g),g===null)throw Error(a(362));return g.stateNode.current}function yu(g,x){switch(x.$$typeof){case xu:if(g.type===x.value)return!0;break;case hl:e:{x=x.value,g=[g,0];for(var _=0;_<g.length;){var I=g[_++],F=g[_++],U=x[F];if(I.tag!==5||!Ge(I)){for(;U!=null&&yu(I,U);)F++,U=x[F];if(F===x.length){x=!0;break e}else for(I=I.child;I!==null;)g.push(I,F),I=I.sibling}}x=!1}return x;case dl:if(g.tag===5&&Je(g.stateNode,x.value))return!0;break;case ac:if((g.tag===5||g.tag===6)&&(g=Me(g),g!==null&&0<=g.indexOf(x.value)))return!0;break;case Ga:if(g.tag===5&&(g=g.memoizedProps["data-testname"],typeof g=="string"&&g.toLowerCase()===x.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Co(g){switch(g.$$typeof){case xu:return"<"+(P(g.value)||"Unknown")+">";case hl:return":has("+(Co(g)||"")+")";case dl:return'[role="'+g.value+'"]';case ac:return'"'+g.value+'"';case Ga:return'[data-testname="'+g.value+'"]';default:throw Error(a(365))}}function cs(g,x){var _=[];g=[g,0];for(var I=0;I<g.length;){var F=g[I++],U=g[I++],re=x[U];if(F.tag!==5||!Ge(F)){for(;re!=null&&yu(F,re);)U++,re=x[U];if(U===x.length)_.push(F);else for(F=F.child;F!==null;)g.push(F,U),F=F.sibling}}return _}function Va(g,x){if(!dt)throw Error(a(363));g=vu(g),g=cs(g,x),x=[],g=Array.from(g);for(var _=0;_<g.length;){var I=g[_++];if(I.tag===5)Ge(I)||x.push(I.stateNode);else for(I=I.child;I!==null;)g.push(I),I=I.sibling}return x}var Ip=Math.ceil,bu=o.ReactCurrentDispatcher,Ys=o.ReactCurrentOwner,Jn=o.ReactCurrentBatchConfig,yn=0,Ci=null,Kn=null,fi=0,vr=0,pl=ht(0),Ai=0,oc=null,ha=0,us=0,ml=0,Wa=null,Ii=null,wu=0,Eo=1/0;function gl(){Eo=Ni()+500}var lc=!1,ui=null,js=null,cc=!1,da=null,xl=0,vl=0,Xa=null,ai=-1,Si=0;function Fn(){return yn&6?Ni():ai!==-1?ai:ai=Ni()}function Js(g){return g.mode&1?yn&2&&fi!==0?fi&-fi:Ng.transition!==null?(Si===0&&(g=_i,_i<<=1,!(_i&4194240)&&(_i=64),Si=g),Si):(g=Mn,g!==0?g:nt()):1}function yr(g,x,_){if(50<vl)throw vl=0,Xa=null,Error(a(185));var I=To(g,x);return I===null?null:(Wo(I,x,_),(!(yn&2)||I!==Ci)&&(I===Ci&&(!(yn&2)&&(us|=x),Ai===4&&ar(I,fi)),jr(I,_),x===1&&yn===0&&!(g.mode&1)&&(gl(),Wh&&_s())),I)}function To(g,x){g.lanes|=x;var _=g.alternate;for(_!==null&&(_.lanes|=x),_=g,g=g.return;g!==null;)g.childLanes|=x,_=g.alternate,_!==null&&(_.childLanes|=x),_=g,g=g.return;return _.tag===3?_.stateNode:null}function jr(g,x){var _=g.callbackNode;Fg(g,x);var I=Kc(g,g===Ci?fi:0);if(I===0)_!==null&&Gl(_),g.callbackNode=null,g.callbackPriority=0;else if(x=I&-I,g.callbackPriority!==x){if(_!=null&&Gl(_),x===1)g.tag===0?Yh(hs.bind(null,g)):Xh(hs.bind(null,g)),ot?Jt(function(){yn===0&&_s()}):Xo(Yo,_s),_=null;else{switch(Ra(I)){case 1:_=Yo;break;case 4:_=Dy;break;case 16:_=Gh;break;case 536870912:_=Vh;break;default:_=Gh}_=Md(_,sr.bind(null,g))}g.callbackPriority=x,g.callbackNode=_}}function sr(g,x){if(ai=-1,Si=0,yn&6)throw Error(a(327));var _=g.callbackNode;if(fa()&&g.callbackNode!==_)return null;var I=Kc(g,g===Ci?fi:0);if(I===0)return null;if(I&30||I&g.expiredLanes||x)x=Mu(g,I);else{x=I;var F=yn;yn|=2;var U=Lp();(Ci!==g||fi!==x)&&(gl(),Ya(g,x));do try{$g();break}catch(be){kp(g,be)}while(!0);Tr(),bu.current=U,yn=F,Kn!==null?x=0:(Ci=null,fi=0,x=Ai)}if(x!==0){if(x===2&&(F=Uh(g),F!==0&&(I=F,x=Au(g,F))),x===1)throw _=oc,Ya(g,0),ar(g,I),jr(g,Ni()),_;if(x===6)ar(g,I);else{if(F=g.current.alternate,!(I&30)&&!Pp(F)&&(x=Mu(g,I),x===2&&(U=Uh(g),U!==0&&(I=U,x=Au(g,U))),x===1))throw _=oc,Ya(g,0),ar(g,I),jr(g,Ni()),_;switch(g.finishedWork=F,g.finishedLanes=I,x){case 0:case 1:throw Error(a(345));case 2:Ks(g,Ii);break;case 3:if(ar(g,I),(I&130023424)===I&&(x=wu+500-Ni(),10<x)){if(Kc(g,0)!==0)break;if(F=g.suspendedLanes,(F&I)!==I){Fn(),g.pingedLanes|=g.suspendedLanes&F;break}g.timeoutHandle=Se(Ks.bind(null,g,Ii),x);break}Ks(g,Ii);break;case 4:if(ar(g,I),(I&4194240)===I)break;for(x=g.eventTimes,F=-1;0<I;){var re=31-Qt(I);U=1<<re,re=x[re],re>F&&(F=re),I&=~U}if(I=F,I=Ni()-I,I=(120>I?120:480>I?480:1080>I?1080:1920>I?1920:3e3>I?3e3:4320>I?4320:1960*Ip(I/1960))-I,10<I){g.timeoutHandle=Se(Ks.bind(null,g,Ii),I);break}Ks(g,Ii);break;case 5:Ks(g,Ii);break;default:throw Error(a(329))}}}return jr(g,Ni()),g.callbackNode===_?sr.bind(null,g):null}function Au(g,x){var _=Wa;return g.current.memoizedState.isDehydrated&&(Ya(g,x).flags|=256),g=Mu(g,x),g!==2&&(x=Ii,Ii=_,x!==null&&Su(x)),g}function Su(g){Ii===null?Ii=g:Ii.push.apply(Ii,g)}function Pp(g){for(var x=g;;){if(x.flags&16384){var _=x.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var I=0;I<_.length;I++){var F=_[I],U=F.getSnapshot;F=F.value;try{if(!Er(U(),F))return!1}catch{return!1}}}if(_=x.child,x.subtreeFlags&16384&&_!==null)_.return=x,x=_;else{if(x===g)break;for(;x.sibling===null;){if(x.return===null||x.return===g)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function ar(g,x){for(x&=~ml,x&=~us,g.suspendedLanes|=x,g.pingedLanes&=~x,g=g.expirationTimes;0<x;){var _=31-Qt(x),I=1<<_;g[_]=-1,x&=~I}}function hs(g){if(yn&6)throw Error(a(327));fa();var x=Kc(g,0);if(!(x&1))return jr(g,Ni()),null;var _=Mu(g,x);if(g.tag!==0&&_===2){var I=Uh(g);I!==0&&(x=I,_=Au(g,I))}if(_===1)throw _=oc,Ya(g,0),ar(g,x),jr(g,Ni()),_;if(_===6)throw Error(a(345));return g.finishedWork=g.current.alternate,g.finishedLanes=x,Ks(g,Ii),jr(g,Ni()),null}function uc(g){da!==null&&da.tag===0&&!(yn&6)&&fa();var x=yn;yn|=1;var _=Jn.transition,I=Mn;try{if(Jn.transition=null,Mn=1,g)return g()}finally{Mn=I,Jn.transition=_,yn=x,!(yn&6)&&_s()}}function _u(){vr=pl.current,Ze(pl)}function Ya(g,x){g.finishedWork=null,g.finishedLanes=0;var _=g.timeoutHandle;if(_!==ut&&(g.timeoutHandle=ut,He(_)),Kn!==null)for(_=Kn.return;_!==null;){var I=_;switch(ap(I),I.tag){case 1:I=I.type.childContextTypes,I!=null&&Zt();break;case 3:ql(),Ze(Ot),Ze(nn),el();break;case 5:cp(I);break;case 4:ql();break;case 13:Ze(gi);break;case 19:Ze(gi);break;case 10:eu(I.type._context);break;case 22:case 23:_u()}_=_.return}if(Ci=g,Kn=g=ja(g.current,null),fi=vr=x,Ai=0,oc=null,ml=us=ha=0,Ii=Wa=null,Ms!==null){for(x=0;x<Ms.length;x++)if(_=Ms[x],I=_.interleaved,I!==null){_.interleaved=null;var F=I.next,U=_.pending;if(U!==null){var re=U.next;U.next=F,I.next=re}_.pending=I}Ms=null}return g}function kp(g,x){do{var _=Kn;try{if(Tr(),nu.current=nc,rd){for(var I=xi.memoizedState;I!==null;){var F=I.queue;F!==null&&(F.pending=null),I=I.next}rd=!1}if(tl=0,Xi=Wi=xi=null,la=!1,nl=0,Ys.current=null,_===null||_.return===null){Ai=1,oc=x,Kn=null;break}e:{var U=g,re=_.return,be=_,ze=x;if(x=fi,be.flags|=32768,ze!==null&&typeof ze=="object"&&typeof ze.then=="function"){var at=ze,Lt=be,dn=Lt.tag;if(!(Lt.mode&1)&&(dn===0||dn===11||dn===15)){var qt=Lt.alternate;qt?(Lt.updateQueue=qt.updateQueue,Lt.memoizedState=qt.memoizedState,Lt.lanes=qt.lanes):(Lt.updateQueue=null,Lt.memoizedState=null)}var Sn=yp(re);if(Sn!==null){Sn.flags&=-257,rl(Sn,re,be,U,x),Sn.mode&1&&Fa(U,at,x),x=Sn,ze=at;var Tt=x.updateQueue;if(Tt===null){var or=new Set;or.add(ze),x.updateQueue=or}else Tt.add(ze);break e}else{if(!(x&1)){Fa(U,at,x),_d();break e}ze=Error(a(426))}}else if(di&&be.mode&1){var fs=yp(re);if(fs!==null){!(fs.flags&65536)&&(fs.flags|=256),rl(fs,re,be,U,x),td(ze);break e}}U=ze,Ai!==4&&(Ai=2),Wa===null?Wa=[U]:Wa.push(U),ze=vp(ze,be),be=re;do{switch(be.tag){case 3:be.flags|=65536,x&=-x,be.lanes|=x;var Re=Zg(be,ze,x);Kh(be,Re);break e;case 1:U=ze;var we=be.type,De=be.stateNode;if(!(be.flags&128)&&(typeof we.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(js===null||!js.has(De)))){be.flags|=65536,x&=-x,be.lanes|=x;var At=pd(be,U,x);Kh(be,At);break e}}be=be.return}while(be!==null)}Dp(_)}catch(Gt){x=Gt,Kn===_&&_!==null&&(Kn=_=_.return);continue}break}while(!0)}function Lp(){var g=bu.current;return bu.current=nc,g===null?nc:g}function _d(){(Ai===0||Ai===3||Ai===2)&&(Ai=4),Ci===null||!(ha&268435455)&&!(us&268435455)||ar(Ci,fi)}function Mu(g,x){var _=yn;yn|=2;var I=Lp();Ci===g&&fi===x||Ya(g,x);do try{Qg();break}catch(F){kp(g,F)}while(!0);if(Tr(),yn=_,bu.current=I,Kn!==null)throw Error(a(261));return Ci=null,fi=0,Ai}function Qg(){for(;Kn!==null;)Bp(Kn)}function $g(){for(;Kn!==null&&!xo();)Bp(Kn)}function Bp(g){var x=Op(g.alternate,g,vr);g.memoizedProps=g.pendingProps,x===null?Dp(g):Kn=x,Ys.current=null}function Dp(g){var x=g;do{var _=x.alternate;if(g=x.return,x.flags&32768){if(_=bd(_,x),_!==null){_.flags&=32767,Kn=_;return}if(g!==null)g.flags|=32768,g.subtreeFlags=0,g.deletions=null;else{Ai=6,Kn=null;return}}else if(_=xd(_,x,vr),_!==null){Kn=_;return}if(x=x.sibling,x!==null){Kn=x;return}Kn=x=g}while(x!==null);Ai===0&&(Ai=5)}function Ks(g,x){var _=Mn,I=Jn.transition;try{Jn.transition=null,Mn=1,ex(g,x,_)}finally{Jn.transition=I,Mn=_}return null}function ex(g,x,_){do fa();while(da!==null);if(yn&6)throw Error(a(327));var I=g.finishedWork,F=g.finishedLanes;if(I===null)return null;if(g.finishedWork=null,g.finishedLanes=0,I===g.current)throw Error(a(177));g.callbackNode=null,g.callbackPriority=0;var U=I.lanes|I.childLanes;if(Hh(g,U),g===Ci&&(Kn=Ci=null,fi=0),!(I.subtreeFlags&2064)&&!(I.flags&2064)||cc||(cc=!0,Md(Gh,function(){return fa(),null})),U=(I.flags&15990)!==0,I.subtreeFlags&15990||U){U=Jn.transition,Jn.transition=null;var re=Mn;Mn=1;var be=yn;yn|=4,Ys.current=null,_p(g,I),Oy(g,I),Z(g.containerInfo),g.current=I,mu(I),By(),yn=be,Mn=re,Jn.transition=U}else g.current=I;if(cc&&(cc=!1,da=g,xl=F),U=g.pendingLanes,U===0&&(js=null),qc(I.stateNode),jr(g,Ni()),x!==null)for(_=g.onRecoverableError,I=0;I<x.length;I++)_(x[I]);if(lc)throw lc=!1,g=ui,ui=null,g;return xl&1&&g.tag!==0&&fa(),U=g.pendingLanes,U&1?g===Xa?vl++:(vl=0,Xa=g):vl=0,_s(),null}function fa(){if(da!==null){var g=Ra(xl),x=Jn.transition,_=Mn;try{if(Jn.transition=null,Mn=16>g?16:g,da===null)var I=!1;else{if(g=da,da=null,xl=0,yn&6)throw Error(a(331));var F=yn;for(yn|=4,ft=g.current;ft!==null;){var U=ft,re=U.child;if(ft.flags&16){var be=U.deletions;if(be!==null){for(var ze=0;ze<be.length;ze++){var at=be[ze];for(ft=at;ft!==null;){var Lt=ft;switch(Lt.tag){case 0:case 11:case 15:Ha(8,Lt,U)}var dn=Lt.child;if(dn!==null)dn.return=Lt,ft=dn;else for(;ft!==null;){Lt=ft;var qt=Lt.sibling,Sn=Lt.return;if(Mp(Lt),Lt===at){ft=null;break}if(qt!==null){qt.return=Sn,ft=qt;break}ft=Sn}}}var Tt=U.alternate;if(Tt!==null){var or=Tt.child;if(or!==null){Tt.child=null;do{var fs=or.sibling;or.sibling=null,or=fs}while(or!==null)}}ft=U}}if(U.subtreeFlags&2064&&re!==null)re.return=U,ft=re;else e:for(;ft!==null;){if(U=ft,U.flags&2048)switch(U.tag){case 0:case 11:case 15:Ha(9,U,U.return)}var Re=U.sibling;if(Re!==null){Re.return=U.return,ft=Re;break e}ft=U.return}}var we=g.current;for(ft=we;ft!==null;){re=ft;var De=re.child;if(re.subtreeFlags&2064&&De!==null)De.return=re,ft=De;else e:for(re=we;ft!==null;){if(be=ft,be.flags&2048)try{switch(be.tag){case 0:case 11:case 15:rr(9,be)}}catch(Gt){Lr(be,be.return,Gt)}if(be===re){ft=null;break e}var At=be.sibling;if(At!==null){At.return=be.return,ft=At;break e}ft=be.return}}if(yn=F,_s(),oa&&typeof oa.onPostCommitFiberRoot=="function")try{oa.onPostCommitFiberRoot(Zc,g)}catch{}I=!0}return I}finally{Mn=_,Jn.transition=x}}return!1}function Cu(g,x,_){x=vp(_,x),x=Zg(g,x,1),vo(g,x),x=Fn(),g=To(g,1),g!==null&&(Wo(g,1,x),jr(g,x))}function Lr(g,x,_){if(g.tag===3)Cu(g,g,_);else for(;x!==null;){if(x.tag===3){Cu(x,g,_);break}else if(x.tag===1){var I=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(js===null||!js.has(I))){g=vp(_,g),g=pd(x,g,1),vo(x,g),g=Fn(),x=To(x,1),x!==null&&(Wo(x,1,g),jr(x,g));break}}x=x.return}}function Fp(g,x,_){var I=g.pingCache;I!==null&&I.delete(x),x=Fn(),g.pingedLanes|=g.suspendedLanes&_,Ci===g&&(fi&_)===_&&(Ai===4||Ai===3&&(fi&130023424)===fi&&500>Ni()-wu?Ya(g,0):ml|=_),jr(g,x)}function Np(g,x){x===0&&(g.mode&1?(x=Rn,Rn<<=1,!(Rn&130023424)&&(Rn=4194304)):x=1);var _=Fn();g=To(g,x),g!==null&&(Wo(g,x,_),jr(g,_))}function tx(g){var x=g.memoizedState,_=0;x!==null&&(_=x.retryLane),Np(g,_)}function nx(g,x){var _=0;switch(g.tag){case 13:var I=g.stateNode,F=g.memoizedState;F!==null&&(_=F.retryLane);break;case 19:I=g.stateNode;break;default:throw Error(a(314))}I!==null&&I.delete(x),Np(g,_)}var Op;Op=function(g,x,_){if(g!==null)if(g.memoizedProps!==x.pendingProps||Ot.current)ji=!0;else{if(!(g.lanes&_)&&!(x.flags&128))return ji=!1,yd(g,x,_);ji=!!(g.flags&131072)}else ji=!1,di&&x.flags&1048576&&Gg(x,$h,x.index);switch(x.lanes=0,x.tag){case 2:var I=x.type;g!==null&&(g.alternate=null,x.alternate=null,x.flags|=2),g=x.pendingProps;var F=Et(x,nn.current);Vl(x,_),F=Ql(null,x,I,g,F,_);var U=Ao();return x.flags|=1,typeof F=="object"&&F!==null&&typeof F.render=="function"&&F.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,vn(I)?(U=!0,pn(x)):U=!1,x.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,Wl(x),F.updater=qh,x.stateNode=F,F._reactInternals=x,rp(x,I,g,_),x=xr(null,x,I,!0,U,_)):(x.tag=0,di&&U&&sp(x),wi(null,x,F,_),x=x.child),x;case 16:I=x.elementType;e:{switch(g!==null&&(g.alternate=null,x.alternate=null,x.flags|=2),g=x.pendingProps,F=I._init,I=F(I._payload),x.type=I,F=x.tag=Uy(I),g=Vr(I,g),F){case 0:x=Ua(null,x,I,g,_);break e;case 1:x=al(null,x,I,g,_);break e;case 11:x=si(null,x,I,g,_);break e;case 14:x=$n(null,x,I,Vr(I.type,g),_);break e}throw Error(a(306,I,""))}return x;case 0:return I=x.type,F=x.pendingProps,F=x.elementType===I?F:Vr(I,F),Ua(g,x,I,F,_);case 1:return I=x.type,F=x.pendingProps,F=x.elementType===I?F:Vr(I,F),al(g,x,I,F,_);case 3:e:{if(hu(x),g===null)throw Error(a(387));I=x.pendingProps,U=x.memoizedState,F=U.element,tp(g,x),Zh(x,I,null,_);var re=x.memoizedState;if(I=re.element,Fe&&U.isDehydrated)if(U={element:I,isDehydrated:!1,cache:re.cache,transitions:re.transitions},x.updateQueue.baseState=U,x.memoizedState=U,x.flags&256){F=Error(a(423)),x=wp(g,x,I,_,F);break e}else if(I!==F){F=Error(a(424)),x=wp(g,x,I,_,F);break e}else for(Fe&&(nr=Vo(x.stateNode.containerInfo),Rr=x,di=!0,Ts=null,Yl=!1),_=Xg(x,null,I,_),x.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(jl(),I===F){x=Yr(g,x,_);break e}wi(g,x,I,_)}x=x.child}return x;case 5:return Yg(x),g===null&&bo(x),I=x.type,F=x.pendingProps,U=g!==null?g.memoizedProps:null,re=F.children,Ce(I,F)?re=null:U!==null&&Ce(I,U)&&(x.flags|=32),Ir(g,x),wi(g,x,re,_),x.child;case 6:return g===null&&bo(x),null;case 13:return Ap(g,x,_);case 4:return nd(x,x.stateNode.containerInfo),I=x.pendingProps,g===null?x.child=Ba(x,null,I,_):wi(g,x,I,_),x.child;case 11:return I=x.type,F=x.pendingProps,F=x.elementType===I?F:Vr(I,F),si(g,x,I,F,_);case 7:return wi(g,x,x.pendingProps,_),x.child;case 8:return wi(g,x,x.pendingProps.children,_),x.child;case 12:return wi(g,x,x.pendingProps.children,_),x.child;case 10:e:{if(I=x.type._context,F=x.pendingProps,U=x.memoizedProps,re=F.value,Jo(x,I,re),U!==null)if(Er(U.value,re)){if(U.children===F.children&&!Ot.current){x=Yr(g,x,_);break e}}else for(U=x.child,U!==null&&(U.return=x);U!==null;){var be=U.dependencies;if(be!==null){re=U.child;for(var ze=be.firstContext;ze!==null;){if(ze.context===I){if(U.tag===1){ze=Pa(-1,_&-_),ze.tag=2;var at=U.updateQueue;if(at!==null){at=at.shared;var Lt=at.pending;Lt===null?ze.next=ze:(ze.next=Lt.next,Lt.next=ze),at.pending=ze}}U.lanes|=_,ze=U.alternate,ze!==null&&(ze.lanes|=_),Ko(U.return,_,x),be.lanes|=_;break}ze=ze.next}}else if(U.tag===10)re=U.type===x.type?null:U.child;else if(U.tag===18){if(re=U.return,re===null)throw Error(a(341));re.lanes|=_,be=re.alternate,be!==null&&(be.lanes|=_),Ko(re,_,x),re=U.sibling}else re=U.child;if(re!==null)re.return=U;else for(re=U;re!==null;){if(re===x){re=null;break}if(U=re.sibling,U!==null){U.return=re.return,re=U;break}re=re.return}U=re}wi(g,x,F.children,_),x=x.child}return x;case 9:return F=x.type,I=x.pendingProps.children,Vl(x,_),F=Wr(F),I=I(F),x.flags|=1,wi(g,x,I,_),x.child;case 14:return I=x.type,F=Vr(I,x.pendingProps),F=Vr(I.type,F),$n(g,x,I,F,_);case 15:return Oa(g,x,x.type,x.pendingProps,_);case 17:return I=x.type,F=x.pendingProps,F=x.elementType===I?F:Vr(I,F),g!==null&&(g.alternate=null,x.alternate=null,x.flags|=2),x.tag=1,vn(I)?(g=!0,pn(x)):g=!1,Vl(x,_),zg(x,I,F),rp(x,I,F,_),xr(null,x,I,!0,g,_);case 19:return ll(g,x,_);case 22:return ir(g,x,_)}throw Error(a(156,x.tag))};function Md(g,x){return Xo(g,x)}function ix(g,x,_,I){this.tag=g,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(g,x,_,I){return new ix(g,x,_,I)}function Cd(g){return g=g.prototype,!(!g||!g.isReactComponent)}function Uy(g){if(typeof g=="function")return Cd(g)?1:0;if(g!=null){if(g=g.$$typeof,g===y)return 11;if(g===S)return 14}return 2}function ja(g,x){var _=g.alternate;return _===null?(_=ds(g.tag,x,g.key,g.mode),_.elementType=g.elementType,_.type=g.type,_.stateNode=g.stateNode,_.alternate=g,g.alternate=_):(_.pendingProps=x,_.type=g.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=g.flags&14680064,_.childLanes=g.childLanes,_.lanes=g.lanes,_.child=g.child,_.memoizedProps=g.memoizedProps,_.memoizedState=g.memoizedState,_.updateQueue=g.updateQueue,x=g.dependencies,_.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},_.sibling=g.sibling,_.index=g.index,_.ref=g.ref,_}function Ed(g,x,_,I,F,U){var re=2;if(I=g,typeof g=="function")Cd(g)&&(re=1);else if(typeof g=="string")re=5;else e:switch(g){case u:return yl(_.children,F,U,x);case d:re=8,F|=8;break;case f:return g=ds(12,_,x,F|2),g.elementType=f,g.lanes=U,g;case w:return g=ds(13,_,x,F),g.elementType=w,g.lanes=U,g;case b:return g=ds(19,_,x,F),g.elementType=b,g.lanes=U,g;case E:return Eu(_,F,U,x);default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case m:re=10;break e;case v:re=9;break e;case y:re=11;break e;case S:re=14;break e;case M:re=16,I=null;break e}throw Error(a(130,g==null?g:typeof g,""))}return x=ds(re,_,x,F),x.elementType=g,x.type=I,x.lanes=U,x}function yl(g,x,_,I){return g=ds(7,g,I,x),g.lanes=_,g}function Eu(g,x,_,I){return g=ds(22,g,I,x),g.elementType=E,g.lanes=_,g.stateNode={},g}function Td(g,x,_){return g=ds(6,g,null,x),g.lanes=_,g}function Rd(g,x,_){return x=ds(4,g.children!==null?g.children:[],g.key,x),x.lanes=_,x.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},x}function Id(g,x,_,I,F){this.tag=x,this.containerInfo=g,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ut,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zh(0),this.expirationTimes=zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zh(0),this.identifierPrefix=I,this.onRecoverableError=F,Fe&&(this.mutableSourceEagerHydrationData=null)}function rx(g,x,_,I,F,U,re,be,ze){return g=new Id(g,x,_,be,ze),x===1?(x=1,U===!0&&(x|=8)):x=0,U=ds(3,null,null,x),g.current=U,U.stateNode=g,U.memoizedState={element:I,isDehydrated:_,cache:null,transitions:null},Wl(U),g}function sx(g){if(!g)return yt;g=g._reactInternals;e:{if(B(g)!==g||g.tag!==1)throw Error(a(170));var x=g;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(vn(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(a(171))}if(g.tag===1){var _=g.type;if(vn(_))return ni(g,_,x)}return x}function ax(g){var x=g._reactInternals;if(x===void 0)throw typeof g.render=="function"?Error(a(188)):(g=Object.keys(g).join(","),Error(a(268,g)));return g=V(x),g===null?null:g.stateNode}function Ps(g,x){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var _=g.retryLane;g.retryLane=_!==0&&_<x?_:x}}function Tu(g,x){Ps(g,x),(g=g.alternate)&&Ps(g,x)}function Pd(g){return g=V(g),g===null?null:g.stateNode}function ox(){return null}return t.attemptContinuousHydration=function(g){if(g.tag===13){var x=Fn();yr(g,134217728,x),Tu(g,134217728)}},t.attemptHydrationAtCurrentPriority=function(g){if(g.tag===13){var x=Fn(),_=Js(g);yr(g,_,x),Tu(g,_)}},t.attemptSynchronousHydration=function(g){switch(g.tag){case 3:var x=g.stateNode;if(x.current.memoizedState.isDehydrated){var _=Gr(x.pendingLanes);_!==0&&(aa(x,_|1),jr(x,Ni()),!(yn&6)&&(gl(),_s()))}break;case 13:var I=Fn();uc(function(){return yr(g,1,I)}),Tu(g,1)}},t.batchedUpdates=function(g,x){var _=yn;yn|=1;try{return g(x)}finally{yn=_,yn===0&&(gl(),Wh&&_s())}},t.createComponentSelector=function(g){return{$$typeof:xu,value:g}},t.createContainer=function(g,x,_,I,F,U,re){return rx(g,x,!1,null,_,I,F,U,re)},t.createHasPseudoClassSelector=function(g){return{$$typeof:hl,value:g}},t.createHydrationContainer=function(g,x,_,I,F,U,re,be,ze){return g=rx(_,I,!0,g,F,U,re,be,ze),g.context=sx(null),_=g.current,I=Fn(),F=Js(_),U=Pa(I,F),U.callback=x??null,vo(_,U),g.current.lanes=F,Wo(g,F,I),jr(g,I),g},t.createPortal=function(g,x,_){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:I==null?null:""+I,children:g,containerInfo:x,implementation:_}},t.createRoleSelector=function(g){return{$$typeof:dl,value:g}},t.createTestNameSelector=function(g){return{$$typeof:Ga,value:g}},t.createTextSelector=function(g){return{$$typeof:ac,value:g}},t.deferredUpdates=function(g){var x=Mn,_=Jn.transition;try{return Jn.transition=null,Mn=16,g()}finally{Mn=x,Jn.transition=_}},t.discreteUpdates=function(g,x,_,I,F){var U=Mn,re=Jn.transition;try{return Jn.transition=null,Mn=1,g(x,_,I,F)}finally{Mn=U,Jn.transition=re,yn===0&&gl()}},t.findAllNodes=Va,t.findBoundingRects=function(g,x){if(!dt)throw Error(a(363));x=Va(g,x),g=[];for(var _=0;_<x.length;_++)g.push(J(x[_]));for(x=g.length-1;0<x;x--){_=g[x];for(var I=_.x,F=I+_.width,U=_.y,re=U+_.height,be=x-1;0<=be;be--)if(x!==be){var ze=g[be],at=ze.x,Lt=at+ze.width,dn=ze.y,qt=dn+ze.height;if(I>=at&&U>=dn&&F<=Lt&&re<=qt){g.splice(x,1);break}else if(I!==at||_.width!==ze.width||qt<U||dn>re){if(!(U!==dn||_.height!==ze.height||Lt<I||at>F)){at>I&&(ze.width+=at-I,ze.x=I),Lt<F&&(ze.width=F-at),g.splice(x,1);break}}else{dn>U&&(ze.height+=dn-U,ze.y=U),qt<re&&(ze.height=re-dn),g.splice(x,1);break}}}return g},t.findHostInstance=ax,t.findHostInstanceWithNoPortals=function(g){return g=O(g),g=g!==null?K(g):null,g===null?null:g.stateNode},t.findHostInstanceWithWarning=function(g){return ax(g)},t.flushControlled=function(g){var x=yn;yn|=1;var _=Jn.transition,I=Mn;try{Jn.transition=null,Mn=1,g()}finally{Mn=I,Jn.transition=_,yn=x,yn===0&&(gl(),_s())}},t.flushPassiveEffects=fa,t.flushSync=uc,t.focusWithin=function(g,x){if(!dt)throw Error(a(363));for(g=vu(g),x=cs(g,x),x=Array.from(x),g=0;g<x.length;){var _=x[g++];if(!Ge(_)){if(_.tag===5&&Ve(_.stateNode))return!0;for(_=_.child;_!==null;)x.push(_),_=_.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Mn},t.getFindAllNodesFailureDescription=function(g,x){if(!dt)throw Error(a(363));var _=0,I=[];g=[vu(g),0];for(var F=0;F<g.length;){var U=g[F++],re=g[F++],be=x[re];if((U.tag!==5||!Ge(U))&&(yu(U,be)&&(I.push(Co(be)),re++,re>_&&(_=re)),re<x.length))for(U=U.child;U!==null;)g.push(U,re),U=U.sibling}if(_<x.length){for(g=[];_<x.length;_++)g.push(Co(x[_]));return`findAllNodes was able to match part of the selector:
  `+(I.join(" > ")+`

No matching component was found for:
  `)+g.join(" > ")}return null},t.getPublicRootInstance=function(g){if(g=g.current,!g.child)return null;switch(g.child.tag){case 5:return ee(g.child.stateNode);default:return g.child.stateNode}},t.injectIntoDevTools=function(g){if(g={bundleType:g.bundleType,version:g.version,rendererPackageName:g.rendererPackageName,rendererConfig:g.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:Pd,findFiberByHostInstance:g.findFiberByHostInstance||ox,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")g=!1;else{var x=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(x.isDisabled||!x.supportsFiber)g=!0;else{try{Zc=x.inject(g),oa=x}catch{}g=!!x.checkDCE}}return g},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(g,x,_,I){if(!dt)throw Error(a(363));g=Va(g,x);var F=Dt(g,_,I).disconnect;return{disconnect:function(){F()}}},t.registerMutableSourceForHydration=function(g,x){var _=x._getVersion;_=_(x._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[x,_]:g.mutableSourceEagerHydrationData.push(x,_)},t.runWithPriority=function(g,x){var _=Mn;try{return Mn=g,x()}finally{Mn=_}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(g,x,_,I){var F=x.current,U=Fn(),re=Js(F);return _=sx(_),x.context===null?x.context=_:x.pendingContext=_,x=Pa(U,re),x.payload={element:g},I=I===void 0?null:I,I!==null&&(x.callback=I),vo(F,x),g=yr(F,re,U),g!==null&&Jh(g,F,re),re},t}),G1}var zE;function pV(){return zE||(zE=1,U1.exports=fV()),U1.exports}var mV=pV();const gV=dT(mV);var V1={exports:{}},W1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function xV(){return HE||(HE=1,function(r){function e(z,Q){var Z=z.length;z.push(Q);e:for(;0<Z;){var Y=Z-1>>>1,oe=z[Y];if(0<i(oe,Q))z[Y]=Q,z[Z]=oe,Z=Y;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var Q=z[0],Z=z.pop();if(Z!==Q){z[0]=Z;e:for(var Y=0,oe=z.length,Pe=oe>>>1;Y<Pe;){var fe=2*(Y+1)-1,Ce=z[fe],Ae=fe+1,Se=z[Ae];if(0>i(Ce,Z))Ae<oe&&0>i(Se,Ce)?(z[Y]=Se,z[Ae]=Z,Y=Ae):(z[Y]=Ce,z[fe]=Z,Y=fe);else if(Ae<oe&&0>i(Se,Z))z[Y]=Se,z[Ae]=Z,Y=Ae;else break e}}return Q}function i(z,Q){var Z=z.sortIndex-Q.sortIndex;return Z!==0?Z:z.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();r.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,f=3,m=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(z){for(var Q=t(c);Q!==null;){if(Q.callback===null)n(c);else if(Q.startTime<=z)n(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=t(c)}}function E(z){if(y=!1,M(z),!v)if(t(l)!==null)v=!0,ee(T);else{var Q=t(c);Q!==null&&ae(E,Q.startTime-z)}}function T(z,Q){v=!1,y&&(y=!1,b(k),k=-1),m=!0;var Z=f;try{for(M(Q),d=t(l);d!==null&&(!(d.expirationTime>Q)||z&&!O());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var oe=Y(d.expirationTime<=Q);Q=r.unstable_now(),typeof oe=="function"?d.callback=oe:d===t(l)&&n(l),M(Q)}else n(l);d=t(l)}if(d!==null)var Pe=!0;else{var fe=t(c);fe!==null&&ae(E,fe.startTime-Q),Pe=!1}return Pe}finally{d=null,f=Z,m=!1}}var R=!1,P=null,k=-1,B=5,D=-1;function O(){return!(r.unstable_now()-D<B)}function V(){if(P!==null){var z=r.unstable_now();D=z;var Q=!0;try{Q=P(!0,z)}finally{Q?X():(R=!1,P=null)}}else R=!1}var X;if(typeof S=="function")X=function(){S(V)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ie=K.port2;K.port1.onmessage=V,X=function(){ie.postMessage(null)}}else X=function(){w(V,0)};function ee(z){P=z,R||(R=!0,X())}function ae(z,Q){k=w(function(){z(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_continueExecution=function(){v||m||(v=!0,ee(T))},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(z){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var Z=f;f=Q;try{return z()}finally{f=Z}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=f;f=z;try{return Q()}finally{f=Z}},r.unstable_scheduleCallback=function(z,Q,Z){var Y=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Y+Z:Y):Z=Y,z){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Z+oe,z={id:u++,callback:Q,priorityLevel:z,startTime:Z,expirationTime:oe,sortIndex:-1},Z>Y?(z.sortIndex=Z,e(c,z),t(l)===null&&z===t(c)&&(y?(b(k),k=-1):y=!0,ae(E,Z-Y))):(z.sortIndex=oe,e(l,z),v||m||(v=!0,ee(T))),z},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(z){var Q=f;return function(){var Z=f;f=Q;try{return z.apply(this,arguments)}finally{f=Z}}}}(W1)),W1}var GE;function vV(){return GE||(GE=1,V1.exports=xV()),V1.exports}var VE=vV();const i_={},r_=r=>void Object.assign(i_,r);function yV(r,e){function t(u,{args:d=[],attach:f,...m},v){let y=`${u[0].toUpperCase()}${u.slice(1)}`,w;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const b=m.object;w=of(b,{type:u,root:v,attach:f,primitive:!0})}else{const b=i_[y];if(!b)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");w=of(new b(...d),{type:u,root:v,attach:f,memoizedProps:{args:d}})}return w.__r3f.attach===void 0&&(w.isBufferGeometry?w.__r3f.attach="geometry":w.isMaterial&&(w.__r3f.attach="material")),y!=="inject"&&j1(w,m),w}function n(u,d){let f=!1;if(d){var m,v;(m=d.__r3f)!=null&&m.attach?Y1(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),f=!0),f||(v=u.__r3f)==null||v.objects.push(d),d.__r3f||of(d,{}),d.__r3f.parent=u,oA(d),lf(d)}}function i(u,d,f){let m=!1;if(d){var v,y;if((v=d.__r3f)!=null&&v.attach)Y1(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:d});const w=u.children.filter(S=>S!==d),b=w.indexOf(f);u.children=[...w.slice(0,b),d,...w.slice(b)],m=!0}m||(y=u.__r3f)==null||y.objects.push(d),d.__r3f||of(d,{}),d.__r3f.parent=u,oA(d),lf(d)}}function s(u,d,f=!1){u&&[...u].forEach(m=>a(d,m,f))}function a(u,d,f){if(d){var m,v,y;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(E=>E!==d)),(v=d.__r3f)!=null&&v.attach)JE(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var w;u.remove(d),(w=d.__r3f)!=null&&w.root&&CV(X0(d),d)}const S=(y=d.__r3f)==null?void 0:y.primitive,M=!S&&(f===void 0?d.dispose!==null:f);if(!S){var b;s((b=d.__r3f)==null?void 0:b.objects,d,M),s(d.children,d,M)}if(delete d.__r3f,M&&d.dispose&&d.type!=="Scene"){const E=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?VE.unstable_scheduleCallback(VE.unstable_IdlePriority,E):E()}lf(u)}}function o(u,d,f,m){var v;const y=(v=u.__r3f)==null?void 0:v.parent;if(!y)return;const w=t(d,f,u.__r3f.root);if(u.children){for(const b of u.children)b.__r3f&&n(w,b);u.children=u.children.filter(b=>!b.__r3f)}u.__r3f.objects.forEach(b=>n(w,b)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||a(y,u),w.parent&&(w.__r3f.autoRemovedBeforeAppend=!0),n(y,w),w.raycast&&w.__r3f.eventCount&&X0(w).getState().internal.interaction.push(w),[m,m.alternate].forEach(b=>{b!==null&&(b.stateNode=w,b.ref&&(typeof b.ref=="function"?b.ref(w):b.ref.current=w))})}const l=()=>{};return{reconciler:gV({createInstance:t,removeChild:a,appendChild:n,appendInitialChild:n,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const f=u.getState().scene;f.__r3f&&(f.__r3f.root=u,n(f,d))},removeChildFromContainer:(u,d)=>{d&&a(u.getState().scene,d)},insertInContainerBefore:(u,d,f)=>{if(!d||!f)return;const m=u.getState().scene;m.__r3f&&i(m,d,f)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,f,m){var v;if(((v=u==null?void 0:u.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:w=[],children:b,...S}=m,{args:M=[],children:E,...T}=f;if(!Array.isArray(w))throw new Error("R3F: the args prop must be an array!");if(w.some((P,k)=>P!==M[k]))return[!0];const R=Nk(u,S,T,!0);return R.changes.length?[!1,R]:null}},commitUpdate(u,[d,f],m,v,y,w){d?o(u,m,y,w):j1(u,f)},commitMount(u,d,f,m){var v;const y=(v=u.__r3f)!=null?v:{};u.raycast&&y.handlers&&y.eventCount&&X0(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>of(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:f,parent:m}=(d=u.__r3f)!=null?d:{};f&&m&&JE(m,u,f),u.isObject3D&&(u.visible=!1),lf(u)},unhideInstance(u,d){var f;const{attach:m,parent:v}=(f=u.__r3f)!=null?f:{};m&&v&&Y1(v,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),lf(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e(),beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&pi.fun(performance.now)?performance.now:pi.fun(Date.now)?Date.now:()=>0,scheduleTimeout:pi.fun(setTimeout)?setTimeout:void 0,cancelTimeout:pi.fun(clearTimeout)?clearTimeout:void 0}),applyProps:j1}}var WE,XE;const X1=r=>"colorSpace"in r||"outputColorSpace"in r,Pk=()=>{var r;return(r=i_.ColorManagement)!=null?r:null},kk=r=>r&&r.isOrthographicCamera,bV=r=>r&&r.hasOwnProperty("current"),Bg=typeof window<"u"&&((WE=window.document)!=null&&WE.createElement||((XE=window.navigator)==null?void 0:XE.product)==="ReactNative")?de.useLayoutEffect:de.useEffect;function Lk(r){const e=de.useRef(r);return Bg(()=>void(e.current=r),[r]),e}function wV({set:r}){return Bg(()=>(r(new Promise(()=>null)),()=>r(!1)),[r]),null}class Bk extends de.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Bk.getDerivedStateFromError=()=>({error:!0});const Dk="__default",YE=new Map,AV=r=>r&&!!r.memoized&&!!r.changes;function Fk(r){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(r)?Math.min(Math.max(r[0],t),r[1]):r}const lm=r=>{var e;return(e=r.__r3f)==null?void 0:e.root.getState()};function X0(r){let e=r.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const pi={obj:r=>r===Object(r)&&!pi.arr(r)&&typeof r!="function",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",boo:r=>typeof r=="boolean",und:r=>r===void 0,arr:r=>Array.isArray(r),equ(r,e,{arrays:t="shallow",objects:n="reference",strict:i=!0}={}){if(typeof r!=typeof e||!!r!=!!e)return!1;if(pi.str(r)||pi.num(r)||pi.boo(r))return r===e;const s=pi.obj(r);if(s&&n==="reference")return r===e;const a=pi.arr(r);if(a&&t==="reference")return r===e;if((a||s)&&r===e)return!0;let o;for(o in r)if(!(o in e))return!1;if(s&&t==="shallow"&&n==="shallow"){for(o in i?e:r)if(!pi.equ(r[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:r)if(r[o]!==e[o])return!1;if(pi.und(o)){if(a&&r.length===0&&e.length===0||s&&Object.keys(r).length===0&&Object.keys(e).length===0)return!0;if(r!==e)return!1}return!0}};function SV(r){const e={nodes:{},materials:{}};return r&&r.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function _V(r){r.dispose&&r.type!=="Scene"&&r.dispose();for(const e in r)e.dispose==null||e.dispose(),delete r[e]}function of(r,e){const t=r;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},r}function aA(r,e){let t=r;if(e.includes("-")){const n=e.split("-"),i=n.pop();return t=n.reduce((s,a)=>s[a],r),{target:t,key:i}}else return{target:t,key:e}}const jE=/-\d+$/;function Y1(r,e,t){if(pi.str(t)){if(jE.test(t)){const s=t.replace(jE,""),{target:a,key:o}=aA(r,s);Array.isArray(a[o])||(a[o]=[])}const{target:n,key:i}=aA(r,t);e.__r3f.previousAttach=n[i],n[i]=e}else e.__r3f.previousAttach=t(r,e)}function JE(r,e,t){var n,i;if(pi.str(t)){const{target:s,key:a}=aA(r,t),o=e.__r3f.previousAttach;o===void 0?delete s[a]:s[a]=o}else(n=e.__r3f)==null||n.previousAttach==null||n.previousAttach(r,e);(i=e.__r3f)==null||delete i.previousAttach}function Nk(r,{children:e,key:t,ref:n,...i},{children:s,key:a,ref:o,...l}={},c=!1){const u=r.__r3f,d=Object.entries(i),f=[];if(c){const v=Object.keys(l);for(let y=0;y<v.length;y++)i.hasOwnProperty(v[y])||d.unshift([v[y],Dk+"remove"])}d.forEach(([v,y])=>{var w;if((w=r.__r3f)!=null&&w.primitive&&v==="object"||pi.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return f.push([v,y,!0,[]]);let b=[];v.includes("-")&&(b=v.split("-")),f.push([v,y,!1,b]);for(const S in i){const M=i[S];S.startsWith(`${v}-`)&&f.push([S,M,!1,S.split("-")])}});const m={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(m.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(m.attach=u.memoizedProps.attach),{memoized:m,changes:f}}function j1(r,e){var t;const n=r.__r3f,i=n==null?void 0:n.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:o}=AV(e)?e:Nk(r,e),l=n==null?void 0:n.eventCount;r.__r3f&&(r.__r3f.memoizedProps=a);for(let f=0;f<o.length;f++){let[m,v,y,w]=o[f];if(X1(r)){const E="srgb",T="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?E:T):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?E:T)}let b=r,S=b[m];if(w.length&&(S=w.reduce((M,E)=>M[E],r),!(S&&S.set))){const[M,...E]=w.reverse();b=E.reverse().reduce((T,R)=>T[R],r),m=M}if(v===Dk+"remove")if(b.constructor){let M=YE.get(b.constructor);M||(M=new b.constructor,YE.set(b.constructor,M)),v=M[m]}else v=0;if(y&&n)v?n.handlers[m]=v:delete n.handlers[m],n.eventCount=Object.keys(n.handlers).length;else if(S&&S.set&&(S.copy||S instanceof bh)){if(Array.isArray(v))S.fromArray?S.fromArray(v):S.set(...v);else if(S.copy&&v&&v.constructor&&S.constructor===v.constructor)S.copy(v);else if(v!==void 0){var c;const M=(c=S)==null?void 0:c.isColor;!M&&S.setScalar?S.setScalar(v):S instanceof bh&&v instanceof bh?S.mask=v.mask:S.set(v),!Pk()&&s&&!s.linear&&M&&S.convertSRGBToLinear()}}else{var u;if(b[m]=v,(u=b[m])!=null&&u.isTexture&&b[m].format===Vi&&b[m].type===zs&&s){const M=b[m];X1(M)&&X1(s.gl)?M.colorSpace=s.gl.outputColorSpace:M.encoding=s.gl.outputEncoding}}lf(r)}if(n&&n.parent&&r.raycast&&l!==n.eventCount){const f=X0(r).getState().internal,m=f.interaction.indexOf(r);m>-1&&f.interaction.splice(m,1),n.eventCount&&f.interaction.push(r)}return!(o.length===1&&o[0][0]==="onUpdate")&&o.length&&(t=r.__r3f)!=null&&t.parent&&oA(r),r}function lf(r){var e,t;const n=(e=r.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();n&&n.internal.frames===0&&n.invalidate()}function oA(r){r.onUpdate==null||r.onUpdate(r)}function Ok(r,e){r.manual||(kk(r)?(r.left=e.width/-2,r.right=e.width/2,r.top=e.height/2,r.bottom=e.height/-2):r.aspect=e.width/e.height,r.updateProjectionMatrix(),r.updateMatrixWorld())}function C0(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}function MV(){var r;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ym.DefaultEventPriority;switch((r=e.event)==null?void 0:r.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ym.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ym.ContinuousEventPriority;default:return ym.DefaultEventPriority}}function Uk(r,e,t,n){const i=t.get(e);i&&(t.delete(e),t.size===0&&(r.delete(n),i.target.releasePointerCapture(n)))}function CV(r,e){const{internal:t}=r.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,i)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((n,i)=>{Uk(t.capturedMap,e,n,i)})}function EV(r){function e(l){const{internal:c}=r.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function n(l,c){const u=r.getState(),d=new Set,f=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let b=0;b<m.length;b++){const S=lm(m[b]);S&&(S.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function v(b){const S=lm(b);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var M;S.events.compute==null||S.events.compute(l,S,(M=S.previousRoot)==null?void 0:M.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(b,!0):[]}let y=m.flatMap(v).sort((b,S)=>{const M=lm(b.object),E=lm(S.object);return!M||!E?b.distance-S.distance:E.events.priority-M.events.priority||b.distance-S.distance}).filter(b=>{const S=C0(b);return d.has(S)?!1:(d.add(S),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const b of y){let S=b.object;for(;S;){var w;(w=S.__r3f)!=null&&w.eventCount&&f.push({...b,eventObject:S}),S=S.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let b of u.internal.capturedMap.get(l.pointerId).values())d.has(C0(b.intersection))||f.push(b.intersection);return f}function i(l,c,u,d){const f=r.getState();if(l.length){const m={stopped:!1};for(const v of l){const y=lm(v.object)||f,{raycaster:w,pointer:b,camera:S,internal:M}=y,E=new $(b.x,b.y,0).unproject(S),T=D=>{var O,V;return(O=(V=M.capturedMap.get(D))==null?void 0:V.has(v.eventObject))!=null?O:!1},R=D=>{const O={intersection:v,target:c.target};M.capturedMap.has(D)?M.capturedMap.get(D).set(v.eventObject,O):M.capturedMap.set(D,new Map([[v.eventObject,O]])),c.target.setPointerCapture(D)},P=D=>{const O=M.capturedMap.get(D);O&&Uk(M.capturedMap,v.eventObject,O,D)};let k={};for(let D in c){let O=c[D];typeof O!="function"&&(k[D]=O)}let B={...v,...k,pointer:b,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:E,ray:w.ray,camera:S,stopPropagation(){const D="pointerId"in c&&M.capturedMap.get(c.pointerId);if((!D||D.has(v.eventObject))&&(B.stopped=m.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(O=>O.eventObject===v.eventObject))){const O=l.slice(0,l.indexOf(v));s([...O,v])}},target:{hasPointerCapture:T,setPointerCapture:R,releasePointerCapture:P},currentTarget:{hasPointerCapture:T,setPointerCapture:R,releasePointerCapture:P},nativeEvent:c};if(d(B),m.stopped===!0)break}}return l}function s(l){const{internal:c}=r.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const f=u.eventObject.__r3f,m=f==null?void 0:f.handlers;if(c.hovered.delete(C0(u)),f!=null&&f.eventCount){const v={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function a(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=r.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:f}=r.getState();f.lastEvent.current=u;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",w=n(u,m?t:void 0),b=v?e(u):0;l==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=w.map(M=>M.eventObject)),v&&!w.length&&b<=2&&(a(u,f.interaction),d&&d(u)),m&&s(w);function S(M){const E=M.eventObject,T=E.__r3f,R=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(m){if(R.onPointerOver||R.onPointerEnter||R.onPointerOut||R.onPointerLeave){const P=C0(M),k=f.hovered.get(P);k?k.stopped&&M.stopPropagation():(f.hovered.set(P,M),R.onPointerOver==null||R.onPointerOver(M),R.onPointerEnter==null||R.onPointerEnter(M))}R.onPointerMove==null||R.onPointerMove(M)}else{const P=R[l];P?(!v||f.initialHits.includes(E))&&(a(u,f.interaction.filter(k=>!f.initialHits.includes(k))),P(M)):v&&f.initialHits.includes(E)&&a(u,f.interaction.filter(k=>!f.initialHits.includes(k)))}}i(w,u,b,S)}}return{handlePointer:o}}const TV=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],zk=r=>!!(r!=null&&r.render),s_=de.createContext(null),RV=(r,e)=>{const t=Tk((o,l)=>{const c=new $,u=new $,d=new $;function f(b=l().camera,S=u,M=l().size){const{width:E,height:T,top:R,left:P}=M,k=E/T;S.isVector3?d.copy(S):d.set(...S);const B=b.getWorldPosition(c).distanceTo(d);if(kk(b))return{width:E/b.zoom,height:T/b.zoom,top:R,left:P,factor:1,distance:B,aspect:k};{const D=b.fov*Math.PI/180,O=2*Math.tan(D/2)*B,V=O*(E/T);return{width:V,height:O,top:R,left:P,factor:E/V,distance:B,aspect:k}}}let m;const v=b=>o(S=>({performance:{...S.performance,current:b}})),y=new Ke;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(b=1)=>r(l(),b),advance:(b,S)=>e(b,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new KS,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=l();m&&clearTimeout(m),b.performance.current!==b.performance.min&&v(b.performance.min),m=setTimeout(()=>v(l().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:b=>o(S=>({...S,events:{...S.events,...b}})),setSize:(b,S,M,E,T)=>{const R=l().camera,P={width:b,height:S,top:E||0,left:T||0,updateStyle:M};o(k=>({size:P,viewport:{...k.viewport,...f(R,u,P)}}))},setDpr:b=>o(S=>{const M=Fk(b);return{viewport:{...S.viewport,dpr:M,initialDpr:S.viewport.initialDpr||M}}}),setFrameloop:(b="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,b!=="never"&&(S.start(),S.elapsedTime=0),o(()=>({frameloop:b}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:de.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(b,S,M)=>{const E=l().internal;return E.priority=E.priority+(S>0?1:0),E.subscribers.push({ref:b,priority:S,store:M}),E.subscribers=E.subscribers.sort((T,R)=>T.priority-R.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(S>0?1:0),T.subscribers=T.subscribers.filter(R=>R.ref!==b))}}}}}),n=t.getState();let i=n.size,s=n.viewport.dpr,a=n.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:u,set:d}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var f;i=l,s=c.dpr,Ok(o,l),u.setPixelRatio(c.dpr);const m=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}o!==a&&(a=o,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>r(o)),t};let E0,IV=new Set,PV=new Set,kV=new Set;function J1(r,e){if(r.size)for(const{callback:t}of r.values())t(e)}function cm(r,e){switch(r){case"before":return J1(IV,e);case"after":return J1(PV,e);case"tail":return J1(kV,e)}}let K1,Z1;function q1(r,e,t){let n=e.clock.getDelta();for(e.frameloop==="never"&&typeof r=="number"&&(n=r-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=r),K1=e.internal.subscribers,E0=0;E0<K1.length;E0++)Z1=K1[E0],Z1.ref.current(Z1.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function LV(r){let e=!1,t=!1,n,i,s;function a(c){i=requestAnimationFrame(a),e=!0,n=0,cm("before",c),t=!0;for(const d of r.values()){var u;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(n+=q1(c,s))}if(t=!1,cm("after",c),n===0)return cm("tail",c),e=!1,cancelAnimationFrame(i)}function o(c,u=1){var d;if(!c)return r.forEach(f=>o(f.store.getState(),u));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(c,u=!0,d,f){if(u&&cm("before",c),d)q1(c,d,f);else for(const m of r.values())q1(c,m.store.getState());u&&cm("after",c)}return{loop:a,invalidate:o,advance:l}}function a_(){const r=de.useContext(s_);if(!r)throw new Error("R3F: Hooks can only be used within the Canvas component!");return r}function $s(r=t=>t,e){return a_()(r,e)}function qf(r,e=0){const t=a_(),n=t.getState().internal.subscribe,i=Lk(r);return Bg(()=>n(i,e,t),[e,n,t]),null}const KE=new WeakMap;function Hk(r,e){return function(t,...n){let i=KE.get(t);return i||(i=new t,KE.set(t,i)),r&&r(i),Promise.all(n.map(s=>new Promise((a,o)=>i.load(s,l=>{l.scene&&Object.assign(l,SV(l.scene)),a(l)},e,l=>o(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function Ul(r,e,t,n){const i=Array.isArray(e)?e:[e],s=lV(Hk(t,n),[r,...i],{equal:pi.equ});return Array.isArray(e)?s:s[0]}Ul.preload=function(r,e,t){const n=Array.isArray(e)?e:[e];return cV(Hk(t),[r,...n])};Ul.clear=function(r,e){const t=Array.isArray(e)?e:[e];return uV([r,...t])};const Nf=new Map,{invalidate:ZE,advance:qE}=LV(Nf),{reconciler:rg,applyProps:Pc}=yV(Nf,MV),rf={objects:"shallow",strict:!1},BV=(r,e)=>{const t=typeof r=="function"?r(e):r;return zk(t)?t:new n_({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...r})};function DV(r,e){const t=typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement;if(e){const{width:n,height:i,top:s,left:a,updateStyle:o=t}=e;return{width:n,height:i,top:s,left:a,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&r.parentElement){const{width:n,height:i,top:s,left:a}=r.parentElement.getBoundingClientRect();return{width:n,height:i,top:s,left:a,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas)return{width:r.width,height:r.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function FV(r){const e=Nf.get(r),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=n||RV(ZE,qE),a=t||rg.createContainer(s,ym.ConcurrentRoot,null,!1,null,"",i,null);e||Nf.set(r,{fiber:a,store:s});let o,l=!1,c;return{configure(u={}){let{gl:d,size:f,scene:m,events:v,onCreated:y,shadows:w=!1,linear:b=!1,flat:S=!1,legacy:M=!1,orthographic:E=!1,frameloop:T="always",dpr:R=[1,2],performance:P,raycaster:k,camera:B,onPointerMissed:D}=u,O=s.getState(),V=O.gl;O.gl||O.set({gl:V=BV(d,r)});let X=O.raycaster;X||O.set({raycaster:X=new $S});const{params:K,...ie}=k||{};if(pi.equ(ie,X,rf)||Pc(X,{...ie}),pi.equ(K,X.params,rf)||Pc(X,{params:{...X.params,...K}}),!O.camera||O.camera===c&&!pi.equ(c,B,rf)){c=B;const Z=B instanceof Sg,Y=Z?B:E?new Oh(0,0,0,0,.1,1e3):new ur(75,0,.1,1e3);Z||(Y.position.z=5,B&&(Pc(Y,B),("aspect"in B||"left"in B||"right"in B||"bottom"in B||"top"in B)&&(Y.manual=!0,Y.updateProjectionMatrix())),!O.camera&&!(B!=null&&B.rotation)&&Y.lookAt(0,0,0)),O.set({camera:Y}),X.camera=Y}if(!O.scene){let Z;m!=null&&m.isScene?Z=m:(Z=new Mg,m&&Pc(Z,m)),O.set({scene:of(Z)})}if(!O.xr){var ee;const Z=(Pe,fe)=>{const Ce=s.getState();Ce.frameloop!=="never"&&qE(Pe,!0,Ce,fe)},Y=()=>{const Pe=s.getState();Pe.gl.xr.enabled=Pe.gl.xr.isPresenting,Pe.gl.xr.setAnimationLoop(Pe.gl.xr.isPresenting?Z:null),Pe.gl.xr.isPresenting||ZE(Pe)},oe={connect(){const Pe=s.getState().gl;Pe.xr.addEventListener("sessionstart",Y),Pe.xr.addEventListener("sessionend",Y)},disconnect(){const Pe=s.getState().gl;Pe.xr.removeEventListener("sessionstart",Y),Pe.xr.removeEventListener("sessionend",Y)}};typeof((ee=V.xr)==null?void 0:ee.addEventListener)=="function"&&oe.connect(),O.set({xr:oe})}if(V.shadowMap){const Z=V.shadowMap.enabled,Y=V.shadowMap.type;if(V.shadowMap.enabled=!!w,pi.boo(w))V.shadowMap.type=Em;else if(pi.str(w)){var ae;const oe={basic:UI,percentage:$v,soft:Em,variance:io};V.shadowMap.type=(ae=oe[w])!=null?ae:Em}else pi.obj(w)&&Object.assign(V.shadowMap,w);(Z!==V.shadowMap.enabled||Y!==V.shadowMap.type)&&(V.shadowMap.needsUpdate=!0)}const z=Pk();z&&("enabled"in z?z.enabled=!M:"legacyMode"in z&&(z.legacyMode=M)),l||Pc(V,{outputEncoding:b?3e3:3001,toneMapping:S?Do:uS}),O.legacy!==M&&O.set(()=>({legacy:M})),O.linear!==b&&O.set(()=>({linear:b})),O.flat!==S&&O.set(()=>({flat:S})),d&&!pi.fun(d)&&!zk(d)&&!pi.equ(d,V,rf)&&Pc(V,d),v&&!O.events.handlers&&O.set({events:v(s)});const Q=DV(r,f);return pi.equ(Q,O.size,rf)||O.setSize(Q.width,Q.height,Q.updateStyle,Q.top,Q.left),R&&O.viewport.dpr!==Fk(R)&&O.setDpr(R),O.frameloop!==T&&O.setFrameloop(T),O.onPointerMissed||O.set({onPointerMissed:D}),P&&!pi.equ(P,O.performance,rf)&&O.set(Z=>({performance:{...Z.performance,...P}})),o=y,l=!0,this},render(u){return l||this.configure(),rg.updateContainer(ue.jsx(NV,{store:s,children:u,onCreated:o,rootElement:r}),a,null,()=>{}),s},unmount(){Gk(r)}}}function NV({store:r,children:e,onCreated:t,rootElement:n}){return Bg(()=>{const i=r.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),r.getState().events.connected||i.events.connect==null||i.events.connect(n)},[]),ue.jsx(s_.Provider,{value:r,children:e})}function Gk(r,e){const t=Nf.get(r),n=t==null?void 0:t.fiber;if(n){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),rg.updateContainer(null,n,null,()=>{i&&setTimeout(()=>{try{var s,a,o,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),_V(i),Nf.delete(r)}catch{}},500)})}}function OV(r,e,t){return ue.jsx(UV,{children:r,container:e,state:t},e.uuid)}function UV({state:r={},children:e,container:t}){const{events:n,size:i,...s}=r,a=a_(),[o]=de.useState(()=>new $S),[l]=de.useState(()=>new Ke),c=de.useCallback((d,f)=>{const m={...d};Object.keys(d).forEach(y=>{(TV.includes(y)||d[y]!==f[y]&&f[y])&&delete m[y]});let v;if(f&&i){const y=f.camera;v=d.viewport.getCurrentViewport(y,new $,i),y!==d.camera&&Ok(y,i)}return{...m,scene:t,raycaster:o,pointer:l,mouse:l,previousRoot:a,events:{...d.events,...f==null?void 0:f.events,...n},size:{...d.size,...i},viewport:{...d.viewport,...v},...s}},[r]),[u]=de.useState(()=>{const d=a.getState();return Tk((m,v)=>({...d,scene:t,raycaster:o,pointer:l,mouse:l,previousRoot:a,events:{...d.events,...n},size:{...d.size,...i},...s,set:m,get:v,setEvents:y=>m(w=>({...w,events:{...w.events,...y}}))}))});return de.useEffect(()=>{const d=a.subscribe(f=>u.setState(m=>c(f,m)));return()=>{d()}},[c]),de.useEffect(()=>{u.setState(d=>c(a.getState(),d))},[c]),de.useEffect(()=>()=>{u.destroy()},[]),ue.jsx(ue.Fragment,{children:rg.createPortal(ue.jsx(s_.Provider,{value:u,children:e}),u,null)})}rg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:de.version});const Q1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function zV(r){const{handlePointer:e}=EV(r);return{priority:1,enabled:!0,compute(t,n,i){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(Q1).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:i}=r.getState();(t=i.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var n;const{set:i,events:s}=r.getState();s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:t}})),Object.entries((n=s.handlers)!=null?n:[]).forEach(([a,o])=>{const[l,c]=Q1[a];t.addEventListener(l,o,{passive:c})})},disconnect:()=>{const{set:t,events:n}=r.getState();if(n.connected){var i;Object.entries((i=n.handlers)!=null?i:[]).forEach(([s,a])=>{if(n&&n.connected instanceof HTMLElement){const[o]=Q1[s];n.connected.removeEventListener(o,a)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function QE(r,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>r(...n),e)}}function HV({debounce:r,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=de.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=de.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=r?typeof r=="number"?r:r.scroll:null,c=r?typeof r=="number"?r:r.resize:null,u=de.useRef(!1);de.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[d,f,m]=de.useMemo(()=>{const b=()=>{if(!o.current.element)return;const{left:S,top:M,width:E,height:T,bottom:R,right:P,x:k,y:B}=o.current.element.getBoundingClientRect(),D={left:S,top:M,width:E,height:T,bottom:R,right:P,x:k,y:B};o.current.element instanceof HTMLElement&&n&&(D.height=o.current.element.offsetHeight,D.width=o.current.element.offsetWidth),Object.freeze(D),u.current&&!XV(o.current.lastBounds,D)&&a(o.current.lastBounds=D)};return[b,c?QE(b,c):b,l?QE(b,l):b]},[a,n,l,c]);function v(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",m,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function y(){o.current.element&&(o.current.resizeObserver=new i(m),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(b=>b.addEventListener("scroll",m,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const w=b=>{!b||b===o.current.element||(v(),o.current.element=b,o.current.scrollContainers=Vk(b),y())};return VV(m,!!e),GV(f),de.useEffect(()=>{v(),y()},[e,m,f]),de.useEffect(()=>v,[]),[w,s,d]}function GV(r){de.useEffect(()=>{const e=r;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[r])}function VV(r,e){de.useEffect(()=>{if(e){const t=r;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[r,e])}function Vk(r){const e=[];if(!r||r===document.body)return e;const{overflow:t,overflowX:n,overflowY:i}=window.getComputedStyle(r);return[t,n,i].some(s=>s==="auto"||s==="scroll")&&e.push(r),[...e,...Vk(r.parentElement)]}const WV=["x","y","top","bottom","left","right","width","height"],XV=(r,e)=>WV.every(t=>r[t]===e[t]);var YV=Object.defineProperty,jV=Object.defineProperties,JV=Object.getOwnPropertyDescriptors,$E=Object.getOwnPropertySymbols,KV=Object.prototype.hasOwnProperty,ZV=Object.prototype.propertyIsEnumerable,eT=(r,e,t)=>e in r?YV(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,tT=(r,e)=>{for(var t in e||(e={}))KV.call(e,t)&&eT(r,t,e[t]);if($E)for(var t of $E(e))ZV.call(e,t)&&eT(r,t,e[t]);return r},qV=(r,e)=>jV(r,JV(e)),nT,iT;typeof window<"u"&&((nT=window.document)!=null&&nT.createElement||((iT=window.navigator)==null?void 0:iT.product)==="ReactNative")?de.useLayoutEffect:de.useEffect;function Wk(r,e,t){if(!r)return;if(t(r)===!0)return r;let n=r.child;for(;n;){const i=Wk(n,e,t);if(i)return i;n=n.sibling}}function Xk(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const rT=console.error;console.error=function(){const r=[...arguments].join("");if(r!=null&&r.startsWith("Warning:")&&r.includes("useContext")){console.error=rT;return}return rT.apply(this,arguments)};const o_=Xk(de.createContext(null));class Yk extends de.Component{render(){return de.createElement(o_.Provider,{value:this._reactInternals},this.props.children)}}function QV(){const r=de.useContext(o_);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=de.useId();return de.useMemo(()=>{for(const n of[r,r==null?void 0:r.alternate]){if(!n)continue;const i=Wk(n,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[r,e])}function $V(){const r=QV(),[e]=de.useState(()=>new Map);e.clear();let t=r;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==o_&&!e.has(i)&&e.set(i,de.useContext(Xk(i)))}t=t.return}return e}function eW(){const r=$V();return de.useMemo(()=>Array.from(r.keys()).reduce((e,t)=>n=>de.createElement(e,null,de.createElement(t.Provider,qV(tT({},n),{value:r.get(t)}))),e=>de.createElement(Yk,tT({},e))),[r])}const tW=de.forwardRef(function({children:e,fallback:t,resize:n,style:i,gl:s,events:a=zV,eventSource:o,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:f,orthographic:m,frameloop:v,dpr:y,performance:w,raycaster:b,camera:S,scene:M,onPointerMissed:E,onCreated:T,...R},P){de.useMemo(()=>r_(nV),[]);const k=eW(),[B,D]=HV({scroll:!0,debounce:{scroll:50,resize:0},...n}),O=de.useRef(null),V=de.useRef(null);de.useImperativeHandle(P,()=>O.current);const X=Lk(E),[K,ie]=de.useState(!1),[ee,ae]=de.useState(!1);if(K)throw K;if(ee)throw ee;const z=de.useRef(null);Bg(()=>{const Z=O.current;D.width>0&&D.height>0&&Z&&(z.current||(z.current=FV(Z)),z.current.configure({gl:s,events:a,shadows:c,linear:u,flat:d,legacy:f,orthographic:m,frameloop:v,dpr:y,performance:w,raycaster:b,camera:S,scene:M,size:D,onPointerMissed:(...Y)=>X.current==null?void 0:X.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(o?bV(o)?o.current:o:V.current),l&&Y.setEvents({compute:(oe,Pe)=>{const fe=oe[l+"X"],Ce=oe[l+"Y"];Pe.pointer.set(fe/Pe.size.width*2-1,-(Ce/Pe.size.height)*2+1),Pe.raycaster.setFromCamera(Pe.pointer,Pe.camera)}}),T==null||T(Y)}}),z.current.render(ue.jsx(k,{children:ue.jsx(Bk,{set:ae,children:ue.jsx(de.Suspense,{fallback:ue.jsx(wV,{set:ie}),children:e})})})))}),de.useEffect(()=>{const Z=O.current;if(Z)return()=>Gk(Z)},[]);const Q=o?"none":"auto";return ue.jsx("div",{ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...i},...R,children:ue.jsx("div",{ref:B,style:{width:"100%",height:"100%"},children:ue.jsx("canvas",{ref:O,style:{display:"block"},children:t})})})}),nW=de.forwardRef(function(e,t){return ue.jsx(Yk,{children:ue.jsx(tW,{...e,ref:t})})}),l_=parseInt(Xf.replace(/\D+/g,""));function sT(r,e){if(e===gP)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),r;if(e===zv||e===yS){let t=r.getIndex();if(t===null){const a=[],o=r.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)a.push(l);r.setIndex(a),t=r.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r}const n=t.count-2,i=[];if(t)if(e===zv)for(let a=1;a<=n;a++)i.push(t.getX(0)),i.push(t.getX(a)),i.push(t.getX(a+1));else for(let a=0;a<n;a++)a%2===0?(i.push(t.getX(a)),i.push(t.getX(a+1)),i.push(t.getX(a+2))):(i.push(t.getX(a+2)),i.push(t.getX(a+1)),i.push(t.getX(a)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=r.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),r}var _a=Uint8Array,Bc=Uint16Array,lA=Uint32Array,jk=new _a([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Jk=new _a([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),iW=new _a([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Kk=function(r,e){for(var t=new Bc(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new lA(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)i[s]=s-t[n]<<5|n;return[t,i]},Zk=Kk(jk,2),qk=Zk[0],rW=Zk[1];qk[28]=258,rW[258]=28;var sW=Kk(Jk,0),aW=sW[0],cA=new Bc(32768);for(var vi=0;vi<32768;++vi){var Cc=(vi&43690)>>>1|(vi&21845)<<1;Cc=(Cc&52428)>>>2|(Cc&13107)<<2,Cc=(Cc&61680)>>>4|(Cc&3855)<<4,cA[vi]=((Cc&65280)>>>8|(Cc&255)<<8)>>>1}var Fm=function(r,e,t){for(var n=r.length,i=0,s=new Bc(e);i<n;++i)++s[r[i]-1];var a=new Bc(e);for(i=0;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(t){o=new Bc(1<<e);var l=15-e;for(i=0;i<n;++i)if(r[i])for(var c=i<<4|r[i],u=e-r[i],d=a[r[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)o[cA[d]>>>l]=c}else for(o=new Bc(n),i=0;i<n;++i)r[i]&&(o[i]=cA[a[r[i]-1]++]>>>15-r[i]);return o},Dg=new _a(288);for(var vi=0;vi<144;++vi)Dg[vi]=8;for(var vi=144;vi<256;++vi)Dg[vi]=9;for(var vi=256;vi<280;++vi)Dg[vi]=7;for(var vi=280;vi<288;++vi)Dg[vi]=8;var Qk=new _a(32);for(var vi=0;vi<32;++vi)Qk[vi]=5;var oW=Fm(Dg,9,1),lW=Fm(Qk,5,1),$1=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},to=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},ew=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},cW=function(r){return(r/8|0)+(r&7&&1)},uW=function(r,e,t){(t==null||t>r.length)&&(t=r.length);var n=new(r instanceof Bc?Bc:r instanceof lA?lA:_a)(t-e);return n.set(r.subarray(e,t)),n},hW=function(r,e,t){var n=r.length;if(!n||t&&!t.l&&n<5)return e||new _a(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new _a(n*3));var a=function(Ae){var Se=e.length;if(Ae>Se){var He=new _a(Math.max(Se*2,Ae));He.set(e),e=He}},o=t.f||0,l=t.p||0,c=t.b||0,u=t.l,d=t.d,f=t.m,m=t.n,v=n*8;do{if(!u){t.f=o=to(r,l,1);var y=to(r,l+1,3);if(l+=3,y)if(y==1)u=oW,d=lW,f=9,m=5;else if(y==2){var M=to(r,l,31)+257,E=to(r,l+10,15)+4,T=M+to(r,l+5,31)+1;l+=14;for(var R=new _a(T),P=new _a(19),k=0;k<E;++k)P[iW[k]]=to(r,l+k*3,7);l+=E*3;for(var B=$1(P),D=(1<<B)-1,O=Fm(P,B,1),k=0;k<T;){var V=O[to(r,l,D)];l+=V&15;var w=V>>>4;if(w<16)R[k++]=w;else{var X=0,K=0;for(w==16?(K=3+to(r,l,3),l+=2,X=R[k-1]):w==17?(K=3+to(r,l,7),l+=3):w==18&&(K=11+to(r,l,127),l+=7);K--;)R[k++]=X}}var ie=R.subarray(0,M),ee=R.subarray(M);f=$1(ie),m=$1(ee),u=Fm(ie,f,1),d=Fm(ee,m,1)}else throw"invalid block type";else{var w=cW(l)+4,b=r[w-4]|r[w-3]<<8,S=w+b;if(S>n){if(s)throw"unexpected EOF";break}i&&a(c+b),e.set(r.subarray(w,S),c),t.b=c+=b,t.p=l=S*8;continue}if(l>v){if(s)throw"unexpected EOF";break}}i&&a(c+131072);for(var ae=(1<<f)-1,z=(1<<m)-1,Q=l;;Q=l){var X=u[ew(r,l)&ae],Z=X>>>4;if(l+=X&15,l>v){if(s)throw"unexpected EOF";break}if(!X)throw"invalid length/literal";if(Z<256)e[c++]=Z;else if(Z==256){Q=l,u=null;break}else{var Y=Z-254;if(Z>264){var k=Z-257,oe=jk[k];Y=to(r,l,(1<<oe)-1)+qk[k],l+=oe}var Pe=d[ew(r,l)&z],fe=Pe>>>4;if(!Pe)throw"invalid distance";l+=Pe&15;var ee=aW[fe];if(fe>3){var oe=Jk[fe];ee+=ew(r,l)&(1<<oe)-1,l+=oe}if(l>v){if(s)throw"unexpected EOF";break}i&&a(c+131072);for(var Ce=c+Y;c<Ce;c+=4)e[c]=e[c-ee],e[c+1]=e[c+1-ee],e[c+2]=e[c+2-ee],e[c+3]=e[c+3-ee];c=Ce}}t.l=u,t.p=Q,t.b=c,u&&(o=1,t.m=f,t.d=d,t.n=m)}while(!o);return c==e.length?e:uW(e,0,c)},dW=new _a(0),fW=function(r){if((r[0]&15)!=8||r[0]>>>4>7||(r[0]<<8|r[1])%31)throw"invalid zlib data";if(r[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function T0(r,e){return hW((fW(r),r.subarray(2,-4)),e)}var pW=typeof TextDecoder<"u"&&new TextDecoder,mW=0;try{pW.decode(dW,{stream:!0}),mW=1}catch{}const gW=r=>r&&r.isCubeTexture;class xW extends yi{constructor(e,t){var n,i;const s=gW(e),o=((i=s?(n=e.image[0])==null?void 0:n.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(o)),c=Math.pow(2,l),u=3*Math.max(c,16*7),d=4*c,f=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/d}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=f.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${l_>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,y={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},w=new Ig(1,16),b=new zr({uniforms:y,fragmentShader:v,vertexShader:m,side:Sa});super(w,b)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}function Wv(r){if(typeof TextDecoder<"u")return new TextDecoder().decode(r);let e="";for(let t=0,n=r.length;t<n;t++)e+=String.fromCharCode(r[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const ph="srgb",Nl="srgb-linear",aT=3001,vW=3e3;class c_ extends Hr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new SW(t)}),this.register(function(t){return new _W(t)}),this.register(function(t){return new LW(t)}),this.register(function(t){return new BW(t)}),this.register(function(t){return new DW(t)}),this.register(function(t){return new CW(t)}),this.register(function(t){return new EW(t)}),this.register(function(t){return new TW(t)}),this.register(function(t){return new RW(t)}),this.register(function(t){return new AW(t)}),this.register(function(t){return new IW(t)}),this.register(function(t){return new MW(t)}),this.register(function(t){return new kW(t)}),this.register(function(t){return new PW(t)}),this.register(function(t){return new bW(t)}),this.register(function(t){return new FW(t)}),this.register(function(t){return new NW(t)})}load(e,t,n,i){const s=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const c=Fc.extractUrlBase(e);a=Fc.resolveURL(c,this.path)}else a=Fc.extractUrlBase(e);this.manager.itemStart(e);const o=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Or(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,a,function(u){t(u),s.manager.itemEnd(e)},o)}catch(u){o(u)}},n,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let s;const a={},o={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Wv(new Uint8Array(e.slice(0,4)))===$k){try{a[Pn.KHR_BINARY_GLTF]=new OW(e)}catch(u){i&&i(u);return}s=JSON.parse(a[Pn.KHR_BINARY_GLTF].content)}else s=JSON.parse(Wv(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new qW(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[u.name]=u,a[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(u){case Pn.KHR_MATERIALS_UNLIT:a[u]=new wW;break;case Pn.KHR_DRACO_MESH_COMPRESSION:a[u]=new UW(s,this.dracoLoader);break;case Pn.KHR_TEXTURE_TRANSFORM:a[u]=new zW;break;case Pn.KHR_MESH_QUANTIZATION:a[u]=new HW;break;default:d.indexOf(u)>=0&&o[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(a),l.setPlugins(o),l.parse(n,i)}parseAsync(e,t){const n=this;return new Promise(function(i,s){n.parse(e,t,i,s)})}}function yW(){let r={};return{get:function(e){return r[e]},add:function(e,t){r[e]=t},remove:function(e){delete r[e]},removeAll:function(){r={}}}}const Pn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class bW{constructor(e){this.parser=e,this.name=Pn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const s=t[n];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new gt(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],Nl);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new jS(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new YS(u),c.distance=d;break;case"spot":c=new XS(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Tl(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(n,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,s=n.json.nodes[e],o=(s.extensions&&s.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return n._getNodeRef(t.cache,o,l)})}}class wW{constructor(){this.name=Pn.KHR_MATERIALS_UNLIT}getMaterialType(){return Us}extendParams(e,t,n){const i=[];e.color=new gt(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const a=s.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],Nl),e.opacity=a[3]}s.baseColorTexture!==void 0&&i.push(n.assignTexture(e,"map",s.baseColorTexture,ph))}return Promise.all(i)}}class AW{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class SW{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ta}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(s.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ke(o,o)}return Promise.all(s)}}class _W{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ta}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class MW{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ta}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(s)}}class CW{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ta}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new gt(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=i.extensions[this.name];if(a.sheenColorFactor!==void 0){const o=a.sheenColorFactor;t.sheenColor.setRGB(o[0],o[1],o[2],Nl)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&s.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,ph)),a.sheenRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class EW{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ta}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&s.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(s)}}class TW{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ta}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&s.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return t.attenuationColor=new gt().setRGB(o[0],o[1],o[2],Nl),Promise.all(s)}}class RW{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ta}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class IW{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ta}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&s.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return t.specularColor=new gt().setRGB(o[0],o[1],o[2],Nl),a.specularColorTexture!==void 0&&s.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,ph)),Promise.all(s)}}class PW{constructor(e){this.parser=e,this.name=Pn.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ta}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return t.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&s.push(n.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(s)}}class kW{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ta}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&s.push(n.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(s)}}class LW{constructor(e){this.parser=e,this.name=Pn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,a)}}class BW{constructor(e){this.parser=e,this.name=Pn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],o=i.images[a.source];let l=n.textureLoader;if(o.uri){const c=n.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return n.loadTextureImage(e,a.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class DW{constructor(e){this.parser=e,this.name=Pn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],o=i.images[a.source];let l=n.textureLoader;if(o.uri){const c=n.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return n.loadTextureImage(e,a.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class FW{constructor(e){this.name=Pn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const i=n.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(o){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,f=new Uint8Array(o,l,c);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(u,d,f,i.mode,i.filter).then(function(m){return m.buffer}):a.ready.then(function(){const m=new ArrayBuffer(u*d);return a.decodeGltfBuffer(new Uint8Array(m),u,d,f,i.mode,i.filter),m})})}else return null}}class NW{constructor(e){this.name=Pn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const i=t.meshes[n.mesh];for(const c of i.primitives)if(c.mode!==wa.TRIANGLES&&c.mode!==wa.TRIANGLE_STRIP&&c.mode!==wa.TRIANGLE_FAN&&c.mode!==void 0)return null;const a=n.extensions[this.name].attributes,o=[],l={};for(const c in a)o.push(this.parser.getDependency("accessor",a[c]).then(u=>(l[c]=u,l[c])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],f=c[0].count,m=[];for(const v of d){const y=new Kt,w=new $,b=new fr,S=new $(1,1,1),M=new TS(v.geometry,v.material,f);for(let E=0;E<f;E++)l.TRANSLATION&&w.fromBufferAttribute(l.TRANSLATION,E),l.ROTATION&&b.fromBufferAttribute(l.ROTATION,E),l.SCALE&&S.fromBufferAttribute(l.SCALE,E),M.setMatrixAt(E,y.compose(w,b,S));for(const E in l)if(E==="_COLOR_0"){const T=l[E];M.instanceColor=new Th(T.array,T.itemSize,T.normalized)}else E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&v.geometry.setAttribute(E,l[E]);Bn.prototype.copy.call(M,v),this.parser.assignFinalMaterial(M),m.push(M)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const $k="glTF",um=12,oT={JSON:1313821514,BIN:5130562};class OW{constructor(e){this.name=Pn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,um);if(this.header={magic:Wv(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==$k)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-um,i=new DataView(e,um);let s=0;for(;s<n;){const a=i.getUint32(s,!0);s+=4;const o=i.getUint32(s,!0);if(s+=4,o===oT.JSON){const l=new Uint8Array(e,um+s,a);this.content=Wv(l)}else if(o===oT.BIN){const l=um+s;this.body=e.slice(l,l+a)}s+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class UW{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Pn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},l={},c={};for(const u in a){const d=uA[u]||u.toLowerCase();o[d]=a[u]}for(const u in e.attributes){const d=uA[u]||u.toLowerCase();if(a[u]!==void 0){const f=n.accessors[e.attributes[u]],m=Af[f.componentType];c[d]=m.name,l[d]=f.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(d,f){i.decodeDracoFile(u,function(m){for(const v in m.attributes){const y=m.attributes[v],w=l[v];w!==void 0&&(y.normalized=w)}d(m)},o,c,Nl,f)})})}}class zW{constructor(){this.name=Pn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class HW{constructor(){this.name=Pn.KHR_MESH_QUANTIZATION}}class e3 extends Kf{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let a=0;a!==i;a++)t[a]=n[s+a];return t}interpolate_(e,t,n,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,u=i-t,d=(n-t)/u,f=d*d,m=f*d,v=e*c,y=v-c,w=-2*m+3*f,b=m-f,S=1-w,M=b-f+d;for(let E=0;E!==o;E++){const T=a[y+E+o],R=a[y+E+l]*u,P=a[v+E+o],k=a[v+E]*u;s[E]=S*T+M*R+w*P+b*k}return s}}const GW=new fr;class VW extends e3{interpolate_(e,t,n,i){const s=super.interpolate_(e,t,n,i);return GW.fromArray(s).normalize().toArray(s),s}}const wa={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Af={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},lT={9728:Qi,9729:jn,9984:ey,9985:yf,9986:oh,9987:Ca},cT={33071:Gi,33648:If,10497:Vc},tw={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},uA={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...l_>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ec={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},WW={CUBICSPLINE:void 0,LINEAR:Lf,STEP:kf},nw={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function XW(r){return r.DefaultMaterial===void 0&&(r.DefaultMaterial=new Lg({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Oo})),r.DefaultMaterial}function Ju(r,e,t){for(const n in t.extensions)r[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function Tl(r,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(r.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function YW(r,e,t){let n=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(n=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(s=!0),n&&i&&s)break}if(!n&&!i&&!s)return Promise.resolve(r);const a=[],o=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(n){const f=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):r.attributes.position;a.push(f)}if(i){const f=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):r.attributes.normal;o.push(f)}if(s){const f=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):r.attributes.color;l.push(f)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2];return n&&(r.morphAttributes.position=u),i&&(r.morphAttributes.normal=d),s&&(r.morphAttributes.color=f),r.morphTargetsRelative=!0,r})}function jW(r,e){if(r.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)r.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(r.morphTargetInfluences.length===t.length){r.morphTargetDictionary={};for(let n=0,i=t.length;n<i;n++)r.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function JW(r){let e;const t=r.extensions&&r.extensions[Pn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+iw(t.attributes):e=r.indices+":"+iw(r.attributes)+":"+r.mode,r.targets!==void 0)for(let n=0,i=r.targets.length;n<i;n++)e+=":"+iw(r.targets[n]);return e}function iw(r){let e="";const t=Object.keys(r).sort();for(let n=0,i=t.length;n<i;n++)e+=t[n]+":"+r[t[n]]+";";return e}function hA(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function KW(r){return r.search(/\.jpe?g($|\?)/i)>0||r.search(/^data\:image\/jpeg/)===0?"image/jpeg":r.search(/\.webp($|\?)/i)>0||r.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const ZW=new Kt;class qW{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new yW,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||i&&s<98?this.textureLoader=new lk(this.options.manager):this.textureLoader=new gk(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Or(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(a){const o={scene:a[0][i.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:i.asset,parser:n,userData:{}};return Ju(s,o,i),Tl(o,i),Promise.all(n._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){for(const l of o.scenes)l.updateMatrixWorld();e(o)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const a=t[i].joints;for(let o=0,l=a.length;o<l;o++)e[a[o]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const a=e[i];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(n[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone(),s=(a,o)=>{const l=this.associations.get(a);l!=null&&this.associations.set(o,l);for(const[c,u]of a.children.entries())s(u,o.children[c])};return s(n,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&n.push(s)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,a){return n.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Pn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,a){n.load(Fc.resolveURL(t.uri,i.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const i=t.byteLength||0,s=t.byteOffset||0;return n.slice(s,s+i)})}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const a=tw[i.type],o=Af[i.componentType],l=i.normalized===!0,c=new o(i.count*a);return Promise.resolve(new Vn(c,a,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(a){const o=a[0],l=tw[i.type],c=Af[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,f=i.byteOffset||0,m=i.bufferView!==void 0?n.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let y,w;if(m&&m!==d){const b=Math.floor(f/m),S="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+b+":"+i.count;let M=t.cache.get(S);M||(y=new c(o,b*m,i.count*m/u),M=new Cg(y,m/u),t.cache.add(S,M)),w=new Wc(M,l,f%m/u,v)}else o===null?y=new c(i.count*l):y=new c(o,f,i.count*l),w=new Vn(y,l,v);if(i.sparse!==void 0){const b=tw.SCALAR,S=Af[i.sparse.indices.componentType],M=i.sparse.indices.byteOffset||0,E=i.sparse.values.byteOffset||0,T=new S(a[1],M,i.sparse.count*b),R=new c(a[2],E,i.sparse.count*l);o!==null&&(w=new Vn(w.array.slice(),w.itemSize,w.normalized));for(let P=0,k=T.length;P<k;P++){const B=T[P];if(w.setX(B,R[P*l]),l>=2&&w.setY(B,R[P*l+1]),l>=3&&w.setZ(B,R[P*l+2]),l>=4&&w.setW(B,R[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return w})}loadTexture(e){const t=this.json,n=this.options,s=t.textures[e].source,a=t.images[s];let o=this.textureLoader;if(a.uri){const l=n.manager.getHandler(a.uri);l!==null&&(o=l)}return this.loadTextureImage(e,s,o)}loadTextureImage(e,t,n){const i=this,s=this.json,a=s.textures[e],o=s.images[t],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,n).then(function(u){u.flipY=!1,u.name=a.name||o.name||"",u.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(u.name=o.uri);const f=(s.samplers||{})[a.sampler]||{};return u.magFilter=lT[f.magFilter]||jn,u.minFilter=lT[f.minFilter]||Ca,u.wrapS=cT[f.wrapS]||Vc,u.wrapT=cT[f.wrapT]||Vc,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const n=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const a=i.images[e],o=self.URL||self.webkitURL;let l=a.uri||"",c=!1;if(a.bufferView!==void 0)l=n.getDependency("bufferView",a.bufferView).then(function(d){c=!0;const f=new Blob([d],{type:a.mimeType});return l=o.createObjectURL(f),l});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(f,m){let v=f;t.isImageBitmapLoader===!0&&(v=function(y){const w=new qn(y);w.needsUpdate=!0,f(w)}),t.load(Fc.resolveURL(d,s.path),v,void 0,m)})}).then(function(d){return c===!0&&o.revokeObjectURL(l),Tl(d,a),d.userData.mimeType=a.mimeType||KW(a.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,t,n,i){const s=this;return this.getDependency("texture",n.index).then(function(a){if(!a)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(a=a.clone(),a.channel=n.texCoord),s.extensions[Pn.KHR_TEXTURE_TRANSFORM]){const o=n.extensions!==void 0?n.extensions[Pn.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=s.associations.get(a);a=s.extensions[Pn.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),s.associations.set(a,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===aT?ph:Nl),"colorSpace"in a?a.colorSpace=i:a.encoding=i===ph?aT:vW),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+n.uuid;let l=this.cache.get(o);l||(l=new fy,pr.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,l.sizeAttenuation=!1,this.cache.add(o,l)),n=l}else if(e.isLine){const o="LineBasicMaterial:"+n.uuid;let l=this.cache.get(o);l||(l=new ns,pr.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,this.cache.add(o,l)),n=l}if(i||s||a){let o="ClonedMaterial:"+n.uuid+":";i&&(o+="derivative-tangents:"),s&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=n.clone(),s&&(l.vertexColors=!0),a&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(n))),n=l}e.material=n}getMaterialType(){return Lg}loadMaterial(e){const t=this,n=this.json,i=this.extensions,s=n.materials[e];let a;const o={},l=s.extensions||{},c=[];if(l[Pn.KHR_MATERIALS_UNLIT]){const d=i[Pn.KHR_MATERIALS_UNLIT];a=d.getMaterialType(),c.push(d.extendParams(o,s,t))}else{const d=s.pbrMetallicRoughness||{};if(o.color=new gt(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;o.color.setRGB(f[0],f[1],f[2],Nl),o.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(o,"map",d.baseColorTexture,ph)),o.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,o.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),a=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,o)})))}s.doubleSided===!0&&(o.side=Sa);const u=s.alphaMode||nw.OPAQUE;if(u===nw.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,u===nw.MASK&&(o.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&a!==Us&&(c.push(t.assignTexture(o,"normalMap",s.normalTexture)),o.normalScale=new Ke(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;o.normalScale.set(d,d)}if(s.occlusionTexture!==void 0&&a!==Us&&(c.push(t.assignTexture(o,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&a!==Us){const d=s.emissiveFactor;o.emissive=new gt().setRGB(d[0],d[1],d[2],Nl)}return s.emissiveTexture!==void 0&&a!==Us&&c.push(t.assignTexture(o,"emissiveMap",s.emissiveTexture,ph)),Promise.all(c).then(function(){const d=new a(o);return s.name&&(d.name=s.name),Tl(d,s),t.associations.set(d,{materials:e}),s.extensions&&Ju(i,d,s),d})}createUniqueName(e){const t=Nn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function s(o){return n[Pn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,t).then(function(l){return uT(l,o,t)})}const a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],u=JW(c),d=i[u];if(d)a.push(d.promise);else{let f;c.extensions&&c.extensions[Pn.KHR_DRACO_MESH_COMPRESSION]?f=s(c):f=uT(new wn,c,t),i[u]={primitive:c,promise:f},a.push(f)}}return Promise.all(a)}loadMesh(e){const t=this,n=this.json,i=this.extensions,s=n.meshes[e],a=s.primitives,o=[];for(let l=0,c=a.length;l<c;l++){const u=a[l].material===void 0?XW(this.cache):this.getDependency("material",a[l].material);o.push(u)}return o.push(t.loadGeometries(a)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let m=0,v=u.length;m<v;m++){const y=u[m],w=a[m];let b;const S=c[m];if(w.mode===wa.TRIANGLES||w.mode===wa.TRIANGLE_STRIP||w.mode===wa.TRIANGLE_FAN||w.mode===void 0)b=s.isSkinnedMesh===!0?new ES(y,S):new yi(y,S),b.isSkinnedMesh===!0&&b.normalizeSkinWeights(),w.mode===wa.TRIANGLE_STRIP?b.geometry=sT(b.geometry,yS):w.mode===wa.TRIANGLE_FAN&&(b.geometry=sT(b.geometry,zv));else if(w.mode===wa.LINES)b=new ho(y,S);else if(w.mode===wa.LINE_STRIP)b=new Ol(y,S);else if(w.mode===wa.LINE_LOOP)b=new RS(y,S);else if(w.mode===wa.POINTS)b=new IS(y,S);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+w.mode);Object.keys(b.geometry.morphAttributes).length>0&&jW(b,s),b.name=t.createUniqueName(s.name||"mesh_"+e),Tl(b,s),w.extensions&&Ju(i,b,w),t.assignFinalMaterial(b),d.push(b)}for(let m=0,v=d.length;m<v;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return s.extensions&&Ju(i,d[0],s),d[0];const f=new kl;s.extensions&&Ju(i,f,s),t.associations.set(f,{meshes:e});for(let m=0,v=d.length;m<v;m++)f.add(d[m]);return f})}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new ur(bf.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):n.type==="orthographic"&&(t=new Oh(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Tl(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let i=0,s=t.joints.length;i<s;i++)n.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(i){const s=i.pop(),a=i,o=[],l=[];for(let c=0,u=a.length;c<u;c++){const d=a[c];if(d){o.push(d);const f=new Kt;s!==null&&f.fromArray(s.array,c*16),l.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Eg(o,l)})}loadAnimation(e){const t=this.json,n=this,i=t.animations[e],s=i.name?i.name:"animation_"+e,a=[],o=[],l=[],c=[],u=[];for(let d=0,f=i.channels.length;d<f;d++){const m=i.channels[d],v=i.samplers[m.sampler],y=m.target,w=y.node,b=i.parameters!==void 0?i.parameters[v.input]:v.input,S=i.parameters!==void 0?i.parameters[v.output]:v.output;y.node!==void 0&&(a.push(this.getDependency("node",w)),o.push(this.getDependency("accessor",b)),l.push(this.getDependency("accessor",S)),c.push(v),u.push(y))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(d){const f=d[0],m=d[1],v=d[2],y=d[3],w=d[4],b=[];for(let S=0,M=f.length;S<M;S++){const E=f[S],T=m[S],R=v[S],P=y[S],k=w[S];if(E===void 0)continue;E.updateMatrix&&E.updateMatrix();const B=n._createAnimationTracks(E,T,R,P,k);if(B)for(let D=0;D<B.length;D++)b.push(B[D])}return new Ff(s,void 0,b)})}createNodeMesh(e){const t=this.json,n=this,i=t.nodes[e];return i.mesh===void 0?null:n.getDependency("mesh",i.mesh).then(function(s){const a=n._getNodeRef(n.meshCache,i.mesh,s);return i.weights!==void 0&&a.traverse(function(o){if(o.isMesh)for(let l=0,c=i.weights.length;l<c;l++)o.morphTargetInfluences[l]=i.weights[l]}),a})}loadNode(e){const t=this.json,n=this,i=t.nodes[e],s=n._loadNodeShallow(e),a=[],o=i.children||[];for(let c=0,u=o.length;c<u;c++)a.push(n.getDependency("node",o[c]));const l=i.skin===void 0?Promise.resolve(null):n.getDependency("skin",i.skin);return Promise.all([s,Promise.all(a),l]).then(function(c){const u=c[0],d=c[1],f=c[2];f!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(f,ZW)});for(let m=0,v=d.length;m<v;m++)u.add(d[m]);return u})}_loadNodeShallow(e){const t=this.json,n=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],a=s.name?i.createUniqueName(s.name):"",o=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),s.camera!==void 0&&o.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),this.nodeCache[e]=Promise.all(o).then(function(c){let u;if(s.isBone===!0?u=new dy:c.length>1?u=new kl:c.length===1?u=c[0]:u=new Bn,u!==c[0])for(let d=0,f=c.length;d<f;d++)u.add(c[d]);if(s.name&&(u.userData.name=s.name,u.name=a),Tl(u,s),s.extensions&&Ju(n,u,s),s.matrix!==void 0){const d=new Kt;d.fromArray(s.matrix),u.applyMatrix4(d)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],i=this,s=new kl;n.name&&(s.name=i.createUniqueName(n.name)),Tl(s,n),n.extensions&&Ju(t,s,n);const a=n.nodes||[],o=[];for(let l=0,c=a.length;l<c;l++)o.push(i.getDependency("node",a[l]));return Promise.all(o).then(function(l){for(let u=0,d=l.length;u<d;u++)s.add(l[u]);const c=u=>{const d=new Map;for(const[f,m]of i.associations)(f instanceof pr||f instanceof qn)&&d.set(f,m);return u.traverse(f=>{const m=i.associations.get(f);m!=null&&d.set(f,m)}),d};return i.associations=c(s),s})}_createAnimationTracks(e,t,n,i,s){const a=[],o=e.name?e.name:e.uuid,l=[];Ec[s.path]===Ec.weights?e.traverse(function(f){f.morphTargetInfluences&&l.push(f.name?f.name:f.uuid)}):l.push(o);let c;switch(Ec[s.path]){case Ec.weights:c=Ih;break;case Ec.rotation:c=Ph;break;case Ec.position:case Ec.scale:c=kh;break;default:switch(n.itemSize){case 1:c=Ih;break;case 2:case 3:default:c=kh;break}break}const u=i.interpolation!==void 0?WW[i.interpolation]:Lf,d=this._getArrayFromAccessor(n);for(let f=0,m=l.length;f<m;f++){const v=new c(l[f]+"."+Ec[s.path],t.array,d,u);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),a.push(v)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=hA(t.constructor),i=new Float32Array(t.length);for(let s=0,a=t.length;s<a;s++)i[s]=t[s]*n;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const i=this instanceof Ph?VW:e3;return new i(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function QW(r,e,t){const n=e.attributes,i=new _r;if(n.POSITION!==void 0){const o=t.json.accessors[n.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(i.set(new $(l[0],l[1],l[2]),new $(c[0],c[1],c[2])),o.normalized){const u=hA(Af[o.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const o=new $,l=new $;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const f=t.json.accessors[d.POSITION],m=f.min,v=f.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),f.normalized){const y=hA(Af[f.componentType]);l.multiplyScalar(y)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(o)}r.boundingBox=i;const a=new Mr;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,r.boundingSphere=a}function uT(r,e,t){const n=e.attributes,i=[];function s(a,o){return t.getDependency("accessor",a).then(function(l){r.setAttribute(o,l)})}for(const a in n){const o=uA[a]||a.toLowerCase();o in r.attributes||i.push(s(n[a],o))}if(e.indices!==void 0&&!r.index){const a=t.getDependency("accessor",e.indices).then(function(o){r.setIndex(o)});i.push(a)}return Tl(r,e),QW(r,e,t),Promise.all(i).then(function(){return e.targets!==void 0?YW(r,e.targets,t):r})}const $W={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},eX={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class tX extends VS{constructor(e){super(e),this.type=dr}parse(e){const a=function(k,B){switch(k){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(B||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(B||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(B||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(B||""))}},u=`
`,d=function(k,B,D){B=B||1024;let V=k.pos,X=-1,K=0,ie="",ee=String.fromCharCode.apply(null,new Uint16Array(k.subarray(V,V+128)));for(;0>(X=ee.indexOf(u))&&K<B&&V<k.byteLength;)ie+=ee,K+=ee.length,V+=128,ee+=String.fromCharCode.apply(null,new Uint16Array(k.subarray(V,V+128)));return-1<X?(k.pos+=K+X+1,ie+ee.slice(0,X)):!1},f=function(k){const B=/^#\?(\S+)/,D=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,O=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,V=/^\s*FORMAT=(\S+)\s*$/,X=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,K={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ie,ee;for((k.pos>=k.byteLength||!(ie=d(k)))&&a(1,"no header found"),(ee=ie.match(B))||a(3,"bad initial token"),K.valid|=1,K.programtype=ee[1],K.string+=ie+`
`;ie=d(k),ie!==!1;){if(K.string+=ie+`
`,ie.charAt(0)==="#"){K.comments+=ie+`
`;continue}if((ee=ie.match(D))&&(K.gamma=parseFloat(ee[1])),(ee=ie.match(O))&&(K.exposure=parseFloat(ee[1])),(ee=ie.match(V))&&(K.valid|=2,K.format=ee[1]),(ee=ie.match(X))&&(K.valid|=4,K.height=parseInt(ee[1],10),K.width=parseInt(ee[2],10)),K.valid&2&&K.valid&4)break}return K.valid&2||a(3,"missing format specifier"),K.valid&4||a(3,"missing image size specifier"),K},m=function(k,B,D){const O=B;if(O<8||O>32767||k[0]!==2||k[1]!==2||k[2]&128)return new Uint8Array(k);O!==(k[2]<<8|k[3])&&a(3,"wrong scanline width");const V=new Uint8Array(4*B*D);V.length||a(4,"unable to allocate buffer space");let X=0,K=0;const ie=4*O,ee=new Uint8Array(4),ae=new Uint8Array(ie);let z=D;for(;z>0&&K<k.byteLength;){K+4>k.byteLength&&a(1),ee[0]=k[K++],ee[1]=k[K++],ee[2]=k[K++],ee[3]=k[K++],(ee[0]!=2||ee[1]!=2||(ee[2]<<8|ee[3])!=O)&&a(3,"bad rgbe scanline format");let Q=0,Z;for(;Q<ie&&K<k.byteLength;){Z=k[K++];const oe=Z>128;if(oe&&(Z-=128),(Z===0||Q+Z>ie)&&a(3,"bad scanline data"),oe){const Pe=k[K++];for(let fe=0;fe<Z;fe++)ae[Q++]=Pe}else ae.set(k.subarray(K,K+Z),Q),Q+=Z,K+=Z}const Y=O;for(let oe=0;oe<Y;oe++){let Pe=0;V[X]=ae[oe+Pe],Pe+=O,V[X+1]=ae[oe+Pe],Pe+=O,V[X+2]=ae[oe+Pe],Pe+=O,V[X+3]=ae[oe+Pe],X+=4}z--}return V},v=function(k,B,D,O){const V=k[B+3],X=Math.pow(2,V-128)/255;D[O+0]=k[B+0]*X,D[O+1]=k[B+1]*X,D[O+2]=k[B+2]*X,D[O+3]=1},y=function(k,B,D,O){const V=k[B+3],X=Math.pow(2,V-128)/255;D[O+0]=hh.toHalfFloat(Math.min(k[B+0]*X,65504)),D[O+1]=hh.toHalfFloat(Math.min(k[B+1]*X,65504)),D[O+2]=hh.toHalfFloat(Math.min(k[B+2]*X,65504)),D[O+3]=hh.toHalfFloat(1)},w=new Uint8Array(e);w.pos=0;const b=f(w),S=b.width,M=b.height,E=m(w.subarray(w.pos),S,M);let T,R,P;switch(this.type){case Ri:P=E.length/4;const k=new Float32Array(P*4);for(let D=0;D<P;D++)v(E,D*4,k,D*4);T=k,R=Ri;break;case dr:P=E.length/4;const B=new Uint16Array(P*4);for(let D=0;D<P;D++)y(E,D*4,B,D*4);T=B,R=dr;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:S,height:M,data:T,header:b.string,gamma:b.gamma,exposure:b.exposure,type:R}}setDataType(e){return this.type=e,this}load(e,t,n,i){function s(a,o){switch(a.type){case Ri:case dr:"colorSpace"in a?a.colorSpace="srgb-linear":a.encoding=3e3,a.minFilter=jn,a.magFilter=jn,a.generateMipmaps=!1,a.flipY=!0;break}t&&t(a,o)}return super.load(e,s,n,i)}}const hm=l_>=152;class nX extends VS{constructor(e){super(e),this.type=dr}parse(e){const B=Math.pow(2.7182818,2.2);function D(H,q){for(var pe=0,Ie=0;Ie<65536;++Ie)(Ie==0||H[Ie>>3]&1<<(Ie&7))&&(q[pe++]=Ie);for(var Ne=pe-1;pe<65536;)q[pe++]=0;return Ne}function O(H){for(var q=0;q<16384;q++)H[q]={},H[q].len=0,H[q].lit=0,H[q].p=null}const V={l:0,c:0,lc:0};function X(H,q,pe,Ie,Ne){for(;pe<H;)q=q<<8|Rt(Ie,Ne),pe+=8;pe-=H,V.l=q>>pe&(1<<H)-1,V.c=q,V.lc=pe}const K=new Array(59);function ie(H){for(var q=0;q<=58;++q)K[q]=0;for(var q=0;q<65537;++q)K[H[q]]+=1;for(var pe=0,q=58;q>0;--q){var Ie=pe+K[q]>>1;K[q]=pe,pe=Ie}for(var q=0;q<65537;++q){var Ne=H[q];Ne>0&&(H[q]=Ne|K[Ne]++<<6)}}function ee(H,q,pe,Ie,Ne,Oe,st){for(var $e=pe,G=0,se=0;Ne<=Oe;Ne++){if($e.value-pe.value>Ie)return!1;X(6,G,se,H,$e);var he=V.l;if(G=V.c,se=V.lc,st[Ne]=he,he==63){if($e.value-pe.value>Ie)throw"Something wrong with hufUnpackEncTable";X(8,G,se,H,$e);var le=V.l+6;if(G=V.c,se=V.lc,Ne+le>Oe+1)throw"Something wrong with hufUnpackEncTable";for(;le--;)st[Ne++]=0;Ne--}else if(he>=59){var le=he-59+2;if(Ne+le>Oe+1)throw"Something wrong with hufUnpackEncTable";for(;le--;)st[Ne++]=0;Ne--}}ie(st)}function ae(H){return H&63}function z(H){return H>>6}function Q(H,q,pe,Ie){for(;q<=pe;q++){var Ne=z(H[q]),Oe=ae(H[q]);if(Ne>>Oe)throw"Invalid table entry";if(Oe>14){var st=Ie[Ne>>Oe-14];if(st.len)throw"Invalid table entry";if(st.lit++,st.p){var $e=st.p;st.p=new Array(st.lit);for(var G=0;G<st.lit-1;++G)st.p[G]=$e[G]}else st.p=new Array(1);st.p[st.lit-1]=q}else if(Oe)for(var se=0,G=1<<14-Oe;G>0;G--){var st=Ie[(Ne<<14-Oe)+se];if(st.len||st.p)throw"Invalid table entry";st.len=Oe,st.lit=q,se++}}return!0}const Z={c:0,lc:0};function Y(H,q,pe,Ie){H=H<<8|Rt(pe,Ie),q+=8,Z.c=H,Z.lc=q}const oe={c:0,lc:0};function Pe(H,q,pe,Ie,Ne,Oe,st,$e,G,se){if(H==q){Ie<8&&(Y(pe,Ie,Ne,st),pe=Z.c,Ie=Z.lc),Ie-=8;var he=pe>>Ie,he=new Uint8Array([he])[0];if(G.value+he>se)return!1;for(var le=$e[G.value-1];he-- >0;)$e[G.value++]=le}else if(G.value<se)$e[G.value++]=H;else return!1;oe.c=pe,oe.lc=Ie}function fe(H){return H&65535}function Ce(H){var q=fe(H);return q>32767?q-65536:q}const Ae={a:0,b:0};function Se(H,q){var pe=Ce(H),Ie=Ce(q),Ne=Ie,Oe=pe+(Ne&1)+(Ne>>1),st=Oe,$e=Oe-Ne;Ae.a=st,Ae.b=$e}function He(H,q){var pe=fe(H),Ie=fe(q),Ne=pe-(Ie>>1)&65535,Oe=Ie+Ne-32768&65535;Ae.a=Oe,Ae.b=Ne}function ut(H,q,pe,Ie,Ne,Oe,st){for(var $e=st<16384,G=pe>Ne?Ne:pe,se=1,he;se<=G;)se<<=1;for(se>>=1,he=se,se>>=1;se>=1;){for(var le=0,ge=le+Oe*(Ne-he),Ee=Oe*se,Ue=Oe*he,Xe=Ie*se,qe=Ie*he,mt,ht,Ze,vt;le<=ge;le+=Ue){for(var yt=le,nn=le+Ie*(pe-he);yt<=nn;yt+=qe){var Ot=yt+Xe,Ht=yt+Ee,Et=Ht+Xe;$e?(Se(H[yt+q],H[Ht+q]),mt=Ae.a,Ze=Ae.b,Se(H[Ot+q],H[Et+q]),ht=Ae.a,vt=Ae.b,Se(mt,ht),H[yt+q]=Ae.a,H[Ot+q]=Ae.b,Se(Ze,vt),H[Ht+q]=Ae.a,H[Et+q]=Ae.b):(He(H[yt+q],H[Ht+q]),mt=Ae.a,Ze=Ae.b,He(H[Ot+q],H[Et+q]),ht=Ae.a,vt=Ae.b,He(mt,ht),H[yt+q]=Ae.a,H[Ot+q]=Ae.b,He(Ze,vt),H[Ht+q]=Ae.a,H[Et+q]=Ae.b)}if(pe&se){var Ht=yt+Ee;$e?Se(H[yt+q],H[Ht+q]):He(H[yt+q],H[Ht+q]),mt=Ae.a,H[Ht+q]=Ae.b,H[yt+q]=mt}}if(Ne&se)for(var yt=le,nn=le+Ie*(pe-he);yt<=nn;yt+=qe){var Ot=yt+Xe;$e?Se(H[yt+q],H[Ot+q]):He(H[yt+q],H[Ot+q]),mt=Ae.a,H[Ot+q]=Ae.b,H[yt+q]=mt}he=se,se>>=1}return le}function tt(H,q,pe,Ie,Ne,Oe,st,$e,G,se){for(var he=0,le=0,ge=$e,Ee=Math.trunc(Ne.value+(Oe+7)/8);Ne.value<Ee;)for(Y(he,le,pe,Ne),he=Z.c,le=Z.lc;le>=14;){var Ue=he>>le-14&16383,Xe=q[Ue];if(Xe.len)le-=Xe.len,Pe(Xe.lit,st,he,le,pe,Ie,Ne,G,se,ge),he=oe.c,le=oe.lc;else{if(!Xe.p)throw"hufDecode issues";var qe;for(qe=0;qe<Xe.lit;qe++){for(var mt=ae(H[Xe.p[qe]]);le<mt&&Ne.value<Ee;)Y(he,le,pe,Ne),he=Z.c,le=Z.lc;if(le>=mt&&z(H[Xe.p[qe]])==(he>>le-mt&(1<<mt)-1)){le-=mt,Pe(Xe.p[qe],st,he,le,pe,Ie,Ne,G,se,ge),he=oe.c,le=oe.lc;break}}if(qe==Xe.lit)throw"hufDecode issues"}}var ht=8-Oe&7;for(he>>=ht,le-=ht;le>0;){var Xe=q[he<<14-le&16383];if(Xe.len)le-=Xe.len,Pe(Xe.lit,st,he,le,pe,Ie,Ne,G,se,ge),he=oe.c,le=oe.lc;else throw"hufDecode issues"}return!0}function kt(H,q,pe,Ie,Ne,Oe){var st={value:0},$e=pe.value,G=Nt(q,pe),se=Nt(q,pe);pe.value+=4;var he=Nt(q,pe);if(pe.value+=4,G<0||G>=65537||se<0||se>=65537)throw"Something wrong with HUF_ENCSIZE";var le=new Array(65537),ge=new Array(16384);O(ge);var Ee=Ie-(pe.value-$e);if(ee(H,q,pe,Ee,G,se,le),he>8*(Ie-(pe.value-$e)))throw"Something wrong with hufUncompress";Q(le,G,se,ge),tt(le,ge,H,q,pe,he,se,Oe,Ne,st)}function je(H,q,pe){for(var Ie=0;Ie<pe;++Ie)q[Ie]=H[q[Ie]]}function Fe(H){for(var q=1;q<H.length;q++){var pe=H[q-1]+H[q]-128;H[q]=pe}}function ne(H,q){for(var pe=0,Ie=Math.floor((H.length+1)/2),Ne=0,Oe=H.length-1;!(Ne>Oe||(q[Ne++]=H[pe++],Ne>Oe));)q[Ne++]=H[Ie++]}function Bt(H){for(var q=H.byteLength,pe=new Array,Ie=0,Ne=new DataView(H);q>0;){var Oe=Ne.getInt8(Ie++);if(Oe<0){var st=-Oe;q-=st+1;for(var $e=0;$e<st;$e++)pe.push(Ne.getUint8(Ie++))}else{var st=Oe;q-=2;for(var G=Ne.getUint8(Ie++),$e=0;$e<st+1;$e++)pe.push(G)}}return pe}function nt(H,q,pe,Ie,Ne,Oe){var Ot=new DataView(Oe.buffer),st=pe[H.idx[0]].width,$e=pe[H.idx[0]].height,G=3,se=Math.floor(st/8),he=Math.ceil(st/8),le=Math.ceil($e/8),ge=st-(he-1)*8,Ee=$e-(le-1)*8,Ue={value:0},Xe=new Array(G),qe=new Array(G),mt=new Array(G),ht=new Array(G),Ze=new Array(G);for(let ln=0;ln<G;++ln)Ze[ln]=q[H.idx[ln]],Xe[ln]=ln<1?0:Xe[ln-1]+he*le,qe[ln]=new Float32Array(64),mt[ln]=new Uint16Array(64),ht[ln]=new Uint16Array(he*64);for(let ln=0;ln<le;++ln){var vt=8;ln==le-1&&(vt=Ee);var yt=8;for(let pn=0;pn<he;++pn){pn==he-1&&(yt=ge);for(let An=0;An<G;++An)mt[An].fill(0),mt[An][0]=Ne[Xe[An]++],Ct(Ue,Ie,mt[An]),ot(mt[An],qe[An]),Jt(qe[An]);dt(qe);for(let An=0;An<G;++An)te(qe[An],ht[An],pn*64)}let ni=0;for(let pn=0;pn<G;++pn){const An=pe[H.idx[pn]].type;for(let Qt=8*ln;Qt<8*ln+vt;++Qt){ni=Ze[pn][Qt];for(let hi=0;hi<se;++hi){const Dn=hi*64+(Qt&7)*8;Ot.setUint16(ni+0*2*An,ht[pn][Dn+0],!0),Ot.setUint16(ni+1*2*An,ht[pn][Dn+1],!0),Ot.setUint16(ni+2*2*An,ht[pn][Dn+2],!0),Ot.setUint16(ni+3*2*An,ht[pn][Dn+3],!0),Ot.setUint16(ni+4*2*An,ht[pn][Dn+4],!0),Ot.setUint16(ni+5*2*An,ht[pn][Dn+5],!0),Ot.setUint16(ni+6*2*An,ht[pn][Dn+6],!0),Ot.setUint16(ni+7*2*An,ht[pn][Dn+7],!0),ni+=8*2*An}}if(se!=he)for(let Qt=8*ln;Qt<8*ln+vt;++Qt){const hi=Ze[pn][Qt]+8*se*2*An,Dn=se*64+(Qt&7)*8;for(let ii=0;ii<yt;++ii)Ot.setUint16(hi+ii*2*An,ht[pn][Dn+ii],!0)}}}for(var nn=new Uint16Array(st),Ot=new DataView(Oe.buffer),Ht=0;Ht<G;++Ht){pe[H.idx[Ht]].decoded=!0;var Et=pe[H.idx[Ht]].type;if(pe[Ht].type==2)for(var vn=0;vn<$e;++vn){const ln=Ze[Ht][vn];for(var Zt=0;Zt<st;++Zt)nn[Zt]=Ot.getUint16(ln+Zt*2*Et,!0);for(var Zt=0;Zt<st;++Zt)Ot.setFloat32(ln+Zt*2*Et,Le(nn[Zt]),!0)}}}function Ct(H,q,pe){for(var Ie,Ne=1;Ne<64;)Ie=q[H.value],Ie==65280?Ne=64:Ie>>8==255?Ne+=Ie&255:(pe[Ne]=Ie,Ne++),H.value++}function ot(H,q){q[0]=Le(H[0]),q[1]=Le(H[1]),q[2]=Le(H[5]),q[3]=Le(H[6]),q[4]=Le(H[14]),q[5]=Le(H[15]),q[6]=Le(H[27]),q[7]=Le(H[28]),q[8]=Le(H[2]),q[9]=Le(H[4]),q[10]=Le(H[7]),q[11]=Le(H[13]),q[12]=Le(H[16]),q[13]=Le(H[26]),q[14]=Le(H[29]),q[15]=Le(H[42]),q[16]=Le(H[3]),q[17]=Le(H[8]),q[18]=Le(H[12]),q[19]=Le(H[17]),q[20]=Le(H[25]),q[21]=Le(H[30]),q[22]=Le(H[41]),q[23]=Le(H[43]),q[24]=Le(H[9]),q[25]=Le(H[11]),q[26]=Le(H[18]),q[27]=Le(H[24]),q[28]=Le(H[31]),q[29]=Le(H[40]),q[30]=Le(H[44]),q[31]=Le(H[53]),q[32]=Le(H[10]),q[33]=Le(H[19]),q[34]=Le(H[23]),q[35]=Le(H[32]),q[36]=Le(H[39]),q[37]=Le(H[45]),q[38]=Le(H[52]),q[39]=Le(H[54]),q[40]=Le(H[20]),q[41]=Le(H[22]),q[42]=Le(H[33]),q[43]=Le(H[38]),q[44]=Le(H[46]),q[45]=Le(H[51]),q[46]=Le(H[55]),q[47]=Le(H[60]),q[48]=Le(H[21]),q[49]=Le(H[34]),q[50]=Le(H[37]),q[51]=Le(H[47]),q[52]=Le(H[50]),q[53]=Le(H[56]),q[54]=Le(H[59]),q[55]=Le(H[61]),q[56]=Le(H[35]),q[57]=Le(H[36]),q[58]=Le(H[48]),q[59]=Le(H[49]),q[60]=Le(H[57]),q[61]=Le(H[58]),q[62]=Le(H[62]),q[63]=Le(H[63])}function Jt(H){const q=.5*Math.cos(.7853975),pe=.5*Math.cos(3.14159/16),Ie=.5*Math.cos(3.14159/8),Ne=.5*Math.cos(3*3.14159/16),Oe=.5*Math.cos(5*3.14159/16),st=.5*Math.cos(3*3.14159/8),$e=.5*Math.cos(7*3.14159/16);for(var G=new Array(4),se=new Array(4),he=new Array(4),le=new Array(4),ge=0;ge<8;++ge){var Ee=ge*8;G[0]=Ie*H[Ee+2],G[1]=st*H[Ee+2],G[2]=Ie*H[Ee+6],G[3]=st*H[Ee+6],se[0]=pe*H[Ee+1]+Ne*H[Ee+3]+Oe*H[Ee+5]+$e*H[Ee+7],se[1]=Ne*H[Ee+1]-$e*H[Ee+3]-pe*H[Ee+5]-Oe*H[Ee+7],se[2]=Oe*H[Ee+1]-pe*H[Ee+3]+$e*H[Ee+5]+Ne*H[Ee+7],se[3]=$e*H[Ee+1]-Oe*H[Ee+3]+Ne*H[Ee+5]-pe*H[Ee+7],he[0]=q*(H[Ee+0]+H[Ee+4]),he[3]=q*(H[Ee+0]-H[Ee+4]),he[1]=G[0]+G[3],he[2]=G[1]-G[2],le[0]=he[0]+he[1],le[1]=he[3]+he[2],le[2]=he[3]-he[2],le[3]=he[0]-he[1],H[Ee+0]=le[0]+se[0],H[Ee+1]=le[1]+se[1],H[Ee+2]=le[2]+se[2],H[Ee+3]=le[3]+se[3],H[Ee+4]=le[3]-se[3],H[Ee+5]=le[2]-se[2],H[Ee+6]=le[1]-se[1],H[Ee+7]=le[0]-se[0]}for(var Ue=0;Ue<8;++Ue)G[0]=Ie*H[16+Ue],G[1]=st*H[16+Ue],G[2]=Ie*H[48+Ue],G[3]=st*H[48+Ue],se[0]=pe*H[8+Ue]+Ne*H[24+Ue]+Oe*H[40+Ue]+$e*H[56+Ue],se[1]=Ne*H[8+Ue]-$e*H[24+Ue]-pe*H[40+Ue]-Oe*H[56+Ue],se[2]=Oe*H[8+Ue]-pe*H[24+Ue]+$e*H[40+Ue]+Ne*H[56+Ue],se[3]=$e*H[8+Ue]-Oe*H[24+Ue]+Ne*H[40+Ue]-pe*H[56+Ue],he[0]=q*(H[Ue]+H[32+Ue]),he[3]=q*(H[Ue]-H[32+Ue]),he[1]=G[0]+G[3],he[2]=G[1]-G[2],le[0]=he[0]+he[1],le[1]=he[3]+he[2],le[2]=he[3]-he[2],le[3]=he[0]-he[1],H[0+Ue]=le[0]+se[0],H[8+Ue]=le[1]+se[1],H[16+Ue]=le[2]+se[2],H[24+Ue]=le[3]+se[3],H[32+Ue]=le[3]-se[3],H[40+Ue]=le[2]-se[2],H[48+Ue]=le[1]-se[1],H[56+Ue]=le[0]-se[0]}function dt(H){for(var q=0;q<64;++q){var pe=H[0][q],Ie=H[1][q],Ne=H[2][q];H[0][q]=pe+1.5747*Ne,H[1][q]=pe-.1873*Ie-.4682*Ne,H[2][q]=pe+1.8556*Ie}}function te(H,q,pe){for(var Ie=0;Ie<64;++Ie)q[pe+Ie]=hh.toHalfFloat(J(H[Ie]))}function J(H){return H<=1?Math.sign(H)*Math.pow(Math.abs(H),2.2):Math.sign(H)*Math.pow(B,Math.abs(H)-1)}function Me(H){return new DataView(H.array.buffer,H.offset.value,H.size)}function Ge(H){var q=H.viewer.buffer.slice(H.offset.value,H.offset.value+H.size),pe=new Uint8Array(Bt(q)),Ie=new Uint8Array(pe.length);return Fe(pe),ne(pe,Ie),new DataView(Ie.buffer)}function Je(H){var q=H.array.slice(H.offset.value,H.offset.value+H.size),pe=T0(q),Ie=new Uint8Array(pe.length);return Fe(pe),ne(pe,Ie),new DataView(Ie.buffer)}function Ve(H){for(var q=H.viewer,pe={value:H.offset.value},Ie=new Uint16Array(H.width*H.scanlineBlockSize*(H.channels*H.type)),Ne=new Uint8Array(8192),Oe=0,st=new Array(H.channels),$e=0;$e<H.channels;$e++)st[$e]={},st[$e].start=Oe,st[$e].end=st[$e].start,st[$e].nx=H.width,st[$e].ny=H.lines,st[$e].size=H.type,Oe+=st[$e].nx*st[$e].ny*st[$e].size;var G=Be(q,pe),se=Be(q,pe);if(se>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(G<=se)for(var $e=0;$e<se-G+1;$e++)Ne[$e+G]=on(q,pe);var he=new Uint16Array(65536),le=D(Ne,he),ge=Nt(q,pe);kt(H.array,q,pe,ge,Ie,Oe);for(var $e=0;$e<H.channels;++$e)for(var Ee=st[$e],Ue=0;Ue<st[$e].size;++Ue)ut(Ie,Ee.start+Ue,Ee.nx,Ee.size,Ee.ny,Ee.nx*Ee.size,le);je(he,Ie,Oe);for(var Xe=0,qe=new Uint8Array(Ie.buffer.byteLength),mt=0;mt<H.lines;mt++)for(var ht=0;ht<H.channels;ht++){var Ee=st[ht],Ze=Ee.nx*Ee.size,vt=new Uint8Array(Ie.buffer,Ee.end*2,Ze*2);qe.set(vt,Xe),Xe+=Ze*2,Ee.end+=Ze}return new DataView(qe.buffer)}function Dt(H){var q=H.array.slice(H.offset.value,H.offset.value+H.size),pe=T0(q);const Ie=H.lines*H.channels*H.width,Ne=H.type==1?new Uint16Array(Ie):new Uint32Array(Ie);let Oe=0,st=0;const $e=new Array(4);for(let G=0;G<H.lines;G++)for(let se=0;se<H.channels;se++){let he=0;switch(H.type){case 1:$e[0]=Oe,$e[1]=$e[0]+H.width,Oe=$e[1]+H.width;for(let le=0;le<H.width;++le){const ge=pe[$e[0]++]<<8|pe[$e[1]++];he+=ge,Ne[st]=he,st++}break;case 2:$e[0]=Oe,$e[1]=$e[0]+H.width,$e[2]=$e[1]+H.width,Oe=$e[2]+H.width;for(let le=0;le<H.width;++le){const ge=pe[$e[0]++]<<24|pe[$e[1]++]<<16|pe[$e[2]++]<<8;he+=ge,Ne[st]=he,st++}break}}return new DataView(Ne.buffer)}function pt(H){var q=H.viewer,pe={value:H.offset.value},Ie=new Uint8Array(H.width*H.lines*(H.channels*H.type*2)),Ne={version:Xt(q,pe),unknownUncompressedSize:Xt(q,pe),unknownCompressedSize:Xt(q,pe),acCompressedSize:Xt(q,pe),dcCompressedSize:Xt(q,pe),rleCompressedSize:Xt(q,pe),rleUncompressedSize:Xt(q,pe),rleRawSize:Xt(q,pe),totalAcUncompressedCount:Xt(q,pe),totalDcUncompressedCount:Xt(q,pe),acCompression:Xt(q,pe)};if(Ne.version<2)throw"EXRLoader.parse: "+tr.compression+" version "+Ne.version+" is unsupported";for(var Oe=new Array,st=Be(q,pe)-2;st>0;){var $e=bt(q.buffer,pe),G=on(q,pe),se=G>>2&3,he=(G>>4)-1,le=new Int8Array([he])[0],ge=on(q,pe);Oe.push({name:$e,index:le,type:ge,compression:se}),st-=$e.length+3}for(var Ee=tr.channels,Ue=new Array(H.channels),Xe=0;Xe<H.channels;++Xe){var qe=Ue[Xe]={},mt=Ee[Xe];qe.name=mt.name,qe.compression=0,qe.decoded=!1,qe.type=mt.pixelType,qe.pLinear=mt.pLinear,qe.width=H.width,qe.height=H.lines}for(var ht={idx:new Array(3)},Ze=0;Ze<H.channels;++Ze)for(var qe=Ue[Ze],Xe=0;Xe<Oe.length;++Xe){var vt=Oe[Xe];qe.name==vt.name&&(qe.compression=vt.compression,vt.index>=0&&(ht.idx[vt.index]=Ze),qe.offset=Ze)}if(Ne.acCompressedSize>0)switch(Ne.acCompression){case 0:var Ot=new Uint16Array(Ne.totalAcUncompressedCount);kt(H.array,q,pe,Ne.acCompressedSize,Ot,Ne.totalAcUncompressedCount);break;case 1:var yt=H.array.slice(pe.value,pe.value+Ne.totalAcUncompressedCount),nn=T0(yt),Ot=new Uint16Array(nn.buffer);pe.value+=Ne.totalAcUncompressedCount;break}if(Ne.dcCompressedSize>0){var Ht={array:H.array,offset:pe,size:Ne.dcCompressedSize},Et=new Uint16Array(Je(Ht).buffer);pe.value+=Ne.dcCompressedSize}if(Ne.rleRawSize>0){var yt=H.array.slice(pe.value,pe.value+Ne.rleCompressedSize),nn=T0(yt),vn=Bt(nn.buffer);pe.value+=Ne.rleCompressedSize}for(var Zt=0,ln=new Array(Ue.length),Xe=0;Xe<ln.length;++Xe)ln[Xe]=new Array;for(var ni=0;ni<H.lines;++ni)for(var pn=0;pn<Ue.length;++pn)ln[pn].push(Zt),Zt+=Ue[pn].width*H.type*2;nt(ht,ln,Ue,Ot,Et,Ie);for(var Xe=0;Xe<Ue.length;++Xe){var qe=Ue[Xe];if(!qe.decoded)switch(qe.compression){case 2:for(var An=0,Qt=0,ni=0;ni<H.lines;++ni){for(var hi=ln[Xe][An],Dn=0;Dn<qe.width;++Dn){for(var ii=0;ii<2*qe.type;++ii)Ie[hi++]=vn[Qt+ii*qe.width*qe.height];Qt++}An++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Ie.buffer)}function bt(H,q){for(var pe=new Uint8Array(H),Ie=0;pe[q.value+Ie]!=0;)Ie+=1;var Ne=new TextDecoder().decode(pe.slice(q.value,q.value+Ie));return q.value=q.value+Ie+1,Ne}function un(H,q,pe){var Ie=new TextDecoder().decode(new Uint8Array(H).slice(q.value,q.value+pe));return q.value=q.value+pe,Ie}function it(H,q){var pe=Wt(H,q),Ie=Nt(H,q);return[pe,Ie]}function Pt(H,q){var pe=Nt(H,q),Ie=Nt(H,q);return[pe,Ie]}function Wt(H,q){var pe=H.getInt32(q.value,!0);return q.value=q.value+4,pe}function Nt(H,q){var pe=H.getUint32(q.value,!0);return q.value=q.value+4,pe}function Rt(H,q){var pe=H[q.value];return q.value=q.value+1,pe}function on(H,q){var pe=H.getUint8(q.value);return q.value=q.value+1,pe}const Xt=function(H,q){let pe;return"getBigInt64"in DataView.prototype?pe=Number(H.getBigInt64(q.value,!0)):pe=H.getUint32(q.value+4,!0)+Number(H.getUint32(q.value,!0)<<32),q.value+=8,pe};function sn(H,q){var pe=H.getFloat32(q.value,!0);return q.value+=4,pe}function ye(H,q){return hh.toHalfFloat(sn(H,q))}function Le(H){var q=(H&31744)>>10,pe=H&1023;return(H>>15?-1:1)*(q?q===31?pe?NaN:1/0:Math.pow(2,q-15)*(1+pe/1024):6103515625e-14*(pe/1024))}function Be(H,q){var pe=H.getUint16(q.value,!0);return q.value+=2,pe}function We(H,q){return Le(Be(H,q))}function wt(H,q,pe,Ie){for(var Ne=pe.value,Oe=[];pe.value<Ne+Ie-1;){var st=bt(q,pe),$e=Wt(H,pe),G=on(H,pe);pe.value+=3;var se=Wt(H,pe),he=Wt(H,pe);Oe.push({name:st,pixelType:$e,pLinear:G,xSampling:se,ySampling:he})}return pe.value+=1,Oe}function xt(H,q){var pe=sn(H,q),Ie=sn(H,q),Ne=sn(H,q),Oe=sn(H,q),st=sn(H,q),$e=sn(H,q),G=sn(H,q),se=sn(H,q);return{redX:pe,redY:Ie,greenX:Ne,greenY:Oe,blueX:st,blueY:$e,whiteX:G,whiteY:se}}function an(H,q){var pe=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Ie=on(H,q);return pe[Ie]}function Qn(H,q){var pe=Nt(H,q),Ie=Nt(H,q),Ne=Nt(H,q),Oe=Nt(H,q);return{xMin:pe,yMin:Ie,xMax:Ne,yMax:Oe}}function bi(H,q){var pe=["INCREASING_Y"],Ie=on(H,q);return pe[Ie]}function Tn(H,q){var pe=sn(H,q),Ie=sn(H,q);return[pe,Ie]}function $i(H,q){var pe=sn(H,q),Ie=sn(H,q),Ne=sn(H,q);return[pe,Ie,Ne]}function er(H,q,pe,Ie,Ne){if(Ie==="string"||Ie==="stringvector"||Ie==="iccProfile")return un(q,pe,Ne);if(Ie==="chlist")return wt(H,q,pe,Ne);if(Ie==="chromaticities")return xt(H,pe);if(Ie==="compression")return an(H,pe);if(Ie==="box2i")return Qn(H,pe);if(Ie==="lineOrder")return bi(H,pe);if(Ie==="float")return sn(H,pe);if(Ie==="v2f")return Tn(H,pe);if(Ie==="v3f")return $i(H,pe);if(Ie==="int")return Wt(H,pe);if(Ie==="rational")return it(H,pe);if(Ie==="timecode")return Pt(H,pe);if(Ie==="preview")return pe.value+=Ne,"skipped";pe.value+=Ne}function mo(H,q,pe){const Ie={};if(H.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Ie.version=H.getUint8(4);const Ne=H.getUint8(5);Ie.spec={singleTile:!!(Ne&2),longName:!!(Ne&4),deepFormat:!!(Ne&8),multiPart:!!(Ne&16)},pe.value=8;for(var Oe=!0;Oe;){var st=bt(q,pe);if(st==0)Oe=!1;else{var $e=bt(q,pe),G=Nt(H,pe),se=er(H,q,pe,$e,G);se===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${$e}'.`):Ie[st]=se}}if(Ne&-5)throw console.error("EXRHeader:",Ie),"THREE.EXRLoader: provided file is currently unsupported.";return Ie}function sa(H,q,pe,Ie,Ne){const Oe={size:0,viewer:q,array:pe,offset:Ie,width:H.dataWindow.xMax-H.dataWindow.xMin+1,height:H.dataWindow.yMax-H.dataWindow.yMin+1,channels:H.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:H.channels[0].pixelType,uncompress:null,getter:null,format:null,[hm?"colorSpace":"encoding"]:null};switch(H.compression){case"NO_COMPRESSION":Oe.lines=1,Oe.uncompress=Me;break;case"RLE_COMPRESSION":Oe.lines=1,Oe.uncompress=Ge;break;case"ZIPS_COMPRESSION":Oe.lines=1,Oe.uncompress=Je;break;case"ZIP_COMPRESSION":Oe.lines=16,Oe.uncompress=Je;break;case"PIZ_COMPRESSION":Oe.lines=32,Oe.uncompress=Ve;break;case"PXR24_COMPRESSION":Oe.lines=16,Oe.uncompress=Dt;break;case"DWAA_COMPRESSION":Oe.lines=32,Oe.uncompress=pt;break;case"DWAB_COMPRESSION":Oe.lines=256,Oe.uncompress=pt;break;default:throw"EXRLoader.parse: "+H.compression+" is unsupported"}if(Oe.scanlineBlockSize=Oe.lines,Oe.type==1)switch(Ne){case Ri:Oe.getter=We,Oe.inputSize=2;break;case dr:Oe.getter=Be,Oe.inputSize=2;break}else if(Oe.type==2)switch(Ne){case Ri:Oe.getter=sn,Oe.inputSize=4;break;case dr:Oe.getter=ye,Oe.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Oe.type+" for "+H.compression+".";Oe.blockCount=(H.dataWindow.yMax+1)/Oe.scanlineBlockSize;for(var st=0;st<Oe.blockCount;st++)Xt(q,Ie);Oe.outputChannels=Oe.channels==3?4:Oe.channels;const $e=Oe.width*Oe.height*Oe.outputChannels;switch(Ne){case Ri:Oe.byteArray=new Float32Array($e),Oe.channels<Oe.outputChannels&&Oe.byteArray.fill(1,0,$e);break;case dr:Oe.byteArray=new Uint16Array($e),Oe.channels<Oe.outputChannels&&Oe.byteArray.fill(15360,0,$e);break;default:console.error("THREE.EXRLoader: unsupported type: ",Ne);break}return Oe.bytesPerLine=Oe.width*Oe.inputSize*Oe.channels,Oe.outputChannels==4?Oe.format=Vi:Oe.format=bg,hm?Oe.colorSpace="srgb-linear":Oe.encoding=3e3,Oe}const Cr=new DataView(e),is=new Uint8Array(e),rs={value:0},tr=mo(Cr,e,rs),hn=sa(tr,Cr,is,rs,this.type),Vo={value:0},go={R:0,G:1,B:2,A:3,Y:0};for(let H=0;H<hn.height/hn.scanlineBlockSize;H++){const q=Nt(Cr,rs);hn.size=Nt(Cr,rs),hn.lines=q+hn.scanlineBlockSize>hn.height?hn.height-q:hn.scanlineBlockSize;const Ie=hn.size<hn.lines*hn.bytesPerLine?hn.uncompress(hn):Me(hn);rs.value+=hn.size;for(let Ne=0;Ne<hn.scanlineBlockSize;Ne++){const Oe=Ne+H*hn.scanlineBlockSize;if(Oe>=hn.height)break;for(let st=0;st<hn.channels;st++){const $e=go[tr.channels[st].name];for(let G=0;G<hn.width;G++){Vo.value=(Ne*(hn.channels*hn.width)+st*hn.width+G)*hn.inputSize;const se=(hn.height-1-Oe)*(hn.width*hn.outputChannels)+G*hn.outputChannels+$e;hn.byteArray[se]=hn.getter(Ie,Vo)}}}}return{header:tr,width:hn.width,height:hn.height,data:hn.byteArray,format:hn.format,[hm?"colorSpace":"encoding"]:hn[hm?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,n,i){function s(a,o){hm?a.colorSpace=o.colorSpace:a.encoding=o.encoding,a.minFilter=jn,a.magFilter=jn,a.generateMipmaps=!1,a.flipY=!1,t&&t(a,o)}return super.load(e,s,n,i)}}const rw=new WeakMap;class iX extends Hr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){const s=new Or(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,a=>{const o={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,o).then(t).catch(i)},n,i)}decodeDracoFile(e,t,n,i){const s={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const n=JSON.stringify(t);if(rw.has(e)){const l=rw.get(e);if(l.key===n)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,a=e.byteLength,o=this._getWorker(s,a).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),rw.set(e,{key:n,promise:o}),o}_createGeometry(e){const t=new wn;e.index&&t.setIndex(new Vn(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n],s=i.name,a=i.array,o=i.itemSize;t.setAttribute(s,new Vn(a,o))}return t}_loadLibrary(e,t){const n=new Or(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((i,s)=>{n.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const i=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const s=rX.toString(),a=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const a=s.data;switch(a.type){case"decode":i._callbacks[a.id].resolve(a);break;case"error":i._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function rX(){let r,e;onmessage=function(a){const o=a.data;switch(o.type){case"init":r=o.decoderConfig,e=new Promise(function(u){r.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(r)});break;case"decode":const l=o.buffer,c=o.taskConfig;e.then(u=>{const d=u.draco,f=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(d,f,m,c),y=v.attributes.map(w=>w.array.buffer);v.index&&y.push(v.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:v},y)}catch(v){console.error(v),self.postMessage({type:"error",id:o.id,error:v.message})}finally{d.destroy(m),d.destroy(f)}});break}};function t(a,o,l,c){const u=c.attributeIDs,d=c.attributeTypes;let f,m;const v=o.GetEncodedGeometryType(l);if(v===a.TRIANGULAR_MESH)f=new a.Mesh,m=o.DecodeBufferToMesh(l,f);else if(v===a.POINT_CLOUD)f=new a.PointCloud,m=o.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const y={index:null,attributes:[]};for(const w in u){const b=self[d[w]];let S,M;if(c.useUniqueIDs)M=u[w],S=o.GetAttributeByUniqueId(f,M);else{if(M=o.GetAttributeId(f,a[u[w]]),M===-1)continue;S=o.GetAttribute(f,M)}y.attributes.push(i(a,o,f,w,b,S))}return v===a.TRIANGULAR_MESH&&(y.index=n(a,o,f)),a.destroy(f),y}function n(a,o,l){const u=l.num_faces()*3,d=u*4,f=a._malloc(d);o.GetTrianglesUInt32Array(l,d,f);const m=new Uint32Array(a.HEAPF32.buffer,f,u).slice();return a._free(f),{array:m,itemSize:1}}function i(a,o,l,c,u,d){const f=d.num_components(),v=l.num_points()*f,y=v*u.BYTES_PER_ELEMENT,w=s(a,u),b=a._malloc(y);o.GetAttributeDataArrayForAllPoints(l,d,w,y,b);const S=new u(a.HEAPF32.buffer,b,v).slice();return a._free(b),{name:c,array:S,itemSize:f}}function s(a,o){switch(o){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}let R0;const sw=()=>{if(R0)return R0;const r="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),n=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=r;WebAssembly.validate(t)&&(i=e);let s;const a=WebAssembly.instantiate(o(i),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function o(d){const f=new Uint8Array(d.length);for(let v=0;v<d.length;++v){const y=d.charCodeAt(v);f[v]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let m=0;for(let v=0;v<d.length;++v)f[m++]=f[v]<60?n[f[v]]:(f[v]-60)*64+f[++v];return f.buffer.slice(0,m)}function l(d,f,m,v,y,w){const b=s.exports.sbrk,S=m+3&-4,M=b(S*v),E=b(y.length),T=new Uint8Array(s.exports.memory.buffer);T.set(y,E);const R=d(M,m,v,E,y.length);if(R===0&&w&&w(M,S,v),f.set(T.subarray(M,M+m*v)),b(M-b(0)),R!==0)throw new Error(`Malformed buffer data: ${R}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return R0={ready:a,supported:!0,decodeVertexBuffer(d,f,m,v,y){l(s.exports.meshopt_decodeVertexBuffer,d,f,m,v,s.exports[c[y]])},decodeIndexBuffer(d,f,m,v){l(s.exports.meshopt_decodeIndexBuffer,d,f,m,v)},decodeIndexSequence(d,f,m,v){l(s.exports.meshopt_decodeIndexSequence,d,f,m,v)},decodeGltfBuffer(d,f,m,v,y,w){l(s.exports[u[y]],d,f,m,v,s.exports[c[w]])}},R0};function t3(r,e,t,n){const i=class extends zr{constructor(a={}){const o=Object.entries(r);super({uniforms:o.reduce((l,[c,u])=>{const d=_S.clone({[c]:{value:u}});return{...l,...d}},{}),vertexShader:e,fragmentShader:t}),this.key="",o.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,a)}};return i.key=bf.generateUUID(),i}const sX=()=>parseInt(Xf.replace(/\D+/g,"")),n3=sX();let I0=null,i3="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function r3(r=!0,e=!0,t){return n=>{t&&t(n),r&&(I0||(I0=new iX),I0.setDecoderPath(typeof r=="string"?r:i3),n.setDRACOLoader(I0)),e&&n.setMeshoptDecoder(typeof sw=="function"?sw():sw)}}const ky=(r,e,t,n)=>Ul(c_,r,r3(e,t,n));ky.preload=(r,e,t,n)=>Ul.preload(c_,r,r3(e,t,n));ky.clear=r=>Ul.clear(c_,r);ky.setDecoderPath=r=>{i3=r};const aX=de.forwardRef(function({children:e,disable:t,disableX:n,disableY:i,disableZ:s,left:a,right:o,top:l,bottom:c,front:u,back:d,onCentered:f,precise:m=!0,cacheKey:v=0,...y},w){const b=de.useRef(null),S=de.useRef(null),M=de.useRef(null);return de.useLayoutEffect(()=>{S.current.matrixWorld.identity();const E=new _r().setFromObject(M.current,m),T=new $,R=new Mr,P=E.max.x-E.min.x,k=E.max.y-E.min.y,B=E.max.z-E.min.z;E.getCenter(T),E.getBoundingSphere(R);const D=l?k/2:c?-k/2:0,O=a?-P/2:o?P/2:0,V=u?B/2:d?-B/2:0;S.current.position.set(t||n?0:-T.x+O,t||i?0:-T.y+D,t||s?0:-T.z+V),typeof f<"u"&&f({parent:b.current.parent,container:b.current,width:P,height:k,depth:B,boundingBox:E,boundingSphere:R,center:T,verticalAlignment:D,horizontalAlignment:O,depthAlignment:V})},[v,f,l,a,u,t,n,i,s,m,o,c,d]),de.useImperativeHandle(w,()=>b.current,[]),de.createElement("group",Po({ref:b},y),de.createElement("group",{ref:S},de.createElement("group",{ref:M},e)))}),oX=3e3,lX=3001,cX=t3({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");var ya=function(r){return r[r.NONE=0]="NONE",r[r.START=1]="START",r[r.ACTIVE=2]="ACTIVE",r}(ya||{});const sf=r=>r&&r.isOrthographicCamera,uX=r=>r&&r.isBox3,hX=r=>1-Math.exp(-5*r)+.007*r,s3=de.createContext(null);function dX({children:r,maxDuration:e=1,margin:t=1.2,observe:n,fit:i,clip:s,interpolateFunc:a=hX,onFit:o}){const l=de.useRef(null),{camera:c,size:u,invalidate:d}=$s(),f=$s(T=>T.controls),m=de.useRef(o);m.current=o;const v=de.useRef({camPos:new $,camRot:new fr,camZoom:1}),y=de.useRef({camPos:void 0,camRot:void 0,camZoom:void 0,camUp:void 0,target:void 0}),w=de.useRef(ya.NONE),b=de.useRef(0),[S]=de.useState(()=>new _r),M=de.useMemo(()=>{function T(){const R=S.getSize(new $),P=S.getCenter(new $),k=Math.max(R.x,R.y,R.z),B=sf(c)?k*4:k/(2*Math.atan(Math.PI*c.fov/360)),D=sf(c)?k*4:B/c.aspect,O=t*Math.max(B,D);return{box:S,size:R,center:P,distance:O}}return{getSize:T,refresh(R){if(uX(R))S.copy(R);else{const P=R||l.current;if(!P)return this;P.updateWorldMatrix(!0,!0),S.setFromObject(P)}if(S.isEmpty()){const P=c.position.length()||10;S.setFromCenterAndSize(new $,new $(P,P,P))}return v.current.camPos.copy(c.position),v.current.camRot.copy(c.quaternion),sf(c)&&(v.current.camZoom=c.zoom),y.current.camPos=void 0,y.current.camRot=void 0,y.current.camZoom=void 0,y.current.camUp=void 0,y.current.target=void 0,this},reset(){const{center:R,distance:P}=T(),k=c.position.clone().sub(R).normalize();y.current.camPos=R.clone().addScaledVector(k,P),y.current.target=R.clone();const B=new Kt().lookAt(y.current.camPos,y.current.target,c.up);return y.current.camRot=new fr().setFromRotationMatrix(B),w.current=ya.START,b.current=0,this},moveTo(R){return y.current.camPos=Array.isArray(R)?new $(...R):R.clone(),w.current=ya.START,b.current=0,this},lookAt({target:R,up:P}){y.current.target=Array.isArray(R)?new $(...R):R.clone(),P?y.current.camUp=Array.isArray(P)?new $(...P):P.clone():y.current.camUp=c.up.clone();const k=new Kt().lookAt(y.current.camPos||c.position,y.current.target,y.current.camUp);return y.current.camRot=new fr().setFromRotationMatrix(k),w.current=ya.START,b.current=0,this},to({position:R,target:P}){return this.moveTo(R).lookAt({target:P})},fit(){if(!sf(c))return this.reset();let R=0,P=0;const k=[new $(S.min.x,S.min.y,S.min.z),new $(S.min.x,S.max.y,S.min.z),new $(S.min.x,S.min.y,S.max.z),new $(S.min.x,S.max.y,S.max.z),new $(S.max.x,S.max.y,S.max.z),new $(S.max.x,S.max.y,S.min.z),new $(S.max.x,S.min.y,S.max.z),new $(S.max.x,S.min.y,S.min.z)],B=y.current.camPos||c.position,D=y.current.target||(f==null?void 0:f.target),O=y.current.camUp||c.up,V=D?new Kt().lookAt(B,D,O).setPosition(B).invert():c.matrixWorldInverse;for(const ie of k)ie.applyMatrix4(V),R=Math.max(R,Math.abs(ie.y)),P=Math.max(P,Math.abs(ie.x));R*=2,P*=2;const X=(c.top-c.bottom)/R,K=(c.right-c.left)/P;return y.current.camZoom=Math.min(X,K)/t,w.current=ya.START,b.current=0,m.current&&m.current(this.getSize()),this},clip(){const{distance:R}=T();return c.near=R/100,c.far=R*100,c.updateProjectionMatrix(),f&&(f.maxDistance=R*10,f.update()),d(),this}}},[S,c,f,t,d]);de.useLayoutEffect(()=>{if(f){const T=()=>{if(f&&y.current.target&&w.current!==ya.NONE){const R=new $().setFromMatrixColumn(c.matrix,2),P=v.current.camPos.distanceTo(f.target),k=(y.current.camPos||v.current.camPos).distanceTo(y.current.target),B=(1-b.current)*P+b.current*k;f.target.copy(c.position).addScaledVector(R,-B),f.update()}w.current=ya.NONE};return f.addEventListener("start",T),()=>f.removeEventListener("start",T)}},[f]);const E=de.useRef(0);return de.useLayoutEffect(()=>{(n||E.current++===0)&&(M.refresh(),i&&M.reset().fit(),s&&M.clip())},[u,s,i,n,c,f]),qf((T,R)=>{if(w.current===ya.START)w.current=ya.ACTIVE,d();else if(w.current===ya.ACTIVE){if(b.current+=R/e,b.current>=1)y.current.camPos&&c.position.copy(y.current.camPos),y.current.camRot&&c.quaternion.copy(y.current.camRot),y.current.camUp&&c.up.copy(y.current.camUp),y.current.camZoom&&sf(c)&&(c.zoom=y.current.camZoom),c.updateMatrixWorld(),c.updateProjectionMatrix(),f&&y.current.target&&(f.target.copy(y.current.target),f.update()),w.current=ya.NONE;else{const P=a(b.current);y.current.camPos&&c.position.lerpVectors(v.current.camPos,y.current.camPos,P),y.current.camRot&&c.quaternion.slerpQuaternions(v.current.camRot,y.current.camRot,P),y.current.camUp&&c.up.set(0,1,0).applyQuaternion(c.quaternion),y.current.camZoom&&sf(c)&&(c.zoom=(1-P)*v.current.camZoom+P*y.current.camZoom),c.updateMatrixWorld(),c.updateProjectionMatrix()}d()}}),de.createElement("group",{ref:l},de.createElement(s3.Provider,{value:M},r))}function fX(){return de.useContext(s3)}const a3=(r,e,t)=>{let n;switch(r){case zs:n=new Uint8ClampedArray(e*t*4);break;case dr:n=new Uint16Array(e*t*4);break;case zo:n=new Uint32Array(e*t*4);break;case ty:n=new Int8Array(e*t*4);break;case ny:n=new Int16Array(e*t*4);break;case yg:n=new Int32Array(e*t*4);break;case Ri:n=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return n};let P0;const pX=(r,e,t,n)=>{if(P0!==void 0)return P0;const i=new ts(1,1,n);e.setRenderTarget(i);const s=new yi(new Hl,new Us({color:16777215}));e.render(s,t),e.setRenderTarget(null);const a=a3(r,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,a),i.dispose(),s.geometry.dispose(),s.material.dispose(),P0=a[0]!==0,P0};class u_{constructor(e){var t,n,i,s,a,o,l,c,u,d,f,m,v,y,w,b;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(M){throw this._renderer.setRenderTarget(null),M}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const S={format:Vi,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter)!==void 0?(o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter:jn,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter:jn,samples:((u=e.renderTargetOptions)===null||u===void 0?void 0:u.samples)!==void 0?(d=e.renderTargetOptions)===null||d===void 0?void 0:d.samples:void 0,wrapS:((f=e.renderTargetOptions)===null||f===void 0?void 0:f.wrapS)!==void 0?(m=e.renderTargetOptions)===null||m===void 0?void 0:m.wrapS:Gi,wrapT:((v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapT)!==void 0?(y=e.renderTargetOptions)===null||y===void 0?void 0:y.wrapT:Gi};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=u_.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Mg,this._camera=new Oh,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!pX(this._type,this._renderer,this._camera,S)){let M;switch(this._type){case dr:M=this._renderer.extensions.has("EXT_color_buffer_float")?Ri:void 0;break}M!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Ri}`),this._type=M):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new yi(new Hl,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new ts(this.width,this.height,S),this._renderTarget.texture.mapping=((w=e.renderTargetOptions)===null||w===void 0?void 0:w.mapping)!==void 0?(b=e.renderTargetOptions)===null||b===void 0?void 0:b.mapping:Hc}static instantiateRenderer(){const e=new n_;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=a3(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new co(this.toArray(),this.width,this.height,Vi,this._type,(e==null?void 0:e.mapping)||Hc,(e==null?void 0:e.wrapS)||Gi,(e==null?void 0:e.wrapT)||Gi,(e==null?void 0:e.magFilter)||jn,(e==null?void 0:e.minFilter)||jn,(e==null?void 0:e.anisotropy)||1,Ho);return t.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof zr&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof qn&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof qn&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const mX=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,gX=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class xX extends zr{constructor({gamma:e,offsetHdr:t,offsetSdr:n,gainMapMin:i,gainMapMax:s,maxDisplayBoost:a,hdrCapacityMin:o,hdrCapacityMax:l,sdr:c,gainMap:u}){super({name:"GainMapDecoderMaterial",vertexShader:mX,fragmentShader:gX,uniforms:{sdr:{value:c},gainMap:{value:u},gamma:{value:new $(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new $().fromArray(t)},offsetSdr:{value:new $().fromArray(n)},gainMapMin:{value:new $().fromArray(i)},gainMapMax:{value:new $().fromArray(s)},weightFactor:{value:(Math.log2(a)-o)/(l-o)}},blending:Bo,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=a,this._hdrCapacityMin=o,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class o3 extends Error{}class l3 extends Error{}const dm=(r,e,t)=>{const n=new RegExp(`${e}="([^"]*)"`,"i").exec(r);if(n)return n[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(r);if(i){const s=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(a=>a.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},vX=r=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(r):e=r.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const n=e.indexOf("x:xmpmeta>",t),i=e.slice(t,n+10);try{const s=dm(i,"hdrgm:GainMapMin","0"),a=dm(i,"hdrgm:GainMapMax"),o=dm(i,"hdrgm:Gamma","1"),l=dm(i,"hdrgm:OffsetSDR","0.015625"),c=dm(i,"hdrgm:OffsetHDR","0.015625"),u=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),d=u?u[1]:"0",f=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!f)throw new Error("Incomplete gainmap metadata");const m=f[1];return{gainMapMin:Array.isArray(s)?s.map(v=>parseFloat(v)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(a)?a.map(v=>parseFloat(v)):[parseFloat(a),parseFloat(a),parseFloat(a)],gamma:Array.isArray(o)?o.map(v=>parseFloat(v)):[parseFloat(o),parseFloat(o),parseFloat(o)],offsetSdr:Array.isArray(l)?l.map(v=>parseFloat(v)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(c)?c.map(v=>parseFloat(v)):[parseFloat(c),parseFloat(c),parseFloat(c)],hdrCapacityMin:parseFloat(d),hdrCapacityMax:parseFloat(m)}}catch{}t=e.indexOf("<x:xmpmeta",n)}};class yX{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,n)=>{const i=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){n(new Error("Not a valid jpeg"));return}const a=s.byteLength;let o=2,l=0,c;for(;o<a;){if(++l>250){n(new Error(`Found no marker after ${l} loops 😵`));return}if(s.getUint8(o)!==255){n(new Error(`Not a valid marker at offset 0x${o.toString(16)}, found: 0x${s.getUint8(o).toString(16)}`));return}if(c=s.getUint8(o+1),i&&console.log(`Marker: ${c.toString(16)}`),c===226){i&&console.log("Found APP2 marker (0xffe2)");const u=o+4;if(s.getUint32(u)===1297106432){const d=u+4;let f;if(s.getUint16(d)===18761)f=!1;else if(s.getUint16(d)===19789)f=!0;else{n(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(d+2,!f)!==42){n(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const m=s.getUint32(d+4,!f);if(m<8){n(new Error("Not valid TIFF data! (First offset less than 8)"));return}const v=d+m,y=s.getUint16(v,!f),w=v+2;let b=0;for(let T=w;T<w+12*y;T+=12)s.getUint16(T,!f)===45057&&(b=s.getUint32(T+8,!f));const M=v+2+y*12+4,E=[];for(let T=M;T<M+b*16;T+=16){const R={MPType:s.getUint32(T,!f),size:s.getUint32(T+4,!f),dataOffset:s.getUint32(T+8,!f),dependantImages:s.getUint32(T+12,!f),start:-1,end:-1,isFII:!1};R.dataOffset?(R.start=d+R.dataOffset,R.isFII=!1):(R.start=0,R.isFII=!0),R.end=R.start+R.size,E.push(R)}if(this.options.extractNonFII&&E.length){const T=new Blob([s]),R=[];for(const P of E){if(P.isFII&&!this.options.extractFII)continue;const k=T.slice(P.start,P.end+1,"image/jpeg");R.push(k)}t(R)}}}o+=2+s.getUint16(o+2)}})}}const bX=async r=>{const e=vX(r);if(!e)throw new l3("Gain map XMP metadata not found");const n=await new yX({extractFII:!0,extractNonFII:!0}).extract(r);if(n.length!==2)throw new o3("Gain map recovery image not found");return{sdr:new Uint8Array(await n[0].arrayBuffer()),gainMap:new Uint8Array(await n[1].arrayBuffer()),metadata:e}},hT=r=>new Promise((e,t)=>{const n=document.createElement("img");n.onload=()=>{e(n)},n.onerror=i=>{t(i)},n.src=URL.createObjectURL(r)});class c3 extends Hr{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new Ry}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new xX({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new qn,sdr:new qn});return new u_({width:16,height:16,type:dr,colorSpace:Ho,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,n,i){const s=i?new Blob([i],{type:"image/jpeg"}):void 0,a=new Blob([n],{type:"image/jpeg"});let o,l,c=!1;if(typeof createImageBitmap>"u"){const f=await Promise.all([s?hT(s):Promise.resolve(void 0),hT(a)]);l=f[0],o=f[1],c=!0}else{const f=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(a,{imageOrientation:"flipY"})]);l=f[0],o=f[1]}const u=new qn(l||new ImageData(2,2),Hc,Gi,Gi,jn,Kw,Vi,zs,1,Ho);u.flipY=c,u.needsUpdate=!0;const d=new qn(o,Hc,Gi,Gi,jn,Kw,Vi,zs,1,xs);d.flipY=c,d.needsUpdate=!0,e.width=o.width,e.height=o.height,e.material.gainMap=u,e.material.sdr=d,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class wX extends c3{load([e,t,n],i,s,a){const o=this.prepareQuadRenderer();let l,c,u;const d=async()=>{if(l&&c&&u){try{await this.render(o,u,l,c)}catch(B){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(n),typeof a=="function"&&a(B),o.disposeOnDemandRenderer();return}typeof i=="function"&&i(o),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(n),o.disposeOnDemandRenderer()}};let f=!0,m=0,v=0,y=!0,w=0,b=0,S=!0,M=0,E=0;const T=()=>{if(typeof s=="function"){const B=m+w+M,D=v+b+E,O=f&&y&&S;s(new ProgressEvent("progress",{lengthComputable:O,loaded:D,total:B}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(n);const R=new Or(this._internalLoadingManager);R.setResponseType("arraybuffer"),R.setRequestHeader(this.requestHeader),R.setPath(this.path),R.setWithCredentials(this.withCredentials),R.load(e,async B=>{if(typeof B=="string")throw new Error("Invalid sdr buffer");l=B,await d()},B=>{f=B.lengthComputable,v=B.loaded,m=B.total,T()},B=>{this.manager.itemError(e),typeof a=="function"&&a(B)});const P=new Or(this._internalLoadingManager);P.setResponseType("arraybuffer"),P.setRequestHeader(this.requestHeader),P.setPath(this.path),P.setWithCredentials(this.withCredentials),P.load(t,async B=>{if(typeof B=="string")throw new Error("Invalid gainmap buffer");c=B,await d()},B=>{y=B.lengthComputable,b=B.loaded,w=B.total,T()},B=>{this.manager.itemError(t),typeof a=="function"&&a(B)});const k=new Or(this._internalLoadingManager);return k.setRequestHeader(this.requestHeader),k.setPath(this.path),k.setWithCredentials(this.withCredentials),k.load(n,async B=>{if(typeof B!="string")throw new Error("Invalid metadata string");u=JSON.parse(B),await d()},B=>{S=B.lengthComputable,E=B.loaded,M=B.total,T()},B=>{this.manager.itemError(n),typeof a=="function"&&a(B)}),o}}class AX extends c3{load(e,t,n,i){const s=this.prepareQuadRenderer(),a=new Or(this._internalLoadingManager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(this.withCredentials),this.manager.itemStart(e),a.load(e,async o=>{if(typeof o=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(o);let c,u,d;try{const f=await bX(l);c=f.sdr,u=f.gainMap,d=f.metadata}catch(f){if(f instanceof l3||f instanceof o3)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),d={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw f}try{await this.render(s,d,c,u)}catch(f){this.manager.itemError(e),typeof i=="function"&&i(f),s.disposeOnDemandRenderer();return}typeof t=="function"&&t(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},n,o=>{this.manager.itemError(e),typeof i=="function"&&i(o)}),s}}const sg={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},u3="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Sf=r=>Array.isArray(r),h_=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function Ly({files:r=h_,path:e="",preset:t=void 0,encoding:n=void 0,extensions:i}={}){let s=null,a=!1;t&&(d_(t),r=sg[t],e=u3),a=Sf(r);const{extension:o,isCubemap:l}=f_(r);if(s=p_(o),!s)throw new Error("useEnvironment: Unrecognized file extension: "+r);const c=$s(m=>m.gl);de.useLayoutEffect(()=>{if(o!=="webp"&&o!=="jpg"&&o!=="jpeg")return;function m(){Ul.clear(s,a?[r]:r)}c.domElement.addEventListener("webglcontextlost",m,{once:!0})},[r,c.domElement]);const u=Ul(s,a?[r]:r,m=>{(o==="webp"||o==="jpg"||o==="jpeg")&&m.setRenderer(c),m.setPath==null||m.setPath(e),i&&i(m)});let d=a?u[0]:u;if(o==="jpg"||o==="jpeg"||o==="webp"){var f;d=(f=d.renderTarget)==null?void 0:f.texture}return d.mapping=l?Uo:Rf,"colorSpace"in d?d.colorSpace=n??l?"srgb":"srgb-linear":d.encoding=n??l?lX:oX,d}const SX={files:h_,path:"",preset:void 0,extensions:void 0};Ly.preload=r=>{const e={...SX,...r};let{files:t,path:n=""}=e;const{preset:i,extensions:s}=e;i&&(d_(i),t=sg[i],n=u3);const{extension:a}=f_(t);if(a==="webp"||a==="jpg"||a==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const o=p_(a);if(!o)throw new Error("useEnvironment: Unrecognized file extension: "+t);Ul.preload(o,Sf(t)?[t]:t,l=>{l.setPath==null||l.setPath(n),s&&s(l)})};const _X={files:h_,preset:void 0};Ly.clear=r=>{const e={..._X,...r};let{files:t}=e;const{preset:n}=e;n&&(d_(n),t=sg[n]);const{extension:i}=f_(t),s=p_(i);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);Ul.clear(s,Sf(t)?[t]:t)};function d_(r){if(!(r in sg))throw new Error("Preset must be one of: "+Object.keys(sg).join(", "))}function f_(r){var e;const t=Sf(r)&&r.length===6,n=Sf(r)&&r.length===3&&r.some(a=>a.endsWith("json")),i=Sf(r)?r[0]:r;return{extension:t?"cube":n?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:n}}function p_(r){return r==="cube"?ok:r==="hdr"?tX:r==="exr"?nX:r==="jpg"||r==="jpeg"?AX:r==="webp"?wX:null}const MX=r=>r.current&&r.current.isScene,CX=r=>MX(r)?r.current:r;function m_(r,e,t,n,i={}){var s,a,o,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const c=CX(e||t),u=c.background,d=c.environment,f={backgroundBlurriness:c.backgroundBlurriness,backgroundIntensity:c.backgroundIntensity,backgroundRotation:(s=(a=c.backgroundRotation)==null||a.clone==null?void 0:a.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:c.environmentIntensity,environmentRotation:(o=(l=c.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&o!==void 0?o:[0,0,0]};return r!=="only"&&(c.environment=n),r&&(c.background=n),Pc(c,i),()=>{r!=="only"&&(c.environment=d),r&&(c.background=u),Pc(c,f)}}function g_({scene:r,background:e=!1,map:t,...n}){const i=$s(s=>s.scene);return de.useLayoutEffect(()=>{if(t)return m_(e,r,i,t,n)}),null}function h3({background:r=!1,scene:e,blur:t,backgroundBlurriness:n,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:a,environmentRotation:o,...l}){const c=Ly(l),u=$s(d=>d.scene);return de.useLayoutEffect(()=>m_(r,e,u,c,{backgroundBlurriness:t??n,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:a,environmentRotation:o})),de.useEffect(()=>()=>{c.dispose()},[c]),null}function EX({children:r,near:e=.1,far:t=1e3,resolution:n=256,frames:i=1,map:s,background:a=!1,blur:o,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:d,environmentRotation:f,scene:m,files:v,path:y,preset:w=void 0,extensions:b}){const S=$s(k=>k.gl),M=$s(k=>k.scene),E=de.useRef(null),[T]=de.useState(()=>new Mg),R=de.useMemo(()=>{const k=new MS(n);return k.texture.type=dr,k},[n]);de.useEffect(()=>()=>{R.dispose()},[R]),de.useLayoutEffect(()=>{if(i===1){const k=S.autoClear;S.autoClear=!0,E.current.update(S,T),S.autoClear=k}return m_(a,m,M,R.texture,{backgroundBlurriness:o??l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:d,environmentRotation:f})},[r,T,R.texture,m,M,a,i,S]);let P=1;return qf(()=>{if(i===1/0||P<i){const k=S.autoClear;S.autoClear=!0,E.current.update(S,T),S.autoClear=k,P++}}),de.createElement(de.Fragment,null,OV(de.createElement(de.Fragment,null,r,de.createElement("cubeCamera",{ref:E,args:[e,t,R]}),v||w?de.createElement(h3,{background:!0,files:v,preset:w,path:y,extensions:b}):s?de.createElement(g_,{background:!0,map:s,extensions:b}):null),T))}function TX(r){var e,t,n,i;const s=Ly(r),a=r.map||s;de.useMemo(()=>r_({GroundProjectedEnvImpl:xW}),[]),de.useEffect(()=>()=>{s.dispose()},[s]);const o=de.useMemo(()=>[a],[a]),l=(e=r.ground)==null?void 0:e.height,c=(t=r.ground)==null?void 0:t.radius,u=(n=(i=r.ground)==null?void 0:i.scale)!==null&&n!==void 0?n:1e3;return de.createElement(de.Fragment,null,de.createElement(g_,Po({},r,{map:a})),de.createElement("groundProjectedEnvImpl",{args:o,scale:u,height:l,radius:c}))}function RX(r){return r.ground?de.createElement(TX,r):r.map?de.createElement(g_,r):r.children?de.createElement(EX,r):de.createElement(h3,r)}const IX=de.forwardRef(({scale:r=10,frames:e=1/0,opacity:t=1,width:n=1,height:i=1,blur:s=1,near:a=0,far:o=10,resolution:l=512,smooth:c=!0,color:u="#000000",depthWrite:d=!1,renderOrder:f,...m},v)=>{const y=de.useRef(null),w=$s(K=>K.scene),b=$s(K=>K.gl),S=de.useRef(null);n=n*(Array.isArray(r)?r[0]:r||1),i=i*(Array.isArray(r)?r[1]:r||1);const[M,E,T,R,P,k,B]=de.useMemo(()=>{const K=new ts(l,l),ie=new ts(l,l);ie.texture.generateMipmaps=K.texture.generateMipmaps=!1;const ee=new Hl(n,i).rotateX(Math.PI/2),ae=new yi(ee),z=new Ty;z.depthTest=z.depthWrite=!1,z.onBeforeCompile=Y=>{Y.uniforms={...Y.uniforms,ucolor:{value:new gt(u)}},Y.fragmentShader=Y.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),Y.fragmentShader=Y.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const Q=new zr($W),Z=new zr(eX);return Z.depthTest=Q.depthTest=!1,[K,ee,z,ae,Q,Z,ie]},[l,n,i,r,u]),D=K=>{R.visible=!0,R.material=P,P.uniforms.tDiffuse.value=M.texture,P.uniforms.h.value=K*1/256,b.setRenderTarget(B),b.render(R,S.current),R.material=k,k.uniforms.tDiffuse.value=B.texture,k.uniforms.v.value=K*1/256,b.setRenderTarget(M),b.render(R,S.current),R.visible=!1};let O=0,V,X;return qf(()=>{S.current&&(e===1/0||O<e)&&(O++,V=w.background,X=w.overrideMaterial,y.current.visible=!1,w.background=null,w.overrideMaterial=T,b.setRenderTarget(M),b.render(w,S.current),D(s),c&&D(s*.4),b.setRenderTarget(null),y.current.visible=!0,w.overrideMaterial=X,w.background=V)}),de.useImperativeHandle(v,()=>y.current,[]),de.createElement("group",Po({"rotation-x":Math.PI/2},m,{ref:y}),de.createElement("mesh",{renderOrder:f,geometry:E,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},de.createElement("meshBasicMaterial",{transparent:!0,map:M.texture,opacity:t,depthWrite:d})),de.createElement("orthographicCamera",{ref:S,args:[-n/2,n/2,i/2,-i/2,a,o]}))});function PX(r){return r.isLight}function kX(r){return!!r.geometry}const d3=de.createContext(null),LX=t3({color:new gt,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <${n3>=154?"colorspace_fragment":"encodings_fragment"}>
   }`),BX=de.forwardRef(({children:r,temporal:e,frames:t=40,limit:n=1/0,blend:i=20,scale:s=10,opacity:a=1,alphaTest:o=.75,color:l="black",colorBlend:c=2,resolution:u=1024,toneMapped:d=!0,...f},m)=>{r_({SoftShadowMaterial:LX});const v=$s(R=>R.gl),y=$s(R=>R.scene),w=$s(R=>R.camera),b=$s(R=>R.invalidate),S=de.useRef(null),M=de.useRef(null),[E]=de.useState(()=>new FX(v,y,u));de.useLayoutEffect(()=>{E.configure(S.current)},[]);const T=de.useMemo(()=>({lights:new Map,temporal:!!e,frames:Math.max(2,t),blend:Math.max(2,t===1/0?i:t),count:0,getMesh:()=>S.current,reset:()=>{E.clear();const R=S.current.material;R.opacity=0,R.alphaTest=0,T.count=0},update:(R=1)=>{const P=S.current.material;T.temporal?(P.opacity=Math.min(a,P.opacity+a/T.blend),P.alphaTest=Math.min(o,P.alphaTest+o/T.blend)):(P.opacity=a,P.alphaTest=o),M.current.visible=!0,E.prepare();for(let k=0;k<R;k++)T.lights.forEach(B=>B.update()),E.update(w,T.blend);M.current.visible=!1,E.finish()}}),[E,w,y,e,t,i,a,o]);return de.useLayoutEffect(()=>{T.reset(),!T.temporal&&T.frames!==1/0&&T.update(T.blend)}),de.useImperativeHandle(m,()=>T,[T]),qf(()=>{(T.temporal||T.frames===1/0)&&T.count<T.frames&&T.count<n&&(b(),T.update(),T.count++)}),de.createElement("group",f,de.createElement("group",{traverse:()=>null,ref:M},de.createElement(d3.Provider,{value:T},r)),de.createElement("mesh",{receiveShadow:!0,ref:S,scale:s,rotation:[-Math.PI/2,0,0]},de.createElement("planeGeometry",null),de.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:d,color:l,blend:c,map:E.progressiveLightMap2.texture})))}),DX=de.forwardRef(({castShadow:r=!0,bias:e=.001,mapSize:t=512,size:n=5,near:i=.5,far:s=500,frames:a=1,position:o=[0,0,0],radius:l=1,amount:c=8,intensity:u=n3>=155?Math.PI:1,ambient:d=.5,...f},m)=>{const v=de.useRef(null),y=new $(...o).length(),w=de.useContext(d3),b=de.useCallback(()=>{let M;if(v.current)for(let E=0;E<v.current.children.length;E++)if(M=v.current.children[E],Math.random()>d)M.position.set(o[0]+bf.randFloatSpread(l),o[1]+bf.randFloatSpread(l),o[2]+bf.randFloatSpread(l));else{let T=Math.acos(2*Math.random()-1)-Math.PI/2,R=2*Math.PI*Math.random();M.position.set(Math.cos(T)*Math.cos(R)*y,Math.abs(Math.cos(T)*Math.sin(R)*y),Math.sin(T)*y)}},[l,d,y,...o]),S=de.useMemo(()=>({update:b}),[b]);return de.useImperativeHandle(m,()=>S,[S]),de.useLayoutEffect(()=>{var M;const E=v.current;return w&&((M=w.lights)==null||M.set(E.uuid,S)),()=>{var T;return void(w==null||(T=w.lights)==null?void 0:T.delete(E.uuid))}},[w,S]),de.createElement("group",Po({ref:v},f),Array.from({length:c},(M,E)=>de.createElement("directionalLight",{key:E,castShadow:r,"shadow-bias":e,"shadow-mapSize":[t,t],intensity:u/c},de.createElement("orthographicCamera",{attach:"shadow-camera",args:[-n,n,n,-n,i,s]}))))});class FX{constructor(e,t,n=1024){this.renderer=e,this.res=n,this.scene=t,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new gt,this.clearAlpha=0;const i={type:dr,magFilter:Qi,minFilter:Qi};this.progressiveLightMap1=new ts(this.res,this.res,i),this.progressiveLightMap2=new ts(this.res,this.res,i),this.discardMat=new cX,this.targetMat=new OS({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=s=>{s.vertexShader=`varying vec2 vUv;
`+s.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const a=s.fragmentShader.indexOf("void main() {");s.fragmentShader=`varying vec2 vUv;
`+s.fragmentShader.slice(0,a)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+s.fragmentShader.slice(a-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,s.uniforms.previousShadowMap=this.previousShadowMap,s.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(e=>{kX(e)?this.meshes.push({object:e,material:e.material}):PX(e)&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e,t=100){if(!this.object)return;this.averagingWindow.value=t,this.object.material=this.targetMat;const n=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,i=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,s=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(n),this.previousShadowMap.value=i.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=s}}const NX={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function OX({radius:r,adjustCamera:e}){const t=fX();return de.useEffect(()=>{e&&t.refresh().clip().fit()},[r,e]),null}function UX({children:r,center:e,adjustCamera:t=!0,intensity:n=.5,shadows:i="contact",environment:s="city",preset:a="rembrandt",...o}){var l,c,u,d,f,m,v,y;const w=typeof a=="string"?NX[a]:a,[{radius:b,height:S},M]=de.useState({radius:0,width:0,height:0,depth:0}),E=(l=i==null?void 0:i.bias)!==null&&l!==void 0?l:-1e-4,T=(c=i==null?void 0:i.normalBias)!==null&&c!==void 0?c:0,R=(u=i==null?void 0:i.size)!==null&&u!==void 0?u:1024,P=(d=i==null?void 0:i.offset)!==null&&d!==void 0?d:0,k=i==="contact"||(i==null?void 0:i.type)==="contact",B=i==="accumulative"||(i==null?void 0:i.type)==="accumulative",D={...typeof i=="object"?i:{}},O=s?typeof s=="string"?{preset:s}:s:null,V=de.useCallback(X=>{const{width:K,height:ie,depth:ee,boundingSphere:ae}=X;M({radius:ae.radius,width:K,height:ie,depth:ee}),e!=null&&e.onCentered&&e.onCentered(X)},[]);return de.createElement(de.Fragment,null,de.createElement("ambientLight",{intensity:n/3}),de.createElement("spotLight",{penumbra:1,position:[w.main[0]*b,w.main[1]*b,w.main[2]*b],intensity:n*2,castShadow:!!i,"shadow-bias":E,"shadow-normalBias":T,"shadow-mapSize":R}),de.createElement("pointLight",{position:[w.fill[0]*b,w.fill[1]*b,w.fill[2]*b],intensity:n}),de.createElement(dX,Po({fit:!!t,clip:!!t,margin:Number(t),observe:!0},o),de.createElement(OX,{radius:b,adjustCamera:t}),de.createElement(aX,Po({},e,{position:[0,P/2,0],onCentered:V}),r)),de.createElement("group",{position:[0,-S/2-P/2,0]},k&&de.createElement(IX,Po({scale:b*4,far:b,blur:2},D)),B&&de.createElement(BX,Po({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:b*4},D),de.createElement(DX,{amount:(f=D.amount)!==null&&f!==void 0?f:8,radius:(m=D.radius)!==null&&m!==void 0?m:b,ambient:(v=D.ambient)!==null&&v!==void 0?v:.5,intensity:(y=D.intensity)!==null&&y!==void 0?y:1,position:[w.main[0]*b,w.main[1]*b,w.main[2]*b],size:b*4,bias:-E,mapSize:R}))),s&&de.createElement(RX,O))}const zX="/myPortfolio/assets/tele-CWvxsVLv.glb",HX="/myPortfolio/assets/insta-C23DM2zs.glb",GX="/myPortfolio/assets/in-ClVgRoT4.glb",VX="/myPortfolio/assets/git-CtyLdhj8.glb",WX=({size:r})=>{const e=de.useRef();return qf((t,n)=>{e.current&&(e.current.rotation.y+=n/2)}),ue.jsxs("mesh",{ref:e,children:[ue.jsx("sphereGeometry",{args:[r,16,16]}),ue.jsx("meshNormalMaterial",{wireframe:!0})]})},XX=({position:r,size:e,modelPath:t,rotationSpeed:n,color:i,onClick:s,scale:a})=>{const o=de.useRef(),{scene:l}=ky(t);return de.useLayoutEffect(()=>{l&&l.traverse(c=>{c.isMesh&&c.material.color.set(i)})},[l,i]),qf((c,u)=>{o.current&&(o.current.rotation.y+=u*n)}),ue.jsx("primitive",{ref:o,object:l,position:r,scale:a,onClick:s})},YX=()=>{const[r,e]=de.useState(1),[t,n]=de.useState([[3,0,0],[-3,0,0],[0,3,0],[0,-3,0]]),i=de.useMemo(()=>[VX,HX,GX,zX],[]),s=[.5,.7,.9,.6],a=[null,"#C13584",null,null],o=["https://github.com/Fer-Feri","https://www.instagram.com/far._.shad_/","https://www.linkedin.com/in/farshad-bahari-7809b5327","https://t.me/Witcher33"];return de.useLayoutEffect(()=>{const l=()=>{const c=window.innerWidth<600?.5:1;e(c);const u=window.innerWidth<600?[[1.3,0,0],[-1.3,0,0],[0,1.5,0],[0,-1.5,0]]:[[3,0,0],[-3,0,0],[0,3,0],[0,-3,0]];n(u)};return window.addEventListener("resize",l),l(),()=>window.removeEventListener("resize",l)},[]),hg(),ue.jsxs("div",{className:"bg-red h-screen w-full",id:"contact",children:[ue.jsx("div",{className:"mb-[20rem] mt-20 max-lg:mb-[22rem] max-md:mb-[1rem]",children:ue.jsxs("div",{className:"relative flex justify-center py-24 font-poppinsB max-2xl:py-14 max-lg:py-16 max-md:py-12 max-sm:py-12 max-[400px]:py-8",children:[ue.jsx("p",{className:"strokeText absolute top-[85%] text-[13rem] text-transparent dark:stroke-mainYellow max-md:top-[92%] max-md:text-[9rem] max-sm:top-[95%] max-sm:text-[7rem]",children:"Contact"}),ue.jsx("h2",{className:"absolute top-full text-[11rem] text-neutral-900 dark:text-mainYellow max-md:text-[8rem] max-sm:text-[6rem]",children:"Contact"})]})}),ue.jsx(nW,{shadows:!0,children:ue.jsxs(UX,{children:[ue.jsx(WX,{size:r}),t.map((l,c)=>ue.jsx(XX,{position:l,size:r,modelPath:i[c],rotationSpeed:s[c],color:a[c],scale:c===0?[r/2,r/2,r/2]:[r/3,r/3,r/3],onClick:()=>window.open(o[c],"_blank")},c))]})})]})},jX=()=>{const{scrollYProgress:r}=hg();return qi(r,[.1,.3],[0,1]),qi(r,[.3,.6],[100,0]),qi(r,[.3,.5],[0,1]),qi(r,[.6,.8],[100,0]),qi(r,[.8,.85,1],["100%","100%","0%"]),qi(r,[.85,1],["0%","100%"]),qi(r,[.9,.95,1],[0,.95,1]),ue.jsx(jN,{children:ue.jsxs("div",{className:"relative mx-auto w-full max-w-[144rem]",children:[ue.jsx(sO,{}),ue.jsx(pO,{}),ue.jsx(jU,{}),ue.jsx(QU,{}),ue.jsx(YX,{})]})})};X3.createRoot(document.getElementById("root")).render(ue.jsx(de.StrictMode,{children:ue.jsx(jX,{})}));
